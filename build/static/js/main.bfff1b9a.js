/*! For license information please see main.bfff1b9a.js.LICENSE.txt */
(()=>{var e={8278:(e,t,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}var i;n.d(t,{AV:()=>H,Ep:()=>d,Gn:()=>D,J0:()=>u,LX:()=>M,OF:()=>J,PP:()=>a,PQ:()=>X,RQ:()=>U,WK:()=>Q,WS:()=>x,X3:()=>G,Zn:()=>R,aU:()=>i,cP:()=>f,cm:()=>B,fZ:()=>$,fp:()=>_,i3:()=>L,lX:()=>s,ov:()=>se,p7:()=>he,pC:()=>F,q_:()=>l,qp:()=>le,uX:()=>Y}),function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(i||(i={}));const o="popstate";function a(e){void 0===e&&(e={});let t,{initialEntries:n=["/"],initialIndex:r,v5Compat:o=!1}=e;t=n.map(((e,t)=>m(e,"string"===typeof e?null:e.state,0===t?"default":void 0)));let a=u(null==r?t.length-1:r),s=i.Pop,l=null;function u(e){return Math.min(Math.max(e,0),t.length-1)}function p(){return t[a]}function m(e,n,r){void 0===n&&(n=null);let i=h(t?p().pathname:"/",e,n,r);return c("/"===i.pathname.charAt(0),"relative pathnames are not supported in memory history: "+JSON.stringify(e)),i}function y(e){return"string"===typeof e?e:d(e)}return{get index(){return a},get action(){return s},get location(){return p()},createHref:y,createURL:e=>new URL(y(e),"http://localhost"),encodeLocation(e){let t="string"===typeof e?f(e):e;return{pathname:t.pathname||"",search:t.search||"",hash:t.hash||""}},push(e,n){s=i.Push;let r=m(e,n);a+=1,t.splice(a,t.length,r),o&&l&&l({action:s,location:r,delta:1})},replace(e,n){s=i.Replace;let r=m(e,n);t[a]=r,o&&l&&l({action:s,location:r,delta:0})},go(e){s=i.Pop;let n=u(a+e),r=t[n];a=n,l&&l({action:s,location:r,delta:e})},listen:e=>(l=e,()=>{l=null})}}function s(e){return void 0===e&&(e={}),m((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return h("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:d(t)}),null,e)}function l(e){return void 0===e&&(e={}),m((function(e,t){let{pathname:n="/",search:r="",hash:i=""}=f(e.location.hash.substr(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),h("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"===typeof t?t:d(t))}),(function(e,t){c("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),e)}function u(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function c(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function p(e,t){return{usr:e.state,key:e.key,idx:t}}function h(e,t,n,i){return void 0===n&&(n=null),r({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?f(t):t,{state:n,key:t&&t.key||i||Math.random().toString(36).substr(2,8)})}function d(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function f(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function m(e,t,n,a){void 0===a&&(a={});let{window:s=document.defaultView,v5Compat:l=!1}=a,c=s.history,f=i.Pop,m=null,y=v();function v(){return(c.state||{idx:null}).idx}function g(){f=i.Pop;let e=v(),t=null==e?null:e-y;y=e,m&&m({action:f,location:x.location,delta:t})}function _(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:d(e);return u(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==y&&(y=0,c.replaceState(r({},c.state,{idx:y}),""));let x={get action(){return f},get location(){return e(s,c)},listen(e){if(m)throw new Error("A history only accepts one active listener");return s.addEventListener(o,g),m=e,()=>{s.removeEventListener(o,g),m=null}},createHref:e=>t(s,e),createURL:_,encodeLocation(e){let t=_(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){f=i.Push;let r=h(x.location,e,t);n&&n(r,e),y=v()+1;let o=p(r,y),a=x.createHref(r);try{c.pushState(o,"",a)}catch(u){if(u instanceof DOMException&&"DataCloneError"===u.name)throw u;s.location.assign(a)}l&&m&&m({action:f,location:x.location,delta:1})},replace:function(e,t){f=i.Replace;let r=h(x.location,e,t);n&&n(r,e),y=v();let o=p(r,y),a=x.createHref(r);c.replaceState(o,"",a),l&&m&&m({action:f,location:x.location,delta:0})},go:e=>c.go(e)};return x}var y;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(y||(y={}));const v=new Set(["lazy","caseSensitive","path","id","index","children"]);function g(e,t,n,i){return void 0===n&&(n=[]),void 0===i&&(i={}),e.map(((e,o)=>{let a=[...n,o],s="string"===typeof e.id?e.id:a.join("-");if(u(!0!==e.index||!e.children,"Cannot specify children on an index route"),u(!i[s],'Found a route id collision on id "'+s+"\".  Route id's must be globally unique within Data Router usages"),function(e){return!0===e.index}(e)){let n=r({},e,t(e),{id:s});return i[s]=n,n}{let n=r({},e,t(e),{id:s,children:void 0});return i[s]=n,e.children&&(n.children=g(e.children,t,a,i)),n}}))}function _(e,t,n){void 0===n&&(n="/");let r=R(("string"===typeof t?f(t):t).pathname||"/",n);if(null==r)return null;let i=b(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let o=null;for(let a=0;null==o&&a<i.length;++a)o=O(i[a],j(r));return o}function x(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}function b(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,o)=>{let a={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(u(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let s=U([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(u(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),b(e.children,t,l,s)),(null!=e.path||e.index)&&t.push({path:s,score:I(s,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of w(e.path))i(e,t,r);else i(e,t)})),t}function w(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let a=w(r.join("/")),s=[];return s.push(...a.map((e=>""===e?o:[o,e].join("/")))),i&&s.push(...a),s.map((t=>e.startsWith("/")&&""===t?"/":t))}const S=/^:\w+$/,E=3,T=2,P=1,C=10,k=-2,A=e=>"*"===e;function I(e,t){let n=e.split("/"),r=n.length;return n.some(A)&&(r+=k),t&&(r+=T),n.filter((e=>!A(e))).reduce(((e,t)=>e+(S.test(t)?E:""===t?P:C)),r)}function O(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let a=0;a<n.length;++a){let e=n[a],s=a===n.length-1,l="/"===i?t:t.slice(i.length)||"/",u=M({path:e.relativePath,caseSensitive:e.caseSensitive,end:s},l);if(!u)return null;Object.assign(r,u.params);let c=e.route;o.push({params:r,pathname:U([i,u.pathname]),pathnameBase:V(U([i,u.pathnameBase])),route:c}),"/"!==u.pathnameBase&&(i=U([i,u.pathnameBase]))}return o}function D(e,t){void 0===t&&(t={});let n=e;n.endsWith("*")&&"*"!==n&&!n.endsWith("/*")&&(c(!1,'Route path "'+n+'" will be treated as if it were "'+n.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+n.replace(/\*$/,"/*")+'".'),n=n.replace(/\*$/,"/*"));const r=n.startsWith("/")?"/":"",i=e=>null==e?"":"string"===typeof e?e:String(e);return r+n.split(/\/+/).map(((e,n,r)=>{if(n===r.length-1&&"*"===e){return i(t["*"])}const o=e.match(/^:(\w+)(\??)$/);if(o){const[,e,n]=o;let r=t[e];return u("?"===n||null!=r,'Missing ":'+e+'" param'),i(r)}return e.replace(/\?$/g,"")})).filter((e=>!!e)).join("/")}function M(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);c("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=s[n]||"";a=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[r]=i&&!l?void 0:function(e,t){try{return decodeURIComponent(e)}catch(n){return c(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(l||"",r),e}),{}),pathname:o,pathnameBase:a,pattern:e}}function j(e){try{return decodeURI(e)}catch(t){return c(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function R(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function L(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?f(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:q(r),hash:W(i)}}function z(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function N(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function B(e,t){let n=N(e);return t?n.map(((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)):n.map((e=>e.pathnameBase))}function F(e,t,n,i){let o;void 0===i&&(i=!1),"string"===typeof e?o=f(e):(o=r({},e),u(!o.pathname||!o.pathname.includes("?"),z("?","pathname","search",o)),u(!o.pathname||!o.pathname.includes("#"),z("#","pathname","hash",o)),u(!o.search||!o.search.includes("#"),z("#","search","hash",o)));let a,s=""===e||""===o.pathname,l=s?"/":o.pathname;if(null==l)a=n;else{let e=t.length-1;if(!i&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;o.pathname=t.join("/")}a=e>=0?t[e]:"/"}let c=L(o,a),p=l&&"/"!==l&&l.endsWith("/"),h=(s||"."===l)&&n.endsWith("/");return c.pathname.endsWith("/")||!p&&!h||(c.pathname+="/"),c}const U=e=>e.join("/").replace(/\/\/+/g,"/"),V=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),q=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",W=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"",H=function(e,t){void 0===t&&(t={});let n="number"===typeof t?{status:t}:t,i=new Headers(n.headers);return i.has("Content-Type")||i.set("Content-Type","application/json; charset=utf-8"),new Response(JSON.stringify(e),r({},n,{headers:i}))};class G extends Error{}class Z{constructor(e,t){let n;this.pendingKeysSet=new Set,this.subscribers=new Set,this.deferredKeys=[],u(e&&"object"===typeof e&&!Array.isArray(e),"defer() only accepts plain objects"),this.abortPromise=new Promise(((e,t)=>n=t)),this.controller=new AbortController;let r=()=>n(new G("Deferred data aborted"));this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",r),this.controller.signal.addEventListener("abort",r),this.data=Object.entries(e).reduce(((e,t)=>{let[n,r]=t;return Object.assign(e,{[n]:this.trackPromise(n,r)})}),{}),this.done&&this.unlistenAbortSignal(),this.init=t}trackPromise(e,t){if(!(t instanceof Promise))return t;this.deferredKeys.push(e),this.pendingKeysSet.add(e);let n=Promise.race([t,this.abortPromise]).then((t=>this.onSettle(n,e,void 0,t)),(t=>this.onSettle(n,e,t)));return n.catch((()=>{})),Object.defineProperty(n,"_tracked",{get:()=>!0}),n}onSettle(e,t,n,r){if(this.controller.signal.aborted&&n instanceof G)return this.unlistenAbortSignal(),Object.defineProperty(e,"_error",{get:()=>n}),Promise.reject(n);if(this.pendingKeysSet.delete(t),this.done&&this.unlistenAbortSignal(),void 0===n&&void 0===r){let n=new Error('Deferred data for key "'+t+'" resolved/rejected with `undefined`, you must resolve/reject with a value or `null`.');return Object.defineProperty(e,"_error",{get:()=>n}),this.emit(!1,t),Promise.reject(n)}return void 0===r?(Object.defineProperty(e,"_error",{get:()=>n}),this.emit(!1,t),Promise.reject(n)):(Object.defineProperty(e,"_data",{get:()=>r}),this.emit(!1,t),r)}emit(e,t){this.subscribers.forEach((n=>n(e,t)))}subscribe(e){return this.subscribers.add(e),()=>this.subscribers.delete(e)}cancel(){this.controller.abort(),this.pendingKeysSet.forEach(((e,t)=>this.pendingKeysSet.delete(t))),this.emit(!0)}async resolveData(e){let t=!1;if(!this.done){let n=()=>this.cancel();e.addEventListener("abort",n),t=await new Promise((t=>{this.subscribe((r=>{e.removeEventListener("abort",n),(r||this.done)&&t(r)}))}))}return t}get done(){return 0===this.pendingKeysSet.size}get unwrappedData(){return u(null!==this.data&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce(((e,t)=>{let[n,r]=t;return Object.assign(e,{[n]:K(r)})}),{})}get pendingKeys(){return Array.from(this.pendingKeysSet)}}function K(e){if(!function(e){return e instanceof Promise&&!0===e._tracked}(e))return e;if(e._error)throw e._error;return e._data}const X=function(e,t){return void 0===t&&(t={}),new Z(e,"number"===typeof t?{status:t}:t)},Y=function(e,t){void 0===t&&(t=302);let n=t;"number"===typeof n?n={status:n}:"undefined"===typeof n.status&&(n.status=302);let i=new Headers(n.headers);return i.set("Location",e),new Response(null,r({},n,{headers:i}))},$=(e,t)=>{let n=Y(e,t);return n.headers.set("X-Remix-Reload-Document","true"),n};class J{constructor(e,t,n,r){void 0===r&&(r=!1),this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function Q(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const ee=["post","put","patch","delete"],te=new Set(ee),ne=["get",...ee],re=new Set(ne),ie=new Set([301,302,303,307,308]),oe=new Set([307,308]),ae={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},se={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},le={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},ue=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ce=e=>({hasErrorBoundary:Boolean(e.hasErrorBoundary)}),pe="remix-router-transitions";function he(e){const t=e.window?e.window:"undefined"!==typeof window?window:void 0,n="undefined"!==typeof t&&"undefined"!==typeof t.document&&"undefined"!==typeof t.document.createElement,o=!n;let a;if(u(e.routes.length>0,"You must provide a non-empty routes array to createRouter"),e.mapRouteProperties)a=e.mapRouteProperties;else if(e.detectErrorBoundary){let t=e.detectErrorBoundary;a=e=>({hasErrorBoundary:t(e)})}else a=ce;let s,l,p={},d=g(e.routes,a,void 0,p),f=e.basename||"/",m=r({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1},e.future),v=null,b=new Set,w=null,S=null,E=null,T=null!=e.hydrationData,P=_(d,e.history.location,f),C=null;if(null==P){let t=Ae(404,{pathname:e.history.location.pathname}),{matches:n,route:r}=ke(d);P=n,C={[r.id]:t}}let k,A=P.some((e=>e.route.lazy)),I=P.some((e=>e.route.loader));if(A)l=!1;else if(I)if(m.v7_partialHydration){let t=e.hydrationData?e.hydrationData.loaderData:null,n=e.hydrationData?e.hydrationData.errors:null;l=P.every((e=>e.route.loader&&!0!==e.route.loader.hydrate&&(t&&void 0!==t[e.route.id]||n&&void 0!==n[e.route.id])))}else l=null!=e.hydrationData;else l=!0;let O,D={historyAction:e.history.action,location:e.history.location,matches:P,initialized:l,navigation:ae,restoreScrollPosition:null==e.hydrationData&&null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||C,fetchers:new Map,blockers:new Map},M=i.Pop,j=!1,L=!1,z=new Map,N=null,B=!1,F=!1,U=[],V=[],q=new Map,W=0,H=-1,G=new Map,Z=new Set,K=new Map,X=new Map,Y=new Set,$=new Map,J=new Map,Q=!1;function ee(e,t){void 0===t&&(t={}),D=r({},D,e);let n=[],i=[];m.v7_fetcherPersist&&D.fetchers.forEach(((e,t)=>{"idle"===e.state&&(Y.has(t)?i.push(t):n.push(t))})),[...b].forEach((e=>e(D,{deletedFetchers:i,unstable_viewTransitionOpts:t.viewTransitionOpts,unstable_flushSync:!0===t.flushSync}))),m.v7_fetcherPersist&&(n.forEach((e=>D.fetchers.delete(e))),i.forEach((e=>_e(e))))}function te(t,n,o){var a,l;let u,{flushSync:c}=void 0===o?{}:o,p=null!=D.actionData&&null!=D.navigation.formMethod&&ze(D.navigation.formMethod)&&"loading"===D.navigation.state&&!0!==(null==(a=t.state)?void 0:a._isRedirect);u=n.actionData?Object.keys(n.actionData).length>0?n.actionData:null:p?D.actionData:null;let h=n.loaderData?Pe(D.loaderData,n.loaderData,n.matches||[],n.errors):D.loaderData,f=D.blockers;f.size>0&&(f=new Map(f),f.forEach(((e,t)=>f.set(t,le))));let m,y=!0===j||null!=D.navigation.formMethod&&ze(D.navigation.formMethod)&&!0!==(null==(l=t.state)?void 0:l._isRedirect);if(s&&(d=s,s=void 0),B||M===i.Pop||(M===i.Push?e.history.push(t,t.state):M===i.Replace&&e.history.replace(t,t.state)),M===i.Pop){let e=z.get(D.location.pathname);e&&e.has(t.pathname)?m={currentLocation:D.location,nextLocation:t}:z.has(t.pathname)&&(m={currentLocation:t,nextLocation:D.location})}else if(L){let e=z.get(D.location.pathname);e?e.add(t.pathname):(e=new Set([t.pathname]),z.set(D.location.pathname,e)),m={currentLocation:D.location,nextLocation:t}}ee(r({},n,{actionData:u,loaderData:h,historyAction:M,location:t,initialized:!0,navigation:ae,revalidation:"idle",restoreScrollPosition:Ke(t,n.matches||D.matches),preventScrollReset:y,blockers:f}),{viewTransitionOpts:m,flushSync:!0===c}),M=i.Pop,j=!1,L=!1,B=!1,F=!1,U=[],V=[]}async function ne(t,n,o){O&&O.abort(),O=null,M=t,B=!0===(o&&o.startUninterruptedRevalidation),function(e,t){if(w&&E){let n=Ze(e,t);w[n]=E()}}(D.location,D.matches),j=!0===(o&&o.preventScrollReset),L=!0===(o&&o.enableViewTransition);let l=s||d,u=o&&o.overrideNavigation,c=_(l,n,f),h=!0===(o&&o.flushSync);if(!c){let e=Ae(404,{pathname:n.pathname}),{matches:t,route:r}=ke(l);return Ge(),void te(n,{matches:t,loaderData:{},errors:{[r.id]:e}},{flushSync:h})}if(D.initialized&&!F&&function(e,t){if(e.pathname!==t.pathname||e.search!==t.search)return!1;if(""===e.hash)return""!==t.hash;if(e.hash===t.hash)return!0;if(""!==t.hash)return!0;return!1}(D.location,n)&&!(o&&o.submission&&ze(o.submission.formMethod)))return void te(n,{matches:c},{flushSync:h});O=new AbortController;let v,g,x=be(e.history,n,O.signal,o&&o.submission);if(o&&o.pendingError)g={[Ce(c).route.id]:o.pendingError};else if(o&&o.submission&&ze(o.submission.formMethod)){let e=await async function(e,t,n,r,o){void 0===o&&(o={});he();let s,l=function(e,t){let n={state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text};return n}(t,n);ee({navigation:l},{flushSync:!0===o.flushSync});let u=Ue(r,t);if(u.route.action||u.route.lazy){if(s=await xe("action",e,u,r,p,a,f,m.v7_relativeSplatPath),e.signal.aborted)return{shortCircuited:!0}}else s={type:y.error,error:Ae(405,{method:e.method,pathname:t.pathname,routeId:u.route.id})};if(je(s)){let e;return e=o&&null!=o.replace?o.replace:s.location===D.location.pathname+D.location.search,await re(D,s,{submission:n,replace:e}),{shortCircuited:!0}}if(Me(s)){let e=Ce(r,u.route.id);return!0!==(o&&o.replace)&&(M=i.Push),{pendingActionData:{},pendingActionError:{[e.route.id]:s.error}}}if(De(s))throw Ae(400,{type:"defer-action"});return{pendingActionData:{[u.route.id]:s.data}}}(x,n,o.submission,c,{replace:o.replace,flushSync:h});if(e.shortCircuited)return;v=e.pendingActionData,g=e.pendingActionError,u=qe(n,o.submission),h=!1,x=new Request(x.url,{signal:x.signal})}let{shortCircuited:b,loaderData:S,errors:T}=await async function(t,n,i,o,a,l,u,c,p,h,y){let v=o||qe(n,a),g=a||l||Ve(v),_=s||d,[x,b]=ye(e.history,D,i,g,n,m.v7_partialHydration&&!0===c,F,U,V,Y,K,Z,_,f,h,y);if(Ge((e=>!(i&&i.some((t=>t.route.id===e)))||x&&x.some((t=>t.route.id===e)))),H=++W,0===x.length&&0===b.length){let e=Ee();return te(n,r({matches:i,loaderData:{},errors:y||null},h?{actionData:h}:{},e?{fetchers:new Map(D.fetchers)}:{}),{flushSync:p}),{shortCircuited:!0}}if(!B&&(!m.v7_partialHydration||!c)){b.forEach((e=>{let t=D.fetchers.get(e.key),n=We(void 0,t?t.data:void 0);D.fetchers.set(e.key,n)}));let e=h||D.actionData;ee(r({navigation:v},e?0===Object.keys(e).length?{actionData:null}:{actionData:e}:{},b.length>0?{fetchers:new Map(D.fetchers)}:{}),{flushSync:p})}b.forEach((e=>{q.has(e.key)&&we(e.key),e.controller&&q.set(e.key,e.controller)}));let w=()=>b.forEach((e=>we(e.key)));O&&O.signal.addEventListener("abort",w);let{results:S,loaderResults:E,fetcherResults:T}=await ie(D.matches,i,x,b,t);if(t.signal.aborted)return{shortCircuited:!0};O&&O.signal.removeEventListener("abort",w);b.forEach((e=>q.delete(e.key)));let P=Ie(S);if(P){if(P.idx>=x.length){let e=b[P.idx-x.length].key;Z.add(e)}return await re(D,P.result,{replace:u}),{shortCircuited:!0}}let{loaderData:C,errors:k}=Te(D,i,x,E,y,b,T,$);$.forEach(((e,t)=>{e.subscribe((n=>{(n||e.done)&&$.delete(t)}))}));let A=Ee(),I=Oe(H),M=A||I||b.length>0;return r({loaderData:C,errors:k},M?{fetchers:new Map(D.fetchers)}:{})}(x,n,c,u,o&&o.submission,o&&o.fetcherSubmission,o&&o.replace,o&&!0===o.initialHydration,h,v,g);b||(O=null,te(n,r({matches:c},v?{actionData:v}:{},{loaderData:S,errors:T})))}async function re(o,a,s){let{submission:l,fetcherSubmission:c,replace:p}=void 0===s?{}:s;a.revalidate&&(F=!0);let d=h(o.location,a.location,{_isRedirect:!0});if(u(d,"Expected a location on the redirect navigation"),n){let n=!1;if(a.reloadDocument)n=!0;else if(ue.test(a.location)){const r=e.history.createURL(a.location);n=r.origin!==t.location.origin||null==R(r.pathname,f)}if(n)return void(p?t.location.replace(a.location):t.location.assign(a.location))}O=null;let m=!0===p?i.Replace:i.Push,{formMethod:y,formAction:v,formEncType:g}=o.navigation;!l&&!c&&y&&v&&g&&(l=Ve(o.navigation));let _=l||c;if(oe.has(a.status)&&_&&ze(_.formMethod))await ne(m,d,{submission:r({},_,{formAction:a.location}),preventScrollReset:j});else{let e=qe(d,l);await ne(m,d,{overrideNavigation:e,fetcherSubmission:c,preventScrollReset:j})}}async function ie(t,n,r,i,o){let s=await Promise.all([...r.map((e=>xe("loader",o,e,n,p,a,f,m.v7_relativeSplatPath))),...i.map((t=>{if(t.matches&&t.match&&t.controller)return xe("loader",be(e.history,t.path,t.controller.signal),t.match,t.matches,p,a,f,m.v7_relativeSplatPath);return{type:y.error,error:Ae(404,{pathname:t.path})}}))]),l=s.slice(0,r.length),u=s.slice(r.length);return await Promise.all([Ne(t,r,l,l.map((()=>o.signal)),!1,D.loaderData),Ne(t,i.map((e=>e.match)),u,i.map((e=>e.controller?e.controller.signal:null)),!0)]),{results:s,loaderResults:l,fetcherResults:u}}function he(){F=!0,U.push(...Ge()),K.forEach(((e,t)=>{q.has(t)&&(V.push(t),we(t))}))}function me(e,t,n){void 0===n&&(n={}),D.fetchers.set(e,t),ee({fetchers:new Map(D.fetchers)},{flushSync:!0===(n&&n.flushSync)})}function ve(e,t,n,r){void 0===r&&(r={});let i=Ce(D.matches,t);_e(e),ee({errors:{[i.route.id]:n},fetchers:new Map(D.fetchers)},{flushSync:!0===(r&&r.flushSync)})}function ge(e){return m.v7_fetcherPersist&&(X.set(e,(X.get(e)||0)+1),Y.has(e)&&Y.delete(e)),D.fetchers.get(e)||se}function _e(e){let t=D.fetchers.get(e);!q.has(e)||t&&"loading"===t.state&&G.has(e)||we(e),K.delete(e),G.delete(e),Z.delete(e),Y.delete(e),D.fetchers.delete(e)}function we(e){let t=q.get(e);u(t,"Expected fetch controller: "+e),t.abort(),q.delete(e)}function Se(e){for(let t of e){let e=He(ge(t).data);D.fetchers.set(t,e)}}function Ee(){let e=[],t=!1;for(let n of Z){let r=D.fetchers.get(n);u(r,"Expected fetcher: "+n),"loading"===r.state&&(Z.delete(n),e.push(n),t=!0)}return Se(e),t}function Oe(e){let t=[];for(let[n,r]of G)if(r<e){let e=D.fetchers.get(n);u(e,"Expected fetcher: "+n),"loading"===e.state&&(we(n),G.delete(n),t.push(n))}return Se(t),t.length>0}function Re(e){D.blockers.delete(e),J.delete(e)}function Le(e,t){let n=D.blockers.get(e)||le;u("unblocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"proceeding"===t.state||"blocked"===n.state&&"unblocked"===t.state||"proceeding"===n.state&&"unblocked"===t.state,"Invalid blocker state transition: "+n.state+" -> "+t.state);let r=new Map(D.blockers);r.set(e,t),ee({blockers:r})}function Fe(e){let{currentLocation:t,nextLocation:n,historyAction:r}=e;if(0===J.size)return;J.size>1&&c(!1,"A router only supports one blocker at a time");let i=Array.from(J.entries()),[o,a]=i[i.length-1],s=D.blockers.get(o);return s&&"proceeding"===s.state?void 0:a({currentLocation:t,nextLocation:n,historyAction:r})?o:void 0}function Ge(e){let t=[];return $.forEach(((n,r)=>{e&&!e(r)||(n.cancel(),t.push(r),$.delete(r))})),t}function Ze(e,t){if(S){return S(e,t.map((e=>x(e,D.loaderData))))||e.key}return e.key}function Ke(e,t){if(w){let n=Ze(e,t),r=w[n];if("number"===typeof r)return r}return null}return k={get basename(){return f},get future(){return m},get state(){return D},get routes(){return d},get window(){return t},initialize:function(){if(v=e.history.listen((t=>{let{action:n,location:r,delta:i}=t;if(Q)return void(Q=!1);c(0===J.size||null!=i,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let o=Fe({currentLocation:D.location,nextLocation:r,historyAction:n});return o&&null!=i?(Q=!0,e.history.go(-1*i),void Le(o,{state:"blocked",location:r,proceed(){Le(o,{state:"proceeding",proceed:void 0,reset:void 0,location:r}),e.history.go(i)},reset(){let e=new Map(D.blockers);e.set(o,le),ee({blockers:e})}})):ne(n,r)})),n){!function(e,t){try{let n=e.sessionStorage.getItem(pe);if(n){let e=JSON.parse(n);for(let[n,r]of Object.entries(e||{}))r&&Array.isArray(r)&&t.set(n,new Set(r||[]))}}catch(n){}}(t,z);let e=()=>function(e,t){if(t.size>0){let r={};for(let[e,n]of t)r[e]=[...n];try{e.sessionStorage.setItem(pe,JSON.stringify(r))}catch(n){c(!1,"Failed to save applied view transitions in sessionStorage ("+n+").")}}}(t,z);t.addEventListener("pagehide",e),N=()=>t.removeEventListener("pagehide",e)}return D.initialized||ne(i.Pop,D.location,{initialHydration:!0}),k},subscribe:function(e){return b.add(e),()=>b.delete(e)},enableScrollRestoration:function(e,t,n){if(w=e,E=t,S=n||null,!T&&D.navigation===ae){T=!0;let e=Ke(D.location,D.matches);null!=e&&ee({restoreScrollPosition:e})}return()=>{w=null,E=null,S=null}},navigate:async function t(n,o){if("number"===typeof n)return void e.history.go(n);let a=de(D.location,D.matches,f,m.v7_prependBasename,n,m.v7_relativeSplatPath,null==o?void 0:o.fromRouteId,null==o?void 0:o.relative),{path:s,submission:l,error:u}=fe(m.v7_normalizeFormMethod,!1,a,o),c=D.location,p=h(D.location,s,o&&o.state);p=r({},p,e.history.encodeLocation(p));let d=o&&null!=o.replace?o.replace:void 0,y=i.Push;!0===d?y=i.Replace:!1===d||null!=l&&ze(l.formMethod)&&l.formAction===D.location.pathname+D.location.search&&(y=i.Replace);let v=o&&"preventScrollReset"in o?!0===o.preventScrollReset:void 0,g=!0===(o&&o.unstable_flushSync),_=Fe({currentLocation:c,nextLocation:p,historyAction:y});if(!_)return await ne(y,p,{submission:l,pendingError:u,preventScrollReset:v,replace:o&&o.replace,enableViewTransition:o&&o.unstable_viewTransition,flushSync:g});Le(_,{state:"blocked",location:p,proceed(){Le(_,{state:"proceeding",proceed:void 0,reset:void 0,location:p}),t(n,o)},reset(){let e=new Map(D.blockers);e.set(_,le),ee({blockers:e})}})},fetch:function(t,n,r,i){if(o)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");q.has(t)&&we(t);let l=!0===(i&&i.unstable_flushSync),c=s||d,h=de(D.location,D.matches,f,m.v7_prependBasename,r,m.v7_relativeSplatPath,n,null==i?void 0:i.relative),y=_(c,h,f);if(!y)return void ve(t,n,Ae(404,{pathname:h}),{flushSync:l});let{path:v,submission:g,error:x}=fe(m.v7_normalizeFormMethod,!0,h,i);if(x)return void ve(t,n,x,{flushSync:l});let b=Ue(y,v);j=!0===(i&&i.preventScrollReset),g&&ze(g.formMethod)?async function(t,n,r,i,o,l,c){if(he(),K.delete(t),!i.route.action&&!i.route.lazy){let e=Ae(405,{method:c.formMethod,pathname:r,routeId:n});return void ve(t,n,e,{flushSync:l})}let h=D.fetchers.get(t);me(t,function(e,t){let n={state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0};return n}(c,h),{flushSync:l});let y=new AbortController,v=be(e.history,r,y.signal,c);q.set(t,y);let g=W,x=await xe("action",v,i,o,p,a,f,m.v7_relativeSplatPath);if(v.signal.aborted)return void(q.get(t)===y&&q.delete(t));if(m.v7_fetcherPersist&&Y.has(t)){if(je(x)||Me(x))return void me(t,He(void 0))}else{if(je(x))return q.delete(t),H>g?void me(t,He(void 0)):(Z.add(t),me(t,We(c)),re(D,x,{fetcherSubmission:c}));if(Me(x))return void ve(t,n,x.error)}if(De(x))throw Ae(400,{type:"defer-action"});let b=D.navigation.location||D.location,w=be(e.history,b,y.signal),S=s||d,E="idle"!==D.navigation.state?_(S,D.navigation.location,f):D.matches;u(E,"Didn't find any matches after fetcher action");let T=++W;G.set(t,T);let P=We(c,x.data);D.fetchers.set(t,P);let[C,k]=ye(e.history,D,E,c,b,!1,F,U,V,Y,K,Z,S,f,{[i.route.id]:x.data},void 0);k.filter((e=>e.key!==t)).forEach((e=>{let t=e.key,n=D.fetchers.get(t),r=We(void 0,n?n.data:void 0);D.fetchers.set(t,r),q.has(t)&&we(t),e.controller&&q.set(t,e.controller)})),ee({fetchers:new Map(D.fetchers)});let A=()=>k.forEach((e=>we(e.key)));y.signal.addEventListener("abort",A);let{results:I,loaderResults:j,fetcherResults:R}=await ie(D.matches,E,C,k,w);if(y.signal.aborted)return;y.signal.removeEventListener("abort",A),G.delete(t),q.delete(t),k.forEach((e=>q.delete(e.key)));let L=Ie(I);if(L){if(L.idx>=C.length){let e=k[L.idx-C.length].key;Z.add(e)}return re(D,L.result)}let{loaderData:z,errors:N}=Te(D,D.matches,C,j,void 0,k,R,$);if(D.fetchers.has(t)){let e=He(x.data);D.fetchers.set(t,e)}Oe(T),"loading"===D.navigation.state&&T>H?(u(M,"Expected pending action"),O&&O.abort(),te(D.navigation.location,{matches:E,loaderData:z,errors:N,fetchers:new Map(D.fetchers)})):(ee({errors:N,loaderData:Pe(D.loaderData,z,E,N),fetchers:new Map(D.fetchers)}),F=!1)}(t,n,v,b,y,l,g):(K.set(t,{routeId:n,path:v}),async function(t,n,r,i,o,s,l){let c=D.fetchers.get(t);me(t,We(l,c?c.data:void 0),{flushSync:s});let h=new AbortController,d=be(e.history,r,h.signal);q.set(t,h);let y=W,v=await xe("loader",d,i,o,p,a,f,m.v7_relativeSplatPath);De(v)&&(v=await Be(v,d.signal,!0)||v);q.get(t)===h&&q.delete(t);if(d.signal.aborted)return;if(Y.has(t))return void me(t,He(void 0));if(je(v))return H>y?void me(t,He(void 0)):(Z.add(t),void await re(D,v));if(Me(v))return void ve(t,n,v.error);u(!De(v),"Unhandled fetcher deferred data"),me(t,He(v.data))}(t,n,v,b,y,l,g))},revalidate:function(){he(),ee({revalidation:"loading"}),"submitting"!==D.navigation.state&&("idle"!==D.navigation.state?ne(M||D.historyAction,D.navigation.location,{overrideNavigation:D.navigation}):ne(D.historyAction,D.location,{startUninterruptedRevalidation:!0}))},createHref:t=>e.history.createHref(t),encodeLocation:t=>e.history.encodeLocation(t),getFetcher:ge,deleteFetcher:function(e){if(m.v7_fetcherPersist){let t=(X.get(e)||0)-1;t<=0?(X.delete(e),Y.add(e)):X.set(e,t)}else _e(e);ee({fetchers:new Map(D.fetchers)})},dispose:function(){v&&v(),N&&N(),b.clear(),O&&O.abort(),D.fetchers.forEach(((e,t)=>_e(t))),D.blockers.forEach(((e,t)=>Re(t)))},getBlocker:function(e,t){let n=D.blockers.get(e)||le;return J.get(e)!==t&&J.set(e,t),n},deleteBlocker:Re,_internalFetchControllers:q,_internalActiveDeferreds:$,_internalSetRoutes:function(e){p={},s=g(e,a,void 0,p)}},k}Symbol("deferred");function de(e,t,n,r,i,o,a,s){let l,u;if(a){l=[];for(let e of t)if(l.push(e),e.route.id===a){u=e;break}}else l=t,u=t[t.length-1];let c=F(i||".",B(l,o),R(e.pathname,n)||e.pathname,"path"===s);return null==i&&(c.search=e.search,c.hash=e.hash),null!=i&&""!==i&&"."!==i||!u||!u.route.index||Fe(c.search)||(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r&&"/"!==n&&(c.pathname="/"===c.pathname?n:U([n,c.pathname])),d(c)}function fe(e,t,n,r){if(!r||!function(e){return null!=e&&("formData"in e&&null!=e.formData||"body"in e&&void 0!==e.body)}(r))return{path:n};if(r.formMethod&&!Le(r.formMethod))return{path:n,error:Ae(405,{method:r.formMethod})};let i,o,a=()=>({path:n,error:Ae(400,{type:"invalid-body"})}),s=r.formMethod||"get",l=e?s.toUpperCase():s.toLowerCase(),c=Oe(n);if(void 0!==r.body){if("text/plain"===r.formEncType){if(!ze(l))return a();let e="string"===typeof r.body?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce(((e,t)=>{let[n,r]=t;return""+e+n+"="+r+"\n"}),""):String(r.body);return{path:n,submission:{formMethod:l,formAction:c,formEncType:r.formEncType,formData:void 0,json:void 0,text:e}}}if("application/json"===r.formEncType){if(!ze(l))return a();try{let e="string"===typeof r.body?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:l,formAction:c,formEncType:r.formEncType,formData:void 0,json:e,text:void 0}}}catch(m){return a()}}}if(u("function"===typeof FormData,"FormData is not available in this environment"),r.formData)i=we(r.formData),o=r.formData;else if(r.body instanceof FormData)i=we(r.body),o=r.body;else if(r.body instanceof URLSearchParams)i=r.body,o=Se(i);else if(null==r.body)i=new URLSearchParams,o=new FormData;else try{i=new URLSearchParams(r.body),o=Se(i)}catch(m){return a()}let p={formMethod:l,formAction:c,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:o,json:void 0,text:void 0};if(ze(p.formMethod))return{path:n,submission:p};let h=f(n);return t&&h.search&&Fe(h.search)&&i.append("index",""),h.search="?"+i,{path:d(h),submission:p}}function me(e,t){let n=e;if(t){let r=e.findIndex((e=>e.route.id===t));r>=0&&(n=e.slice(0,r))}return n}function ye(e,t,n,i,o,a,s,l,u,c,p,h,d,f,m,y){let v=y?Object.values(y)[0]:m?Object.values(m)[0]:void 0,g=e.createURL(t.location),x=e.createURL(o),b=y?Object.keys(y)[0]:void 0,w=me(n,b).filter(((e,n)=>{let{route:o}=e;if(o.lazy)return!0;if(null==o.loader)return!1;if(a)return!!o.loader.hydrate||void 0===t.loaderData[o.id]&&(!t.errors||void 0===t.errors[o.id]);if(function(e,t,n){let r=!t||n.route.id!==t.route.id,i=void 0===e[n.route.id];return r||i}(t.loaderData,t.matches[n],e)||l.some((t=>t===e.route.id)))return!0;let u=t.matches[n],c=e;return ge(e,r({currentUrl:g,currentParams:u.params,nextUrl:x,nextParams:c.params},i,{actionResult:v,defaultShouldRevalidate:s||g.pathname+g.search===x.pathname+x.search||g.search!==x.search||ve(u,c)}))})),S=[];return p.forEach(((e,o)=>{if(a||!n.some((t=>t.route.id===e.routeId))||c.has(o))return;let l=_(d,e.path,f);if(!l)return void S.push({key:o,routeId:e.routeId,path:e.path,matches:null,match:null,controller:null});let p=t.fetchers.get(o),m=Ue(l,e.path),y=!1;y=!h.has(o)&&(!!u.includes(o)||(p&&"idle"!==p.state&&void 0===p.data?s:ge(m,r({currentUrl:g,currentParams:t.matches[t.matches.length-1].params,nextUrl:x,nextParams:n[n.length-1].params},i,{actionResult:v,defaultShouldRevalidate:s})))),y&&S.push({key:o,routeId:e.routeId,path:e.path,matches:l,match:m,controller:new AbortController})})),[w,S]}function ve(e,t){let n=e.route.path;return e.pathname!==t.pathname||null!=n&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function ge(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if("boolean"===typeof n)return n}return t.defaultShouldRevalidate}async function _e(e,t,n){if(!e.lazy)return;let i=await e.lazy();if(!e.lazy)return;let o=n[e.id];u(o,"No route found in manifest");let a={};for(let r in i){let e=void 0!==o[r]&&"hasErrorBoundary"!==r;c(!e,'Route "'+o.id+'" has a static property "'+r+'" defined but its lazy function is also returning a value for this property. The lazy route property "'+r+'" will be ignored.'),e||v.has(r)||(a[r]=i[r])}Object.assign(o,a),Object.assign(o,r({},t(o),{lazy:void 0}))}async function xe(e,t,n,r,i,o,a,s,l){let c,p,h;void 0===l&&(l={});let d=e=>{let r,i=new Promise(((e,t)=>r=t));return h=()=>r(),t.signal.addEventListener("abort",h),Promise.race([e({request:t,params:n.params,context:l.requestContext}),i])};try{let r=n.route[e];if(n.route.lazy)if(r){let e,t=await Promise.all([d(r).catch((t=>{e=t})),_e(n.route,o,i)]);if(e)throw e;p=t[0]}else{if(await _e(n.route,o,i),r=n.route[e],!r){if("action"===e){let e=new URL(t.url),r=e.pathname+e.search;throw Ae(405,{method:t.method,pathname:r,routeId:n.route.id})}return{type:y.data,data:void 0}}p=await d(r)}else{if(!r){let e=new URL(t.url);throw Ae(404,{pathname:e.pathname+e.search})}p=await d(r)}u(void 0!==p,"You defined "+("action"===e?"an action":"a loader")+' for route "'+n.route.id+"\" but didn't return anything from your `"+e+"` function. Please return a value or `null`.")}catch(v){c=y.error,p=v}finally{h&&t.signal.removeEventListener("abort",h)}if(Re(p)){let e,i=p.status;if(ie.has(i)){let e=p.headers.get("Location");if(u(e,"Redirects returned/thrown from loaders/actions must have a Location header"),ue.test(e)){if(!l.isStaticRequest){let n=new URL(t.url),r=e.startsWith("//")?new URL(n.protocol+e):new URL(e),i=null!=R(r.pathname,a);r.origin===n.origin&&i&&(e=r.pathname+r.search+r.hash)}}else e=de(new URL(t.url),r.slice(0,r.indexOf(n)+1),a,!0,e,s);if(l.isStaticRequest)throw p.headers.set("Location",e),p;return{type:y.redirect,status:i,location:e,revalidate:null!==p.headers.get("X-Remix-Revalidate"),reloadDocument:null!==p.headers.get("X-Remix-Reload-Document")}}if(l.isRouteRequest){throw{type:c===y.error?y.error:y.data,response:p}}try{let t=p.headers.get("Content-Type");e=t&&/\bapplication\/json\b/.test(t)?await p.json():await p.text()}catch(v){return{type:y.error,error:v}}return c===y.error?{type:c,error:new J(i,p.statusText,e),headers:p.headers}:{type:y.data,data:e,statusCode:p.status,headers:p.headers}}return c===y.error?{type:c,error:p}:function(e){let t=e;return t&&"object"===typeof t&&"object"===typeof t.data&&"function"===typeof t.subscribe&&"function"===typeof t.cancel&&"function"===typeof t.resolveData}(p)?{type:y.deferred,deferredData:p,statusCode:null==(f=p.init)?void 0:f.status,headers:(null==(m=p.init)?void 0:m.headers)&&new Headers(p.init.headers)}:{type:y.data,data:p};var f,m}function be(e,t,n,r){let i=e.createURL(Oe(t)).toString(),o={signal:n};if(r&&ze(r.formMethod)){let{formMethod:e,formEncType:t}=r;o.method=e.toUpperCase(),"application/json"===t?(o.headers=new Headers({"Content-Type":t}),o.body=JSON.stringify(r.json)):"text/plain"===t?o.body=r.text:"application/x-www-form-urlencoded"===t&&r.formData?o.body=we(r.formData):o.body=r.formData}return new Request(i,o)}function we(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,"string"===typeof r?r:r.name);return t}function Se(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function Ee(e,t,n,r,i){let o,a={},s=null,l=!1,c={};return n.forEach(((n,p)=>{let h=t[p].route.id;if(u(!je(n),"Cannot handle redirect results in processLoaderData"),Me(n)){let t=Ce(e,h),i=n.error;r&&(i=Object.values(r)[0],r=void 0),s=s||{},null==s[t.route.id]&&(s[t.route.id]=i),a[h]=void 0,l||(l=!0,o=Q(n.error)?n.error.status:500),n.headers&&(c[h]=n.headers)}else De(n)?(i.set(h,n.deferredData),a[h]=n.deferredData.data):a[h]=n.data,null==n.statusCode||200===n.statusCode||l||(o=n.statusCode),n.headers&&(c[h]=n.headers)})),r&&(s=r,a[Object.keys(r)[0]]=void 0),{loaderData:a,errors:s,statusCode:o||200,loaderHeaders:c}}function Te(e,t,n,i,o,a,s,l){let{loaderData:c,errors:p}=Ee(t,n,i,o,l);for(let h=0;h<a.length;h++){let{key:t,match:n,controller:i}=a[h];u(void 0!==s&&void 0!==s[h],"Did not find corresponding fetcher result");let o=s[h];if(!i||!i.signal.aborted)if(Me(o)){let i=Ce(e.matches,null==n?void 0:n.route.id);p&&p[i.route.id]||(p=r({},p,{[i.route.id]:o.error})),e.fetchers.delete(t)}else if(je(o))u(!1,"Unhandled fetcher revalidation redirect");else if(De(o))u(!1,"Unhandled fetcher deferred data");else{let n=He(o.data);e.fetchers.set(t,n)}}return{loaderData:c,errors:p}}function Pe(e,t,n,i){let o=r({},t);for(let r of n){let n=r.route.id;if(t.hasOwnProperty(n)?void 0!==t[n]&&(o[n]=t[n]):void 0!==e[n]&&r.route.loader&&(o[n]=e[n]),i&&i.hasOwnProperty(n))break}return o}function Ce(e,t){return(t?e.slice(0,e.findIndex((e=>e.route.id===t))+1):[...e]).reverse().find((e=>!0===e.route.hasErrorBoundary))||e[0]}function ke(e){let t=1===e.length?e[0]:e.find((e=>e.index||!e.path||"/"===e.path))||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Ae(e,t){let{pathname:n,routeId:r,method:i,type:o}=void 0===t?{}:t,a="Unknown Server Error",s="Unknown @remix-run/router error";return 400===e?(a="Bad Request",i&&n&&r?s="You made a "+i+' request to "'+n+'" but did not provide a `loader` for route "'+r+'", so there is no way to handle the request.':"defer-action"===o?s="defer() is not supported in actions":"invalid-body"===o&&(s="Unable to encode submission body")):403===e?(a="Forbidden",s='Route "'+r+'" does not match URL "'+n+'"'):404===e?(a="Not Found",s='No route matches URL "'+n+'"'):405===e&&(a="Method Not Allowed",i&&n&&r?s="You made a "+i.toUpperCase()+' request to "'+n+'" but did not provide an `action` for route "'+r+'", so there is no way to handle the request.':i&&(s='Invalid request method "'+i.toUpperCase()+'"')),new J(e||500,a,new Error(s),!0)}function Ie(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(je(n))return{result:n,idx:t}}}function Oe(e){return d(r({},"string"===typeof e?f(e):e,{hash:""}))}function De(e){return e.type===y.deferred}function Me(e){return e.type===y.error}function je(e){return(e&&e.type)===y.redirect}function Re(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"object"===typeof e.headers&&"undefined"!==typeof e.body}function Le(e){return re.has(e.toLowerCase())}function ze(e){return te.has(e.toLowerCase())}async function Ne(e,t,n,r,i,o){for(let a=0;a<n.length;a++){let s=n[a],l=t[a];if(!l)continue;let c=e.find((e=>e.route.id===l.route.id)),p=null!=c&&!ve(c,l)&&void 0!==(o&&o[l.route.id]);if(De(s)&&(i||p)){let e=r[a];u(e,"Expected an AbortSignal for revalidating fetcher deferred result"),await Be(s,e,i).then((e=>{e&&(n[a]=e||n[a])}))}}}async function Be(e,t,n){if(void 0===n&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:y.data,data:e.deferredData.unwrappedData}}catch(r){return{type:y.error,error:r}}return{type:y.data,data:e.deferredData.data}}}function Fe(e){return new URLSearchParams(e).getAll("index").some((e=>""===e))}function Ue(e,t){let n="string"===typeof t?f(t).search:t.search;if(e[e.length-1].route.index&&Fe(n||""))return e[e.length-1];let r=N(e);return r[r.length-1]}function Ve(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:o,json:a}=e;if(t&&n&&r)return null!=i?{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i}:null!=o?{formMethod:t,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0}:void 0!==a?{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:a,text:void 0}:void 0}function qe(e,t){if(t){return{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}return{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function We(e,t){if(e){return{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}}return{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function He(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}},7340:(e,t,n)=>{"use strict";n.r(t),n.d(t,{CountUp:()=>i});var r=function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=function(){function e(e,t,n){var i=this;this.endVal=t,this.options=n,this.version="2.8.0",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,useIndianSeparators:!1,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:"",enableScrollSpy:!1,scrollSpyDelay:200,scrollSpyOnce:!1},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.once=!1,this.count=function(e){i.startTime||(i.startTime=e);var t=e-i.startTime;i.remaining=i.duration-t,i.useEasing?i.countDown?i.frameVal=i.startVal-i.easingFn(t,0,i.startVal-i.endVal,i.duration):i.frameVal=i.easingFn(t,i.startVal,i.endVal-i.startVal,i.duration):i.frameVal=i.startVal+(i.endVal-i.startVal)*(t/i.duration);var n=i.countDown?i.frameVal<i.endVal:i.frameVal>i.endVal;i.frameVal=n?i.endVal:i.frameVal,i.frameVal=Number(i.frameVal.toFixed(i.options.decimalPlaces)),i.printValue(i.frameVal),t<i.duration?i.rAF=requestAnimationFrame(i.count):null!==i.finalEndVal?i.update(i.finalEndVal):i.options.onCompleteCallback&&i.options.onCompleteCallback()},this.formatNumber=function(e){var t,n,r,o,a=e<0?"-":"";t=Math.abs(e).toFixed(i.options.decimalPlaces);var s=(t+="").split(".");if(n=s[0],r=s.length>1?i.options.decimal+s[1]:"",i.options.useGrouping){o="";for(var l=3,u=0,c=0,p=n.length;c<p;++c)i.options.useIndianSeparators&&4===c&&(l=2,u=1),0!==c&&u%l==0&&(o=i.options.separator+o),u++,o=n[p-c-1]+o;n=o}return i.options.numerals&&i.options.numerals.length&&(n=n.replace(/[0-9]/g,(function(e){return i.options.numerals[+e]})),r=r.replace(/[0-9]/g,(function(e){return i.options.numerals[+e]}))),a+i.options.prefix+n+r+i.options.suffix},this.easeOutExpo=function(e,t,n,r){return n*(1-Math.pow(2,-10*e/r))*1024/1023+t},this.options=r(r({},this.defaults),n),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(t),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,""===this.options.separator&&(this.options.useGrouping=!1),this.el="string"==typeof e?document.getElementById(e):e,this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined","undefined"!=typeof window&&this.options.enableScrollSpy&&(this.error?console.error(this.error,e):(window.onScrollFns=window.onScrollFns||[],window.onScrollFns.push((function(){return i.handleScroll(i)})),window.onscroll=function(){window.onScrollFns.forEach((function(e){return e()}))},this.handleScroll(this)))}return e.prototype.handleScroll=function(e){if(e&&window&&!e.once){var t=window.innerHeight+window.scrollY,n=e.el.getBoundingClientRect(),r=n.top+window.pageYOffset,i=n.top+n.height+window.pageYOffset;i<t&&i>window.scrollY&&e.paused?(e.paused=!1,setTimeout((function(){return e.start()}),e.options.scrollSpyDelay),e.options.scrollSpyOnce&&(e.once=!0)):(window.scrollY>i||r>t)&&!e.paused&&e.reset()}},e.prototype.determineDirectionAndSmartEasing=function(){var e=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>e;var t=e-this.startVal;if(Math.abs(t)>this.options.smartEasingThreshold&&this.options.useEasing){this.finalEndVal=e;var n=this.countDown?1:-1;this.endVal=e+n*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=e,this.finalEndVal=null;null!==this.finalEndVal?this.useEasing=!1:this.useEasing=this.options.useEasing},e.prototype.start=function(e){this.error||(this.options.onStartCallback&&this.options.onStartCallback(),e&&(this.options.onCompleteCallback=e),this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},e.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},e.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},e.prototype.update=function(e){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(e),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,null==this.finalEndVal&&this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},e.prototype.printValue=function(e){var t;if(this.el){var n=this.formattingFn(e);(null===(t=this.options.plugin)||void 0===t?void 0:t.render)?this.options.plugin.render(this.el,n):"INPUT"===this.el.tagName?this.el.value=n:"text"===this.el.tagName||"tspan"===this.el.tagName?this.el.textContent=n:this.el.innerHTML=n}},e.prototype.ensureNumber=function(e){return"number"==typeof e&&!isNaN(e)},e.prototype.validateValue=function(e){var t=Number(e);return this.ensureNumber(t)?t:(this.error="[CountUp] invalid start or end value: ".concat(e),null)},e.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},e}()},7892:function(e){e.exports=function(){"use strict";var e=1e3,t=6e4,n=36e5,r="millisecond",i="second",o="minute",a="hour",s="day",l="week",u="month",c="quarter",p="year",h="date",d="Invalid Date",f=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},v=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},g={s:v,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),i=n%60;return(t<=0?"+":"-")+v(r,2,"0")+":"+v(i,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),i=t.clone().add(r,u),o=n-i<0,a=t.clone().add(r+(o?-1:1),u);return+(-(r+(n-i)/(o?i-a:a-i))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:u,y:p,w:l,d:s,D:h,h:a,m:o,s:i,ms:r,Q:c}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},_="en",x={};x[_]=y;var b="$isDayjsObject",w=function(e){return e instanceof P||!(!e||!e[b])},S=function e(t,n,r){var i;if(!t)return _;if("string"==typeof t){var o=t.toLowerCase();x[o]&&(i=o),n&&(x[o]=n,i=o);var a=t.split("-");if(!i&&a.length>1)return e(a[0])}else{var s=t.name;x[s]=t,i=s}return!r&&i&&(_=i),i||!r&&_},E=function(e,t){if(w(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new P(n)},T=g;T.l=S,T.i=w,T.w=function(e,t){return E(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var P=function(){function y(e){this.$L=S(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[b]=!0}var v=y.prototype;return v.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(T.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(f);if(r){var i=r[2]-1||0,o=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)}}return new Date(t)}(e),this.init()},v.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},v.$utils=function(){return T},v.isValid=function(){return!(this.$d.toString()===d)},v.isSame=function(e,t){var n=E(e);return this.startOf(t)<=n&&n<=this.endOf(t)},v.isAfter=function(e,t){return E(e)<this.startOf(t)},v.isBefore=function(e,t){return this.endOf(t)<E(e)},v.$g=function(e,t,n){return T.u(e)?this[t]:this.set(n,e)},v.unix=function(){return Math.floor(this.valueOf()/1e3)},v.valueOf=function(){return this.$d.getTime()},v.startOf=function(e,t){var n=this,r=!!T.u(t)||t,c=T.p(e),d=function(e,t){var i=T.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return r?i:i.endOf(s)},f=function(e,t){return T.w(n.toDate()[e].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},m=this.$W,y=this.$M,v=this.$D,g="set"+(this.$u?"UTC":"");switch(c){case p:return r?d(1,0):d(31,11);case u:return r?d(1,y):d(0,y+1);case l:var _=this.$locale().weekStart||0,x=(m<_?m+7:m)-_;return d(r?v-x:v+(6-x),y);case s:case h:return f(g+"Hours",0);case a:return f(g+"Minutes",1);case o:return f(g+"Seconds",2);case i:return f(g+"Milliseconds",3);default:return this.clone()}},v.endOf=function(e){return this.startOf(e,!1)},v.$set=function(e,t){var n,l=T.p(e),c="set"+(this.$u?"UTC":""),d=(n={},n[s]=c+"Date",n[h]=c+"Date",n[u]=c+"Month",n[p]=c+"FullYear",n[a]=c+"Hours",n[o]=c+"Minutes",n[i]=c+"Seconds",n[r]=c+"Milliseconds",n)[l],f=l===s?this.$D+(t-this.$W):t;if(l===u||l===p){var m=this.clone().set(h,1);m.$d[d](f),m.init(),this.$d=m.set(h,Math.min(this.$D,m.daysInMonth())).$d}else d&&this.$d[d](f);return this.init(),this},v.set=function(e,t){return this.clone().$set(e,t)},v.get=function(e){return this[T.p(e)]()},v.add=function(r,c){var h,d=this;r=Number(r);var f=T.p(c),m=function(e){var t=E(d);return T.w(t.date(t.date()+Math.round(e*r)),d)};if(f===u)return this.set(u,this.$M+r);if(f===p)return this.set(p,this.$y+r);if(f===s)return m(1);if(f===l)return m(7);var y=(h={},h[o]=t,h[a]=n,h[i]=e,h)[f]||1,v=this.$d.getTime()+r*y;return T.w(v,this)},v.subtract=function(e,t){return this.add(-1*e,t)},v.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||d;var r=e||"YYYY-MM-DDTHH:mm:ssZ",i=T.z(this),o=this.$H,a=this.$m,s=this.$M,l=n.weekdays,u=n.months,c=n.meridiem,p=function(e,n,i,o){return e&&(e[n]||e(t,r))||i[n].slice(0,o)},h=function(e){return T.s(o%12||12,e,"0")},f=c||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r};return r.replace(m,(function(e,r){return r||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return T.s(t.$y,4,"0");case"M":return s+1;case"MM":return T.s(s+1,2,"0");case"MMM":return p(n.monthsShort,s,u,3);case"MMMM":return p(u,s);case"D":return t.$D;case"DD":return T.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return p(n.weekdaysMin,t.$W,l,2);case"ddd":return p(n.weekdaysShort,t.$W,l,3);case"dddd":return l[t.$W];case"H":return String(o);case"HH":return T.s(o,2,"0");case"h":return h(1);case"hh":return h(2);case"a":return f(o,a,!0);case"A":return f(o,a,!1);case"m":return String(a);case"mm":return T.s(a,2,"0");case"s":return String(t.$s);case"ss":return T.s(t.$s,2,"0");case"SSS":return T.s(t.$ms,3,"0");case"Z":return i}return null}(e)||i.replace(":","")}))},v.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},v.diff=function(r,h,d){var f,m=this,y=T.p(h),v=E(r),g=(v.utcOffset()-this.utcOffset())*t,_=this-v,x=function(){return T.m(m,v)};switch(y){case p:f=x()/12;break;case u:f=x();break;case c:f=x()/3;break;case l:f=(_-g)/6048e5;break;case s:f=(_-g)/864e5;break;case a:f=_/n;break;case o:f=_/t;break;case i:f=_/e;break;default:f=_}return d?f:T.a(f)},v.daysInMonth=function(){return this.endOf(u).$D},v.$locale=function(){return x[this.$L]},v.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=S(e,t,!0);return r&&(n.$L=r),n},v.clone=function(){return T.w(this.$d,this)},v.toDate=function(){return new Date(this.valueOf())},v.toJSON=function(){return this.isValid()?this.toISOString():null},v.toISOString=function(){return this.$d.toISOString()},v.toString=function(){return this.$d.toUTCString()},y}(),C=P.prototype;return E.prototype=C,[["$ms",r],["$s",i],["$m",o],["$H",a],["$W",s],["$M",u],["$y",p],["$D",h]].forEach((function(e){C[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),E.extend=function(e,t){return e.$i||(e(t,P,E),e.$i=!0),E},E.locale=S,E.isDayjs=w,E.unix=function(e){return E(1e3*e)},E.en=x[_],E.Ls=x,E.p={},E}()},2176:e=>{"use strict";e.exports=function(e,t,n,r,i,o,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,o,a,s],c=0;(l=new Error(t.replace(/%s/g,(function(){return u[c++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},9498:(e,t,n)=>{var r="__lodash_hash_undefined__",i="[object Function]",o="[object GeneratorFunction]",a=/^\[object .+?Constructor\]$/,s="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,l="object"==typeof self&&self&&self.Object===Object&&self,u=s||l||Function("return this")();var c=Array.prototype,p=Function.prototype,h=Object.prototype,d=u["__core-js_shared__"],f=function(){var e=/[^.]+$/.exec(d&&d.keys&&d.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),m=p.toString,y=h.hasOwnProperty,v=h.toString,g=RegExp("^"+m.call(y).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_=c.splice,x=k(u,"Map"),b=k(Object,"create");function w(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function S(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function E(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function T(e,t){for(var n,r,i=e.length;i--;)if((n=e[i][0])===(r=t)||n!==n&&r!==r)return i;return-1}function P(e){if(!I(e)||(t=e,f&&f in t))return!1;var t,n=function(e){var t=I(e)?v.call(e):"";return t==i||t==o}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}(e)?g:a;return n.test(function(e){if(null!=e){try{return m.call(e)}catch(t){}try{return e+""}catch(t){}}return""}(e))}function C(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function k(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return P(n)?n:void 0}function A(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a),a};return n.cache=new(A.Cache||E),n}function I(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}w.prototype.clear=function(){this.__data__=b?b(null):{}},w.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},w.prototype.get=function(e){var t=this.__data__;if(b){var n=t[e];return n===r?void 0:n}return y.call(t,e)?t[e]:void 0},w.prototype.has=function(e){var t=this.__data__;return b?void 0!==t[e]:y.call(t,e)},w.prototype.set=function(e,t){return this.__data__[e]=b&&void 0===t?r:t,this},S.prototype.clear=function(){this.__data__=[]},S.prototype.delete=function(e){var t=this.__data__,n=T(t,e);return!(n<0)&&(n==t.length-1?t.pop():_.call(t,n,1),!0)},S.prototype.get=function(e){var t=this.__data__,n=T(t,e);return n<0?void 0:t[n][1]},S.prototype.has=function(e){return T(this.__data__,e)>-1},S.prototype.set=function(e,t){var n=this.__data__,r=T(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},E.prototype.clear=function(){this.__data__={hash:new w,map:new(x||S),string:new w}},E.prototype.delete=function(e){return C(this,e).delete(e)},E.prototype.get=function(e){return C(this,e).get(e)},E.prototype.has=function(e){return C(this,e).has(e)},E.prototype.set=function(e,t){return C(this,e).set(e,t),this},A.Cache=E,e.exports=A},5483:function(e){e.exports=function(){"use strict";var e,t,n;function r(r,i){if(e)if(t){var o="var sharedChunk = {}; ("+e+")(sharedChunk); ("+t+")(sharedChunk);",a={};e(a),n=i(a),"undefined"!==typeof window&&(n.workerUrl=window.URL.createObjectURL(new Blob([o],{type:"text/javascript"})))}else t=i;else e=i}return r(["exports"],(function(e){function t(e,t){return e(t={exports:{}},t.exports),t.exports}var n=r;function r(e,t,n,r){this.cx=3*e,this.bx=3*(n-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(r-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=r,this.p2x=n,this.p2y=r}r.prototype.sampleCurveX=function(e){return((this.ax*e+this.bx)*e+this.cx)*e},r.prototype.sampleCurveY=function(e){return((this.ay*e+this.by)*e+this.cy)*e},r.prototype.sampleCurveDerivativeX=function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},r.prototype.solveCurveX=function(e,t){var n,r,i,o,a;for(void 0===t&&(t=1e-6),i=e,a=0;a<8;a++){if(o=this.sampleCurveX(i)-e,Math.abs(o)<t)return i;var s=this.sampleCurveDerivativeX(i);if(Math.abs(s)<1e-6)break;i-=o/s}if((i=e)<(n=0))return n;if(i>(r=1))return r;for(;n<r;){if(o=this.sampleCurveX(i),Math.abs(o-e)<t)return i;e>o?n=i:r=i,i=.5*(r-n)+n}return i},r.prototype.solve=function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))};var i=o;function o(e,t){this.x=e,this.y=t}o.prototype={clone:function(){return new o(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,t){return this.clone()._rotateAround(e,t)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,n=e.y-this.y;return t*t+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[2]*this.x+e[3]*this.y;return this.x=e[0]*this.x+e[1]*this.y,this.y=t,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),n=Math.sin(e),r=n*this.x+t*this.y;return this.x=t*this.x-n*this.y,this.y=r,this},_rotateAround:function(e,t){var n=Math.cos(e),r=Math.sin(e),i=t.y+r*(this.x-t.x)+n*(this.y-t.y);return this.x=t.x+n*(this.x-t.x)-r*(this.y-t.y),this.y=i,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},o.convert=function(e){return e instanceof o?e:Array.isArray(e)?new o(e[0],e[1]):e};var a="undefined"!=typeof self?self:{},s=Math.pow(2,53)-1;function l(e,t,r,i){var o=new n(e,t,r,i);return function(e){return o.solve(e)}}var u=l(.25,.1,.25,1);function c(e,t,n){return Math.min(n,Math.max(t,e))}function p(e,t,n){var r=n-t,i=((e-t)%r+r)%r+t;return i===t?n:i}function h(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];for(var r=0,i=t;r<i.length;r+=1){var o=i[r];for(var a in o)e[a]=o[a]}return e}var d=1;function f(){return d++}function m(){return function e(t){return t?(t^16*Math.random()>>t/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,e)}()}function y(e){return!!e&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)}function v(e,t){e.forEach((function(e){t[e]&&(t[e]=t[e].bind(t))}))}function g(e,t){return-1!==e.indexOf(t,e.length-t.length)}function _(e,t,n){var r={};for(var i in e)r[i]=t.call(n||this,e[i],i,e);return r}function x(e,t,n){var r={};for(var i in e)t.call(n||this,e[i],i,e)&&(r[i]=e[i]);return r}function b(e){return Array.isArray(e)?e.map(b):"object"==typeof e&&e?_(e,b):e}var w={};function S(e){w[e]||("undefined"!=typeof console&&console.warn(e),w[e]=!0)}function E(e,t,n){return(n.y-e.y)*(t.x-e.x)>(t.y-e.y)*(n.x-e.x)}function T(e){for(var t=0,n=0,r=e.length,i=r-1,o=void 0,a=void 0;n<r;i=n++)t+=((a=e[i]).x-(o=e[n]).x)*(o.y+a.y);return t}function P(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}function C(e){var t={};if(e.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(function(e,n,r,i){var o=r||i;return t[n]=!o||o.toLowerCase(),""})),t["max-age"]){var n=parseInt(t["max-age"],10);isNaN(n)?delete t["max-age"]:t["max-age"]=n}return t}var k=null;function A(e){if(null==k){var t=e.navigator?e.navigator.userAgent:null;k=!!e.safari||!(!t||!(/\b(iPad|iPhone|iPod)\b/.test(t)||t.match("Safari")&&!t.match("Chrome")))}return k}function I(e){try{var t=a[e];return t.setItem("_mapbox_test_",1),t.removeItem("_mapbox_test_"),!0}catch(e){return!1}}var O,D,M,j,R=a.performance&&a.performance.now?a.performance.now.bind(a.performance):Date.now.bind(Date),L=a.requestAnimationFrame||a.mozRequestAnimationFrame||a.webkitRequestAnimationFrame||a.msRequestAnimationFrame,z=a.cancelAnimationFrame||a.mozCancelAnimationFrame||a.webkitCancelAnimationFrame||a.msCancelAnimationFrame,N={now:R,frame:function(e){var t=L(e);return{cancel:function(){return z(t)}}},getImageData:function(e,t){void 0===t&&(t=0);var n=a.document.createElement("canvas"),r=n.getContext("2d");if(!r)throw new Error("failed to create canvas 2d context");return n.width=e.width,n.height=e.height,r.drawImage(e,0,0,e.width,e.height),r.getImageData(-t,-t,e.width+2*t,e.height+2*t)},resolveURL:function(e){return O||(O=a.document.createElement("a")),O.href=e,O.href},hardwareConcurrency:a.navigator&&a.navigator.hardwareConcurrency||4,get devicePixelRatio(){return a.devicePixelRatio},get prefersReducedMotion(){return!!a.matchMedia&&(null==D&&(D=a.matchMedia("(prefers-reduced-motion: reduce)")),D.matches)}},B={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":0===this.API_URL.indexOf("https://api.mapbox.com")?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},F={supported:!1,testSupport:function(e){!U&&j&&(V?q(e):M=e)}},U=!1,V=!1;function q(e){var t=e.createTexture();e.bindTexture(e.TEXTURE_2D,t);try{if(e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,j),e.isContextLost())return;F.supported=!0}catch(e){}e.deleteTexture(t),U=!0}a.document&&((j=a.document.createElement("img")).onload=function(){M&&q(M),M=null,V=!0},j.onerror=function(){U=!0,M=null},j.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var W="01",H=function(e,t){this._transformRequestFn=e,this._customAccessToken=t,this._createSkuToken()};function G(e){return 0===e.indexOf("mapbox:")}H.prototype._createSkuToken=function(){var e=function(){for(var e="",t=0;t<10;t++)e+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",W,e].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=e.token,this._skuTokenExpiresAt=e.tokenExpiresAt},H.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},H.prototype.transformRequest=function(e,t){return this._transformRequestFn&&this._transformRequestFn(e,t)||{url:e}},H.prototype.normalizeStyleURL=function(e,t){if(!G(e))return e;var n=Y(e);return n.path="/styles/v1"+n.path,this._makeAPIURL(n,this._customAccessToken||t)},H.prototype.normalizeGlyphsURL=function(e,t){if(!G(e))return e;var n=Y(e);return n.path="/fonts/v1"+n.path,this._makeAPIURL(n,this._customAccessToken||t)},H.prototype.normalizeSourceURL=function(e,t){if(!G(e))return e;var n=Y(e);return n.path="/v4/"+n.authority+".json",n.params.push("secure"),this._makeAPIURL(n,this._customAccessToken||t)},H.prototype.normalizeSpriteURL=function(e,t,n,r){var i=Y(e);return G(e)?(i.path="/styles/v1"+i.path+"/sprite"+t+n,this._makeAPIURL(i,this._customAccessToken||r)):(i.path+=""+t+n,$(i))},H.prototype.normalizeTileURL=function(e,t){if(this._isSkuTokenExpired()&&this._createSkuToken(),e&&!G(e))return e;var n=Y(e);n.path=n.path.replace(/(\.(png|jpg)\d*)(?=$)/,(N.devicePixelRatio>=2||512===t?"@2x":"")+(F.supported?".webp":"$1")),n.path=n.path.replace(/^.+\/v4\//,"/"),n.path="/v4"+n.path;var r=this._customAccessToken||function(e){for(var t=0,n=e;t<n.length;t+=1){var r=n[t].match(/^access_token=(.*)$/);if(r)return r[1]}return null}(n.params)||B.ACCESS_TOKEN;return B.REQUIRE_ACCESS_TOKEN&&r&&this._skuToken&&n.params.push("sku="+this._skuToken),this._makeAPIURL(n,r)},H.prototype.canonicalizeTileURL=function(e,t){var n=Y(e);if(!n.path.match(/(^\/v4\/)/)||!n.path.match(/\.[\w]+$/))return e;var r="mapbox://tiles/";r+=n.path.replace("/v4/","");var i=n.params;return t&&(i=i.filter((function(e){return!e.match(/^access_token=/)}))),i.length&&(r+="?"+i.join("&")),r},H.prototype.canonicalizeTileset=function(e,t){for(var n=!!t&&G(t),r=[],i=0,o=e.tiles||[];i<o.length;i+=1){var a=o[i];K(a)?r.push(this.canonicalizeTileURL(a,n)):r.push(a)}return r},H.prototype._makeAPIURL=function(e,t){var n="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",r=Y(B.API_URL);if(e.protocol=r.protocol,e.authority=r.authority,"http"===e.protocol){var i=e.params.indexOf("secure");i>=0&&e.params.splice(i,1)}if("/"!==r.path&&(e.path=""+r.path+e.path),!B.REQUIRE_ACCESS_TOKEN)return $(e);if(!(t=t||B.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+n);if("s"===t[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+n);return e.params=e.params.filter((function(e){return-1===e.indexOf("access_token")})),e.params.push("access_token="+t),$(e)};var Z=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function K(e){return Z.test(e)}var X=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function Y(e){var t=e.match(X);if(!t)throw new Error("Unable to parse URL object");return{protocol:t[1],authority:t[2],path:t[3]||"/",params:t[4]?t[4].split("&"):[]}}function $(e){var t=e.params.length?"?"+e.params.join("&"):"";return e.protocol+"://"+e.authority+e.path+t}function J(e){if(!e)return null;var t=e.split(".");if(!t||3!==t.length)return null;try{return JSON.parse(decodeURIComponent(a.atob(t[1]).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join("")))}catch(e){return null}}var Q=function(e){this.type=e,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};Q.prototype.getStorageKey=function(e){var t,n=J(B.ACCESS_TOKEN);return t=n&&n.u?a.btoa(encodeURIComponent(n.u).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode(Number("0x"+t))}))):B.ACCESS_TOKEN||"",e?"mapbox.eventData."+e+":"+t:"mapbox.eventData:"+t},Q.prototype.fetchEventData=function(){var e=I("localStorage"),t=this.getStorageKey(),n=this.getStorageKey("uuid");if(e)try{var r=a.localStorage.getItem(t);r&&(this.eventData=JSON.parse(r));var i=a.localStorage.getItem(n);i&&(this.anonId=i)}catch(e){S("Unable to read from LocalStorage")}},Q.prototype.saveEventData=function(){var e=I("localStorage"),t=this.getStorageKey(),n=this.getStorageKey("uuid");if(e)try{a.localStorage.setItem(n,this.anonId),Object.keys(this.eventData).length>=1&&a.localStorage.setItem(t,JSON.stringify(this.eventData))}catch(e){S("Unable to write to LocalStorage")}},Q.prototype.processRequests=function(e){},Q.prototype.postEvent=function(e,t,n,r){var i=this;if(B.EVENTS_URL){var o=Y(B.EVENTS_URL);o.params.push("access_token="+(r||B.ACCESS_TOKEN||""));var a={event:this.type,created:new Date(e).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:"1.13.3",skuId:W,userId:this.anonId},s=t?h(a,t):a,l={url:$(o),headers:{"Content-Type":"text/plain"},body:JSON.stringify([s])};this.pendingRequest=be(l,(function(e){i.pendingRequest=null,n(e),i.saveEventData(),i.processRequests(r)}))}},Q.prototype.queueRequest=function(e,t){this.queue.push(e),this.processRequests(t)};var ee,te,ne=function(e){function t(){e.call(this,"map.load"),this.success={},this.skuToken=""}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.postMapLoadEvent=function(e,t,n,r){this.skuToken=n;var i=!(!r&&!B.ACCESS_TOKEN),o=Array.isArray(e)&&e.some((function(e){return G(e)||K(e)}));B.EVENTS_URL&&i&&o&&this.queueRequest({id:t,timestamp:Date.now()},r)},t.prototype.processRequests=function(e){var t=this;if(!this.pendingRequest&&0!==this.queue.length){var n=this.queue.shift(),r=n.id,i=n.timestamp;r&&this.success[r]||(this.anonId||this.fetchEventData(),y(this.anonId)||(this.anonId=m()),this.postEvent(i,{skuToken:this.skuToken},(function(e){e||r&&(t.success[r]=!0)}),e))}},t}(Q),re=new(function(e){function t(t){e.call(this,"appUserTurnstile"),this._customAccessToken=t}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.postTurnstileEvent=function(e,t){B.EVENTS_URL&&B.ACCESS_TOKEN&&Array.isArray(e)&&e.some((function(e){return G(e)||K(e)}))&&this.queueRequest(Date.now(),t)},t.prototype.processRequests=function(e){var t=this;if(!this.pendingRequest&&0!==this.queue.length){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var n=J(B.ACCESS_TOKEN),r=n?n.u:B.ACCESS_TOKEN,i=r!==this.eventData.tokenU;y(this.anonId)||(this.anonId=m(),i=!0);var o=this.queue.shift();if(this.eventData.lastSuccess){var a=new Date(this.eventData.lastSuccess),s=new Date(o),l=(o-this.eventData.lastSuccess)/864e5;i=i||l>=1||l<-1||a.getDate()!==s.getDate()}else i=!0;if(!i)return this.processRequests();this.postEvent(o,{"enabled.telemetry":!1},(function(e){e||(t.eventData.lastSuccess=o,t.eventData.tokenU=r)}),e)}},t}(Q)),ie=re.postTurnstileEvent.bind(re),oe=new ne,ae=oe.postMapLoadEvent.bind(oe),se=500,le=50;function ue(){a.caches&&!ee&&(ee=a.caches.open("mapbox-tiles"))}function ce(e){var t=e.indexOf("?");return t<0?e:e.slice(0,t)}var pe,he=1/0;function de(){return null==pe&&(pe=a.OffscreenCanvas&&new a.OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof a.createImageBitmap),pe}var fe={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(fe);var me,ye,ve=function(e){function t(t,n,r){401===n&&K(r)&&(t+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),e.call(this,t),this.status=n,this.url=r,this.name=this.constructor.name,this.message=t}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},t}(Error),ge=P()?function(){return self.worker&&self.worker.referrer}:function(){return("blob:"===a.location.protocol?a.parent:a).location.href},_e=function(e,t){if(!(/^file:/.test(n=e.url)||/^file:/.test(ge())&&!/^\w+:/.test(n))){if(a.fetch&&a.Request&&a.AbortController&&a.Request.prototype.hasOwnProperty("signal"))return function(e,t){var n,r=new a.AbortController,i=new a.Request(e.url,{method:e.method||"GET",body:e.body,credentials:e.credentials,headers:e.headers,referrer:ge(),signal:r.signal}),o=!1,s=!1,l=(n=i.url).indexOf("sku=")>0&&K(n);"json"===e.type&&i.headers.set("Accept","application/json");var u=function(n,r,o){if(!s){if(n&&"SecurityError"!==n.message&&S(n),r&&o)return c(r);var u=Date.now();a.fetch(i).then((function(n){if(n.ok){var r=l?n.clone():null;return c(n,r,u)}return t(new ve(n.statusText,n.status,e.url))})).catch((function(e){20!==e.code&&t(new Error(e.message))}))}},c=function(n,r,l){("arrayBuffer"===e.type?n.arrayBuffer():"json"===e.type?n.json():n.text()).then((function(e){s||(r&&l&&function(e,t,n){if(ue(),ee){var r={status:t.status,statusText:t.statusText,headers:new a.Headers};t.headers.forEach((function(e,t){return r.headers.set(t,e)}));var i=C(t.headers.get("Cache-Control")||"");i["no-store"]||(i["max-age"]&&r.headers.set("Expires",new Date(n+1e3*i["max-age"]).toUTCString()),new Date(r.headers.get("Expires")).getTime()-n<42e4||function(e,t){if(void 0===te)try{new Response(new ReadableStream),te=!0}catch(e){te=!1}te?t(e.body):e.blob().then(t)}(t,(function(t){var n=new a.Response(t,r);ue(),ee&&ee.then((function(t){return t.put(ce(e.url),n)})).catch((function(e){return S(e.message)}))})))}}(i,r,l),o=!0,t(null,e,n.headers.get("Cache-Control"),n.headers.get("Expires")))})).catch((function(e){s||t(new Error(e.message))}))};return l?function(e,t){if(ue(),!ee)return t(null);var n=ce(e.url);ee.then((function(e){e.match(n).then((function(r){var i=function(e){if(!e)return!1;var t=new Date(e.headers.get("Expires")||0),n=C(e.headers.get("Cache-Control")||"");return t>Date.now()&&!n["no-cache"]}(r);e.delete(n),i&&e.put(n,r.clone()),t(null,r,i)})).catch(t)})).catch(t)}(i,u):u(null,null),{cancel:function(){s=!0,o||r.abort()}}}(e,t);if(P()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",e,t,void 0,!0)}var n;return function(e,t){var n=new a.XMLHttpRequest;for(var r in n.open(e.method||"GET",e.url,!0),"arrayBuffer"===e.type&&(n.responseType="arraybuffer"),e.headers)n.setRequestHeader(r,e.headers[r]);return"json"===e.type&&(n.responseType="text",n.setRequestHeader("Accept","application/json")),n.withCredentials="include"===e.credentials,n.onerror=function(){t(new Error(n.statusText))},n.onload=function(){if((n.status>=200&&n.status<300||0===n.status)&&null!==n.response){var r=n.response;if("json"===e.type)try{r=JSON.parse(n.response)}catch(e){return t(e)}t(null,r,n.getResponseHeader("Cache-Control"),n.getResponseHeader("Expires"))}else t(new ve(n.statusText,n.status,e.url))},n.send(e.body),{cancel:function(){return n.abort()}}}(e,t)},xe=function(e,t){return _e(h(e,{type:"arrayBuffer"}),t)},be=function(e,t){return _e(h(e,{method:"POST"}),t)},we="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";me=[],ye=0;var Se=function(e,t){if(F.supported&&(e.headers||(e.headers={}),e.headers.accept="image/webp,*/*"),ye>=B.MAX_PARALLEL_IMAGE_REQUESTS){var n={requestParameters:e,callback:t,cancelled:!1,cancel:function(){this.cancelled=!0}};return me.push(n),n}ye++;var r=!1,i=function(){if(!r)for(r=!0,ye--;me.length&&ye<B.MAX_PARALLEL_IMAGE_REQUESTS;){var e=me.shift();e.cancelled||(e.cancel=Se(e.requestParameters,e.callback).cancel)}},o=xe(e,(function(e,n,r,o){i(),e?t(e):n&&(de()?function(e,t){var n=new a.Blob([new Uint8Array(e)],{type:"image/png"});a.createImageBitmap(n).then((function(e){t(null,e)})).catch((function(e){t(new Error("Could not load image because of "+e.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))}))}(n,t):function(e,t,n,r){var i=new a.Image,o=a.URL;i.onload=function(){t(null,i),o.revokeObjectURL(i.src),i.onload=null,a.requestAnimationFrame((function(){i.src=we}))},i.onerror=function(){return t(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var s=new a.Blob([new Uint8Array(e)],{type:"image/png"});i.cacheControl=n,i.expires=r,i.src=e.byteLength?o.createObjectURL(s):we}(n,t,r,o))}));return{cancel:function(){o.cancel(),i()}}};function Ee(e,t,n){n[e]&&-1!==n[e].indexOf(t)||(n[e]=n[e]||[],n[e].push(t))}function Te(e,t,n){if(n&&n[e]){var r=n[e].indexOf(t);-1!==r&&n[e].splice(r,1)}}var Pe=function(e,t){void 0===t&&(t={}),h(this,t),this.type=e},Ce=function(e){function t(t,n){void 0===n&&(n={}),e.call(this,"error",h({error:t},n))}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t}(Pe),ke=function(){};ke.prototype.on=function(e,t){return this._listeners=this._listeners||{},Ee(e,t,this._listeners),this},ke.prototype.off=function(e,t){return Te(e,t,this._listeners),Te(e,t,this._oneTimeListeners),this},ke.prototype.once=function(e,t){return this._oneTimeListeners=this._oneTimeListeners||{},Ee(e,t,this._oneTimeListeners),this},ke.prototype.fire=function(e,t){"string"==typeof e&&(e=new Pe(e,t||{}));var n=e.type;if(this.listens(n)){e.target=this;for(var r=0,i=this._listeners&&this._listeners[n]?this._listeners[n].slice():[];r<i.length;r+=1)i[r].call(this,e);for(var o=0,a=this._oneTimeListeners&&this._oneTimeListeners[n]?this._oneTimeListeners[n].slice():[];o<a.length;o+=1){var s=a[o];Te(n,s,this._oneTimeListeners),s.call(this,e)}var l=this._eventedParent;l&&(h(e,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),l.fire(e))}else e instanceof Ce&&console.error(e.error);return this},ke.prototype.listens=function(e){return this._listeners&&this._listeners[e]&&this._listeners[e].length>0||this._oneTimeListeners&&this._oneTimeListeners[e]&&this._oneTimeListeners[e].length>0||this._eventedParent&&this._eventedParent.listens(e)},ke.prototype.setEventedParent=function(e,t){return this._eventedParent=e,this._eventedParentData=t,this};var Ae={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}},Ie=function(e,t,n,r){this.message=(e?e+": ":"")+n,r&&(this.identifier=r),null!=t&&t.__line__&&(this.line=t.__line__)};function Oe(e){var t=e.value;return t?[new Ie(e.key,t,"constants have been deprecated as of v8")]:[]}function De(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];for(var r=0,i=t;r<i.length;r+=1){var o=i[r];for(var a in o)e[a]=o[a]}return e}function Me(e){return e instanceof Number||e instanceof String||e instanceof Boolean?e.valueOf():e}function je(e){if(Array.isArray(e))return e.map(je);if(e instanceof Object&&!(e instanceof Number||e instanceof String||e instanceof Boolean)){var t={};for(var n in e)t[n]=je(e[n]);return t}return Me(e)}var Re=function(e){function t(t,n){e.call(this,n),this.message=n,this.key=t}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t}(Error),Le=function(e,t){void 0===t&&(t=[]),this.parent=e,this.bindings={};for(var n=0,r=t;n<r.length;n+=1){var i=r[n];this.bindings[i[0]]=i[1]}};Le.prototype.concat=function(e){return new Le(this,e)},Le.prototype.get=function(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error(e+" not found in scope.")},Le.prototype.has=function(e){return!!this.bindings[e]||!!this.parent&&this.parent.has(e)};var ze={kind:"null"},Ne={kind:"number"},Be={kind:"string"},Fe={kind:"boolean"},Ue={kind:"color"},Ve={kind:"object"},qe={kind:"value"},We={kind:"collator"},He={kind:"formatted"},Ge={kind:"resolvedImage"};function Ze(e,t){return{kind:"array",itemType:e,N:t}}function Ke(e){if("array"===e.kind){var t=Ke(e.itemType);return"number"==typeof e.N?"array<"+t+", "+e.N+">":"value"===e.itemType.kind?"array":"array<"+t+">"}return e.kind}var Xe=[ze,Ne,Be,Fe,Ue,He,Ve,Ze(qe),Ge];function Ye(e,t){if("error"===t.kind)return null;if("array"===e.kind){if("array"===t.kind&&(0===t.N&&"value"===t.itemType.kind||!Ye(e.itemType,t.itemType))&&("number"!=typeof e.N||e.N===t.N))return null}else{if(e.kind===t.kind)return null;if("value"===e.kind)for(var n=0,r=Xe;n<r.length;n+=1)if(!Ye(r[n],t))return null}return"Expected "+Ke(e)+" but found "+Ke(t)+" instead."}function $e(e,t){return t.some((function(t){return t.kind===e.kind}))}function Je(e,t){return t.some((function(t){return"null"===t?null===e:"array"===t?Array.isArray(e):"object"===t?e&&!Array.isArray(e)&&"object"==typeof e:t===typeof e}))}var Qe=t((function(e,t){var n={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function r(e){return(e=Math.round(e))<0?0:e>255?255:e}function i(e){return r("%"===e[e.length-1]?parseFloat(e)/100*255:parseInt(e))}function o(e){return(t="%"===e[e.length-1]?parseFloat(e)/100:parseFloat(e))<0?0:t>1?1:t;var t}function a(e,t,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}try{t.parseCSSColor=function(e){var t,s=e.replace(/ /g,"").toLowerCase();if(s in n)return n[s].slice();if("#"===s[0])return 4===s.length?(t=parseInt(s.substr(1),16))>=0&&t<=4095?[(3840&t)>>4|(3840&t)>>8,240&t|(240&t)>>4,15&t|(15&t)<<4,1]:null:7===s.length&&(t=parseInt(s.substr(1),16))>=0&&t<=16777215?[(16711680&t)>>16,(65280&t)>>8,255&t,1]:null;var l=s.indexOf("("),u=s.indexOf(")");if(-1!==l&&u+1===s.length){var c=s.substr(0,l),p=s.substr(l+1,u-(l+1)).split(","),h=1;switch(c){case"rgba":if(4!==p.length)return null;h=o(p.pop());case"rgb":return 3!==p.length?null:[i(p[0]),i(p[1]),i(p[2]),h];case"hsla":if(4!==p.length)return null;h=o(p.pop());case"hsl":if(3!==p.length)return null;var d=(parseFloat(p[0])%360+360)%360/360,f=o(p[1]),m=o(p[2]),y=m<=.5?m*(f+1):m+f-m*f,v=2*m-y;return[r(255*a(v,y,d+1/3)),r(255*a(v,y,d)),r(255*a(v,y,d-1/3)),h];default:return null}}return null}}catch(e){}})).parseCSSColor,et=function(e,t,n,r){void 0===r&&(r=1),this.r=e,this.g=t,this.b=n,this.a=r};et.parse=function(e){if(e){if(e instanceof et)return e;if("string"==typeof e){var t=Qe(e);if(t)return new et(t[0]/255*t[3],t[1]/255*t[3],t[2]/255*t[3],t[3])}}},et.prototype.toString=function(){var e=this.toArray(),t=e[1],n=e[2],r=e[3];return"rgba("+Math.round(e[0])+","+Math.round(t)+","+Math.round(n)+","+r+")"},et.prototype.toArray=function(){var e=this.a;return 0===e?[0,0,0,0]:[255*this.r/e,255*this.g/e,255*this.b/e,e]},et.black=new et(0,0,0,1),et.white=new et(1,1,1,1),et.transparent=new et(0,0,0,0),et.red=new et(1,0,0,1);var tt=function(e,t,n){this.sensitivity=e?t?"variant":"case":t?"accent":"base",this.locale=n,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};tt.prototype.compare=function(e,t){return this.collator.compare(e,t)},tt.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var nt=function(e,t,n,r,i){this.text=e,this.image=t,this.scale=n,this.fontStack=r,this.textColor=i},rt=function(e){this.sections=e};rt.fromString=function(e){return new rt([new nt(e,null,null,null,null)])},rt.prototype.isEmpty=function(){return 0===this.sections.length||!this.sections.some((function(e){return 0!==e.text.length||e.image&&0!==e.image.name.length}))},rt.factory=function(e){return e instanceof rt?e:rt.fromString(e)},rt.prototype.toString=function(){return 0===this.sections.length?"":this.sections.map((function(e){return e.text})).join("")},rt.prototype.serialize=function(){for(var e=["format"],t=0,n=this.sections;t<n.length;t+=1){var r=n[t];if(r.image)e.push(["image",r.image.name]);else{e.push(r.text);var i={};r.fontStack&&(i["text-font"]=["literal",r.fontStack.split(",")]),r.scale&&(i["font-scale"]=r.scale),r.textColor&&(i["text-color"]=["rgba"].concat(r.textColor.toArray())),e.push(i)}}return e};var it=function(e){this.name=e.name,this.available=e.available};function ot(e,t,n,r){return"number"==typeof e&&e>=0&&e<=255&&"number"==typeof t&&t>=0&&t<=255&&"number"==typeof n&&n>=0&&n<=255?void 0===r||"number"==typeof r&&r>=0&&r<=1?null:"Invalid rgba value ["+[e,t,n,r].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+("number"==typeof r?[e,t,n,r]:[e,t,n]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function at(e){if(null===e)return!0;if("string"==typeof e)return!0;if("boolean"==typeof e)return!0;if("number"==typeof e)return!0;if(e instanceof et)return!0;if(e instanceof tt)return!0;if(e instanceof rt)return!0;if(e instanceof it)return!0;if(Array.isArray(e)){for(var t=0,n=e;t<n.length;t+=1)if(!at(n[t]))return!1;return!0}if("object"==typeof e){for(var r in e)if(!at(e[r]))return!1;return!0}return!1}function st(e){if(null===e)return ze;if("string"==typeof e)return Be;if("boolean"==typeof e)return Fe;if("number"==typeof e)return Ne;if(e instanceof et)return Ue;if(e instanceof tt)return We;if(e instanceof rt)return He;if(e instanceof it)return Ge;if(Array.isArray(e)){for(var t,n=e.length,r=0,i=e;r<i.length;r+=1){var o=st(i[r]);if(t){if(t===o)continue;t=qe;break}t=o}return Ze(t||qe,n)}return Ve}function lt(e){var t=typeof e;return null===e?"":"string"===t||"number"===t||"boolean"===t?String(e):e instanceof et||e instanceof rt||e instanceof it?e.toString():JSON.stringify(e)}it.prototype.toString=function(){return this.name},it.fromString=function(e){return e?new it({name:e,available:!1}):null},it.prototype.serialize=function(){return["image",this.name]};var ut=function(e,t){this.type=e,this.value=t};ut.parse=function(e,t){if(2!==e.length)return t.error("'literal' expression requires exactly one argument, but found "+(e.length-1)+" instead.");if(!at(e[1]))return t.error("invalid value");var n=e[1],r=st(n),i=t.expectedType;return"array"!==r.kind||0!==r.N||!i||"array"!==i.kind||"number"==typeof i.N&&0!==i.N||(r=i),new ut(r,n)},ut.prototype.evaluate=function(){return this.value},ut.prototype.eachChild=function(){},ut.prototype.outputDefined=function(){return!0},ut.prototype.serialize=function(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof et?["rgba"].concat(this.value.toArray()):this.value instanceof rt?this.value.serialize():this.value};var ct=function(e){this.name="ExpressionEvaluationError",this.message=e};ct.prototype.toJSON=function(){return this.message};var pt={string:Be,number:Ne,boolean:Fe,object:Ve},ht=function(e,t){this.type=e,this.args=t};ht.parse=function(e,t){if(e.length<2)return t.error("Expected at least one argument.");var n,r=1,i=e[0];if("array"===i){var o,a;if(e.length>2){var s=e[1];if("string"!=typeof s||!(s in pt)||"object"===s)return t.error('The item type argument of "array" must be one of string, number, boolean',1);o=pt[s],r++}else o=qe;if(e.length>3){if(null!==e[2]&&("number"!=typeof e[2]||e[2]<0||e[2]!==Math.floor(e[2])))return t.error('The length argument to "array" must be a positive integer literal',2);a=e[2],r++}n=Ze(o,a)}else n=pt[i];for(var l=[];r<e.length;r++){var u=t.parse(e[r],r,qe);if(!u)return null;l.push(u)}return new ht(n,l)},ht.prototype.evaluate=function(e){for(var t=0;t<this.args.length;t++){var n=this.args[t].evaluate(e);if(!Ye(this.type,st(n)))return n;if(t===this.args.length-1)throw new ct("Expected value to be of type "+Ke(this.type)+", but found "+Ke(st(n))+" instead.")}return null},ht.prototype.eachChild=function(e){this.args.forEach(e)},ht.prototype.outputDefined=function(){return this.args.every((function(e){return e.outputDefined()}))},ht.prototype.serialize=function(){var e=this.type,t=[e.kind];if("array"===e.kind){var n=e.itemType;if("string"===n.kind||"number"===n.kind||"boolean"===n.kind){t.push(n.kind);var r=e.N;("number"==typeof r||this.args.length>1)&&t.push(r)}}return t.concat(this.args.map((function(e){return e.serialize()})))};var dt=function(e){this.type=He,this.sections=e};dt.parse=function(e,t){if(e.length<2)return t.error("Expected at least one argument.");var n=e[1];if(!Array.isArray(n)&&"object"==typeof n)return t.error("First argument must be an image or text section.");for(var r=[],i=!1,o=1;o<=e.length-1;++o){var a=e[o];if(i&&"object"==typeof a&&!Array.isArray(a)){i=!1;var s=null;if(a["font-scale"]&&!(s=t.parse(a["font-scale"],1,Ne)))return null;var l=null;if(a["text-font"]&&!(l=t.parse(a["text-font"],1,Ze(Be))))return null;var u=null;if(a["text-color"]&&!(u=t.parse(a["text-color"],1,Ue)))return null;var c=r[r.length-1];c.scale=s,c.font=l,c.textColor=u}else{var p=t.parse(e[o],1,qe);if(!p)return null;var h=p.type.kind;if("string"!==h&&"value"!==h&&"null"!==h&&"resolvedImage"!==h)return t.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");i=!0,r.push({content:p,scale:null,font:null,textColor:null})}}return new dt(r)},dt.prototype.evaluate=function(e){return new rt(this.sections.map((function(t){var n=t.content.evaluate(e);return st(n)===Ge?new nt("",n,null,null,null):new nt(lt(n),null,t.scale?t.scale.evaluate(e):null,t.font?t.font.evaluate(e).join(","):null,t.textColor?t.textColor.evaluate(e):null)})))},dt.prototype.eachChild=function(e){for(var t=0,n=this.sections;t<n.length;t+=1){var r=n[t];e(r.content),r.scale&&e(r.scale),r.font&&e(r.font),r.textColor&&e(r.textColor)}},dt.prototype.outputDefined=function(){return!1},dt.prototype.serialize=function(){for(var e=["format"],t=0,n=this.sections;t<n.length;t+=1){var r=n[t];e.push(r.content.serialize());var i={};r.scale&&(i["font-scale"]=r.scale.serialize()),r.font&&(i["text-font"]=r.font.serialize()),r.textColor&&(i["text-color"]=r.textColor.serialize()),e.push(i)}return e};var ft=function(e){this.type=Ge,this.input=e};ft.parse=function(e,t){if(2!==e.length)return t.error("Expected two arguments.");var n=t.parse(e[1],1,Be);return n?new ft(n):t.error("No image name provided.")},ft.prototype.evaluate=function(e){var t=this.input.evaluate(e),n=it.fromString(t);return n&&e.availableImages&&(n.available=e.availableImages.indexOf(t)>-1),n},ft.prototype.eachChild=function(e){e(this.input)},ft.prototype.outputDefined=function(){return!1},ft.prototype.serialize=function(){return["image",this.input.serialize()]};var mt={"to-boolean":Fe,"to-color":Ue,"to-number":Ne,"to-string":Be},yt=function(e,t){this.type=e,this.args=t};yt.parse=function(e,t){if(e.length<2)return t.error("Expected at least one argument.");var n=e[0];if(("to-boolean"===n||"to-string"===n)&&2!==e.length)return t.error("Expected one argument.");for(var r=mt[n],i=[],o=1;o<e.length;o++){var a=t.parse(e[o],o,qe);if(!a)return null;i.push(a)}return new yt(r,i)},yt.prototype.evaluate=function(e){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(e));if("color"===this.type.kind){for(var t,n,r=0,i=this.args;r<i.length;r+=1){if(n=null,(t=i[r].evaluate(e))instanceof et)return t;if("string"==typeof t){var o=e.parseColor(t);if(o)return o}else if(Array.isArray(t)&&!(n=t.length<3||t.length>4?"Invalid rbga value "+JSON.stringify(t)+": expected an array containing either three or four numeric values.":ot(t[0],t[1],t[2],t[3])))return new et(t[0]/255,t[1]/255,t[2]/255,t[3])}throw new ct(n||"Could not parse color from value '"+("string"==typeof t?t:String(JSON.stringify(t)))+"'")}if("number"===this.type.kind){for(var a=null,s=0,l=this.args;s<l.length;s+=1){if(null===(a=l[s].evaluate(e)))return 0;var u=Number(a);if(!isNaN(u))return u}throw new ct("Could not convert "+JSON.stringify(a)+" to number.")}return"formatted"===this.type.kind?rt.fromString(lt(this.args[0].evaluate(e))):"resolvedImage"===this.type.kind?it.fromString(lt(this.args[0].evaluate(e))):lt(this.args[0].evaluate(e))},yt.prototype.eachChild=function(e){this.args.forEach(e)},yt.prototype.outputDefined=function(){return this.args.every((function(e){return e.outputDefined()}))},yt.prototype.serialize=function(){if("formatted"===this.type.kind)return new dt([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new ft(this.args[0]).serialize();var e=["to-"+this.type.kind];return this.eachChild((function(t){e.push(t.serialize())})),e};var vt=["Unknown","Point","LineString","Polygon"],gt=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};gt.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},gt.prototype.geometryType=function(){return this.feature?"number"==typeof this.feature.type?vt[this.feature.type]:this.feature.type:null},gt.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},gt.prototype.canonicalID=function(){return this.canonical},gt.prototype.properties=function(){return this.feature&&this.feature.properties||{}},gt.prototype.parseColor=function(e){var t=this._parseColorCache[e];return t||(t=this._parseColorCache[e]=et.parse(e)),t};var _t=function(e,t,n,r){this.name=e,this.type=t,this._evaluate=n,this.args=r};_t.prototype.evaluate=function(e){return this._evaluate(e,this.args)},_t.prototype.eachChild=function(e){this.args.forEach(e)},_t.prototype.outputDefined=function(){return!1},_t.prototype.serialize=function(){return[this.name].concat(this.args.map((function(e){return e.serialize()})))},_t.parse=function(e,t){var n,r=e[0],i=_t.definitions[r];if(!i)return t.error('Unknown expression "'+r+'". If you wanted a literal array, use ["literal", [...]].',0);for(var o=Array.isArray(i)?i[0]:i.type,a=Array.isArray(i)?[[i[1],i[2]]]:i.overloads,s=a.filter((function(t){var n=t[0];return!Array.isArray(n)||n.length===e.length-1})),l=null,u=0,c=s;u<c.length;u+=1){var p=c[u],h=p[0],d=p[1];l=new Ut(t.registry,t.path,null,t.scope);for(var f=[],m=!1,y=1;y<e.length;y++){var v=e[y],g=Array.isArray(h)?h[y-1]:h.type,_=l.parse(v,1+f.length,g);if(!_){m=!0;break}f.push(_)}if(!m)if(Array.isArray(h)&&h.length!==f.length)l.error("Expected "+h.length+" arguments, but found "+f.length+" instead.");else{for(var x=0;x<f.length;x++){var b=Array.isArray(h)?h[x]:h.type,w=f[x];l.concat(x+1).checkSubtype(b,w.type)}if(0===l.errors.length)return new _t(r,o,d,f)}}if(1===s.length)(n=t.errors).push.apply(n,l.errors);else{for(var S=(s.length?s:a).map((function(e){var t;return t=e[0],Array.isArray(t)?"("+t.map(Ke).join(", ")+")":"("+Ke(t.type)+"...)"})).join(" | "),E=[],T=1;T<e.length;T++){var P=t.parse(e[T],1+E.length);if(!P)return null;E.push(Ke(P.type))}t.error("Expected arguments of type "+S+", but found ("+E.join(", ")+") instead.")}return null},_t.register=function(e,t){for(var n in _t.definitions=t,t)e[n]=_t};var xt=function(e,t,n){this.type=We,this.locale=n,this.caseSensitive=e,this.diacriticSensitive=t};function bt(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.max(e[2],t[0]),e[3]=Math.max(e[3],t[1])}function wt(e,t){return!(e[0]<=t[0]||e[2]>=t[2]||e[1]<=t[1]||e[3]>=t[3])}function St(e,t){var n=(180+e[0])/360,r=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e[1]*Math.PI/360)))/360,i=Math.pow(2,t.z);return[Math.round(n*i*8192),Math.round(r*i*8192)]}function Et(e,t,n){return t[1]>e[1]!=n[1]>e[1]&&e[0]<(n[0]-t[0])*(e[1]-t[1])/(n[1]-t[1])+t[0]}function Tt(e,t){for(var n,r,i,o,a,s,l,u=!1,c=0,p=t.length;c<p;c++)for(var h=t[c],d=0,f=h.length;d<f-1;d++){if((o=(n=e)[0]-(r=h[d])[0])*(l=n[1]-(i=h[d+1])[1])-(s=n[0]-i[0])*(a=n[1]-r[1])==0&&o*s<=0&&a*l<=0)return!1;Et(e,h[d],h[d+1])&&(u=!u)}return u}function Pt(e,t){for(var n=0;n<t.length;n++)if(Tt(e,t[n]))return!0;return!1}function Ct(e,t,n,r){var i=r[0]-n[0],o=r[1]-n[1],a=(e[0]-n[0])*o-i*(e[1]-n[1]),s=(t[0]-n[0])*o-i*(t[1]-n[1]);return a>0&&s<0||a<0&&s>0}function kt(e,t,n){for(var r=0,i=n;r<i.length;r+=1)for(var o=i[r],a=0;a<o.length-1;++a)if(0!=(p=[(c=o[a+1])[0]-(u=o[a])[0],c[1]-u[1]])[0]*(h=[(l=t)[0]-(s=e)[0],l[1]-s[1]])[1]-p[1]*h[0]&&Ct(s,l,u,c)&&Ct(u,c,s,l))return!0;var s,l,u,c,p,h;return!1}function At(e,t){for(var n=0;n<e.length;++n)if(!Tt(e[n],t))return!1;for(var r=0;r<e.length-1;++r)if(kt(e[r],e[r+1],t))return!1;return!0}function It(e,t){for(var n=0;n<t.length;n++)if(At(e,t[n]))return!0;return!1}function Ot(e,t,n){for(var r=[],i=0;i<e.length;i++){for(var o=[],a=0;a<e[i].length;a++){var s=St(e[i][a],n);bt(t,s),o.push(s)}r.push(o)}return r}function Dt(e,t,n){for(var r=[],i=0;i<e.length;i++){var o=Ot(e[i],t,n);r.push(o)}return r}function Mt(e,t,n,r){if(e[0]<n[0]||e[0]>n[2]){var i=.5*r,o=e[0]-n[0]>i?-r:n[0]-e[0]>i?r:0;0===o&&(o=e[0]-n[2]>i?-r:n[2]-e[0]>i?r:0),e[0]+=o}bt(t,e)}function jt(e,t,n,r){for(var i=8192*Math.pow(2,r.z),o=[8192*r.x,8192*r.y],a=[],s=0,l=e;s<l.length;s+=1)for(var u=0,c=l[s];u<c.length;u+=1){var p=c[u],h=[p.x+o[0],p.y+o[1]];Mt(h,t,n,i),a.push(h)}return a}function Rt(e,t,n,r){for(var i,o=8192*Math.pow(2,r.z),a=[8192*r.x,8192*r.y],s=[],l=0,u=e;l<u.length;l+=1){for(var c=[],p=0,h=u[l];p<h.length;p+=1){var d=h[p],f=[d.x+a[0],d.y+a[1]];bt(t,f),c.push(f)}s.push(c)}if(t[2]-t[0]<=o/2){(i=t)[0]=i[1]=1/0,i[2]=i[3]=-1/0;for(var m=0,y=s;m<y.length;m+=1)for(var v=0,g=y[m];v<g.length;v+=1)Mt(g[v],t,n,o)}return s}xt.parse=function(e,t){if(2!==e.length)return t.error("Expected one argument.");var n=e[1];if("object"!=typeof n||Array.isArray(n))return t.error("Collator options argument must be an object.");var r=t.parse(void 0!==n["case-sensitive"]&&n["case-sensitive"],1,Fe);if(!r)return null;var i=t.parse(void 0!==n["diacritic-sensitive"]&&n["diacritic-sensitive"],1,Fe);if(!i)return null;var o=null;return n.locale&&!(o=t.parse(n.locale,1,Be))?null:new xt(r,i,o)},xt.prototype.evaluate=function(e){return new tt(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)},xt.prototype.eachChild=function(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)},xt.prototype.outputDefined=function(){return!1},xt.prototype.serialize=function(){var e={};return e["case-sensitive"]=this.caseSensitive.serialize(),e["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(e.locale=this.locale.serialize()),["collator",e]};var Lt=function(e,t){this.type=Fe,this.geojson=e,this.geometries=t};function zt(e){if(e instanceof _t){if("get"===e.name&&1===e.args.length)return!1;if("feature-state"===e.name)return!1;if("has"===e.name&&1===e.args.length)return!1;if("properties"===e.name||"geometry-type"===e.name||"id"===e.name)return!1;if(/^filter-/.test(e.name))return!1}if(e instanceof Lt)return!1;var t=!0;return e.eachChild((function(e){t&&!zt(e)&&(t=!1)})),t}function Nt(e){if(e instanceof _t&&"feature-state"===e.name)return!1;var t=!0;return e.eachChild((function(e){t&&!Nt(e)&&(t=!1)})),t}function Bt(e,t){if(e instanceof _t&&t.indexOf(e.name)>=0)return!1;var n=!0;return e.eachChild((function(e){n&&!Bt(e,t)&&(n=!1)})),n}Lt.parse=function(e,t){if(2!==e.length)return t.error("'within' expression requires exactly one argument, but found "+(e.length-1)+" instead.");if(at(e[1])){var n=e[1];if("FeatureCollection"===n.type)for(var r=0;r<n.features.length;++r){var i=n.features[r].geometry.type;if("Polygon"===i||"MultiPolygon"===i)return new Lt(n,n.features[r].geometry)}else if("Feature"===n.type){var o=n.geometry.type;if("Polygon"===o||"MultiPolygon"===o)return new Lt(n,n.geometry)}else if("Polygon"===n.type||"MultiPolygon"===n.type)return new Lt(n,n)}return t.error("'within' expression requires valid geojson object that contains polygon geometry type.")},Lt.prototype.evaluate=function(e){if(null!=e.geometry()&&null!=e.canonicalID()){if("Point"===e.geometryType())return function(e,t){var n=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if("Polygon"===t.type){var o=Ot(t.coordinates,r,i),a=jt(e.geometry(),n,r,i);if(!wt(n,r))return!1;for(var s=0,l=a;s<l.length;s+=1)if(!Tt(l[s],o))return!1}if("MultiPolygon"===t.type){var u=Dt(t.coordinates,r,i),c=jt(e.geometry(),n,r,i);if(!wt(n,r))return!1;for(var p=0,h=c;p<h.length;p+=1)if(!Pt(h[p],u))return!1}return!0}(e,this.geometries);if("LineString"===e.geometryType())return function(e,t){var n=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if("Polygon"===t.type){var o=Ot(t.coordinates,r,i),a=Rt(e.geometry(),n,r,i);if(!wt(n,r))return!1;for(var s=0,l=a;s<l.length;s+=1)if(!At(l[s],o))return!1}if("MultiPolygon"===t.type){var u=Dt(t.coordinates,r,i),c=Rt(e.geometry(),n,r,i);if(!wt(n,r))return!1;for(var p=0,h=c;p<h.length;p+=1)if(!It(h[p],u))return!1}return!0}(e,this.geometries)}return!1},Lt.prototype.eachChild=function(){},Lt.prototype.outputDefined=function(){return!0},Lt.prototype.serialize=function(){return["within",this.geojson]};var Ft=function(e,t){this.type=t.type,this.name=e,this.boundExpression=t};Ft.parse=function(e,t){if(2!==e.length||"string"!=typeof e[1])return t.error("'var' expression requires exactly one string literal argument.");var n=e[1];return t.scope.has(n)?new Ft(n,t.scope.get(n)):t.error('Unknown variable "'+n+'". Make sure "'+n+'" has been bound in an enclosing "let" expression before using it.',1)},Ft.prototype.evaluate=function(e){return this.boundExpression.evaluate(e)},Ft.prototype.eachChild=function(){},Ft.prototype.outputDefined=function(){return!1},Ft.prototype.serialize=function(){return["var",this.name]};var Ut=function(e,t,n,r,i){void 0===t&&(t=[]),void 0===r&&(r=new Le),void 0===i&&(i=[]),this.registry=e,this.path=t,this.key=t.map((function(e){return"["+e+"]"})).join(""),this.scope=r,this.errors=i,this.expectedType=n};function Vt(e,t){for(var n,r=e.length-1,i=0,o=r,a=0;i<=o;)if((n=e[a=Math.floor((i+o)/2)])<=t){if(a===r||t<e[a+1])return a;i=a+1}else{if(!(n>t))throw new ct("Input is not a number.");o=a-1}return 0}Ut.prototype.parse=function(e,t,n,r,i){return void 0===i&&(i={}),t?this.concat(t,n,r)._parse(e,i):this._parse(e,i)},Ut.prototype._parse=function(e,t){function n(e,t,n){return"assert"===n?new ht(t,[e]):"coerce"===n?new yt(t,[e]):e}if(null!==e&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e||(e=["literal",e]),Array.isArray(e)){if(0===e.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var r=e[0];if("string"!=typeof r)return this.error("Expression name must be a string, but found "+typeof r+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var i=this.registry[r];if(i){var o=i.parse(e,this);if(!o)return null;if(this.expectedType){var a=this.expectedType,s=o.type;if("string"!==a.kind&&"number"!==a.kind&&"boolean"!==a.kind&&"object"!==a.kind&&"array"!==a.kind||"value"!==s.kind)if("color"!==a.kind&&"formatted"!==a.kind&&"resolvedImage"!==a.kind||"value"!==s.kind&&"string"!==s.kind){if(this.checkSubtype(a,s))return null}else o=n(o,a,t.typeAnnotation||"coerce");else o=n(o,a,t.typeAnnotation||"assert")}if(!(o instanceof ut)&&"resolvedImage"!==o.type.kind&&function e(t){if(t instanceof Ft)return e(t.boundExpression);if(t instanceof _t&&"error"===t.name)return!1;if(t instanceof xt)return!1;if(t instanceof Lt)return!1;var n=t instanceof yt||t instanceof ht,r=!0;return t.eachChild((function(t){r=n?r&&e(t):r&&t instanceof ut})),!!r&&zt(t)&&Bt(t,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}(o)){var l=new gt;try{o=new ut(o.type,o.evaluate(l))}catch(e){return this.error(e.message),null}}return o}return this.error('Unknown expression "'+r+'". If you wanted a literal array, use ["literal", [...]].',0)}return this.error(void 0===e?"'undefined' value invalid. Use null instead.":"object"==typeof e?'Bare objects invalid. Use ["literal", {...}] instead.':"Expected an array, but found "+typeof e+" instead.")},Ut.prototype.concat=function(e,t,n){var r="number"==typeof e?this.path.concat(e):this.path,i=n?this.scope.concat(n):this.scope;return new Ut(this.registry,r,t||null,i,this.errors)},Ut.prototype.error=function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];var r=""+this.key+t.map((function(e){return"["+e+"]"})).join("");this.errors.push(new Re(r,e))},Ut.prototype.checkSubtype=function(e,t){var n=Ye(e,t);return n&&this.error(n),n};var qt=function(e,t,n){this.type=e,this.input=t,this.labels=[],this.outputs=[];for(var r=0,i=n;r<i.length;r+=1){var o=i[r],a=o[1];this.labels.push(o[0]),this.outputs.push(a)}};function Wt(e,t,n){return e*(1-n)+t*n}qt.parse=function(e,t){if(e.length-1<4)return t.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");var n=t.parse(e[1],1,Ne);if(!n)return null;var r=[],i=null;t.expectedType&&"value"!==t.expectedType.kind&&(i=t.expectedType);for(var o=1;o<e.length;o+=2){var a=1===o?-1/0:e[o],s=e[o+1],l=o,u=o+1;if("number"!=typeof a)return t.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',l);if(r.length&&r[r.length-1][0]>=a)return t.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',l);var c=t.parse(s,u,i);if(!c)return null;i=i||c.type,r.push([a,c])}return new qt(i,n,r)},qt.prototype.evaluate=function(e){var t=this.labels,n=this.outputs;if(1===t.length)return n[0].evaluate(e);var r=this.input.evaluate(e);if(r<=t[0])return n[0].evaluate(e);var i=t.length;return r>=t[i-1]?n[i-1].evaluate(e):n[Vt(t,r)].evaluate(e)},qt.prototype.eachChild=function(e){e(this.input);for(var t=0,n=this.outputs;t<n.length;t+=1)e(n[t])},qt.prototype.outputDefined=function(){return this.outputs.every((function(e){return e.outputDefined()}))},qt.prototype.serialize=function(){for(var e=["step",this.input.serialize()],t=0;t<this.labels.length;t++)t>0&&e.push(this.labels[t]),e.push(this.outputs[t].serialize());return e};var Ht=Object.freeze({__proto__:null,number:Wt,color:function(e,t,n){return new et(Wt(e.r,t.r,n),Wt(e.g,t.g,n),Wt(e.b,t.b,n),Wt(e.a,t.a,n))},array:function(e,t,n){return e.map((function(e,r){return Wt(e,t[r],n)}))}}),Gt=6/29*3*(6/29),Zt=Math.PI/180,Kt=180/Math.PI;function Xt(e){return e>.008856451679035631?Math.pow(e,1/3):e/Gt+4/29}function Yt(e){return e>6/29?e*e*e:Gt*(e-4/29)}function $t(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Jt(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Qt(e){var t=Jt(e.r),n=Jt(e.g),r=Jt(e.b),i=Xt((.4124564*t+.3575761*n+.1804375*r)/.95047),o=Xt((.2126729*t+.7151522*n+.072175*r)/1);return{l:116*o-16,a:500*(i-o),b:200*(o-Xt((.0193339*t+.119192*n+.9503041*r)/1.08883)),alpha:e.a}}function en(e){var t=(e.l+16)/116,n=isNaN(e.a)?t:t+e.a/500,r=isNaN(e.b)?t:t-e.b/200;return t=1*Yt(t),n=.95047*Yt(n),r=1.08883*Yt(r),new et($t(3.2404542*n-1.5371385*t-.4985314*r),$t(-.969266*n+1.8760108*t+.041556*r),$t(.0556434*n-.2040259*t+1.0572252*r),e.alpha)}function tn(e,t,n){var r=t-e;return e+n*(r>180||r<-180?r-360*Math.round(r/360):r)}var nn={forward:Qt,reverse:en,interpolate:function(e,t,n){return{l:Wt(e.l,t.l,n),a:Wt(e.a,t.a,n),b:Wt(e.b,t.b,n),alpha:Wt(e.alpha,t.alpha,n)}}},rn={forward:function(e){var t=Qt(e),n=t.l,r=t.a,i=t.b,o=Math.atan2(i,r)*Kt;return{h:o<0?o+360:o,c:Math.sqrt(r*r+i*i),l:n,alpha:e.a}},reverse:function(e){var t=e.h*Zt,n=e.c;return en({l:e.l,a:Math.cos(t)*n,b:Math.sin(t)*n,alpha:e.alpha})},interpolate:function(e,t,n){return{h:tn(e.h,t.h,n),c:Wt(e.c,t.c,n),l:Wt(e.l,t.l,n),alpha:Wt(e.alpha,t.alpha,n)}}},on=Object.freeze({__proto__:null,lab:nn,hcl:rn}),an=function(e,t,n,r,i){this.type=e,this.operator=t,this.interpolation=n,this.input=r,this.labels=[],this.outputs=[];for(var o=0,a=i;o<a.length;o+=1){var s=a[o],l=s[1];this.labels.push(s[0]),this.outputs.push(l)}};function sn(e,t,n,r){var i=r-n,o=e-n;return 0===i?0:1===t?o/i:(Math.pow(t,o)-1)/(Math.pow(t,i)-1)}an.interpolationFactor=function(e,t,r,i){var o=0;if("exponential"===e.name)o=sn(t,e.base,r,i);else if("linear"===e.name)o=sn(t,1,r,i);else if("cubic-bezier"===e.name){var a=e.controlPoints;o=new n(a[0],a[1],a[2],a[3]).solve(sn(t,1,r,i))}return o},an.parse=function(e,t){var n=e[0],r=e[1],i=e[2],o=e.slice(3);if(!Array.isArray(r)||0===r.length)return t.error("Expected an interpolation type expression.",1);if("linear"===r[0])r={name:"linear"};else if("exponential"===r[0]){var a=r[1];if("number"!=typeof a)return t.error("Exponential interpolation requires a numeric base.",1,1);r={name:"exponential",base:a}}else{if("cubic-bezier"!==r[0])return t.error("Unknown interpolation type "+String(r[0]),1,0);var s=r.slice(1);if(4!==s.length||s.some((function(e){return"number"!=typeof e||e<0||e>1})))return t.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);r={name:"cubic-bezier",controlPoints:s}}if(e.length-1<4)return t.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");if(!(i=t.parse(i,2,Ne)))return null;var l=[],u=null;"interpolate-hcl"===n||"interpolate-lab"===n?u=Ue:t.expectedType&&"value"!==t.expectedType.kind&&(u=t.expectedType);for(var c=0;c<o.length;c+=2){var p=o[c],h=o[c+1],d=c+3,f=c+4;if("number"!=typeof p)return t.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',d);if(l.length&&l[l.length-1][0]>=p)return t.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',d);var m=t.parse(h,f,u);if(!m)return null;u=u||m.type,l.push([p,m])}return"number"===u.kind||"color"===u.kind||"array"===u.kind&&"number"===u.itemType.kind&&"number"==typeof u.N?new an(u,n,r,i,l):t.error("Type "+Ke(u)+" is not interpolatable.")},an.prototype.evaluate=function(e){var t=this.labels,n=this.outputs;if(1===t.length)return n[0].evaluate(e);var r=this.input.evaluate(e);if(r<=t[0])return n[0].evaluate(e);var i=t.length;if(r>=t[i-1])return n[i-1].evaluate(e);var o=Vt(t,r),a=an.interpolationFactor(this.interpolation,r,t[o],t[o+1]),s=n[o].evaluate(e),l=n[o+1].evaluate(e);return"interpolate"===this.operator?Ht[this.type.kind.toLowerCase()](s,l,a):"interpolate-hcl"===this.operator?rn.reverse(rn.interpolate(rn.forward(s),rn.forward(l),a)):nn.reverse(nn.interpolate(nn.forward(s),nn.forward(l),a))},an.prototype.eachChild=function(e){e(this.input);for(var t=0,n=this.outputs;t<n.length;t+=1)e(n[t])},an.prototype.outputDefined=function(){return this.outputs.every((function(e){return e.outputDefined()}))},an.prototype.serialize=function(){var e;e="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var t=[this.operator,e,this.input.serialize()],n=0;n<this.labels.length;n++)t.push(this.labels[n],this.outputs[n].serialize());return t};var ln=function(e,t){this.type=e,this.args=t};ln.parse=function(e,t){if(e.length<2)return t.error("Expectected at least one argument.");var n=null,r=t.expectedType;r&&"value"!==r.kind&&(n=r);for(var i=[],o=0,a=e.slice(1);o<a.length;o+=1){var s=t.parse(a[o],1+i.length,n,void 0,{typeAnnotation:"omit"});if(!s)return null;n=n||s.type,i.push(s)}var l=r&&i.some((function(e){return Ye(r,e.type)}));return new ln(l?qe:n,i)},ln.prototype.evaluate=function(e){for(var t,n=null,r=0,i=0,o=this.args;i<o.length&&(r++,(n=o[i].evaluate(e))&&n instanceof it&&!n.available&&(t||(t=n.name),n=null,r===this.args.length&&(n=t)),null===n);i+=1);return n},ln.prototype.eachChild=function(e){this.args.forEach(e)},ln.prototype.outputDefined=function(){return this.args.every((function(e){return e.outputDefined()}))},ln.prototype.serialize=function(){var e=["coalesce"];return this.eachChild((function(t){e.push(t.serialize())})),e};var un=function(e,t){this.type=t.type,this.bindings=[].concat(e),this.result=t};un.prototype.evaluate=function(e){return this.result.evaluate(e)},un.prototype.eachChild=function(e){for(var t=0,n=this.bindings;t<n.length;t+=1)e(n[t][1]);e(this.result)},un.parse=function(e,t){if(e.length<4)return t.error("Expected at least 3 arguments, but found "+(e.length-1)+" instead.");for(var n=[],r=1;r<e.length-1;r+=2){var i=e[r];if("string"!=typeof i)return t.error("Expected string, but found "+typeof i+" instead.",r);if(/[^a-zA-Z0-9_]/.test(i))return t.error("Variable names must contain only alphanumeric characters or '_'.",r);var o=t.parse(e[r+1],r+1);if(!o)return null;n.push([i,o])}var a=t.parse(e[e.length-1],e.length-1,t.expectedType,n);return a?new un(n,a):null},un.prototype.outputDefined=function(){return this.result.outputDefined()},un.prototype.serialize=function(){for(var e=["let"],t=0,n=this.bindings;t<n.length;t+=1){var r=n[t];e.push(r[0],r[1].serialize())}return e.push(this.result.serialize()),e};var cn=function(e,t,n){this.type=e,this.index=t,this.input=n};cn.parse=function(e,t){if(3!==e.length)return t.error("Expected 2 arguments, but found "+(e.length-1)+" instead.");var n=t.parse(e[1],1,Ne),r=t.parse(e[2],2,Ze(t.expectedType||qe));return n&&r?new cn(r.type.itemType,n,r):null},cn.prototype.evaluate=function(e){var t=this.index.evaluate(e),n=this.input.evaluate(e);if(t<0)throw new ct("Array index out of bounds: "+t+" < 0.");if(t>=n.length)throw new ct("Array index out of bounds: "+t+" > "+(n.length-1)+".");if(t!==Math.floor(t))throw new ct("Array index must be an integer, but found "+t+" instead.");return n[t]},cn.prototype.eachChild=function(e){e(this.index),e(this.input)},cn.prototype.outputDefined=function(){return!1},cn.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var pn=function(e,t){this.type=Fe,this.needle=e,this.haystack=t};pn.parse=function(e,t){if(3!==e.length)return t.error("Expected 2 arguments, but found "+(e.length-1)+" instead.");var n=t.parse(e[1],1,qe),r=t.parse(e[2],2,qe);return n&&r?$e(n.type,[Fe,Be,Ne,ze,qe])?new pn(n,r):t.error("Expected first argument to be of type boolean, string, number or null, but found "+Ke(n.type)+" instead"):null},pn.prototype.evaluate=function(e){var t=this.needle.evaluate(e),n=this.haystack.evaluate(e);if(!n)return!1;if(!Je(t,["boolean","string","number","null"]))throw new ct("Expected first argument to be of type boolean, string, number or null, but found "+Ke(st(t))+" instead.");if(!Je(n,["string","array"]))throw new ct("Expected second argument to be of type array or string, but found "+Ke(st(n))+" instead.");return n.indexOf(t)>=0},pn.prototype.eachChild=function(e){e(this.needle),e(this.haystack)},pn.prototype.outputDefined=function(){return!0},pn.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var hn=function(e,t,n){this.type=Ne,this.needle=e,this.haystack=t,this.fromIndex=n};hn.parse=function(e,t){if(e.length<=2||e.length>=5)return t.error("Expected 3 or 4 arguments, but found "+(e.length-1)+" instead.");var n=t.parse(e[1],1,qe),r=t.parse(e[2],2,qe);if(!n||!r)return null;if(!$e(n.type,[Fe,Be,Ne,ze,qe]))return t.error("Expected first argument to be of type boolean, string, number or null, but found "+Ke(n.type)+" instead");if(4===e.length){var i=t.parse(e[3],3,Ne);return i?new hn(n,r,i):null}return new hn(n,r)},hn.prototype.evaluate=function(e){var t=this.needle.evaluate(e),n=this.haystack.evaluate(e);if(!Je(t,["boolean","string","number","null"]))throw new ct("Expected first argument to be of type boolean, string, number or null, but found "+Ke(st(t))+" instead.");if(!Je(n,["string","array"]))throw new ct("Expected second argument to be of type array or string, but found "+Ke(st(n))+" instead.");if(this.fromIndex){var r=this.fromIndex.evaluate(e);return n.indexOf(t,r)}return n.indexOf(t)},hn.prototype.eachChild=function(e){e(this.needle),e(this.haystack),this.fromIndex&&e(this.fromIndex)},hn.prototype.outputDefined=function(){return!1},hn.prototype.serialize=function(){if(null!=this.fromIndex&&void 0!==this.fromIndex){var e=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),e]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var dn=function(e,t,n,r,i,o){this.inputType=e,this.type=t,this.input=n,this.cases=r,this.outputs=i,this.otherwise=o};dn.parse=function(e,t){if(e.length<5)return t.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if(e.length%2!=1)return t.error("Expected an even number of arguments.");var n,r;t.expectedType&&"value"!==t.expectedType.kind&&(r=t.expectedType);for(var i={},o=[],a=2;a<e.length-1;a+=2){var s=e[a],l=e[a+1];Array.isArray(s)||(s=[s]);var u=t.concat(a);if(0===s.length)return u.error("Expected at least one branch label.");for(var c=0,p=s;c<p.length;c+=1){var h=p[c];if("number"!=typeof h&&"string"!=typeof h)return u.error("Branch labels must be numbers or strings.");if("number"==typeof h&&Math.abs(h)>Number.MAX_SAFE_INTEGER)return u.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if("number"==typeof h&&Math.floor(h)!==h)return u.error("Numeric branch labels must be integer values.");if(n){if(u.checkSubtype(n,st(h)))return null}else n=st(h);if(void 0!==i[String(h)])return u.error("Branch labels must be unique.");i[String(h)]=o.length}var d=t.parse(l,a,r);if(!d)return null;r=r||d.type,o.push(d)}var f=t.parse(e[1],1,qe);if(!f)return null;var m=t.parse(e[e.length-1],e.length-1,r);return m?"value"!==f.type.kind&&t.concat(1).checkSubtype(n,f.type)?null:new dn(n,r,f,i,o,m):null},dn.prototype.evaluate=function(e){var t=this.input.evaluate(e);return(st(t)===this.inputType&&this.outputs[this.cases[t]]||this.otherwise).evaluate(e)},dn.prototype.eachChild=function(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)},dn.prototype.outputDefined=function(){return this.outputs.every((function(e){return e.outputDefined()}))&&this.otherwise.outputDefined()},dn.prototype.serialize=function(){for(var e=this,t=["match",this.input.serialize()],n=[],r={},i=0,o=Object.keys(this.cases).sort();i<o.length;i+=1){var a=o[i];void 0===(p=r[this.cases[a]])?(r[this.cases[a]]=n.length,n.push([this.cases[a],[a]])):n[p][1].push(a)}for(var s=function(t){return"number"===e.inputType.kind?Number(t):t},l=0,u=n;l<u.length;l+=1){var c=u[l],p=c[0],h=c[1];t.push(1===h.length?s(h[0]):h.map(s)),t.push(this.outputs[outputIndex$1].serialize())}return t.push(this.otherwise.serialize()),t};var fn=function(e,t,n){this.type=e,this.branches=t,this.otherwise=n};fn.parse=function(e,t){if(e.length<4)return t.error("Expected at least 3 arguments, but found only "+(e.length-1)+".");if(e.length%2!=0)return t.error("Expected an odd number of arguments.");var n;t.expectedType&&"value"!==t.expectedType.kind&&(n=t.expectedType);for(var r=[],i=1;i<e.length-1;i+=2){var o=t.parse(e[i],i,Fe);if(!o)return null;var a=t.parse(e[i+1],i+1,n);if(!a)return null;r.push([o,a]),n=n||a.type}var s=t.parse(e[e.length-1],e.length-1,n);return s?new fn(n,r,s):null},fn.prototype.evaluate=function(e){for(var t=0,n=this.branches;t<n.length;t+=1){var r=n[t],i=r[1];if(r[0].evaluate(e))return i.evaluate(e)}return this.otherwise.evaluate(e)},fn.prototype.eachChild=function(e){for(var t=0,n=this.branches;t<n.length;t+=1){var r=n[t],i=r[1];e(r[0]),e(i)}e(this.otherwise)},fn.prototype.outputDefined=function(){return this.branches.every((function(e){return e[1].outputDefined()}))&&this.otherwise.outputDefined()},fn.prototype.serialize=function(){var e=["case"];return this.eachChild((function(t){e.push(t.serialize())})),e};var mn=function(e,t,n,r){this.type=e,this.input=t,this.beginIndex=n,this.endIndex=r};function yn(e,t){return"=="===e||"!="===e?"boolean"===t.kind||"string"===t.kind||"number"===t.kind||"null"===t.kind||"value"===t.kind:"string"===t.kind||"number"===t.kind||"value"===t.kind}function vn(e,t,n,r){return 0===r.compare(t,n)}function gn(e,t,n){var r="=="!==e&&"!="!==e;return function(){function i(e,t,n){this.type=Fe,this.lhs=e,this.rhs=t,this.collator=n,this.hasUntypedArgument="value"===e.type.kind||"value"===t.type.kind}return i.parse=function(e,t){if(3!==e.length&&4!==e.length)return t.error("Expected two or three arguments.");var n=e[0],o=t.parse(e[1],1,qe);if(!o)return null;if(!yn(n,o.type))return t.concat(1).error('"'+n+"\" comparisons are not supported for type '"+Ke(o.type)+"'.");var a=t.parse(e[2],2,qe);if(!a)return null;if(!yn(n,a.type))return t.concat(2).error('"'+n+"\" comparisons are not supported for type '"+Ke(a.type)+"'.");if(o.type.kind!==a.type.kind&&"value"!==o.type.kind&&"value"!==a.type.kind)return t.error("Cannot compare types '"+Ke(o.type)+"' and '"+Ke(a.type)+"'.");r&&("value"===o.type.kind&&"value"!==a.type.kind?o=new ht(a.type,[o]):"value"!==o.type.kind&&"value"===a.type.kind&&(a=new ht(o.type,[a])));var s=null;if(4===e.length){if("string"!==o.type.kind&&"string"!==a.type.kind&&"value"!==o.type.kind&&"value"!==a.type.kind)return t.error("Cannot use collator to compare non-string types.");if(!(s=t.parse(e[3],3,We)))return null}return new i(o,a,s)},i.prototype.evaluate=function(i){var o=this.lhs.evaluate(i),a=this.rhs.evaluate(i);if(r&&this.hasUntypedArgument){var s=st(o),l=st(a);if(s.kind!==l.kind||"string"!==s.kind&&"number"!==s.kind)throw new ct('Expected arguments for "'+e+'" to be (string, string) or (number, number), but found ('+s.kind+", "+l.kind+") instead.")}if(this.collator&&!r&&this.hasUntypedArgument){var u=st(o),c=st(a);if("string"!==u.kind||"string"!==c.kind)return t(i,o,a)}return this.collator?n(i,o,a,this.collator.evaluate(i)):t(i,o,a)},i.prototype.eachChild=function(e){e(this.lhs),e(this.rhs),this.collator&&e(this.collator)},i.prototype.outputDefined=function(){return!0},i.prototype.serialize=function(){var t=[e];return this.eachChild((function(e){t.push(e.serialize())})),t},i}()}mn.parse=function(e,t){if(e.length<=2||e.length>=5)return t.error("Expected 3 or 4 arguments, but found "+(e.length-1)+" instead.");var n=t.parse(e[1],1,qe),r=t.parse(e[2],2,Ne);if(!n||!r)return null;if(!$e(n.type,[Ze(qe),Be,qe]))return t.error("Expected first argument to be of type array or string, but found "+Ke(n.type)+" instead");if(4===e.length){var i=t.parse(e[3],3,Ne);return i?new mn(n.type,n,r,i):null}return new mn(n.type,n,r)},mn.prototype.evaluate=function(e){var t=this.input.evaluate(e),n=this.beginIndex.evaluate(e);if(!Je(t,["string","array"]))throw new ct("Expected first argument to be of type array or string, but found "+Ke(st(t))+" instead.");if(this.endIndex){var r=this.endIndex.evaluate(e);return t.slice(n,r)}return t.slice(n)},mn.prototype.eachChild=function(e){e(this.input),e(this.beginIndex),this.endIndex&&e(this.endIndex)},mn.prototype.outputDefined=function(){return!1},mn.prototype.serialize=function(){if(null!=this.endIndex&&void 0!==this.endIndex){var e=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),e]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};var _n=gn("==",(function(e,t,n){return t===n}),vn),xn=gn("!=",(function(e,t,n){return t!==n}),(function(e,t,n,r){return!vn(0,t,n,r)})),bn=gn("<",(function(e,t,n){return t<n}),(function(e,t,n,r){return r.compare(t,n)<0})),wn=gn(">",(function(e,t,n){return t>n}),(function(e,t,n,r){return r.compare(t,n)>0})),Sn=gn("<=",(function(e,t,n){return t<=n}),(function(e,t,n,r){return r.compare(t,n)<=0})),En=gn(">=",(function(e,t,n){return t>=n}),(function(e,t,n,r){return r.compare(t,n)>=0})),Tn=function(e,t,n,r,i){this.type=Be,this.number=e,this.locale=t,this.currency=n,this.minFractionDigits=r,this.maxFractionDigits=i};Tn.parse=function(e,t){if(3!==e.length)return t.error("Expected two arguments.");var n=t.parse(e[1],1,Ne);if(!n)return null;var r=e[2];if("object"!=typeof r||Array.isArray(r))return t.error("NumberFormat options argument must be an object.");var i=null;if(r.locale&&!(i=t.parse(r.locale,1,Be)))return null;var o=null;if(r.currency&&!(o=t.parse(r.currency,1,Be)))return null;var a=null;if(r["min-fraction-digits"]&&!(a=t.parse(r["min-fraction-digits"],1,Ne)))return null;var s=null;return r["max-fraction-digits"]&&!(s=t.parse(r["max-fraction-digits"],1,Ne))?null:new Tn(n,i,o,a,s)},Tn.prototype.evaluate=function(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))},Tn.prototype.eachChild=function(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)},Tn.prototype.outputDefined=function(){return!1},Tn.prototype.serialize=function(){var e={};return this.locale&&(e.locale=this.locale.serialize()),this.currency&&(e.currency=this.currency.serialize()),this.minFractionDigits&&(e["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(e["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),e]};var Pn=function(e){this.type=Ne,this.input=e};Pn.parse=function(e,t){if(2!==e.length)return t.error("Expected 1 argument, but found "+(e.length-1)+" instead.");var n=t.parse(e[1],1);return n?"array"!==n.type.kind&&"string"!==n.type.kind&&"value"!==n.type.kind?t.error("Expected argument of type string or array, but found "+Ke(n.type)+" instead."):new Pn(n):null},Pn.prototype.evaluate=function(e){var t=this.input.evaluate(e);if("string"==typeof t)return t.length;if(Array.isArray(t))return t.length;throw new ct("Expected value to be of type string or array, but found "+Ke(st(t))+" instead.")},Pn.prototype.eachChild=function(e){e(this.input)},Pn.prototype.outputDefined=function(){return!1},Pn.prototype.serialize=function(){var e=["length"];return this.eachChild((function(t){e.push(t.serialize())})),e};var Cn={"==":_n,"!=":xn,">":wn,"<":bn,">=":En,"<=":Sn,array:ht,at:cn,boolean:ht,case:fn,coalesce:ln,collator:xt,format:dt,image:ft,in:pn,"index-of":hn,interpolate:an,"interpolate-hcl":an,"interpolate-lab":an,length:Pn,let:un,literal:ut,match:dn,number:ht,"number-format":Tn,object:ht,slice:mn,step:qt,string:ht,"to-boolean":yt,"to-color":yt,"to-number":yt,"to-string":yt,var:Ft,within:Lt};function kn(e,t){var n=t[0],r=t[1],i=t[2],o=t[3];n=n.evaluate(e),r=r.evaluate(e),i=i.evaluate(e);var a=o?o.evaluate(e):1,s=ot(n,r,i,a);if(s)throw new ct(s);return new et(n/255*a,r/255*a,i/255*a,a)}function An(e,t){return e in t}function In(e,t){var n=t[e];return void 0===n?null:n}function On(e){return{type:e}}function Dn(e){return{result:"success",value:e}}function Mn(e){return{result:"error",value:e}}function jn(e){return"data-driven"===e["property-type"]||"cross-faded-data-driven"===e["property-type"]}function Rn(e){return!!e.expression&&e.expression.parameters.indexOf("zoom")>-1}function Ln(e){return!!e.expression&&e.expression.interpolated}function zn(e){return e instanceof Number?"number":e instanceof String?"string":e instanceof Boolean?"boolean":Array.isArray(e)?"array":null===e?"null":typeof e}function Nn(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function Bn(e){return e}function Fn(e,t,n){return void 0!==e?e:void 0!==t?t:void 0!==n?n:void 0}function Un(e,t,n,r,i){return Fn(typeof n===i?r[n]:void 0,e.default,t.default)}function Vn(e,t,n){if("number"!==zn(n))return Fn(e.default,t.default);var r=e.stops.length;if(1===r)return e.stops[0][1];if(n<=e.stops[0][0])return e.stops[0][1];if(n>=e.stops[r-1][0])return e.stops[r-1][1];var i=Vt(e.stops.map((function(e){return e[0]})),n);return e.stops[i][1]}function qn(e,t,n){var r=void 0!==e.base?e.base:1;if("number"!==zn(n))return Fn(e.default,t.default);var i=e.stops.length;if(1===i)return e.stops[0][1];if(n<=e.stops[0][0])return e.stops[0][1];if(n>=e.stops[i-1][0])return e.stops[i-1][1];var o=Vt(e.stops.map((function(e){return e[0]})),n),a=function(e,t,n,r){var i=r-n,o=e-n;return 0===i?0:1===t?o/i:(Math.pow(t,o)-1)/(Math.pow(t,i)-1)}(n,r,e.stops[o][0],e.stops[o+1][0]),s=e.stops[o][1],l=e.stops[o+1][1],u=Ht[t.type]||Bn;if(e.colorSpace&&"rgb"!==e.colorSpace){var c=on[e.colorSpace];u=function(e,t){return c.reverse(c.interpolate(c.forward(e),c.forward(t),a))}}return"function"==typeof s.evaluate?{evaluate:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=s.evaluate.apply(void 0,e),r=l.evaluate.apply(void 0,e);if(void 0!==n&&void 0!==r)return u(n,r,a)}}:u(s,l,a)}function Wn(e,t,n){return"color"===t.type?n=et.parse(n):"formatted"===t.type?n=rt.fromString(n.toString()):"resolvedImage"===t.type?n=it.fromString(n.toString()):zn(n)===t.type||"enum"===t.type&&t.values[n]||(n=void 0),Fn(n,e.default,t.default)}_t.register(Cn,{error:[{kind:"error"},[Be],function(e,t){throw new ct(t[0].evaluate(e))}],typeof:[Be,[qe],function(e,t){return Ke(st(t[0].evaluate(e)))}],"to-rgba":[Ze(Ne,4),[Ue],function(e,t){return t[0].evaluate(e).toArray()}],rgb:[Ue,[Ne,Ne,Ne],kn],rgba:[Ue,[Ne,Ne,Ne,Ne],kn],has:{type:Fe,overloads:[[[Be],function(e,t){return An(t[0].evaluate(e),e.properties())}],[[Be,Ve],function(e,t){var n=t[1];return An(t[0].evaluate(e),n.evaluate(e))}]]},get:{type:qe,overloads:[[[Be],function(e,t){return In(t[0].evaluate(e),e.properties())}],[[Be,Ve],function(e,t){var n=t[1];return In(t[0].evaluate(e),n.evaluate(e))}]]},"feature-state":[qe,[Be],function(e,t){return In(t[0].evaluate(e),e.featureState||{})}],properties:[Ve,[],function(e){return e.properties()}],"geometry-type":[Be,[],function(e){return e.geometryType()}],id:[qe,[],function(e){return e.id()}],zoom:[Ne,[],function(e){return e.globals.zoom}],"heatmap-density":[Ne,[],function(e){return e.globals.heatmapDensity||0}],"line-progress":[Ne,[],function(e){return e.globals.lineProgress||0}],accumulated:[qe,[],function(e){return void 0===e.globals.accumulated?null:e.globals.accumulated}],"+":[Ne,On(Ne),function(e,t){for(var n=0,r=0,i=t;r<i.length;r+=1)n+=i[r].evaluate(e);return n}],"*":[Ne,On(Ne),function(e,t){for(var n=1,r=0,i=t;r<i.length;r+=1)n*=i[r].evaluate(e);return n}],"-":{type:Ne,overloads:[[[Ne,Ne],function(e,t){var n=t[1];return t[0].evaluate(e)-n.evaluate(e)}],[[Ne],function(e,t){return-t[0].evaluate(e)}]]},"/":[Ne,[Ne,Ne],function(e,t){var n=t[1];return t[0].evaluate(e)/n.evaluate(e)}],"%":[Ne,[Ne,Ne],function(e,t){var n=t[1];return t[0].evaluate(e)%n.evaluate(e)}],ln2:[Ne,[],function(){return Math.LN2}],pi:[Ne,[],function(){return Math.PI}],e:[Ne,[],function(){return Math.E}],"^":[Ne,[Ne,Ne],function(e,t){var n=t[1];return Math.pow(t[0].evaluate(e),n.evaluate(e))}],sqrt:[Ne,[Ne],function(e,t){return Math.sqrt(t[0].evaluate(e))}],log10:[Ne,[Ne],function(e,t){return Math.log(t[0].evaluate(e))/Math.LN10}],ln:[Ne,[Ne],function(e,t){return Math.log(t[0].evaluate(e))}],log2:[Ne,[Ne],function(e,t){return Math.log(t[0].evaluate(e))/Math.LN2}],sin:[Ne,[Ne],function(e,t){return Math.sin(t[0].evaluate(e))}],cos:[Ne,[Ne],function(e,t){return Math.cos(t[0].evaluate(e))}],tan:[Ne,[Ne],function(e,t){return Math.tan(t[0].evaluate(e))}],asin:[Ne,[Ne],function(e,t){return Math.asin(t[0].evaluate(e))}],acos:[Ne,[Ne],function(e,t){return Math.acos(t[0].evaluate(e))}],atan:[Ne,[Ne],function(e,t){return Math.atan(t[0].evaluate(e))}],min:[Ne,On(Ne),function(e,t){return Math.min.apply(Math,t.map((function(t){return t.evaluate(e)})))}],max:[Ne,On(Ne),function(e,t){return Math.max.apply(Math,t.map((function(t){return t.evaluate(e)})))}],abs:[Ne,[Ne],function(e,t){return Math.abs(t[0].evaluate(e))}],round:[Ne,[Ne],function(e,t){var n=t[0].evaluate(e);return n<0?-Math.round(-n):Math.round(n)}],floor:[Ne,[Ne],function(e,t){return Math.floor(t[0].evaluate(e))}],ceil:[Ne,[Ne],function(e,t){return Math.ceil(t[0].evaluate(e))}],"filter-==":[Fe,[Be,qe],function(e,t){var n=t[0],r=t[1];return e.properties()[n.value]===r.value}],"filter-id-==":[Fe,[qe],function(e,t){var n=t[0];return e.id()===n.value}],"filter-type-==":[Fe,[Be],function(e,t){var n=t[0];return e.geometryType()===n.value}],"filter-<":[Fe,[Be,qe],function(e,t){var n=t[0],r=t[1],i=e.properties()[n.value],o=r.value;return typeof i==typeof o&&i<o}],"filter-id-<":[Fe,[qe],function(e,t){var n=t[0],r=e.id(),i=n.value;return typeof r==typeof i&&r<i}],"filter->":[Fe,[Be,qe],function(e,t){var n=t[0],r=t[1],i=e.properties()[n.value],o=r.value;return typeof i==typeof o&&i>o}],"filter-id->":[Fe,[qe],function(e,t){var n=t[0],r=e.id(),i=n.value;return typeof r==typeof i&&r>i}],"filter-<=":[Fe,[Be,qe],function(e,t){var n=t[0],r=t[1],i=e.properties()[n.value],o=r.value;return typeof i==typeof o&&i<=o}],"filter-id-<=":[Fe,[qe],function(e,t){var n=t[0],r=e.id(),i=n.value;return typeof r==typeof i&&r<=i}],"filter->=":[Fe,[Be,qe],function(e,t){var n=t[0],r=t[1],i=e.properties()[n.value],o=r.value;return typeof i==typeof o&&i>=o}],"filter-id->=":[Fe,[qe],function(e,t){var n=t[0],r=e.id(),i=n.value;return typeof r==typeof i&&r>=i}],"filter-has":[Fe,[qe],function(e,t){return t[0].value in e.properties()}],"filter-has-id":[Fe,[],function(e){return null!==e.id()&&void 0!==e.id()}],"filter-type-in":[Fe,[Ze(Be)],function(e,t){return t[0].value.indexOf(e.geometryType())>=0}],"filter-id-in":[Fe,[Ze(qe)],function(e,t){return t[0].value.indexOf(e.id())>=0}],"filter-in-small":[Fe,[Be,Ze(qe)],function(e,t){var n=t[0];return t[1].value.indexOf(e.properties()[n.value])>=0}],"filter-in-large":[Fe,[Be,Ze(qe)],function(e,t){var n=t[0],r=t[1];return function(e,t,n,r){for(;n<=r;){var i=n+r>>1;if(t[i]===e)return!0;t[i]>e?r=i-1:n=i+1}return!1}(e.properties()[n.value],r.value,0,r.value.length-1)}],all:{type:Fe,overloads:[[[Fe,Fe],function(e,t){var n=t[1];return t[0].evaluate(e)&&n.evaluate(e)}],[On(Fe),function(e,t){for(var n=0,r=t;n<r.length;n+=1)if(!r[n].evaluate(e))return!1;return!0}]]},any:{type:Fe,overloads:[[[Fe,Fe],function(e,t){var n=t[1];return t[0].evaluate(e)||n.evaluate(e)}],[On(Fe),function(e,t){for(var n=0,r=t;n<r.length;n+=1)if(r[n].evaluate(e))return!0;return!1}]]},"!":[Fe,[Fe],function(e,t){return!t[0].evaluate(e)}],"is-supported-script":[Fe,[Be],function(e,t){var n=e.globals&&e.globals.isSupportedScript;return!n||n(t[0].evaluate(e))}],upcase:[Be,[Be],function(e,t){return t[0].evaluate(e).toUpperCase()}],downcase:[Be,[Be],function(e,t){return t[0].evaluate(e).toLowerCase()}],concat:[Be,On(qe),function(e,t){return t.map((function(t){return lt(t.evaluate(e))})).join("")}],"resolved-locale":[Be,[We],function(e,t){return t[0].evaluate(e).resolvedLocale()}]});var Hn=function(e,t){this.expression=e,this._warningHistory={},this._evaluator=new gt,this._defaultValue=t?function(e){return"color"===e.type&&Nn(e.default)?new et(0,0,0,0):"color"===e.type?et.parse(e.default)||null:void 0===e.default?null:e.default}(t):null,this._enumValues=t&&"enum"===t.type?t.values:null};function Gn(e){return Array.isArray(e)&&e.length>0&&"string"==typeof e[0]&&e[0]in Cn}function Zn(e,t){var n=new Ut(Cn,[],t?function(e){var t={color:Ue,string:Be,number:Ne,enum:Be,boolean:Fe,formatted:He,resolvedImage:Ge};return"array"===e.type?Ze(t[e.value]||qe,e.length):t[e.type]}(t):void 0),r=n.parse(e,void 0,void 0,void 0,t&&"string"===t.type?{typeAnnotation:"coerce"}:void 0);return r?Dn(new Hn(r,t)):Mn(n.errors)}Hn.prototype.evaluateWithoutErrorHandling=function(e,t,n,r,i,o){return this._evaluator.globals=e,this._evaluator.feature=t,this._evaluator.featureState=n,this._evaluator.canonical=r,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=o,this.expression.evaluate(this._evaluator)},Hn.prototype.evaluate=function(e,t,n,r,i,o){this._evaluator.globals=e,this._evaluator.feature=t||null,this._evaluator.featureState=n||null,this._evaluator.canonical=r,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=o||null;try{var a=this.expression.evaluate(this._evaluator);if(null==a||"number"==typeof a&&a!=a)return this._defaultValue;if(this._enumValues&&!(a in this._enumValues))throw new ct("Expected value to be one of "+Object.keys(this._enumValues).map((function(e){return JSON.stringify(e)})).join(", ")+", but found "+JSON.stringify(a)+" instead.");return a}catch(e){return this._warningHistory[e.message]||(this._warningHistory[e.message]=!0,"undefined"!=typeof console&&console.warn(e.message)),this._defaultValue}};var Kn=function(e,t){this.kind=e,this._styleExpression=t,this.isStateDependent="constant"!==e&&!Nt(t.expression)};Kn.prototype.evaluateWithoutErrorHandling=function(e,t,n,r,i,o){return this._styleExpression.evaluateWithoutErrorHandling(e,t,n,r,i,o)},Kn.prototype.evaluate=function(e,t,n,r,i,o){return this._styleExpression.evaluate(e,t,n,r,i,o)};var Xn=function(e,t,n,r){this.kind=e,this.zoomStops=n,this._styleExpression=t,this.isStateDependent="camera"!==e&&!Nt(t.expression),this.interpolationType=r};function Yn(e,t){if("error"===(e=Zn(e,t)).result)return e;var n=e.value.expression,r=zt(n);if(!r&&!jn(t))return Mn([new Re("","data expressions not supported")]);var i=Bt(n,["zoom"]);if(!i&&!Rn(t))return Mn([new Re("","zoom expressions not supported")]);var o=function e(t){var n=null;if(t instanceof un)n=e(t.result);else if(t instanceof ln)for(var r=0,i=t.args;r<i.length&&!(n=e(i[r]));r+=1);else(t instanceof qt||t instanceof an)&&t.input instanceof _t&&"zoom"===t.input.name&&(n=t);return n instanceof Re||t.eachChild((function(t){var r=e(t);r instanceof Re?n=r:!n&&r?n=new Re("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):n&&r&&n!==r&&(n=new Re("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))})),n}(n);return o||i?o instanceof Re?Mn([o]):o instanceof an&&!Ln(t)?Mn([new Re("",'"interpolate" expressions cannot be used with this property')]):Dn(o?new Xn(r?"camera":"composite",e.value,o.labels,o instanceof an?o.interpolation:void 0):new Kn(r?"constant":"source",e.value)):Mn([new Re("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}Xn.prototype.evaluateWithoutErrorHandling=function(e,t,n,r,i,o){return this._styleExpression.evaluateWithoutErrorHandling(e,t,n,r,i,o)},Xn.prototype.evaluate=function(e,t,n,r,i,o){return this._styleExpression.evaluate(e,t,n,r,i,o)},Xn.prototype.interpolationFactor=function(e,t,n){return this.interpolationType?an.interpolationFactor(this.interpolationType,e,t,n):0};var $n=function(e,t){this._parameters=e,this._specification=t,De(this,function e(t,n){var r,i,o,a="color"===n.type,s=t.stops&&"object"==typeof t.stops[0][0],l=s||!(s||void 0!==t.property),u=t.type||(Ln(n)?"exponential":"interval");if(a&&((t=De({},t)).stops&&(t.stops=t.stops.map((function(e){return[e[0],et.parse(e[1])]}))),t.default=et.parse(t.default?t.default:n.default)),t.colorSpace&&"rgb"!==t.colorSpace&&!on[t.colorSpace])throw new Error("Unknown color space: "+t.colorSpace);if("exponential"===u)r=qn;else if("interval"===u)r=Vn;else if("categorical"===u){r=Un,i=Object.create(null);for(var c=0,p=t.stops;c<p.length;c+=1){var h=p[c];i[h[0]]=h[1]}o=typeof t.stops[0][0]}else{if("identity"!==u)throw new Error('Unknown function type "'+u+'"');r=Wn}if(s){for(var d={},f=[],m=0;m<t.stops.length;m++){var y=t.stops[m],v=y[0].zoom;void 0===d[v]&&(d[v]={zoom:v,type:t.type,property:t.property,default:t.default,stops:[]},f.push(v)),d[v].stops.push([y[0].value,y[1]])}for(var g=[],_=0,x=f;_<x.length;_+=1){var b=x[_];g.push([d[b].zoom,e(d[b],n)])}var w={name:"linear"};return{kind:"composite",interpolationType:w,interpolationFactor:an.interpolationFactor.bind(void 0,w),zoomStops:g.map((function(e){return e[0]})),evaluate:function(e,r){var i=e.zoom;return qn({stops:g,base:t.base},n,i).evaluate(i,r)}}}if(l){var S="exponential"===u?{name:"exponential",base:void 0!==t.base?t.base:1}:null;return{kind:"camera",interpolationType:S,interpolationFactor:an.interpolationFactor.bind(void 0,S),zoomStops:t.stops.map((function(e){return e[0]})),evaluate:function(e){return r(t,n,e.zoom,i,o)}}}return{kind:"source",evaluate:function(e,a){var s=a&&a.properties?a.properties[t.property]:void 0;return void 0===s?Fn(t.default,n.default):r(t,n,s,i,o)}}}(this._parameters,this._specification))};function Jn(e){var t=e.key,n=e.value,r=e.valueSpec||{},i=e.objectElementValidators||{},o=e.style,a=e.styleSpec,s=[],l=zn(n);if("object"!==l)return[new Ie(t,n,"object expected, "+l+" found")];for(var u in n){var c=u.split(".")[0],p=r[c]||r["*"],h=void 0;if(i[c])h=i[c];else if(r[c])h=Sr;else if(i["*"])h=i["*"];else{if(!r["*"]){s.push(new Ie(t,n[u],'unknown property "'+u+'"'));continue}h=Sr}s=s.concat(h({key:(t?t+".":t)+u,value:n[u],valueSpec:p,style:o,styleSpec:a,object:n,objectKey:u},n))}for(var d in r)i[d]||r[d].required&&void 0===r[d].default&&void 0===n[d]&&s.push(new Ie(t,n,'missing required property "'+d+'"'));return s}function Qn(e){var t=e.value,n=e.valueSpec,r=e.style,i=e.styleSpec,o=e.key,a=e.arrayElementValidator||Sr;if("array"!==zn(t))return[new Ie(o,t,"array expected, "+zn(t)+" found")];if(n.length&&t.length!==n.length)return[new Ie(o,t,"array length "+n.length+" expected, length "+t.length+" found")];if(n["min-length"]&&t.length<n["min-length"])return[new Ie(o,t,"array length at least "+n["min-length"]+" expected, length "+t.length+" found")];var s={type:n.value,values:n.values};i.$version<7&&(s.function=n.function),"object"===zn(n.value)&&(s=n.value);for(var l=[],u=0;u<t.length;u++)l=l.concat(a({array:t,arrayIndex:u,value:t[u],valueSpec:s,style:r,styleSpec:i,key:o+"["+u+"]"}));return l}function er(e){var t=e.key,n=e.value,r=e.valueSpec,i=zn(n);return"number"===i&&n!=n&&(i="NaN"),"number"!==i?[new Ie(t,n,"number expected, "+i+" found")]:"minimum"in r&&n<r.minimum?[new Ie(t,n,n+" is less than the minimum value "+r.minimum)]:"maximum"in r&&n>r.maximum?[new Ie(t,n,n+" is greater than the maximum value "+r.maximum)]:[]}function tr(e){var t,n,r,i=e.valueSpec,o=Me(e.value.type),a={},s="categorical"!==o&&void 0===e.value.property,l=!s,u="array"===zn(e.value.stops)&&"array"===zn(e.value.stops[0])&&"object"===zn(e.value.stops[0][0]),c=Jn({key:e.key,value:e.value,valueSpec:e.styleSpec.function,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{stops:function(e){if("identity"===o)return[new Ie(e.key,e.value,'identity function may not have a "stops" property')];var t=[],n=e.value;return t=t.concat(Qn({key:e.key,value:n,valueSpec:e.valueSpec,style:e.style,styleSpec:e.styleSpec,arrayElementValidator:p})),"array"===zn(n)&&0===n.length&&t.push(new Ie(e.key,n,"array must have at least one stop")),t},default:function(e){return Sr({key:e.key,value:e.value,valueSpec:i,style:e.style,styleSpec:e.styleSpec})}}});return"identity"===o&&s&&c.push(new Ie(e.key,e.value,'missing required property "property"')),"identity"===o||e.value.stops||c.push(new Ie(e.key,e.value,'missing required property "stops"')),"exponential"===o&&e.valueSpec.expression&&!Ln(e.valueSpec)&&c.push(new Ie(e.key,e.value,"exponential functions not supported")),e.styleSpec.$version>=8&&(l&&!jn(e.valueSpec)?c.push(new Ie(e.key,e.value,"property functions not supported")):s&&!Rn(e.valueSpec)&&c.push(new Ie(e.key,e.value,"zoom functions not supported"))),"categorical"!==o&&!u||void 0!==e.value.property||c.push(new Ie(e.key,e.value,'"property" property is required')),c;function p(e){var t=[],o=e.value,s=e.key;if("array"!==zn(o))return[new Ie(s,o,"array expected, "+zn(o)+" found")];if(2!==o.length)return[new Ie(s,o,"array length 2 expected, length "+o.length+" found")];if(u){if("object"!==zn(o[0]))return[new Ie(s,o,"object expected, "+zn(o[0])+" found")];if(void 0===o[0].zoom)return[new Ie(s,o,"object stop key must have zoom")];if(void 0===o[0].value)return[new Ie(s,o,"object stop key must have value")];if(r&&r>Me(o[0].zoom))return[new Ie(s,o[0].zoom,"stop zoom values must appear in ascending order")];Me(o[0].zoom)!==r&&(r=Me(o[0].zoom),n=void 0,a={}),t=t.concat(Jn({key:s+"[0]",value:o[0],valueSpec:{zoom:{}},style:e.style,styleSpec:e.styleSpec,objectElementValidators:{zoom:er,value:h}}))}else t=t.concat(h({key:s+"[0]",value:o[0],valueSpec:{},style:e.style,styleSpec:e.styleSpec},o));return Gn(je(o[1]))?t.concat([new Ie(s+"[1]",o[1],"expressions are not allowed in function stops.")]):t.concat(Sr({key:s+"[1]",value:o[1],valueSpec:i,style:e.style,styleSpec:e.styleSpec}))}function h(e,r){var s=zn(e.value),l=Me(e.value),u=null!==e.value?e.value:r;if(t){if(s!==t)return[new Ie(e.key,u,s+" stop domain type must match previous stop domain type "+t)]}else t=s;if("number"!==s&&"string"!==s&&"boolean"!==s)return[new Ie(e.key,u,"stop domain value must be a number, string, or boolean")];if("number"!==s&&"categorical"!==o){var c="number expected, "+s+" found";return jn(i)&&void 0===o&&(c+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Ie(e.key,u,c)]}return"categorical"!==o||"number"!==s||isFinite(l)&&Math.floor(l)===l?"categorical"!==o&&"number"===s&&void 0!==n&&l<n?[new Ie(e.key,u,"stop domain values must appear in ascending order")]:(n=l,"categorical"===o&&l in a?[new Ie(e.key,u,"stop domain values must be unique")]:(a[l]=!0,[])):[new Ie(e.key,u,"integer expected, found "+l)]}}function nr(e){var t=("property"===e.expressionContext?Yn:Zn)(je(e.value),e.valueSpec);if("error"===t.result)return t.value.map((function(t){return new Ie(""+e.key+t.key,e.value,t.message)}));var n=t.value.expression||t.value._styleExpression.expression;if("property"===e.expressionContext&&"text-font"===e.propertyKey&&!n.outputDefined())return[new Ie(e.key,e.value,'Invalid data expression for "'+e.propertyKey+'". Output values must be contained as literals within the expression.')];if("property"===e.expressionContext&&"layout"===e.propertyType&&!Nt(n))return[new Ie(e.key,e.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===e.expressionContext&&!Nt(n))return[new Ie(e.key,e.value,'"feature-state" data expressions are not supported with filters.')];if(e.expressionContext&&0===e.expressionContext.indexOf("cluster")){if(!Bt(n,["zoom","feature-state"]))return[new Ie(e.key,e.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===e.expressionContext&&!zt(n))return[new Ie(e.key,e.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function rr(e){var t=e.key,n=e.value,r=e.valueSpec,i=[];return Array.isArray(r.values)?-1===r.values.indexOf(Me(n))&&i.push(new Ie(t,n,"expected one of ["+r.values.join(", ")+"], "+JSON.stringify(n)+" found")):-1===Object.keys(r.values).indexOf(Me(n))&&i.push(new Ie(t,n,"expected one of ["+Object.keys(r.values).join(", ")+"], "+JSON.stringify(n)+" found")),i}function ir(e){if(!0===e||!1===e)return!0;if(!Array.isArray(e)||0===e.length)return!1;switch(e[0]){case"has":return e.length>=2&&"$id"!==e[1]&&"$type"!==e[1];case"in":return e.length>=3&&("string"!=typeof e[1]||Array.isArray(e[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==e.length||Array.isArray(e[1])||Array.isArray(e[2]);case"any":case"all":for(var t=0,n=e.slice(1);t<n.length;t+=1){var r=n[t];if(!ir(r)&&"boolean"!=typeof r)return!1}return!0;default:return!0}}$n.deserialize=function(e){return new $n(e._parameters,e._specification)},$n.serialize=function(e){return{_parameters:e._parameters,_specification:e._specification}};var or={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function ar(e){if(null==e)return{filter:function(){return!0},needGeometry:!1};ir(e)||(e=lr(e));var t=Zn(e,or);if("error"===t.result)throw new Error(t.value.map((function(e){return e.key+": "+e.message})).join(", "));return{filter:function(e,n,r){return t.value.evaluate(e,n,{},r)},needGeometry:function e(t){if(!Array.isArray(t))return!1;if("within"===t[0])return!0;for(var n=1;n<t.length;n++)if(e(t[n]))return!0;return!1}(e)}}function sr(e,t){return e<t?-1:e>t?1:0}function lr(e){if(!e)return!0;var t,n=e[0];return e.length<=1?"any"!==n:"=="===n?ur(e[1],e[2],"=="):"!="===n?hr(ur(e[1],e[2],"==")):"<"===n||">"===n||"<="===n||">="===n?ur(e[1],e[2],n):"any"===n?(t=e.slice(1),["any"].concat(t.map(lr))):"all"===n?["all"].concat(e.slice(1).map(lr)):"none"===n?["all"].concat(e.slice(1).map(lr).map(hr)):"in"===n?cr(e[1],e.slice(2)):"!in"===n?hr(cr(e[1],e.slice(2))):"has"===n?pr(e[1]):"!has"===n?hr(pr(e[1])):"within"!==n||e}function ur(e,t,n){switch(e){case"$type":return["filter-type-"+n,t];case"$id":return["filter-id-"+n,t];default:return["filter-"+n,e,t]}}function cr(e,t){if(0===t.length)return!1;switch(e){case"$type":return["filter-type-in",["literal",t]];case"$id":return["filter-id-in",["literal",t]];default:return t.length>200&&!t.some((function(e){return typeof e!=typeof t[0]}))?["filter-in-large",e,["literal",t.sort(sr)]]:["filter-in-small",e,["literal",t]]}}function pr(e){switch(e){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",e]}}function hr(e){return["!",e]}function dr(e){return ir(je(e.value))?nr(De({},e,{expressionContext:"filter",valueSpec:{value:"boolean"}})):function e(t){var n=t.value,r=t.key;if("array"!==zn(n))return[new Ie(r,n,"array expected, "+zn(n)+" found")];var i,o=t.styleSpec,a=[];if(n.length<1)return[new Ie(r,n,"filter array must have at least 1 element")];switch(a=a.concat(rr({key:r+"[0]",value:n[0],valueSpec:o.filter_operator,style:t.style,styleSpec:t.styleSpec})),Me(n[0])){case"<":case"<=":case">":case">=":n.length>=2&&"$type"===Me(n[1])&&a.push(new Ie(r,n,'"$type" cannot be use with operator "'+n[0]+'"'));case"==":case"!=":3!==n.length&&a.push(new Ie(r,n,'filter array for operator "'+n[0]+'" must have 3 elements'));case"in":case"!in":n.length>=2&&"string"!==(i=zn(n[1]))&&a.push(new Ie(r+"[1]",n[1],"string expected, "+i+" found"));for(var s=2;s<n.length;s++)i=zn(n[s]),"$type"===Me(n[1])?a=a.concat(rr({key:r+"["+s+"]",value:n[s],valueSpec:o.geometry_type,style:t.style,styleSpec:t.styleSpec})):"string"!==i&&"number"!==i&&"boolean"!==i&&a.push(new Ie(r+"["+s+"]",n[s],"string, number, or boolean expected, "+i+" found"));break;case"any":case"all":case"none":for(var l=1;l<n.length;l++)a=a.concat(e({key:r+"["+l+"]",value:n[l],style:t.style,styleSpec:t.styleSpec}));break;case"has":case"!has":i=zn(n[1]),2!==n.length?a.push(new Ie(r,n,'filter array for "'+n[0]+'" operator must have 2 elements')):"string"!==i&&a.push(new Ie(r+"[1]",n[1],"string expected, "+i+" found"));break;case"within":i=zn(n[1]),2!==n.length?a.push(new Ie(r,n,'filter array for "'+n[0]+'" operator must have 2 elements')):"object"!==i&&a.push(new Ie(r+"[1]",n[1],"object expected, "+i+" found"))}return a}(e)}function fr(e,t){var n=e.key,r=e.style,i=e.styleSpec,o=e.value,a=e.objectKey,s=i[t+"_"+e.layerType];if(!s)return[];var l=a.match(/^(.*)-transition$/);if("paint"===t&&l&&s[l[1]]&&s[l[1]].transition)return Sr({key:n,value:o,valueSpec:i.transition,style:r,styleSpec:i});var u,c=e.valueSpec||s[a];if(!c)return[new Ie(n,o,'unknown property "'+a+'"')];if("string"===zn(o)&&jn(c)&&!c.tokens&&(u=/^{([^}]+)}$/.exec(o)))return[new Ie(n,o,'"'+a+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(u[1])+" }`.")];var p=[];return"symbol"===e.layerType&&("text-field"===a&&r&&!r.glyphs&&p.push(new Ie(n,o,'use of "text-field" requires a style "glyphs" property')),"text-font"===a&&Nn(je(o))&&"identity"===Me(o.type)&&p.push(new Ie(n,o,'"text-font" does not support identity functions'))),p.concat(Sr({key:e.key,value:o,valueSpec:c,style:r,styleSpec:i,expressionContext:"property",propertyType:t,propertyKey:a}))}function mr(e){return fr(e,"paint")}function yr(e){return fr(e,"layout")}function vr(e){var t=[],n=e.value,r=e.key,i=e.style,o=e.styleSpec;n.type||n.ref||t.push(new Ie(r,n,'either "type" or "ref" is required'));var a,s=Me(n.type),l=Me(n.ref);if(n.id)for(var u=Me(n.id),c=0;c<e.arrayIndex;c++){var p=i.layers[c];Me(p.id)===u&&t.push(new Ie(r,n.id,'duplicate layer id "'+n.id+'", previously used at line '+p.id.__line__))}if("ref"in n)["type","source","source-layer","filter","layout"].forEach((function(e){e in n&&t.push(new Ie(r,n[e],'"'+e+'" is prohibited for ref layers'))})),i.layers.forEach((function(e){Me(e.id)===l&&(a=e)})),a?a.ref?t.push(new Ie(r,n.ref,"ref cannot reference another ref layer")):s=Me(a.type):t.push(new Ie(r,n.ref,'ref layer "'+l+'" not found'));else if("background"!==s)if(n.source){var h=i.sources&&i.sources[n.source],d=h&&Me(h.type);h?"vector"===d&&"raster"===s?t.push(new Ie(r,n.source,'layer "'+n.id+'" requires a raster source')):"raster"===d&&"raster"!==s?t.push(new Ie(r,n.source,'layer "'+n.id+'" requires a vector source')):"vector"!==d||n["source-layer"]?"raster-dem"===d&&"hillshade"!==s?t.push(new Ie(r,n.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==s||!n.paint||!n.paint["line-gradient"]||"geojson"===d&&h.lineMetrics||t.push(new Ie(r,n,'layer "'+n.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):t.push(new Ie(r,n,'layer "'+n.id+'" must specify a "source-layer"')):t.push(new Ie(r,n.source,'source "'+n.source+'" not found'))}else t.push(new Ie(r,n,'missing required property "source"'));return t=t.concat(Jn({key:r,value:n,valueSpec:o.layer,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return Sr({key:r+".type",value:n.type,valueSpec:o.layer.type,style:e.style,styleSpec:e.styleSpec,object:n,objectKey:"type"})},filter:dr,layout:function(e){return Jn({layer:n,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(e){return yr(De({layerType:s},e))}}})},paint:function(e){return Jn({layer:n,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(e){return mr(De({layerType:s},e))}}})}}}))}function gr(e){var t=e.value,n=e.key,r=zn(t);return"string"!==r?[new Ie(n,t,"string expected, "+r+" found")]:[]}var _r={promoteId:function(e){var t=e.key,n=e.value;if("string"===zn(n))return gr({key:t,value:n});var r=[];for(var i in n)r.push.apply(r,gr({key:t+"."+i,value:n[i]}));return r}};function xr(e){var t=e.value,n=e.key,r=e.styleSpec,i=e.style;if(!t.type)return[new Ie(n,t,'"type" is required')];var o,a=Me(t.type);switch(a){case"vector":case"raster":case"raster-dem":return Jn({key:n,value:t,valueSpec:r["source_"+a.replace("-","_")],style:e.style,styleSpec:r,objectElementValidators:_r});case"geojson":if(o=Jn({key:n,value:t,valueSpec:r.source_geojson,style:i,styleSpec:r,objectElementValidators:_r}),t.cluster)for(var s in t.clusterProperties){var l=t.clusterProperties[s],u=l[0],c="string"==typeof u?[u,["accumulated"],["get",s]]:u;o.push.apply(o,nr({key:n+"."+s+".map",value:l[1],expressionContext:"cluster-map"})),o.push.apply(o,nr({key:n+"."+s+".reduce",value:c,expressionContext:"cluster-reduce"}))}return o;case"video":return Jn({key:n,value:t,valueSpec:r.source_video,style:i,styleSpec:r});case"image":return Jn({key:n,value:t,valueSpec:r.source_image,style:i,styleSpec:r});case"canvas":return[new Ie(n,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return rr({key:n+".type",value:t.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:i,styleSpec:r})}}function br(e){var t=e.value,n=e.styleSpec,r=n.light,i=e.style,o=[],a=zn(t);if(void 0===t)return o;if("object"!==a)return o.concat([new Ie("light",t,"object expected, "+a+" found")]);for(var s in t){var l=s.match(/^(.*)-transition$/);o=o.concat(l&&r[l[1]]&&r[l[1]].transition?Sr({key:s,value:t[s],valueSpec:n.transition,style:i,styleSpec:n}):r[s]?Sr({key:s,value:t[s],valueSpec:r[s],style:i,styleSpec:n}):[new Ie(s,t[s],'unknown property "'+s+'"')])}return o}var wr={"*":function(){return[]},array:Qn,boolean:function(e){var t=e.value,n=e.key,r=zn(t);return"boolean"!==r?[new Ie(n,t,"boolean expected, "+r+" found")]:[]},number:er,color:function(e){var t=e.key,n=e.value,r=zn(n);return"string"!==r?[new Ie(t,n,"color expected, "+r+" found")]:null===Qe(n)?[new Ie(t,n,'color expected, "'+n+'" found')]:[]},constants:Oe,enum:rr,filter:dr,function:tr,layer:vr,object:Jn,source:xr,light:br,string:gr,formatted:function(e){return 0===gr(e).length?[]:nr(e)},resolvedImage:function(e){return 0===gr(e).length?[]:nr(e)}};function Sr(e){var t=e.value,n=e.valueSpec,r=e.styleSpec;return n.expression&&Nn(Me(t))?tr(e):n.expression&&Gn(je(t))?nr(e):n.type&&wr[n.type]?wr[n.type](e):Jn(De({},e,{valueSpec:n.type?r[n.type]:n}))}function Er(e){var t=e.value,n=e.key,r=gr(e);return r.length||(-1===t.indexOf("{fontstack}")&&r.push(new Ie(n,t,'"glyphs" url must include a "{fontstack}" token')),-1===t.indexOf("{range}")&&r.push(new Ie(n,t,'"glyphs" url must include a "{range}" token'))),r}function Tr(e,t){void 0===t&&(t=Ae);var n=[];return n=n.concat(Sr({key:"",value:e,valueSpec:t.$root,styleSpec:t,style:e,objectElementValidators:{glyphs:Er,"*":function(){return[]}}})),e.constants&&(n=n.concat(Oe({key:"constants",value:e.constants,style:e,styleSpec:t}))),Pr(n)}function Pr(e){return[].concat(e).sort((function(e,t){return e.line-t.line}))}function Cr(e){return function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return Pr(e.apply(this,t))}}Tr.source=Cr(xr),Tr.light=Cr(br),Tr.layer=Cr(vr),Tr.filter=Cr(dr),Tr.paintProperty=Cr(mr),Tr.layoutProperty=Cr(yr);var kr=Tr,Ar=kr.light,Ir=kr.paintProperty,Or=kr.layoutProperty;function Dr(e,t){var n=!1;if(t&&t.length)for(var r=0,i=t;r<i.length;r+=1)e.fire(new Ce(new Error(i[r].message))),n=!0;return n}var Mr=jr;function jr(e,t,n){var r=this.cells=[];if(e instanceof ArrayBuffer){this.arrayBuffer=e;var i=new Int32Array(this.arrayBuffer);e=i[0],this.d=(t=i[1])+2*(n=i[2]);for(var o=0;o<this.d*this.d;o++){var a=i[3+o],s=i[3+o+1];r.push(a===s?null:i.subarray(a,s))}var l=i[3+r.length+1];this.keys=i.subarray(i[3+r.length],l),this.bboxes=i.subarray(l),this.insert=this._insertReadonly}else{this.d=t+2*n;for(var u=0;u<this.d*this.d;u++)r.push([]);this.keys=[],this.bboxes=[]}this.n=t,this.extent=e,this.padding=n,this.scale=t/e,this.uid=0;var c=n/t*e;this.min=-c,this.max=e+c}jr.prototype.insert=function(e,t,n,r,i){this._forEachCell(t,n,r,i,this._insertCell,this.uid++),this.keys.push(e),this.bboxes.push(t),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(i)},jr.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},jr.prototype._insertCell=function(e,t,n,r,i,o){this.cells[i].push(o)},jr.prototype.query=function(e,t,n,r,i){var o=this.min,a=this.max;if(e<=o&&t<=o&&a<=n&&a<=r&&!i)return Array.prototype.slice.call(this.keys);var s=[];return this._forEachCell(e,t,n,r,this._queryCell,s,{},i),s},jr.prototype._queryCell=function(e,t,n,r,i,o,a,s){var l=this.cells[i];if(null!==l)for(var u=this.keys,c=this.bboxes,p=0;p<l.length;p++){var h=l[p];if(void 0===a[h]){var d=4*h;(s?s(c[d+0],c[d+1],c[d+2],c[d+3]):e<=c[d+2]&&t<=c[d+3]&&n>=c[d+0]&&r>=c[d+1])?(a[h]=!0,o.push(u[h])):a[h]=!1}}},jr.prototype._forEachCell=function(e,t,n,r,i,o,a,s){for(var l=this._convertToCellCoord(e),u=this._convertToCellCoord(t),c=this._convertToCellCoord(n),p=this._convertToCellCoord(r),h=l;h<=c;h++)for(var d=u;d<=p;d++){var f=this.d*d+h;if((!s||s(this._convertFromCellCoord(h),this._convertFromCellCoord(d),this._convertFromCellCoord(h+1),this._convertFromCellCoord(d+1)))&&i.call(this,e,t,n,r,f,o,a,s))return}},jr.prototype._convertFromCellCoord=function(e){return(e-this.padding)/this.scale},jr.prototype._convertToCellCoord=function(e){return Math.max(0,Math.min(this.d-1,Math.floor(e*this.scale)+this.padding))},jr.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var e=this.cells,t=3+this.cells.length+1+1,n=0,r=0;r<this.cells.length;r++)n+=this.cells[r].length;var i=new Int32Array(t+n+this.keys.length+this.bboxes.length);i[0]=this.extent,i[1]=this.n,i[2]=this.padding;for(var o=t,a=0;a<e.length;a++){var s=e[a];i[3+a]=o,i.set(s,o),o+=s.length}return i[3+e.length]=o,i.set(this.keys,o),i[3+e.length+1]=o+=this.keys.length,i.set(this.bboxes,o),o+=this.bboxes.length,i.buffer};var Rr=a.ImageData,Lr=a.ImageBitmap,zr={};function Nr(e,t,n){void 0===n&&(n={}),Object.defineProperty(t,"_classRegistryKey",{value:e,writeable:!1}),zr[e]={klass:t,omit:n.omit||[],shallow:n.shallow||[]}}for(var Br in Nr("Object",Object),Mr.serialize=function(e,t){var n=e.toArrayBuffer();return t&&t.push(n),{buffer:n}},Mr.deserialize=function(e){return new Mr(e.buffer)},Nr("Grid",Mr),Nr("Color",et),Nr("Error",Error),Nr("ResolvedImage",it),Nr("StylePropertyFunction",$n),Nr("StyleExpression",Hn,{omit:["_evaluator"]}),Nr("ZoomDependentExpression",Xn),Nr("ZoomConstantExpression",Kn),Nr("CompoundExpression",_t,{omit:["_evaluate"]}),Cn)Cn[Br]._classRegistryKey||Nr("Expression_"+Br,Cn[Br]);function Fr(e){return e&&"undefined"!=typeof ArrayBuffer&&(e instanceof ArrayBuffer||e.constructor&&"ArrayBuffer"===e.constructor.name)}function Ur(e){return Lr&&e instanceof Lr}function Vr(e,t){if(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp)return e;if(Fr(e)||Ur(e))return t&&t.push(e),e;if(ArrayBuffer.isView(e)){var n=e;return t&&t.push(n.buffer),n}if(e instanceof Rr)return t&&t.push(e.data.buffer),e;if(Array.isArray(e)){for(var r=[],i=0,o=e;i<o.length;i+=1)r.push(Vr(o[i],t));return r}if("object"==typeof e){var a=e.constructor,s=a._classRegistryKey;if(!s)throw new Error("can't serialize object of unregistered class");var l=a.serialize?a.serialize(e,t):{};if(!a.serialize){for(var u in e)if(e.hasOwnProperty(u)&&!(zr[s].omit.indexOf(u)>=0)){var c=e[u];l[u]=zr[s].shallow.indexOf(u)>=0?c:Vr(c,t)}e instanceof Error&&(l.message=e.message)}if(l.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==s&&(l.$name=s),l}throw new Error("can't serialize object of type "+typeof e)}function qr(e){if(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp||Fr(e)||Ur(e)||ArrayBuffer.isView(e)||e instanceof Rr)return e;if(Array.isArray(e))return e.map(qr);if("object"==typeof e){var t=e.$name||"Object",n=zr[t].klass;if(!n)throw new Error("can't deserialize unregistered class "+t);if(n.deserialize)return n.deserialize(e);for(var r=Object.create(n.prototype),i=0,o=Object.keys(e);i<o.length;i+=1){var a=o[i];if("$name"!==a){var s=e[a];r[a]=zr[t].shallow.indexOf(a)>=0?s:qr(s)}}return r}throw new Error("can't deserialize object of type "+typeof e)}var Wr=function(){this.first=!0};Wr.prototype.update=function(e,t){var n=Math.floor(e);return this.first?(this.first=!1,this.lastIntegerZoom=n,this.lastIntegerZoomTime=0,this.lastZoom=e,this.lastFloorZoom=n,!0):(this.lastFloorZoom>n?(this.lastIntegerZoom=n+1,this.lastIntegerZoomTime=t):this.lastFloorZoom<n&&(this.lastIntegerZoom=n,this.lastIntegerZoomTime=t),e!==this.lastZoom&&(this.lastZoom=e,this.lastFloorZoom=n,!0))};var Hr={"Latin-1 Supplement":function(e){return e>=128&&e<=255},Arabic:function(e){return e>=1536&&e<=1791},"Arabic Supplement":function(e){return e>=1872&&e<=1919},"Arabic Extended-A":function(e){return e>=2208&&e<=2303},"Hangul Jamo":function(e){return e>=4352&&e<=4607},"Unified Canadian Aboriginal Syllabics":function(e){return e>=5120&&e<=5759},Khmer:function(e){return e>=6016&&e<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(e){return e>=6320&&e<=6399},"General Punctuation":function(e){return e>=8192&&e<=8303},"Letterlike Symbols":function(e){return e>=8448&&e<=8527},"Number Forms":function(e){return e>=8528&&e<=8591},"Miscellaneous Technical":function(e){return e>=8960&&e<=9215},"Control Pictures":function(e){return e>=9216&&e<=9279},"Optical Character Recognition":function(e){return e>=9280&&e<=9311},"Enclosed Alphanumerics":function(e){return e>=9312&&e<=9471},"Geometric Shapes":function(e){return e>=9632&&e<=9727},"Miscellaneous Symbols":function(e){return e>=9728&&e<=9983},"Miscellaneous Symbols and Arrows":function(e){return e>=11008&&e<=11263},"CJK Radicals Supplement":function(e){return e>=11904&&e<=12031},"Kangxi Radicals":function(e){return e>=12032&&e<=12255},"Ideographic Description Characters":function(e){return e>=12272&&e<=12287},"CJK Symbols and Punctuation":function(e){return e>=12288&&e<=12351},Hiragana:function(e){return e>=12352&&e<=12447},Katakana:function(e){return e>=12448&&e<=12543},Bopomofo:function(e){return e>=12544&&e<=12591},"Hangul Compatibility Jamo":function(e){return e>=12592&&e<=12687},Kanbun:function(e){return e>=12688&&e<=12703},"Bopomofo Extended":function(e){return e>=12704&&e<=12735},"CJK Strokes":function(e){return e>=12736&&e<=12783},"Katakana Phonetic Extensions":function(e){return e>=12784&&e<=12799},"Enclosed CJK Letters and Months":function(e){return e>=12800&&e<=13055},"CJK Compatibility":function(e){return e>=13056&&e<=13311},"CJK Unified Ideographs Extension A":function(e){return e>=13312&&e<=19903},"Yijing Hexagram Symbols":function(e){return e>=19904&&e<=19967},"CJK Unified Ideographs":function(e){return e>=19968&&e<=40959},"Yi Syllables":function(e){return e>=40960&&e<=42127},"Yi Radicals":function(e){return e>=42128&&e<=42191},"Hangul Jamo Extended-A":function(e){return e>=43360&&e<=43391},"Hangul Syllables":function(e){return e>=44032&&e<=55215},"Hangul Jamo Extended-B":function(e){return e>=55216&&e<=55295},"Private Use Area":function(e){return e>=57344&&e<=63743},"CJK Compatibility Ideographs":function(e){return e>=63744&&e<=64255},"Arabic Presentation Forms-A":function(e){return e>=64336&&e<=65023},"Vertical Forms":function(e){return e>=65040&&e<=65055},"CJK Compatibility Forms":function(e){return e>=65072&&e<=65103},"Small Form Variants":function(e){return e>=65104&&e<=65135},"Arabic Presentation Forms-B":function(e){return e>=65136&&e<=65279},"Halfwidth and Fullwidth Forms":function(e){return e>=65280&&e<=65519}};function Gr(e){for(var t=0,n=e;t<n.length;t+=1)if(Zr(n[t].charCodeAt(0)))return!0;return!1}function Zr(e){return!(746!==e&&747!==e&&(e<4352||!(Hr["Bopomofo Extended"](e)||Hr.Bopomofo(e)||Hr["CJK Compatibility Forms"](e)&&!(e>=65097&&e<=65103)||Hr["CJK Compatibility Ideographs"](e)||Hr["CJK Compatibility"](e)||Hr["CJK Radicals Supplement"](e)||Hr["CJK Strokes"](e)||!(!Hr["CJK Symbols and Punctuation"](e)||e>=12296&&e<=12305||e>=12308&&e<=12319||12336===e)||Hr["CJK Unified Ideographs Extension A"](e)||Hr["CJK Unified Ideographs"](e)||Hr["Enclosed CJK Letters and Months"](e)||Hr["Hangul Compatibility Jamo"](e)||Hr["Hangul Jamo Extended-A"](e)||Hr["Hangul Jamo Extended-B"](e)||Hr["Hangul Jamo"](e)||Hr["Hangul Syllables"](e)||Hr.Hiragana(e)||Hr["Ideographic Description Characters"](e)||Hr.Kanbun(e)||Hr["Kangxi Radicals"](e)||Hr["Katakana Phonetic Extensions"](e)||Hr.Katakana(e)&&12540!==e||!(!Hr["Halfwidth and Fullwidth Forms"](e)||65288===e||65289===e||65293===e||e>=65306&&e<=65310||65339===e||65341===e||65343===e||e>=65371&&e<=65503||65507===e||e>=65512&&e<=65519)||!(!Hr["Small Form Variants"](e)||e>=65112&&e<=65118||e>=65123&&e<=65126)||Hr["Unified Canadian Aboriginal Syllabics"](e)||Hr["Unified Canadian Aboriginal Syllabics Extended"](e)||Hr["Vertical Forms"](e)||Hr["Yijing Hexagram Symbols"](e)||Hr["Yi Syllables"](e)||Hr["Yi Radicals"](e))))}function Kr(e){return!(Zr(e)||function(e){return!!(Hr["Latin-1 Supplement"](e)&&(167===e||169===e||174===e||177===e||188===e||189===e||190===e||215===e||247===e)||Hr["General Punctuation"](e)&&(8214===e||8224===e||8225===e||8240===e||8241===e||8251===e||8252===e||8258===e||8263===e||8264===e||8265===e||8273===e)||Hr["Letterlike Symbols"](e)||Hr["Number Forms"](e)||Hr["Miscellaneous Technical"](e)&&(e>=8960&&e<=8967||e>=8972&&e<=8991||e>=8996&&e<=9e3||9003===e||e>=9085&&e<=9114||e>=9150&&e<=9165||9167===e||e>=9169&&e<=9179||e>=9186&&e<=9215)||Hr["Control Pictures"](e)&&9251!==e||Hr["Optical Character Recognition"](e)||Hr["Enclosed Alphanumerics"](e)||Hr["Geometric Shapes"](e)||Hr["Miscellaneous Symbols"](e)&&!(e>=9754&&e<=9759)||Hr["Miscellaneous Symbols and Arrows"](e)&&(e>=11026&&e<=11055||e>=11088&&e<=11097||e>=11192&&e<=11243)||Hr["CJK Symbols and Punctuation"](e)||Hr.Katakana(e)||Hr["Private Use Area"](e)||Hr["CJK Compatibility Forms"](e)||Hr["Small Form Variants"](e)||Hr["Halfwidth and Fullwidth Forms"](e)||8734===e||8756===e||8757===e||e>=9984&&e<=10087||e>=10102&&e<=10131||65532===e||65533===e)}(e))}function Xr(e){return e>=1424&&e<=2303||Hr["Arabic Presentation Forms-A"](e)||Hr["Arabic Presentation Forms-B"](e)}function Yr(e,t){return!(!t&&Xr(e)||e>=2304&&e<=3583||e>=3840&&e<=4255||Hr.Khmer(e))}function $r(e){for(var t=0,n=e;t<n.length;t+=1)if(Xr(n[t].charCodeAt(0)))return!0;return!1}var Jr=null,Qr="unavailable",ei=null,ti=function(e){e&&"string"==typeof e&&e.indexOf("NetworkError")>-1&&(Qr="error"),Jr&&Jr(e)};function ni(){ri.fire(new Pe("pluginStateChange",{pluginStatus:Qr,pluginURL:ei}))}var ri=new ke,ii=function(){return Qr},oi=function(){if("deferred"!==Qr||!ei)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Qr="loading",ni(),ei&&xe({url:ei},(function(e){e?ti(e):(Qr="loaded",ni())}))},ai={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return"loaded"===Qr||null!=ai.applyArabicShaping},isLoading:function(){return"loading"===Qr},setState:function(e){Qr=e.pluginStatus,ei=e.pluginURL},isParsed:function(){return null!=ai.applyArabicShaping&&null!=ai.processBidirectionalText&&null!=ai.processStyledBidirectionalText},getPluginURL:function(){return ei}},si=function(e,t){this.zoom=e,t?(this.now=t.now,this.fadeDuration=t.fadeDuration,this.zoomHistory=t.zoomHistory,this.transition=t.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Wr,this.transition={})};si.prototype.isSupportedScript=function(e){return function(e,t){for(var n=0,r=e;n<r.length;n+=1)if(!Yr(r[n].charCodeAt(0),t))return!1;return!0}(e,ai.isLoaded())},si.prototype.crossFadingFactor=function(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},si.prototype.getCrossfadeParameters=function(){var e=this.zoom,t=e-Math.floor(e),n=this.crossFadingFactor();return e>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:t+(1-t)*n}:{fromScale:.5,toScale:1,t:1-(1-n)*t}};var li=function(e,t){this.property=e,this.value=t,this.expression=function(e,t){if(Nn(e))return new $n(e,t);if(Gn(e)){var n=Yn(e,t);if("error"===n.result)throw new Error(n.value.map((function(e){return e.key+": "+e.message})).join(", "));return n.value}var r=e;return"string"==typeof e&&"color"===t.type&&(r=et.parse(e)),{kind:"constant",evaluate:function(){return r}}}(void 0===t?e.specification.default:t,e.specification)};li.prototype.isDataDriven=function(){return"source"===this.expression.kind||"composite"===this.expression.kind},li.prototype.possiblyEvaluate=function(e,t,n){return this.property.possiblyEvaluate(this,e,t,n)};var ui=function(e){this.property=e,this.value=new li(e,void 0)};ui.prototype.transitioned=function(e,t){return new pi(this.property,this.value,t,h({},e.transition,this.transition),e.now)},ui.prototype.untransitioned=function(){return new pi(this.property,this.value,null,{},0)};var ci=function(e){this._properties=e,this._values=Object.create(e.defaultTransitionablePropertyValues)};ci.prototype.getValue=function(e){return b(this._values[e].value.value)},ci.prototype.setValue=function(e,t){this._values.hasOwnProperty(e)||(this._values[e]=new ui(this._values[e].property)),this._values[e].value=new li(this._values[e].property,null===t?void 0:b(t))},ci.prototype.getTransition=function(e){return b(this._values[e].transition)},ci.prototype.setTransition=function(e,t){this._values.hasOwnProperty(e)||(this._values[e]=new ui(this._values[e].property)),this._values[e].transition=b(t)||void 0},ci.prototype.serialize=function(){for(var e={},t=0,n=Object.keys(this._values);t<n.length;t+=1){var r=n[t],i=this.getValue(r);void 0!==i&&(e[r]=i);var o=this.getTransition(r);void 0!==o&&(e[r+"-transition"]=o)}return e},ci.prototype.transitioned=function(e,t){for(var n=new hi(this._properties),r=0,i=Object.keys(this._values);r<i.length;r+=1){var o=i[r];n._values[o]=this._values[o].transitioned(e,t._values[o])}return n},ci.prototype.untransitioned=function(){for(var e=new hi(this._properties),t=0,n=Object.keys(this._values);t<n.length;t+=1){var r=n[t];e._values[r]=this._values[r].untransitioned()}return e};var pi=function(e,t,n,r,i){this.property=e,this.value=t,this.begin=i+r.delay||0,this.end=this.begin+r.duration||0,e.specification.transition&&(r.delay||r.duration)&&(this.prior=n)};pi.prototype.possiblyEvaluate=function(e,t,n){var r=e.now||0,i=this.value.possiblyEvaluate(e,t,n),o=this.prior;if(o){if(r>this.end)return this.prior=null,i;if(this.value.isDataDriven())return this.prior=null,i;if(r<this.begin)return o.possiblyEvaluate(e,t,n);var a=(r-this.begin)/(this.end-this.begin);return this.property.interpolate(o.possiblyEvaluate(e,t,n),i,function(e){if(e<=0)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(e<.5?n:3*(e-t)+n-.75)}(a))}return i};var hi=function(e){this._properties=e,this._values=Object.create(e.defaultTransitioningPropertyValues)};hi.prototype.possiblyEvaluate=function(e,t,n){for(var r=new mi(this._properties),i=0,o=Object.keys(this._values);i<o.length;i+=1){var a=o[i];r._values[a]=this._values[a].possiblyEvaluate(e,t,n)}return r},hi.prototype.hasTransition=function(){for(var e=0,t=Object.keys(this._values);e<t.length;e+=1)if(this._values[t[e]].prior)return!0;return!1};var di=function(e){this._properties=e,this._values=Object.create(e.defaultPropertyValues)};di.prototype.getValue=function(e){return b(this._values[e].value)},di.prototype.setValue=function(e,t){this._values[e]=new li(this._values[e].property,null===t?void 0:b(t))},di.prototype.serialize=function(){for(var e={},t=0,n=Object.keys(this._values);t<n.length;t+=1){var r=n[t],i=this.getValue(r);void 0!==i&&(e[r]=i)}return e},di.prototype.possiblyEvaluate=function(e,t,n){for(var r=new mi(this._properties),i=0,o=Object.keys(this._values);i<o.length;i+=1){var a=o[i];r._values[a]=this._values[a].possiblyEvaluate(e,t,n)}return r};var fi=function(e,t,n){this.property=e,this.value=t,this.parameters=n};fi.prototype.isConstant=function(){return"constant"===this.value.kind},fi.prototype.constantOr=function(e){return"constant"===this.value.kind?this.value.value:e},fi.prototype.evaluate=function(e,t,n,r){return this.property.evaluate(this.value,this.parameters,e,t,n,r)};var mi=function(e){this._properties=e,this._values=Object.create(e.defaultPossiblyEvaluatedValues)};mi.prototype.get=function(e){return this._values[e]};var yi=function(e){this.specification=e};yi.prototype.possiblyEvaluate=function(e,t){return e.expression.evaluate(t)},yi.prototype.interpolate=function(e,t,n){var r=Ht[this.specification.type];return r?r(e,t,n):e};var vi=function(e,t){this.specification=e,this.overrides=t};vi.prototype.possiblyEvaluate=function(e,t,n,r){return new fi(this,"constant"===e.expression.kind||"camera"===e.expression.kind?{kind:"constant",value:e.expression.evaluate(t,null,{},n,r)}:e.expression,t)},vi.prototype.interpolate=function(e,t,n){if("constant"!==e.value.kind||"constant"!==t.value.kind)return e;if(void 0===e.value.value||void 0===t.value.value)return new fi(this,{kind:"constant",value:void 0},e.parameters);var r=Ht[this.specification.type];return r?new fi(this,{kind:"constant",value:r(e.value.value,t.value.value,n)},e.parameters):e},vi.prototype.evaluate=function(e,t,n,r,i,o){return"constant"===e.kind?e.value:e.evaluate(t,n,r,i,o)};var gi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.possiblyEvaluate=function(e,t,n,r){if(void 0===e.value)return new fi(this,{kind:"constant",value:void 0},t);if("constant"===e.expression.kind){var i=e.expression.evaluate(t,null,{},n,r),o="resolvedImage"===e.property.specification.type&&"string"!=typeof i?i.name:i,a=this._calculate(o,o,o,t);return new fi(this,{kind:"constant",value:a},t)}if("camera"===e.expression.kind){var s=this._calculate(e.expression.evaluate({zoom:t.zoom-1}),e.expression.evaluate({zoom:t.zoom}),e.expression.evaluate({zoom:t.zoom+1}),t);return new fi(this,{kind:"constant",value:s},t)}return new fi(this,e.expression,t)},t.prototype.evaluate=function(e,t,n,r,i,o){if("source"===e.kind){var a=e.evaluate(t,n,r,i,o);return this._calculate(a,a,a,t)}return"composite"===e.kind?this._calculate(e.evaluate({zoom:Math.floor(t.zoom)-1},n,r),e.evaluate({zoom:Math.floor(t.zoom)},n,r),e.evaluate({zoom:Math.floor(t.zoom)+1},n,r),t):e.value},t.prototype._calculate=function(e,t,n,r){return r.zoom>r.zoomHistory.lastIntegerZoom?{from:e,to:t}:{from:n,to:t}},t.prototype.interpolate=function(e){return e},t}(vi),_i=function(e){this.specification=e};_i.prototype.possiblyEvaluate=function(e,t,n,r){if(void 0!==e.value){if("constant"===e.expression.kind){var i=e.expression.evaluate(t,null,{},n,r);return this._calculate(i,i,i,t)}return this._calculate(e.expression.evaluate(new si(Math.floor(t.zoom-1),t)),e.expression.evaluate(new si(Math.floor(t.zoom),t)),e.expression.evaluate(new si(Math.floor(t.zoom+1),t)),t)}},_i.prototype._calculate=function(e,t,n,r){return r.zoom>r.zoomHistory.lastIntegerZoom?{from:e,to:t}:{from:n,to:t}},_i.prototype.interpolate=function(e){return e};var xi=function(e){this.specification=e};xi.prototype.possiblyEvaluate=function(e,t,n,r){return!!e.expression.evaluate(t,null,{},n,r)},xi.prototype.interpolate=function(){return!1};var bi=function(e){for(var t in this.properties=e,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],e){var n=e[t];n.specification.overridable&&this.overridableProperties.push(t);var r=this.defaultPropertyValues[t]=new li(n,void 0),i=this.defaultTransitionablePropertyValues[t]=new ui(n);this.defaultTransitioningPropertyValues[t]=i.untransitioned(),this.defaultPossiblyEvaluatedValues[t]=r.possiblyEvaluate({})}};Nr("DataDrivenProperty",vi),Nr("DataConstantProperty",yi),Nr("CrossFadedDataDrivenProperty",gi),Nr("CrossFadedProperty",_i),Nr("ColorRampProperty",xi);var wi=function(e){function t(t,n){if(e.call(this),this.id=t.id,this.type=t.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},"custom"!==t.type&&(this.metadata=t.metadata,this.minzoom=t.minzoom,this.maxzoom=t.maxzoom,"background"!==t.type&&(this.source=t.source,this.sourceLayer=t["source-layer"],this.filter=t.filter),n.layout&&(this._unevaluatedLayout=new di(n.layout)),n.paint)){for(var r in this._transitionablePaint=new ci(n.paint),t.paint)this.setPaintProperty(r,t.paint[r],{validate:!1});for(var i in t.layout)this.setLayoutProperty(i,t.layout[i],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new mi(n.paint)}}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},t.prototype.getLayoutProperty=function(e){return"visibility"===e?this.visibility:this._unevaluatedLayout.getValue(e)},t.prototype.setLayoutProperty=function(e,t,n){void 0===n&&(n={}),null!=t&&this._validate(Or,"layers."+this.id+".layout."+e,e,t,n)||("visibility"!==e?this._unevaluatedLayout.setValue(e,t):this.visibility=t)},t.prototype.getPaintProperty=function(e){return g(e,"-transition")?this._transitionablePaint.getTransition(e.slice(0,-11)):this._transitionablePaint.getValue(e)},t.prototype.setPaintProperty=function(e,t,n){if(void 0===n&&(n={}),null!=t&&this._validate(Ir,"layers."+this.id+".paint."+e,e,t,n))return!1;if(g(e,"-transition"))return this._transitionablePaint.setTransition(e.slice(0,-11),t||void 0),!1;var r=this._transitionablePaint._values[e],i="cross-faded-data-driven"===r.property.specification["property-type"],o=r.value.isDataDriven(),a=r.value;this._transitionablePaint.setValue(e,t),this._handleSpecialPaintPropertyUpdate(e);var s=this._transitionablePaint._values[e].value;return s.isDataDriven()||o||i||this._handleOverridablePaintPropertyUpdate(e,a,s)},t.prototype._handleSpecialPaintPropertyUpdate=function(e){},t.prototype._handleOverridablePaintPropertyUpdate=function(e,t,n){return!1},t.prototype.isHidden=function(e){return!!(this.minzoom&&e<this.minzoom)||!!(this.maxzoom&&e>=this.maxzoom)||"none"===this.visibility},t.prototype.updateTransitions=function(e){this._transitioningPaint=this._transitionablePaint.transitioned(e,this._transitioningPaint)},t.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},t.prototype.recalculate=function(e,t){e.getCrossfadeParameters&&(this._crossfadeParameters=e.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(e,void 0,t)),this.paint=this._transitioningPaint.possiblyEvaluate(e,void 0,t)},t.prototype.serialize=function(){var e={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(e.layout=e.layout||{},e.layout.visibility=this.visibility),x(e,(function(e,t){return!(void 0===e||"layout"===t&&!Object.keys(e).length||"paint"===t&&!Object.keys(e).length)}))},t.prototype._validate=function(e,t,n,r,i){return void 0===i&&(i={}),(!i||!1!==i.validate)&&Dr(this,e.call(kr,{key:t,layerType:this.type,objectKey:n,value:r,styleSpec:Ae,style:{glyphs:!0,sprite:!0}}))},t.prototype.is3D=function(){return!1},t.prototype.isTileClipped=function(){return!1},t.prototype.hasOffscreenPass=function(){return!1},t.prototype.resize=function(){},t.prototype.isStateDependent=function(){for(var e in this.paint._values){var t=this.paint.get(e);if(t instanceof fi&&jn(t.property.specification)&&("source"===t.value.kind||"composite"===t.value.kind)&&t.value.isStateDependent)return!0}return!1},t}(ke),Si={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},Ei=function(e,t){this._structArray=e,this._pos1=t*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},Ti=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function Pi(e,t){void 0===t&&(t=1);var n=0,r=0;return{members:e.map((function(e){var i=Si[e.type].BYTES_PER_ELEMENT,o=n=Ci(n,Math.max(t,i)),a=e.components||1;return r=Math.max(r,i),n+=i*a,{name:e.name,type:e.type,components:a,offset:o}})),size:Ci(n,Math.max(r,t)),alignment:t}}function Ci(e,t){return Math.ceil(e/t)*t}Ti.serialize=function(e,t){return e._trim(),t&&(e.isTransferred=!0,t.push(e.arrayBuffer)),{length:e.length,arrayBuffer:e.arrayBuffer}},Ti.deserialize=function(e){var t=Object.create(this.prototype);return t.arrayBuffer=e.arrayBuffer,t.length=e.length,t.capacity=e.arrayBuffer.byteLength/t.bytesPerElement,t._refreshViews(),t},Ti.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},Ti.prototype.clear=function(){this.length=0},Ti.prototype.resize=function(e){this.reserve(e),this.length=e},Ti.prototype.reserve=function(e){if(e>this.capacity){this.capacity=Math.max(e,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var t=this.uint8;this._refreshViews(),t&&this.uint8.set(t)}},Ti.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var ki=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t){var n=this.length;return this.resize(n+1),this.emplace(n,e,t)},t.prototype.emplace=function(e,t,n){var r=2*e;return this.int16[r+0]=t,this.int16[r+1]=n,e},t}(Ti);ki.prototype.bytesPerElement=4,Nr("StructArrayLayout2i4",ki);var Ai=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r){var i=this.length;return this.resize(i+1),this.emplace(i,e,t,n,r)},t.prototype.emplace=function(e,t,n,r,i){var o=4*e;return this.int16[o+0]=t,this.int16[o+1]=n,this.int16[o+2]=r,this.int16[o+3]=i,e},t}(Ti);Ai.prototype.bytesPerElement=8,Nr("StructArrayLayout4i8",Ai);var Ii=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i,o){var a=this.length;return this.resize(a+1),this.emplace(a,e,t,n,r,i,o)},t.prototype.emplace=function(e,t,n,r,i,o,a){var s=6*e;return this.int16[s+0]=t,this.int16[s+1]=n,this.int16[s+2]=r,this.int16[s+3]=i,this.int16[s+4]=o,this.int16[s+5]=a,e},t}(Ti);Ii.prototype.bytesPerElement=12,Nr("StructArrayLayout2i4i12",Ii);var Oi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i,o){var a=this.length;return this.resize(a+1),this.emplace(a,e,t,n,r,i,o)},t.prototype.emplace=function(e,t,n,r,i,o,a){var s=4*e,l=8*e;return this.int16[s+0]=t,this.int16[s+1]=n,this.uint8[l+4]=r,this.uint8[l+5]=i,this.uint8[l+6]=o,this.uint8[l+7]=a,e},t}(Ti);Oi.prototype.bytesPerElement=8,Nr("StructArrayLayout2i4ub8",Oi);var Di=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t){var n=this.length;return this.resize(n+1),this.emplace(n,e,t)},t.prototype.emplace=function(e,t,n){var r=2*e;return this.float32[r+0]=t,this.float32[r+1]=n,e},t}(Ti);Di.prototype.bytesPerElement=8,Nr("StructArrayLayout2f8",Di);var Mi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i,o,a,s,l,u){var c=this.length;return this.resize(c+1),this.emplace(c,e,t,n,r,i,o,a,s,l,u)},t.prototype.emplace=function(e,t,n,r,i,o,a,s,l,u,c){var p=10*e;return this.uint16[p+0]=t,this.uint16[p+1]=n,this.uint16[p+2]=r,this.uint16[p+3]=i,this.uint16[p+4]=o,this.uint16[p+5]=a,this.uint16[p+6]=s,this.uint16[p+7]=l,this.uint16[p+8]=u,this.uint16[p+9]=c,e},t}(Ti);Mi.prototype.bytesPerElement=20,Nr("StructArrayLayout10ui20",Mi);var ji=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i,o,a,s,l,u,c,p){var h=this.length;return this.resize(h+1),this.emplace(h,e,t,n,r,i,o,a,s,l,u,c,p)},t.prototype.emplace=function(e,t,n,r,i,o,a,s,l,u,c,p,h){var d=12*e;return this.int16[d+0]=t,this.int16[d+1]=n,this.int16[d+2]=r,this.int16[d+3]=i,this.uint16[d+4]=o,this.uint16[d+5]=a,this.uint16[d+6]=s,this.uint16[d+7]=l,this.int16[d+8]=u,this.int16[d+9]=c,this.int16[d+10]=p,this.int16[d+11]=h,e},t}(Ti);ji.prototype.bytesPerElement=24,Nr("StructArrayLayout4i4ui4i24",ji);var Ri=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n){var r=this.length;return this.resize(r+1),this.emplace(r,e,t,n)},t.prototype.emplace=function(e,t,n,r){var i=3*e;return this.float32[i+0]=t,this.float32[i+1]=n,this.float32[i+2]=r,e},t}(Ti);Ri.prototype.bytesPerElement=12,Nr("StructArrayLayout3f12",Ri);var Li=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e){var t=this.length;return this.resize(t+1),this.emplace(t,e)},t.prototype.emplace=function(e,t){return this.uint32[1*e+0]=t,e},t}(Ti);Li.prototype.bytesPerElement=4,Nr("StructArrayLayout1ul4",Li);var zi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i,o,a,s,l){var u=this.length;return this.resize(u+1),this.emplace(u,e,t,n,r,i,o,a,s,l)},t.prototype.emplace=function(e,t,n,r,i,o,a,s,l,u){var c=10*e,p=5*e;return this.int16[c+0]=t,this.int16[c+1]=n,this.int16[c+2]=r,this.int16[c+3]=i,this.int16[c+4]=o,this.int16[c+5]=a,this.uint32[p+3]=s,this.uint16[c+8]=l,this.uint16[c+9]=u,e},t}(Ti);zi.prototype.bytesPerElement=20,Nr("StructArrayLayout6i1ul2ui20",zi);var Ni=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i,o){var a=this.length;return this.resize(a+1),this.emplace(a,e,t,n,r,i,o)},t.prototype.emplace=function(e,t,n,r,i,o,a){var s=6*e;return this.int16[s+0]=t,this.int16[s+1]=n,this.int16[s+2]=r,this.int16[s+3]=i,this.int16[s+4]=o,this.int16[s+5]=a,e},t}(Ti);Ni.prototype.bytesPerElement=12,Nr("StructArrayLayout2i2i2i12",Ni);var Bi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i){var o=this.length;return this.resize(o+1),this.emplace(o,e,t,n,r,i)},t.prototype.emplace=function(e,t,n,r,i,o){var a=4*e,s=8*e;return this.float32[a+0]=t,this.float32[a+1]=n,this.float32[a+2]=r,this.int16[s+6]=i,this.int16[s+7]=o,e},t}(Ti);Bi.prototype.bytesPerElement=16,Nr("StructArrayLayout2f1f2i16",Bi);var Fi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r){var i=this.length;return this.resize(i+1),this.emplace(i,e,t,n,r)},t.prototype.emplace=function(e,t,n,r,i){var o=12*e,a=3*e;return this.uint8[o+0]=t,this.uint8[o+1]=n,this.float32[a+1]=r,this.float32[a+2]=i,e},t}(Ti);Fi.prototype.bytesPerElement=12,Nr("StructArrayLayout2ub2f12",Fi);var Ui=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n){var r=this.length;return this.resize(r+1),this.emplace(r,e,t,n)},t.prototype.emplace=function(e,t,n,r){var i=3*e;return this.uint16[i+0]=t,this.uint16[i+1]=n,this.uint16[i+2]=r,e},t}(Ti);Ui.prototype.bytesPerElement=6,Nr("StructArrayLayout3ui6",Ui);var Vi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i,o,a,s,l,u,c,p,h,d,f,m,y){var v=this.length;return this.resize(v+1),this.emplace(v,e,t,n,r,i,o,a,s,l,u,c,p,h,d,f,m,y)},t.prototype.emplace=function(e,t,n,r,i,o,a,s,l,u,c,p,h,d,f,m,y,v){var g=24*e,_=12*e,x=48*e;return this.int16[g+0]=t,this.int16[g+1]=n,this.uint16[g+2]=r,this.uint16[g+3]=i,this.uint32[_+2]=o,this.uint32[_+3]=a,this.uint32[_+4]=s,this.uint16[g+10]=l,this.uint16[g+11]=u,this.uint16[g+12]=c,this.float32[_+7]=p,this.float32[_+8]=h,this.uint8[x+36]=d,this.uint8[x+37]=f,this.uint8[x+38]=m,this.uint32[_+10]=y,this.int16[g+22]=v,e},t}(Ti);Vi.prototype.bytesPerElement=48,Nr("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Vi);var qi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i,o,a,s,l,u,c,p,h,d,f,m,y,v,g,_,x,b,w,S,E,T,P,C){var k=this.length;return this.resize(k+1),this.emplace(k,e,t,n,r,i,o,a,s,l,u,c,p,h,d,f,m,y,v,g,_,x,b,w,S,E,T,P,C)},t.prototype.emplace=function(e,t,n,r,i,o,a,s,l,u,c,p,h,d,f,m,y,v,g,_,x,b,w,S,E,T,P,C,k){var A=34*e,I=17*e;return this.int16[A+0]=t,this.int16[A+1]=n,this.int16[A+2]=r,this.int16[A+3]=i,this.int16[A+4]=o,this.int16[A+5]=a,this.int16[A+6]=s,this.int16[A+7]=l,this.uint16[A+8]=u,this.uint16[A+9]=c,this.uint16[A+10]=p,this.uint16[A+11]=h,this.uint16[A+12]=d,this.uint16[A+13]=f,this.uint16[A+14]=m,this.uint16[A+15]=y,this.uint16[A+16]=v,this.uint16[A+17]=g,this.uint16[A+18]=_,this.uint16[A+19]=x,this.uint16[A+20]=b,this.uint16[A+21]=w,this.uint16[A+22]=S,this.uint32[I+12]=E,this.float32[I+13]=T,this.float32[I+14]=P,this.float32[I+15]=C,this.float32[I+16]=k,e},t}(Ti);qi.prototype.bytesPerElement=68,Nr("StructArrayLayout8i15ui1ul4f68",qi);var Wi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e){var t=this.length;return this.resize(t+1),this.emplace(t,e)},t.prototype.emplace=function(e,t){return this.float32[1*e+0]=t,e},t}(Ti);Wi.prototype.bytesPerElement=4,Nr("StructArrayLayout1f4",Wi);var Hi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n){var r=this.length;return this.resize(r+1),this.emplace(r,e,t,n)},t.prototype.emplace=function(e,t,n,r){var i=3*e;return this.int16[i+0]=t,this.int16[i+1]=n,this.int16[i+2]=r,e},t}(Ti);Hi.prototype.bytesPerElement=6,Nr("StructArrayLayout3i6",Hi);var Gi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n){var r=this.length;return this.resize(r+1),this.emplace(r,e,t,n)},t.prototype.emplace=function(e,t,n,r){var i=4*e;return this.uint32[2*e+0]=t,this.uint16[i+2]=n,this.uint16[i+3]=r,e},t}(Ti);Gi.prototype.bytesPerElement=8,Nr("StructArrayLayout1ul2ui8",Gi);var Zi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t){var n=this.length;return this.resize(n+1),this.emplace(n,e,t)},t.prototype.emplace=function(e,t,n){var r=2*e;return this.uint16[r+0]=t,this.uint16[r+1]=n,e},t}(Ti);Zi.prototype.bytesPerElement=4,Nr("StructArrayLayout2ui4",Zi);var Ki=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e){var t=this.length;return this.resize(t+1),this.emplace(t,e)},t.prototype.emplace=function(e,t){return this.uint16[1*e+0]=t,e},t}(Ti);Ki.prototype.bytesPerElement=2,Nr("StructArrayLayout1ui2",Ki);var Xi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r){var i=this.length;return this.resize(i+1),this.emplace(i,e,t,n,r)},t.prototype.emplace=function(e,t,n,r,i){var o=4*e;return this.float32[o+0]=t,this.float32[o+1]=n,this.float32[o+2]=r,this.float32[o+3]=i,e},t}(Ti);Xi.prototype.bytesPerElement=16,Nr("StructArrayLayout4f16",Xi);var Yi=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return n.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},n.x1.get=function(){return this._structArray.int16[this._pos2+2]},n.y1.get=function(){return this._structArray.int16[this._pos2+3]},n.x2.get=function(){return this._structArray.int16[this._pos2+4]},n.y2.get=function(){return this._structArray.int16[this._pos2+5]},n.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},n.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},n.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},n.anchorPoint.get=function(){return new i(this.anchorPointX,this.anchorPointY)},Object.defineProperties(t.prototype,n),t}(Ei);Yi.prototype.size=20;var $i=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.get=function(e){return new Yi(this,e)},t}(zi);Nr("CollisionBoxArray",$i);var Ji=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return n.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},n.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},n.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},n.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},n.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},n.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},n.segment.get=function(){return this._structArray.uint16[this._pos2+10]},n.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},n.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},n.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},n.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},n.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},n.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},n.placedOrientation.set=function(e){this._structArray.uint8[this._pos1+37]=e},n.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},n.hidden.set=function(e){this._structArray.uint8[this._pos1+38]=e},n.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},n.crossTileID.set=function(e){this._structArray.uint32[this._pos4+10]=e},n.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(t.prototype,n),t}(Ei);Ji.prototype.size=48;var Qi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.get=function(e){return new Ji(this,e)},t}(Vi);Nr("PlacedSymbolArray",Qi);var eo=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return n.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},n.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},n.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},n.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},n.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},n.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},n.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},n.key.get=function(){return this._structArray.uint16[this._pos2+8]},n.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},n.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},n.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},n.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},n.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},n.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},n.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},n.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},n.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},n.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},n.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},n.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},n.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},n.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},n.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},n.crossTileID.set=function(e){this._structArray.uint32[this._pos4+12]=e},n.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},n.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},n.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},n.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(t.prototype,n),t}(Ei);eo.prototype.size=68;var to=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.get=function(e){return new eo(this,e)},t}(qi);Nr("SymbolInstanceArray",to);var no=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getoffsetX=function(e){return this.float32[1*e+0]},t}(Wi);Nr("GlyphOffsetArray",no);var ro=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getx=function(e){return this.int16[3*e+0]},t.prototype.gety=function(e){return this.int16[3*e+1]},t.prototype.gettileUnitDistanceFromAnchor=function(e){return this.int16[3*e+2]},t}(Hi);Nr("SymbolLineVertexArray",ro);var io=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return n.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},n.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},n.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(t.prototype,n),t}(Ei);io.prototype.size=8;var oo=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.get=function(e){return new io(this,e)},t}(Gi);Nr("FeatureIndexArray",oo);var ao=Pi([{name:"a_pos",components:2,type:"Int16"}],4).members,so=function(e){void 0===e&&(e=[]),this.segments=e};function lo(e,t){return 256*(e=c(Math.floor(e),0,255))+c(Math.floor(t),0,255)}so.prototype.prepareSegment=function(e,t,n,r){var i=this.segments[this.segments.length-1];return e>so.MAX_VERTEX_ARRAY_LENGTH&&S("Max vertices per segment is "+so.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+e),(!i||i.vertexLength+e>so.MAX_VERTEX_ARRAY_LENGTH||i.sortKey!==r)&&(i={vertexOffset:t.length,primitiveOffset:n.length,vertexLength:0,primitiveLength:0},void 0!==r&&(i.sortKey=r),this.segments.push(i)),i},so.prototype.get=function(){return this.segments},so.prototype.destroy=function(){for(var e=0,t=this.segments;e<t.length;e+=1){var n=t[e];for(var r in n.vaos)n.vaos[r].destroy()}},so.simpleSegment=function(e,t,n,r){return new so([{vertexOffset:e,primitiveOffset:t,vertexLength:n,primitiveLength:r,vaos:{},sortKey:0}])},so.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Nr("SegmentVector",so);var uo=Pi([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),co=t((function(e){e.exports=function(e,t){var n,r,i,o,a,s,l,u;for(r=e.length-(n=3&e.length),i=t,a=3432918353,s=461845907,u=0;u<r;)l=255&e.charCodeAt(u)|(255&e.charCodeAt(++u))<<8|(255&e.charCodeAt(++u))<<16|(255&e.charCodeAt(++u))<<24,++u,i=27492+(65535&(o=5*(65535&(i=(i^=l=(65535&(l=(l=(65535&l)*a+(((l>>>16)*a&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295)<<13|i>>>19))+((5*(i>>>16)&65535)<<16)&4294967295))+((58964+(o>>>16)&65535)<<16);switch(l=0,n){case 3:l^=(255&e.charCodeAt(u+2))<<16;case 2:l^=(255&e.charCodeAt(u+1))<<8;case 1:i^=l=(65535&(l=(l=(65535&(l^=255&e.charCodeAt(u)))*a+(((l>>>16)*a&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295}return i^=e.length,i=2246822507*(65535&(i^=i>>>16))+((2246822507*(i>>>16)&65535)<<16)&4294967295,i=3266489909*(65535&(i^=i>>>13))+((3266489909*(i>>>16)&65535)<<16)&4294967295,(i^=i>>>16)>>>0}})),po=t((function(e){e.exports=function(e,t){for(var n,r=e.length,i=t^r,o=0;r>=4;)n=1540483477*(65535&(n=255&e.charCodeAt(o)|(255&e.charCodeAt(++o))<<8|(255&e.charCodeAt(++o))<<16|(255&e.charCodeAt(++o))<<24))+((1540483477*(n>>>16)&65535)<<16),i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16)^(n=1540483477*(65535&(n^=n>>>24))+((1540483477*(n>>>16)&65535)<<16)),r-=4,++o;switch(r){case 3:i^=(255&e.charCodeAt(o+2))<<16;case 2:i^=(255&e.charCodeAt(o+1))<<8;case 1:i=1540483477*(65535&(i^=255&e.charCodeAt(o)))+((1540483477*(i>>>16)&65535)<<16)}return i=1540483477*(65535&(i^=i>>>13))+((1540483477*(i>>>16)&65535)<<16),(i^=i>>>15)>>>0}})),ho=co,fo=po;ho.murmur3=co,ho.murmur2=fo;var mo=function(){this.ids=[],this.positions=[],this.indexed=!1};mo.prototype.add=function(e,t,n,r){this.ids.push(vo(e)),this.positions.push(t,n,r)},mo.prototype.getPositions=function(e){for(var t=vo(e),n=0,r=this.ids.length-1;n<r;){var i=n+r>>1;this.ids[i]>=t?r=i:n=i+1}for(var o=[];this.ids[n]===t;)o.push({index:this.positions[3*n],start:this.positions[3*n+1],end:this.positions[3*n+2]}),n++;return o},mo.serialize=function(e,t){var n=new Float64Array(e.ids),r=new Uint32Array(e.positions);return function e(t,n,r,i){for(;r<i;){for(var o=t[r+i>>1],a=r-1,s=i+1;;){do{a++}while(t[a]<o);do{s--}while(t[s]>o);if(a>=s)break;go(t,a,s),go(n,3*a,3*s),go(n,3*a+1,3*s+1),go(n,3*a+2,3*s+2)}s-r<i-s?(e(t,n,r,s),r=s+1):(e(t,n,s+1,i),i=s)}}(n,r,0,n.length-1),t&&t.push(n.buffer,r.buffer),{ids:n,positions:r}},mo.deserialize=function(e){var t=new mo;return t.ids=e.ids,t.positions=e.positions,t.indexed=!0,t};var yo=Math.pow(2,53)-1;function vo(e){var t=+e;return!isNaN(t)&&t<=yo?t:ho(String(e))}function go(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}Nr("FeaturePositionMap",mo);var _o=function(e,t){this.gl=e.gl,this.location=t},xo=function(e){function t(t,n){e.call(this,t,n),this.current=0}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){this.current!==e&&(this.current=e,this.gl.uniform1i(this.location,e))},t}(_o),bo=function(e){function t(t,n){e.call(this,t,n),this.current=0}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){this.current!==e&&(this.current=e,this.gl.uniform1f(this.location,e))},t}(_o),wo=function(e){function t(t,n){e.call(this,t,n),this.current=[0,0]}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){e[0]===this.current[0]&&e[1]===this.current[1]||(this.current=e,this.gl.uniform2f(this.location,e[0],e[1]))},t}(_o),So=function(e){function t(t,n){e.call(this,t,n),this.current=[0,0,0]}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){e[0]===this.current[0]&&e[1]===this.current[1]&&e[2]===this.current[2]||(this.current=e,this.gl.uniform3f(this.location,e[0],e[1],e[2]))},t}(_o),Eo=function(e){function t(t,n){e.call(this,t,n),this.current=[0,0,0,0]}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){e[0]===this.current[0]&&e[1]===this.current[1]&&e[2]===this.current[2]&&e[3]===this.current[3]||(this.current=e,this.gl.uniform4f(this.location,e[0],e[1],e[2],e[3]))},t}(_o),To=function(e){function t(t,n){e.call(this,t,n),this.current=et.transparent}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){e.r===this.current.r&&e.g===this.current.g&&e.b===this.current.b&&e.a===this.current.a||(this.current=e,this.gl.uniform4f(this.location,e.r,e.g,e.b,e.a))},t}(_o),Po=new Float32Array(16),Co=function(e){function t(t,n){e.call(this,t,n),this.current=Po}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){if(e[12]!==this.current[12]||e[0]!==this.current[0])return this.current=e,void this.gl.uniformMatrix4fv(this.location,!1,e);for(var t=1;t<16;t++)if(e[t]!==this.current[t]){this.current=e,this.gl.uniformMatrix4fv(this.location,!1,e);break}},t}(_o);function ko(e){return[lo(255*e.r,255*e.g),lo(255*e.b,255*e.a)]}var Ao=function(e,t,n){this.value=e,this.uniformNames=t.map((function(e){return"u_"+e})),this.type=n};Ao.prototype.setUniform=function(e,t,n){e.set(n.constantOr(this.value))},Ao.prototype.getBinding=function(e,t,n){return"color"===this.type?new To(e,t):new bo(e,t)};var Io=function(e,t){this.uniformNames=t.map((function(e){return"u_"+e})),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};Io.prototype.setConstantPatternPositions=function(e,t){this.pixelRatioFrom=t.pixelRatio,this.pixelRatioTo=e.pixelRatio,this.patternFrom=t.tlbr,this.patternTo=e.tlbr},Io.prototype.setUniform=function(e,t,n,r){var i="u_pattern_to"===r?this.patternTo:"u_pattern_from"===r?this.patternFrom:"u_pixel_ratio_to"===r?this.pixelRatioTo:"u_pixel_ratio_from"===r?this.pixelRatioFrom:null;i&&e.set(i)},Io.prototype.getBinding=function(e,t,n){return"u_pattern"===n.substr(0,9)?new Eo(e,t):new bo(e,t)};var Oo=function(e,t,n,r){this.expression=e,this.type=n,this.maxValue=0,this.paintVertexAttributes=t.map((function(e){return{name:"a_"+e,type:"Float32",components:"color"===n?2:1,offset:0}})),this.paintVertexArray=new r};Oo.prototype.populatePaintArray=function(e,t,n,r,i){var o=this.paintVertexArray.length,a=this.expression.evaluate(new si(0),t,{},r,[],i);this.paintVertexArray.resize(e),this._setPaintValue(o,e,a)},Oo.prototype.updatePaintArray=function(e,t,n,r){var i=this.expression.evaluate({zoom:0},n,r);this._setPaintValue(e,t,i)},Oo.prototype._setPaintValue=function(e,t,n){if("color"===this.type)for(var r=ko(n),i=e;i<t;i++)this.paintVertexArray.emplace(i,r[0],r[1]);else{for(var o=e;o<t;o++)this.paintVertexArray.emplace(o,n);this.maxValue=Math.max(this.maxValue,Math.abs(n))}},Oo.prototype.upload=function(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Oo.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var Do=function(e,t,n,r,i,o){this.expression=e,this.uniformNames=t.map((function(e){return"u_"+e+"_t"})),this.type=n,this.useIntegerZoom=r,this.zoom=i,this.maxValue=0,this.paintVertexAttributes=t.map((function(e){return{name:"a_"+e,type:"Float32",components:"color"===n?4:2,offset:0}})),this.paintVertexArray=new o};Do.prototype.populatePaintArray=function(e,t,n,r,i){var o=this.expression.evaluate(new si(this.zoom),t,{},r,[],i),a=this.expression.evaluate(new si(this.zoom+1),t,{},r,[],i),s=this.paintVertexArray.length;this.paintVertexArray.resize(e),this._setPaintValue(s,e,o,a)},Do.prototype.updatePaintArray=function(e,t,n,r){var i=this.expression.evaluate({zoom:this.zoom},n,r),o=this.expression.evaluate({zoom:this.zoom+1},n,r);this._setPaintValue(e,t,i,o)},Do.prototype._setPaintValue=function(e,t,n,r){if("color"===this.type)for(var i=ko(n),o=ko(r),a=e;a<t;a++)this.paintVertexArray.emplace(a,i[0],i[1],o[0],o[1]);else{for(var s=e;s<t;s++)this.paintVertexArray.emplace(s,n,r);this.maxValue=Math.max(this.maxValue,Math.abs(n),Math.abs(r))}},Do.prototype.upload=function(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Do.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},Do.prototype.setUniform=function(e,t){var n=this.useIntegerZoom?Math.floor(t.zoom):t.zoom,r=c(this.expression.interpolationFactor(n,this.zoom,this.zoom+1),0,1);e.set(r)},Do.prototype.getBinding=function(e,t,n){return new bo(e,t)};var Mo=function(e,t,n,r,i,o){this.expression=e,this.type=t,this.useIntegerZoom=n,this.zoom=r,this.layerId=o,this.zoomInPaintVertexArray=new i,this.zoomOutPaintVertexArray=new i};Mo.prototype.populatePaintArray=function(e,t,n){var r=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(e),this.zoomOutPaintVertexArray.resize(e),this._setPaintValues(r,e,t.patterns&&t.patterns[this.layerId],n)},Mo.prototype.updatePaintArray=function(e,t,n,r,i){this._setPaintValues(e,t,n.patterns&&n.patterns[this.layerId],i)},Mo.prototype._setPaintValues=function(e,t,n,r){if(r&&n){var i=r[n.min],o=r[n.mid],a=r[n.max];if(i&&o&&a)for(var s=e;s<t;s++)this.zoomInPaintVertexArray.emplace(s,o.tl[0],o.tl[1],o.br[0],o.br[1],i.tl[0],i.tl[1],i.br[0],i.br[1],o.pixelRatio,i.pixelRatio),this.zoomOutPaintVertexArray.emplace(s,o.tl[0],o.tl[1],o.br[0],o.br[1],a.tl[0],a.tl[1],a.br[0],a.br[1],o.pixelRatio,a.pixelRatio)}},Mo.prototype.upload=function(e){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=e.createVertexBuffer(this.zoomInPaintVertexArray,uo.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=e.createVertexBuffer(this.zoomOutPaintVertexArray,uo.members,this.expression.isStateDependent))},Mo.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var jo=function(e,t,n){this.binders={},this._buffers=[];var r=[];for(var i in e.paint._values)if(n(i)){var o=e.paint.get(i);if(o instanceof fi&&jn(o.property.specification)){var a=Lo(i,e.type),s=o.value,l=o.property.specification.type,u=o.property.useIntegerZoom,c=o.property.specification["property-type"],p="cross-faded"===c||"cross-faded-data-driven"===c;if("constant"===s.kind)this.binders[i]=p?new Io(s.value,a):new Ao(s.value,a,l),r.push("/u_"+i);else if("source"===s.kind||p){var h=zo(i,l,"source");this.binders[i]=p?new Mo(s,l,u,t,h,e.id):new Oo(s,a,l,h),r.push("/a_"+i)}else{var d=zo(i,l,"composite");this.binders[i]=new Do(s,a,l,u,t,d),r.push("/z_"+i)}}}this.cacheKey=r.sort().join("")};jo.prototype.getMaxValue=function(e){var t=this.binders[e];return t instanceof Oo||t instanceof Do?t.maxValue:0},jo.prototype.populatePaintArrays=function(e,t,n,r,i){for(var o in this.binders){var a=this.binders[o];(a instanceof Oo||a instanceof Do||a instanceof Mo)&&a.populatePaintArray(e,t,n,r,i)}},jo.prototype.setConstantPatternPositions=function(e,t){for(var n in this.binders){var r=this.binders[n];r instanceof Io&&r.setConstantPatternPositions(e,t)}},jo.prototype.updatePaintArrays=function(e,t,n,r,i){var o=!1;for(var a in e)for(var s=0,l=t.getPositions(a);s<l.length;s+=1){var u=l[s],c=n.feature(u.index);for(var p in this.binders){var h=this.binders[p];if((h instanceof Oo||h instanceof Do||h instanceof Mo)&&!0===h.expression.isStateDependent){var d=r.paint.get(p);h.expression=d.value,h.updatePaintArray(u.start,u.end,c,e[a],i),o=!0}}}return o},jo.prototype.defines=function(){var e=[];for(var t in this.binders){var n=this.binders[t];(n instanceof Ao||n instanceof Io)&&e.push.apply(e,n.uniformNames.map((function(e){return"#define HAS_UNIFORM_"+e})))}return e},jo.prototype.getBinderAttributes=function(){var e=[];for(var t in this.binders){var n=this.binders[t];if(n instanceof Oo||n instanceof Do)for(var r=0;r<n.paintVertexAttributes.length;r++)e.push(n.paintVertexAttributes[r].name);else if(n instanceof Mo)for(var i=0;i<uo.members.length;i++)e.push(uo.members[i].name)}return e},jo.prototype.getBinderUniforms=function(){var e=[];for(var t in this.binders){var n=this.binders[t];if(n instanceof Ao||n instanceof Io||n instanceof Do)for(var r=0,i=n.uniformNames;r<i.length;r+=1)e.push(i[r])}return e},jo.prototype.getPaintVertexBuffers=function(){return this._buffers},jo.prototype.getUniforms=function(e,t){var n=[];for(var r in this.binders){var i=this.binders[r];if(i instanceof Ao||i instanceof Io||i instanceof Do)for(var o=0,a=i.uniformNames;o<a.length;o+=1){var s=a[o];if(t[s]){var l=i.getBinding(e,t[s],s);n.push({name:s,property:r,binding:l})}}}return n},jo.prototype.setUniforms=function(e,t,n,r){for(var i=0,o=t;i<o.length;i+=1){var a=o[i],s=a.name,l=a.property;this.binders[l].setUniform(a.binding,r,n.get(l),s)}},jo.prototype.updatePaintBuffers=function(e){for(var t in this._buffers=[],this.binders){var n=this.binders[t];if(e&&n instanceof Mo){var r=2===e.fromScale?n.zoomInPaintVertexBuffer:n.zoomOutPaintVertexBuffer;r&&this._buffers.push(r)}else(n instanceof Oo||n instanceof Do)&&n.paintVertexBuffer&&this._buffers.push(n.paintVertexBuffer)}},jo.prototype.upload=function(e){for(var t in this.binders){var n=this.binders[t];(n instanceof Oo||n instanceof Do||n instanceof Mo)&&n.upload(e)}this.updatePaintBuffers()},jo.prototype.destroy=function(){for(var e in this.binders){var t=this.binders[e];(t instanceof Oo||t instanceof Do||t instanceof Mo)&&t.destroy()}};var Ro=function(e,t,n){void 0===n&&(n=function(){return!0}),this.programConfigurations={};for(var r=0,i=e;r<i.length;r+=1){var o=i[r];this.programConfigurations[o.id]=new jo(o,t,n)}this.needsUpload=!1,this._featureMap=new mo,this._bufferOffset=0};function Lo(e,t){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[e]||[e.replace(t+"-","").replace(/-/g,"_")]}function zo(e,t,n){var r={color:{source:Di,composite:Xi},number:{source:Wi,composite:Di}},i=function(e){return{"line-pattern":{source:Mi,composite:Mi},"fill-pattern":{source:Mi,composite:Mi},"fill-extrusion-pattern":{source:Mi,composite:Mi}}[e]}(e);return i&&i[n]||r[t][n]}Ro.prototype.populatePaintArrays=function(e,t,n,r,i,o){for(var a in this.programConfigurations)this.programConfigurations[a].populatePaintArrays(e,t,r,i,o);void 0!==t.id&&this._featureMap.add(t.id,n,this._bufferOffset,e),this._bufferOffset=e,this.needsUpload=!0},Ro.prototype.updatePaintArrays=function(e,t,n,r){for(var i=0,o=n;i<o.length;i+=1){var a=o[i];this.needsUpload=this.programConfigurations[a.id].updatePaintArrays(e,this._featureMap,t,a,r)||this.needsUpload}},Ro.prototype.get=function(e){return this.programConfigurations[e]},Ro.prototype.upload=function(e){if(this.needsUpload){for(var t in this.programConfigurations)this.programConfigurations[t].upload(e);this.needsUpload=!1}},Ro.prototype.destroy=function(){for(var e in this.programConfigurations)this.programConfigurations[e].destroy()},Nr("ConstantBinder",Ao),Nr("CrossFadedConstantBinder",Io),Nr("SourceExpressionBinder",Oo),Nr("CrossFadedCompositeBinder",Mo),Nr("CompositeExpressionBinder",Do),Nr("ProgramConfiguration",jo,{omit:["_buffers"]}),Nr("ProgramConfigurationSet",Ro);var No=Math.pow(2,14)-1,Bo=-No-1;function Fo(e){for(var t=8192/e.extent,n=e.loadGeometry(),r=0;r<n.length;r++)for(var i=n[r],o=0;o<i.length;o++){var a=i[o],s=Math.round(a.x*t),l=Math.round(a.y*t);a.x=c(s,Bo,No),a.y=c(l,Bo,No),(s<a.x||s>a.x+1||l<a.y||l>a.y+1)&&S("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return n}function Uo(e,t){return{type:e.type,id:e.id,properties:e.properties,geometry:t?Fo(e):[]}}function Vo(e,t,n,r,i){e.emplaceBack(2*t+(r+1)/2,2*n+(i+1)/2)}var qo=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=e.index,this.hasPattern=!1,this.layoutVertexArray=new ki,this.indexArray=new Ui,this.segments=new so,this.programConfigurations=new Ro(e.layers,e.zoom),this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id}))};function Wo(e,t){for(var n=0;n<e.length;n++)if(Qo(t,e[n]))return!0;for(var r=0;r<t.length;r++)if(Qo(e,t[r]))return!0;return!!Ko(e,t)}function Ho(e,t,n){return!!Qo(e,t)||!!Yo(t,e,n)}function Go(e,t){if(1===e.length)return Jo(t,e[0]);for(var n=0;n<t.length;n++)for(var r=t[n],i=0;i<r.length;i++)if(Qo(e,r[i]))return!0;for(var o=0;o<e.length;o++)if(Jo(t,e[o]))return!0;for(var a=0;a<t.length;a++)if(Ko(e,t[a]))return!0;return!1}function Zo(e,t,n){if(e.length>1){if(Ko(e,t))return!0;for(var r=0;r<t.length;r++)if(Yo(t[r],e,n))return!0}for(var i=0;i<e.length;i++)if(Yo(e[i],t,n))return!0;return!1}function Ko(e,t){if(0===e.length||0===t.length)return!1;for(var n=0;n<e.length-1;n++)for(var r=e[n],i=e[n+1],o=0;o<t.length-1;o++)if(Xo(r,i,t[o],t[o+1]))return!0;return!1}function Xo(e,t,n,r){return E(e,n,r)!==E(t,n,r)&&E(e,t,n)!==E(e,t,r)}function Yo(e,t,n){var r=n*n;if(1===t.length)return e.distSqr(t[0])<r;for(var i=1;i<t.length;i++)if($o(e,t[i-1],t[i])<r)return!0;return!1}function $o(e,t,n){var r=t.distSqr(n);if(0===r)return e.distSqr(t);var i=((e.x-t.x)*(n.x-t.x)+(e.y-t.y)*(n.y-t.y))/r;return e.distSqr(i<0?t:i>1?n:n.sub(t)._mult(i)._add(t))}function Jo(e,t){for(var n,r,i,o=!1,a=0;a<e.length;a++)for(var s=0,l=(n=e[a]).length-1;s<n.length;l=s++)(r=n[s]).y>t.y!=(i=n[l]).y>t.y&&t.x<(i.x-r.x)*(t.y-r.y)/(i.y-r.y)+r.x&&(o=!o);return o}function Qo(e,t){for(var n=!1,r=0,i=e.length-1;r<e.length;i=r++){var o=e[r],a=e[i];o.y>t.y!=a.y>t.y&&t.x<(a.x-o.x)*(t.y-o.y)/(a.y-o.y)+o.x&&(n=!n)}return n}function ea(e,t,n){var r=n[0],i=n[2];if(e.x<r.x&&t.x<r.x||e.x>i.x&&t.x>i.x||e.y<r.y&&t.y<r.y||e.y>i.y&&t.y>i.y)return!1;var o=E(e,t,n[0]);return o!==E(e,t,n[1])||o!==E(e,t,n[2])||o!==E(e,t,n[3])}function ta(e,t,n){var r=t.paint.get(e).value;return"constant"===r.kind?r.value:n.programConfigurations.get(t.id).getMaxValue(e)}function na(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function ra(e,t,n,r,o){if(!t[0]&&!t[1])return e;var a=i.convert(t)._mult(o);"viewport"===n&&a._rotate(-r);for(var s=[],l=0;l<e.length;l++)s.push(e[l].sub(a));return s}qo.prototype.populate=function(e,t,n){var r=this.layers[0],i=[],o=null;"circle"===r.type&&(o=r.layout.get("circle-sort-key"));for(var a=0,s=e;a<s.length;a+=1){var l=s[a],u=l.feature,c=l.id,p=l.index,h=l.sourceLayerIndex,d=this.layers[0]._featureFilter.needGeometry,f=Uo(u,d);if(this.layers[0]._featureFilter.filter(new si(this.zoom),f,n)){var m=o?o.evaluate(f,{},n):void 0,y={id:c,properties:u.properties,type:u.type,sourceLayerIndex:h,index:p,geometry:d?f.geometry:Fo(u),patterns:{},sortKey:m};i.push(y)}}o&&i.sort((function(e,t){return e.sortKey-t.sortKey}));for(var v=0,g=i;v<g.length;v+=1){var _=g[v],x=_.geometry,b=_.index,w=_.sourceLayerIndex,S=e[b].feature;this.addFeature(_,x,b,n),t.featureIndex.insert(S,x,b,w,this.index)}},qo.prototype.update=function(e,t,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n)},qo.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},qo.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},qo.prototype.upload=function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,ao),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0},qo.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},qo.prototype.addFeature=function(e,t,n,r){for(var i=0,o=t;i<o.length;i+=1)for(var a=0,s=o[i];a<s.length;a+=1){var l=s[a],u=l.x,c=l.y;if(!(u<0||u>=8192||c<0||c>=8192)){var p=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,e.sortKey),h=p.vertexLength;Vo(this.layoutVertexArray,u,c,-1,-1),Vo(this.layoutVertexArray,u,c,1,-1),Vo(this.layoutVertexArray,u,c,1,1),Vo(this.layoutVertexArray,u,c,-1,1),this.indexArray.emplaceBack(h,h+1,h+2),this.indexArray.emplaceBack(h,h+3,h+2),p.vertexLength+=4,p.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,{},r)},Nr("CircleBucket",qo,{omit:["layers"]});var ia=new bi({"circle-sort-key":new vi(Ae.layout_circle["circle-sort-key"])}),oa={paint:new bi({"circle-radius":new vi(Ae.paint_circle["circle-radius"]),"circle-color":new vi(Ae.paint_circle["circle-color"]),"circle-blur":new vi(Ae.paint_circle["circle-blur"]),"circle-opacity":new vi(Ae.paint_circle["circle-opacity"]),"circle-translate":new yi(Ae.paint_circle["circle-translate"]),"circle-translate-anchor":new yi(Ae.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new yi(Ae.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new yi(Ae.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new vi(Ae.paint_circle["circle-stroke-width"]),"circle-stroke-color":new vi(Ae.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new vi(Ae.paint_circle["circle-stroke-opacity"])}),layout:ia},aa="undefined"!=typeof Float32Array?Float32Array:Array;function sa(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function la(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],u=t[6],c=t[7],p=t[8],h=t[9],d=t[10],f=t[11],m=t[12],y=t[13],v=t[14],g=t[15],_=n[0],x=n[1],b=n[2],w=n[3];return e[0]=_*r+x*s+b*p+w*m,e[1]=_*i+x*l+b*h+w*y,e[2]=_*o+x*u+b*d+w*v,e[3]=_*a+x*c+b*f+w*g,e[4]=(_=n[4])*r+(x=n[5])*s+(b=n[6])*p+(w=n[7])*m,e[5]=_*i+x*l+b*h+w*y,e[6]=_*o+x*u+b*d+w*v,e[7]=_*a+x*c+b*f+w*g,e[8]=(_=n[8])*r+(x=n[9])*s+(b=n[10])*p+(w=n[11])*m,e[9]=_*i+x*l+b*h+w*y,e[10]=_*o+x*u+b*d+w*v,e[11]=_*a+x*c+b*f+w*g,e[12]=(_=n[12])*r+(x=n[13])*s+(b=n[14])*p+(w=n[15])*m,e[13]=_*i+x*l+b*h+w*y,e[14]=_*o+x*u+b*d+w*v,e[15]=_*a+x*c+b*f+w*g,e}Math.hypot||(Math.hypot=function(){for(var e=arguments,t=0,n=arguments.length;n--;)t+=e[n]*e[n];return Math.sqrt(t)});var ua,ca=la;function pa(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,e[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,e[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,e[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,e}ua=new aa(3),aa!=Float32Array&&(ua[0]=0,ua[1]=0,ua[2]=0),function(){var e=new aa(4);aa!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0)}();var ha=(function(){var e=new aa(2);aa!=Float32Array&&(e[0]=0,e[1]=0)}(),function(e){function t(t){e.call(this,t,oa)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.createBucket=function(e){return new qo(e)},t.prototype.queryRadius=function(e){var t=e;return ta("circle-radius",this,t)+ta("circle-stroke-width",this,t)+na(this.paint.get("circle-translate"))},t.prototype.queryIntersectsFeature=function(e,t,n,r,i,o,a,s){for(var l=ra(e,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),o.angle,a),u=this.paint.get("circle-radius").evaluate(t,n)+this.paint.get("circle-stroke-width").evaluate(t,n),c="map"===this.paint.get("circle-pitch-alignment"),p=c?l:function(e,t){return e.map((function(e){return da(e,t)}))}(l,s),h=c?u*a:u,d=0,f=r;d<f.length;d+=1)for(var m=0,y=f[d];m<y.length;m+=1){var v=y[m],g=c?v:da(v,s),_=h,x=pa([],[v.x,v.y,0,1],s);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?_*=x[3]/o.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(_*=o.cameraToCenterDistance/x[3]),Ho(p,g,_))return!0}return!1},t}(wi));function da(e,t){var n=pa([],[e.x,e.y,0,1],t);return new i(n[0]/n[3],n[1]/n[3])}var fa=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t}(qo);function ma(e,t,n,r){var i=t.width,o=t.height;if(r){if(r instanceof Uint8ClampedArray)r=new Uint8Array(r.buffer);else if(r.length!==i*o*n)throw new RangeError("mismatched image size")}else r=new Uint8Array(i*o*n);return e.width=i,e.height=o,e.data=r,e}function ya(e,t,n){var r=t.width,i=t.height;if(r!==e.width||i!==e.height){var o=ma({},{width:r,height:i},n);va(e,o,{x:0,y:0},{x:0,y:0},{width:Math.min(e.width,r),height:Math.min(e.height,i)},n),e.width=r,e.height=i,e.data=o.data}}function va(e,t,n,r,i,o){if(0===i.width||0===i.height)return t;if(i.width>e.width||i.height>e.height||n.x>e.width-i.width||n.y>e.height-i.height)throw new RangeError("out of range source coordinates for image copy");if(i.width>t.width||i.height>t.height||r.x>t.width-i.width||r.y>t.height-i.height)throw new RangeError("out of range destination coordinates for image copy");for(var a=e.data,s=t.data,l=0;l<i.height;l++)for(var u=((n.y+l)*e.width+n.x)*o,c=((r.y+l)*t.width+r.x)*o,p=0;p<i.width*o;p++)s[c+p]=a[u+p];return t}Nr("HeatmapBucket",fa,{omit:["layers"]});var ga=function(e,t){ma(this,e,1,t)};ga.prototype.resize=function(e){ya(this,e,1)},ga.prototype.clone=function(){return new ga({width:this.width,height:this.height},new Uint8Array(this.data))},ga.copy=function(e,t,n,r,i){va(e,t,n,r,i,1)};var _a=function(e,t){ma(this,e,4,t)};_a.prototype.resize=function(e){ya(this,e,4)},_a.prototype.replace=function(e,t){t?this.data.set(e):this.data=e instanceof Uint8ClampedArray?new Uint8Array(e.buffer):e},_a.prototype.clone=function(){return new _a({width:this.width,height:this.height},new Uint8Array(this.data))},_a.copy=function(e,t,n,r,i){va(e,t,n,r,i,4)},Nr("AlphaImage",ga),Nr("RGBAImage",_a);var xa={paint:new bi({"heatmap-radius":new vi(Ae.paint_heatmap["heatmap-radius"]),"heatmap-weight":new vi(Ae.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new yi(Ae.paint_heatmap["heatmap-intensity"]),"heatmap-color":new xi(Ae.paint_heatmap["heatmap-color"]),"heatmap-opacity":new yi(Ae.paint_heatmap["heatmap-opacity"])})};function ba(e){var t={},n=e.resolution||256,r=e.clips?e.clips.length:1,i=e.image||new _a({width:n,height:r}),o=function(n,r,o){t[e.evaluationKey]=o;var a=e.expression.evaluate(t);i.data[n+r+0]=Math.floor(255*a.r/a.a),i.data[n+r+1]=Math.floor(255*a.g/a.a),i.data[n+r+2]=Math.floor(255*a.b/a.a),i.data[n+r+3]=Math.floor(255*a.a)};if(e.clips)for(var a=0,s=0;a<r;++a,s+=4*n)for(var l=0,u=0;l<n;l++,u+=4){var c=l/(n-1),p=e.clips[a];o(s,u,p.start*(1-c)+p.end*c)}else for(var h=0,d=0;h<n;h++,d+=4)o(0,d,h/(n-1));return i}var wa=function(e){function t(t){e.call(this,t,xa),this._updateColorRamp()}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.createBucket=function(e){return new fa(e)},t.prototype._handleSpecialPaintPropertyUpdate=function(e){"heatmap-color"===e&&this._updateColorRamp()},t.prototype._updateColorRamp=function(){this.colorRamp=ba({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null},t.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},t.prototype.queryRadius=function(){return 0},t.prototype.queryIntersectsFeature=function(){return!1},t.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility},t}(wi),Sa={paint:new bi({"hillshade-illumination-direction":new yi(Ae.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new yi(Ae.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new yi(Ae.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new yi(Ae.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new yi(Ae.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new yi(Ae.paint_hillshade["hillshade-accent-color"])})},Ea=function(e){function t(t){e.call(this,t,Sa)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility},t}(wi),Ta=Pi([{name:"a_pos",components:2,type:"Int16"}],4).members,Pa=ka,Ca=ka;function ka(e,t,n){n=n||2;var r,i,o,a,s,l,u,c=t&&t.length,p=c?t[0]*n:e.length,h=Aa(e,0,p,n,!0),d=[];if(!h||h.next===h.prev)return d;if(c&&(h=function(e,t,n,r){var i,o,a,s=[];for(i=0,o=t.length;i<o;i++)(a=Aa(e,t[i]*r,i<o-1?t[i+1]*r:e.length,r,!1))===a.next&&(a.steiner=!0),s.push(Fa(a));for(s.sort(La),i=0;i<s.length;i++)za(s[i],n),n=Ia(n,n.next);return n}(e,t,h,n)),e.length>80*n){r=o=e[0],i=a=e[1];for(var f=n;f<p;f+=n)(s=e[f])<r&&(r=s),(l=e[f+1])<i&&(i=l),s>o&&(o=s),l>a&&(a=l);u=0!==(u=Math.max(o-r,a-i))?1/u:0}return Oa(h,d,n,r,i,u),d}function Aa(e,t,n,r,i){var o,a;if(i===Qa(e,t,n,r)>0)for(o=t;o<n;o+=r)a=Ya(o,e[o],e[o+1],a);else for(o=n-r;o>=t;o-=r)a=Ya(o,e[o],e[o+1],a);return a&&Wa(a,a.next)&&($a(a),a=a.next),a}function Ia(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!Wa(r,r.next)&&0!==qa(r.prev,r,r.next))r=r.next;else{if($a(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function Oa(e,t,n,r,i,o,a){if(e){!a&&o&&function(e,t,n,r){var i=e;do{null===i.z&&(i.z=Ba(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,n,r,i,o,a,s,l,u=1;do{for(n=e,e=null,o=null,a=0;n;){for(a++,r=n,s=0,t=0;t<u&&(s++,r=r.nextZ);t++);for(l=u;s>0||l>0&&r;)0!==s&&(0===l||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,l--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;n=r}o.nextZ=null,u*=2}while(a>1)}(i)}(e,r,i,o);for(var s,l,u=e;e.prev!==e.next;)if(s=e.prev,l=e.next,o?Ma(e,r,i,o):Da(e))t.push(s.i/n),t.push(e.i/n),t.push(l.i/n),$a(e),e=l.next,u=l.next;else if((e=l)===u){a?1===a?Oa(e=ja(Ia(e),t,n),t,n,r,i,o,2):2===a&&Ra(e,t,n,r,i,o):Oa(Ia(e),t,n,r,i,o,1);break}}}function Da(e){var t=e.prev,n=e,r=e.next;if(qa(t,n,r)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(Ua(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y)&&qa(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function Ma(e,t,n,r){var i=e.prev,o=e,a=e.next;if(qa(i,o,a)>=0)return!1;for(var s=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,l=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,u=Ba(i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,t,n,r),c=Ba(s,l,t,n,r),p=e.prevZ,h=e.nextZ;p&&p.z>=u&&h&&h.z<=c;){if(p!==e.prev&&p!==e.next&&Ua(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&qa(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,h!==e.prev&&h!==e.next&&Ua(i.x,i.y,o.x,o.y,a.x,a.y,h.x,h.y)&&qa(h.prev,h,h.next)>=0)return!1;h=h.nextZ}for(;p&&p.z>=u;){if(p!==e.prev&&p!==e.next&&Ua(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&qa(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;h&&h.z<=c;){if(h!==e.prev&&h!==e.next&&Ua(i.x,i.y,o.x,o.y,a.x,a.y,h.x,h.y)&&qa(h.prev,h,h.next)>=0)return!1;h=h.nextZ}return!0}function ja(e,t,n){var r=e;do{var i=r.prev,o=r.next.next;!Wa(i,o)&&Ha(i,r,r.next,o)&&Ka(i,o)&&Ka(o,i)&&(t.push(i.i/n),t.push(r.i/n),t.push(o.i/n),$a(r),$a(r.next),r=e=o),r=r.next}while(r!==e);return Ia(r)}function Ra(e,t,n,r,i,o){var a=e;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&Va(a,s)){var l=Xa(a,s);return a=Ia(a,a.next),l=Ia(l,l.next),Oa(a,t,n,r,i,o),void Oa(l,t,n,r,i,o)}s=s.next}a=a.next}while(a!==e)}function La(e,t){return e.x-t.x}function za(e,t){if(t=function(e,t){var n,r=t,i=e.x,o=e.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a){if(a=s,s===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!n)return null;if(i===a)return n;var l,u=n,c=n.x,p=n.y,h=1/0;r=n;do{i>=r.x&&r.x>=c&&i!==r.x&&Ua(o<p?i:a,o,c,p,o<p?a:i,o,r.x,r.y)&&(l=Math.abs(o-r.y)/(i-r.x),Ka(r,e)&&(l<h||l===h&&(r.x>n.x||r.x===n.x&&Na(n,r)))&&(n=r,h=l)),r=r.next}while(r!==u);return n}(e,t)){var n=Xa(t,e);Ia(t,t.next),Ia(n,n.next)}}function Na(e,t){return qa(e.prev,e,t.prev)<0&&qa(t.next,e,e.next)<0}function Ba(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function Fa(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function Ua(e,t,n,r,i,o,a,s){return(i-a)*(t-s)-(e-a)*(o-s)>=0&&(e-a)*(r-s)-(n-a)*(t-s)>=0&&(n-a)*(o-s)-(i-a)*(r-s)>=0}function Va(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&Ha(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(Ka(e,t)&&Ka(t,e)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(qa(e.prev,e,t.prev)||qa(e,t.prev,t))||Wa(e,t)&&qa(e.prev,e,e.next)>0&&qa(t.prev,t,t.next)>0)}function qa(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function Wa(e,t){return e.x===t.x&&e.y===t.y}function Ha(e,t,n,r){var i=Za(qa(e,t,n)),o=Za(qa(e,t,r)),a=Za(qa(n,r,e)),s=Za(qa(n,r,t));return i!==o&&a!==s||!(0!==i||!Ga(e,n,t))||!(0!==o||!Ga(e,r,t))||!(0!==a||!Ga(n,e,r))||!(0!==s||!Ga(n,t,r))}function Ga(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function Za(e){return e>0?1:e<0?-1:0}function Ka(e,t){return qa(e.prev,e,e.next)<0?qa(e,t,e.next)>=0&&qa(e,e.prev,t)>=0:qa(e,t,e.prev)<0||qa(e,e.next,t)<0}function Xa(e,t){var n=new Ja(e.i,e.x,e.y),r=new Ja(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function Ya(e,t,n,r){var i=new Ja(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function $a(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Ja(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Qa(e,t,n,r){for(var i=0,o=t,a=n-r;o<n;o+=r)i+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return i}function es(e,t,n,r,i){!function e(t,n,r,i,o){for(;i>r;){if(i-r>600){var a=i-r+1,s=n-r+1,l=Math.log(a),u=.5*Math.exp(2*l/3),c=.5*Math.sqrt(l*u*(a-u)/a)*(s-a/2<0?-1:1);e(t,n,Math.max(r,Math.floor(n-s*u/a+c)),Math.min(i,Math.floor(n+(a-s)*u/a+c)),o)}var p=t[n],h=r,d=i;for(ts(t,r,n),o(t[i],p)>0&&ts(t,r,i);h<d;){for(ts(t,h,d),h++,d--;o(t[h],p)<0;)h++;for(;o(t[d],p)>0;)d--}0===o(t[r],p)?ts(t,r,d):ts(t,++d,i),d<=n&&(r=d+1),n<=d&&(i=d-1)}}(e,t,n||0,r||e.length-1,i||ns)}function ts(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function ns(e,t){return e<t?-1:e>t?1:0}function rs(e,t){var n=e.length;if(n<=1)return[e];for(var r,i,o=[],a=0;a<n;a++){var s=T(e[a]);0!==s&&(e[a].area=Math.abs(s),void 0===i&&(i=s<0),i===s<0?(r&&o.push(r),r=[e[a]]):r.push(e[a]))}if(r&&o.push(r),t>1)for(var l=0;l<o.length;l++)o[l].length<=t||(es(o[l],t,1,o[l].length-1,is),o[l]=o[l].slice(0,t));return o}function is(e,t){return t.area-e.area}function os(e,t,n){for(var r=n.patternDependencies,i=!1,o=0,a=t;o<a.length;o+=1){var s=a[o].paint.get(e+"-pattern");s.isConstant()||(i=!0);var l=s.constantOr(null);l&&(i=!0,r[l.to]=!0,r[l.from]=!0)}return i}function as(e,t,n,r,i){for(var o=i.patternDependencies,a=0,s=t;a<s.length;a+=1){var l=s[a],u=l.paint.get(e+"-pattern").value;if("constant"!==u.kind){var c=u.evaluate({zoom:r-1},n,{},i.availableImages),p=u.evaluate({zoom:r},n,{},i.availableImages),h=u.evaluate({zoom:r+1},n,{},i.availableImages);p=p&&p.name?p.name:p,h=h&&h.name?h.name:h,o[c=c&&c.name?c.name:c]=!0,o[p]=!0,o[h]=!0,n.patterns[l.id]={min:c,mid:p,max:h}}}return n}ka.deviation=function(e,t,n,r){var i=t&&t.length,o=Math.abs(Qa(e,0,i?t[0]*n:e.length,n));if(i)for(var a=0,s=t.length;a<s;a++)o-=Math.abs(Qa(e,t[a]*n,a<s-1?t[a+1]*n:e.length,n));var l=0;for(a=0;a<r.length;a+=3){var u=r[a]*n,c=r[a+1]*n,p=r[a+2]*n;l+=Math.abs((e[u]-e[p])*(e[c+1]-e[u+1])-(e[u]-e[c])*(e[p+1]-e[u+1]))}return 0===o&&0===l?0:Math.abs((l-o)/o)},ka.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,i=0;i<e.length;i++){for(var o=0;o<e[i].length;o++)for(var a=0;a<t;a++)n.vertices.push(e[i][o][a]);i>0&&n.holes.push(r+=e[i-1].length)}return n},Pa.default=Ca;var ss=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=e.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new ki,this.indexArray=new Ui,this.indexArray2=new Zi,this.programConfigurations=new Ro(e.layers,e.zoom),this.segments=new so,this.segments2=new so,this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id}))};ss.prototype.populate=function(e,t,n){this.hasPattern=os("fill",this.layers,t);for(var r=this.layers[0].layout.get("fill-sort-key"),i=[],o=0,a=e;o<a.length;o+=1){var s=a[o],l=s.feature,u=s.id,c=s.index,p=s.sourceLayerIndex,h=this.layers[0]._featureFilter.needGeometry,d=Uo(l,h);if(this.layers[0]._featureFilter.filter(new si(this.zoom),d,n)){var f=r?r.evaluate(d,{},n,t.availableImages):void 0,m={id:u,properties:l.properties,type:l.type,sourceLayerIndex:p,index:c,geometry:h?d.geometry:Fo(l),patterns:{},sortKey:f};i.push(m)}}r&&i.sort((function(e,t){return e.sortKey-t.sortKey}));for(var y=0,v=i;y<v.length;y+=1){var g=v[y],_=g.geometry,x=g.index,b=g.sourceLayerIndex;if(this.hasPattern){var w=as("fill",this.layers,g,this.zoom,t);this.patternFeatures.push(w)}else this.addFeature(g,_,x,n,{});t.featureIndex.insert(e[x].feature,_,x,b,this.index)}},ss.prototype.update=function(e,t,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n)},ss.prototype.addFeatures=function(e,t,n){for(var r=0,i=this.patternFeatures;r<i.length;r+=1){var o=i[r];this.addFeature(o,o.geometry,o.index,t,n)}},ss.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},ss.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},ss.prototype.upload=function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Ta),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.indexBuffer2=e.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(e),this.uploaded=!0},ss.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},ss.prototype.addFeature=function(e,t,n,r,i){for(var o=0,a=rs(t,500);o<a.length;o+=1){for(var s=a[o],l=0,u=0,c=s;u<c.length;u+=1)l+=c[u].length;for(var p=this.segments.prepareSegment(l,this.layoutVertexArray,this.indexArray),h=p.vertexLength,d=[],f=[],m=0,y=s;m<y.length;m+=1){var v=y[m];if(0!==v.length){v!==s[0]&&f.push(d.length/2);var g=this.segments2.prepareSegment(v.length,this.layoutVertexArray,this.indexArray2),_=g.vertexLength;this.layoutVertexArray.emplaceBack(v[0].x,v[0].y),this.indexArray2.emplaceBack(_+v.length-1,_),d.push(v[0].x),d.push(v[0].y);for(var x=1;x<v.length;x++)this.layoutVertexArray.emplaceBack(v[x].x,v[x].y),this.indexArray2.emplaceBack(_+x-1,_+x),d.push(v[x].x),d.push(v[x].y);g.vertexLength+=v.length,g.primitiveLength+=v.length}}for(var b=Pa(d,f),w=0;w<b.length;w+=3)this.indexArray.emplaceBack(h+b[w],h+b[w+1],h+b[w+2]);p.vertexLength+=l,p.primitiveLength+=b.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,i,r)},Nr("FillBucket",ss,{omit:["layers","patternFeatures"]});var ls=new bi({"fill-sort-key":new vi(Ae.layout_fill["fill-sort-key"])}),us={paint:new bi({"fill-antialias":new yi(Ae.paint_fill["fill-antialias"]),"fill-opacity":new vi(Ae.paint_fill["fill-opacity"]),"fill-color":new vi(Ae.paint_fill["fill-color"]),"fill-outline-color":new vi(Ae.paint_fill["fill-outline-color"]),"fill-translate":new yi(Ae.paint_fill["fill-translate"]),"fill-translate-anchor":new yi(Ae.paint_fill["fill-translate-anchor"]),"fill-pattern":new gi(Ae.paint_fill["fill-pattern"])}),layout:ls},cs=function(e){function t(t){e.call(this,t,us)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.recalculate=function(t,n){e.prototype.recalculate.call(this,t,n);var r=this.paint._values["fill-outline-color"];"constant"===r.value.kind&&void 0===r.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},t.prototype.createBucket=function(e){return new ss(e)},t.prototype.queryRadius=function(){return na(this.paint.get("fill-translate"))},t.prototype.queryIntersectsFeature=function(e,t,n,r,i,o,a){return Go(ra(e,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),o.angle,a),r)},t.prototype.isTileClipped=function(){return!0},t}(wi),ps=Pi([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,hs=ds;function ds(e,t,n,r,i){this.properties={},this.extent=n,this.type=0,this._pbf=e,this._geometry=-1,this._keys=r,this._values=i,e.readFields(fs,this,t)}function fs(e,t,n){1==e?t.id=n.readVarint():2==e?function(e,t){for(var n=e.readVarint()+e.pos;e.pos<n;){var r=t._keys[e.readVarint()],i=t._values[e.readVarint()];t.properties[r]=i}}(n,t):3==e?t.type=n.readVarint():4==e&&(t._geometry=n.pos)}function ms(e){for(var t,n,r=0,i=0,o=e.length,a=o-1;i<o;a=i++)r+=((n=e[a]).x-(t=e[i]).x)*(t.y+n.y);return r}ds.types=["Unknown","Point","LineString","Polygon"],ds.prototype.loadGeometry=function(){var e=this._pbf;e.pos=this._geometry;for(var t,n=e.readVarint()+e.pos,r=1,o=0,a=0,s=0,l=[];e.pos<n;){if(o<=0){var u=e.readVarint();r=7&u,o=u>>3}if(o--,1===r||2===r)a+=e.readSVarint(),s+=e.readSVarint(),1===r&&(t&&l.push(t),t=[]),t.push(new i(a,s));else{if(7!==r)throw new Error("unknown command "+r);t&&t.push(t[0].clone())}}return t&&l.push(t),l},ds.prototype.bbox=function(){var e=this._pbf;e.pos=this._geometry;for(var t=e.readVarint()+e.pos,n=1,r=0,i=0,o=0,a=1/0,s=-1/0,l=1/0,u=-1/0;e.pos<t;){if(r<=0){var c=e.readVarint();n=7&c,r=c>>3}if(r--,1===n||2===n)(i+=e.readSVarint())<a&&(a=i),i>s&&(s=i),(o+=e.readSVarint())<l&&(l=o),o>u&&(u=o);else if(7!==n)throw new Error("unknown command "+n)}return[a,l,s,u]},ds.prototype.toGeoJSON=function(e,t,n){var r,i,o=this.extent*Math.pow(2,n),a=this.extent*e,s=this.extent*t,l=this.loadGeometry(),u=ds.types[this.type];function c(e){for(var t=0;t<e.length;t++){var n=e[t];e[t]=[360*(n.x+a)/o-180,360/Math.PI*Math.atan(Math.exp((180-360*(n.y+s)/o)*Math.PI/180))-90]}}switch(this.type){case 1:var p=[];for(r=0;r<l.length;r++)p[r]=l[r][0];c(l=p);break;case 2:for(r=0;r<l.length;r++)c(l[r]);break;case 3:for(l=function(e){var t=e.length;if(t<=1)return[e];for(var n,r,i=[],o=0;o<t;o++){var a=ms(e[o]);0!==a&&(void 0===r&&(r=a<0),r===a<0?(n&&i.push(n),n=[e[o]]):n.push(e[o]))}return n&&i.push(n),i}(l),r=0;r<l.length;r++)for(i=0;i<l[r].length;i++)c(l[r][i])}1===l.length?l=l[0]:u="Multi"+u;var h={type:"Feature",geometry:{type:u,coordinates:l},properties:this.properties};return"id"in this&&(h.id=this.id),h};var ys=vs;function vs(e,t){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=e,this._keys=[],this._values=[],this._features=[],e.readFields(gs,this,t),this.length=this._features.length}function gs(e,t,n){15===e?t.version=n.readVarint():1===e?t.name=n.readString():5===e?t.extent=n.readVarint():2===e?t._features.push(n.pos):3===e?t._keys.push(n.readString()):4===e&&t._values.push(function(e){for(var t=null,n=e.readVarint()+e.pos;e.pos<n;){var r=e.readVarint()>>3;t=1===r?e.readString():2===r?e.readFloat():3===r?e.readDouble():4===r?e.readVarint64():5===r?e.readVarint():6===r?e.readSVarint():7===r?e.readBoolean():null}return t}(n))}function _s(e,t,n){if(3===e){var r=new ys(n,n.readVarint()+n.pos);r.length&&(t[r.name]=r)}}vs.prototype.feature=function(e){if(e<0||e>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[e];var t=this._pbf.readVarint()+this._pbf.pos;return new hs(this._pbf,t,this.extent,this._keys,this._values)};var xs={VectorTile:function(e,t){this.layers=e.readFields(_s,{},t)},VectorTileFeature:hs,VectorTileLayer:ys},bs=xs.VectorTileFeature.types,ws=Math.pow(2,13);function Ss(e,t,n,r,i,o,a,s){e.emplaceBack(t,n,2*Math.floor(r*ws)+a,i*ws*2,o*ws*2,Math.round(s))}var Es=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=e.index,this.hasPattern=!1,this.layoutVertexArray=new Ii,this.indexArray=new Ui,this.programConfigurations=new Ro(e.layers,e.zoom),this.segments=new so,this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id}))};function Ts(e,t){return e.x===t.x&&(e.x<0||e.x>8192)||e.y===t.y&&(e.y<0||e.y>8192)}Es.prototype.populate=function(e,t,n){this.features=[],this.hasPattern=os("fill-extrusion",this.layers,t);for(var r=0,i=e;r<i.length;r+=1){var o=i[r],a=o.feature,s=o.id,l=o.index,u=o.sourceLayerIndex,c=this.layers[0]._featureFilter.needGeometry,p=Uo(a,c);if(this.layers[0]._featureFilter.filter(new si(this.zoom),p,n)){var h={id:s,sourceLayerIndex:u,index:l,geometry:c?p.geometry:Fo(a),properties:a.properties,type:a.type,patterns:{}};this.hasPattern?this.features.push(as("fill-extrusion",this.layers,h,this.zoom,t)):this.addFeature(h,h.geometry,l,n,{}),t.featureIndex.insert(a,h.geometry,l,u,this.index,!0)}}},Es.prototype.addFeatures=function(e,t,n){for(var r=0,i=this.features;r<i.length;r+=1){var o=i[r];this.addFeature(o,o.geometry,o.index,t,n)}},Es.prototype.update=function(e,t,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n)},Es.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Es.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Es.prototype.upload=function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,ps),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0},Es.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Es.prototype.addFeature=function(e,t,n,r,i){for(var o=0,a=rs(t,500);o<a.length;o+=1){for(var s=a[o],l=0,u=0,c=s;u<c.length;u+=1)l+=c[u].length;for(var p=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),h=0,d=s;h<d.length;h+=1){var f=d[h];if(0!==f.length&&!((D=f).every((function(e){return e.x<0}))||D.every((function(e){return e.x>8192}))||D.every((function(e){return e.y<0}))||D.every((function(e){return e.y>8192}))))for(var m=0,y=0;y<f.length;y++){var v=f[y];if(y>=1){var g=f[y-1];if(!Ts(v,g)){p.vertexLength+4>so.MAX_VERTEX_ARRAY_LENGTH&&(p=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var _=v.sub(g)._perp()._unit(),x=g.dist(v);m+x>32768&&(m=0),Ss(this.layoutVertexArray,v.x,v.y,_.x,_.y,0,0,m),Ss(this.layoutVertexArray,v.x,v.y,_.x,_.y,0,1,m),Ss(this.layoutVertexArray,g.x,g.y,_.x,_.y,0,0,m+=x),Ss(this.layoutVertexArray,g.x,g.y,_.x,_.y,0,1,m);var b=p.vertexLength;this.indexArray.emplaceBack(b,b+2,b+1),this.indexArray.emplaceBack(b+1,b+2,b+3),p.vertexLength+=4,p.primitiveLength+=2}}}}if(p.vertexLength+l>so.MAX_VERTEX_ARRAY_LENGTH&&(p=this.segments.prepareSegment(l,this.layoutVertexArray,this.indexArray)),"Polygon"===bs[e.type]){for(var w=[],S=[],E=p.vertexLength,T=0,P=s;T<P.length;T+=1){var C=P[T];if(0!==C.length){C!==s[0]&&S.push(w.length/2);for(var k=0;k<C.length;k++){var A=C[k];Ss(this.layoutVertexArray,A.x,A.y,0,0,1,1,0),w.push(A.x),w.push(A.y)}}}for(var I=Pa(w,S),O=0;O<I.length;O+=3)this.indexArray.emplaceBack(E+I[O],E+I[O+2],E+I[O+1]);p.primitiveLength+=I.length/3,p.vertexLength+=l}}var D;this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,i,r)},Nr("FillExtrusionBucket",Es,{omit:["layers","features"]});var Ps={paint:new bi({"fill-extrusion-opacity":new yi(Ae["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new vi(Ae["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new yi(Ae["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new yi(Ae["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new gi(Ae["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new vi(Ae["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new vi(Ae["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new yi(Ae["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},Cs=function(e){function t(t){e.call(this,t,Ps)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.createBucket=function(e){return new Es(e)},t.prototype.queryRadius=function(){return na(this.paint.get("fill-extrusion-translate"))},t.prototype.is3D=function(){return!0},t.prototype.queryIntersectsFeature=function(e,t,n,r,o,a,s,l){var u=ra(e,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),a.angle,s),c=this.paint.get("fill-extrusion-height").evaluate(t,n),p=this.paint.get("fill-extrusion-base").evaluate(t,n),h=function(e,t,n,r){for(var o=[],a=0,s=e;a<s.length;a+=1){var l=s[a],u=[l.x,l.y,0,1];pa(u,u,t),o.push(new i(u[0]/u[3],u[1]/u[3]))}return o}(u,l),d=function(e,t,n,r){for(var o=[],a=[],s=r[8]*t,l=r[9]*t,u=r[10]*t,c=r[11]*t,p=r[8]*n,h=r[9]*n,d=r[10]*n,f=r[11]*n,m=0,y=e;m<y.length;m+=1){for(var v=[],g=[],_=0,x=y[m];_<x.length;_+=1){var b=x[_],w=b.x,S=b.y,E=r[0]*w+r[4]*S+r[12],T=r[1]*w+r[5]*S+r[13],P=r[2]*w+r[6]*S+r[14],C=r[3]*w+r[7]*S+r[15],k=P+u,A=C+c,I=E+p,O=T+h,D=P+d,M=C+f,j=new i((E+s)/A,(T+l)/A);j.z=k/A,v.push(j);var R=new i(I/M,O/M);R.z=D/M,g.push(R)}o.push(v),a.push(g)}return[o,a]}(r,p,c,l);return function(e,t,n){var r=1/0;Go(n,t)&&(r=As(n,t[0]));for(var i=0;i<t.length;i++)for(var o=t[i],a=e[i],s=0;s<o.length-1;s++){var l=o[s],u=[l,o[s+1],a[s+1],a[s],l];Wo(n,u)&&(r=Math.min(r,As(n,u)))}return r!==1/0&&r}(d[0],d[1],h)},t}(wi);function ks(e,t){return e.x*t.x+e.y*t.y}function As(e,t){if(1===e.length){for(var n,r=0,i=t[r++];!n||i.equals(n);)if(!(n=t[r++]))return 1/0;for(;r<t.length;r++){var o=t[r],a=e[0],s=n.sub(i),l=o.sub(i),u=a.sub(i),c=ks(s,s),p=ks(s,l),h=ks(l,l),d=ks(u,s),f=ks(u,l),m=c*h-p*p,y=(h*d-p*f)/m,v=(c*f-p*d)/m,g=i.z*(1-y-v)+n.z*y+o.z*v;if(isFinite(g))return g}return 1/0}for(var _=1/0,x=0,b=t;x<b.length;x+=1)_=Math.min(_,b[x].z);return _}var Is=Pi([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,Os=Pi([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]).members,Ds=xs.VectorTileFeature.types,Ms=Math.cos(Math.PI/180*37.5),js=Math.pow(2,14)/.5,Rs=function(e){var t=this;this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=e.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach((function(e){t.gradients[e.id]={}})),this.layoutVertexArray=new Oi,this.layoutVertexArray2=new Di,this.indexArray=new Ui,this.programConfigurations=new Ro(e.layers,e.zoom),this.segments=new so,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id}))};Rs.prototype.populate=function(e,t,n){this.hasPattern=os("line",this.layers,t);for(var r=this.layers[0].layout.get("line-sort-key"),i=[],o=0,a=e;o<a.length;o+=1){var s=a[o],l=s.feature,u=s.id,c=s.index,p=s.sourceLayerIndex,h=this.layers[0]._featureFilter.needGeometry,d=Uo(l,h);if(this.layers[0]._featureFilter.filter(new si(this.zoom),d,n)){var f=r?r.evaluate(d,{},n):void 0,m={id:u,properties:l.properties,type:l.type,sourceLayerIndex:p,index:c,geometry:h?d.geometry:Fo(l),patterns:{},sortKey:f};i.push(m)}}r&&i.sort((function(e,t){return e.sortKey-t.sortKey}));for(var y=0,v=i;y<v.length;y+=1){var g=v[y],_=g.geometry,x=g.index,b=g.sourceLayerIndex;if(this.hasPattern){var w=as("line",this.layers,g,this.zoom,t);this.patternFeatures.push(w)}else this.addFeature(g,_,x,n,{});t.featureIndex.insert(e[x].feature,_,x,b,this.index)}},Rs.prototype.update=function(e,t,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n)},Rs.prototype.addFeatures=function(e,t,n){for(var r=0,i=this.patternFeatures;r<i.length;r+=1){var o=i[r];this.addFeature(o,o.geometry,o.index,t,n)}},Rs.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Rs.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Rs.prototype.upload=function(e){this.uploaded||(0!==this.layoutVertexArray2.length&&(this.layoutVertexBuffer2=e.createVertexBuffer(this.layoutVertexArray2,Os)),this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Is),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0},Rs.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Rs.prototype.lineFeatureClips=function(e){if(e.properties&&e.properties.hasOwnProperty("mapbox_clip_start")&&e.properties.hasOwnProperty("mapbox_clip_end"))return{start:+e.properties.mapbox_clip_start,end:+e.properties.mapbox_clip_end}},Rs.prototype.addFeature=function(e,t,n,r,i){var o=this.layers[0].layout,a=o.get("line-join").evaluate(e,{}),s=o.get("line-cap"),l=o.get("line-miter-limit"),u=o.get("line-round-limit");this.lineClips=this.lineFeatureClips(e);for(var c=0,p=t;c<p.length;c+=1)this.addLine(p[c],e,a,s,l,u);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,i,r)},Rs.prototype.addLine=function(e,t,n,r,i,o){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(var a=0;a<e.length-1;a++)this.totalDistance+=e[a].dist(e[a+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}for(var s="Polygon"===Ds[t.type],l=e.length;l>=2&&e[l-1].equals(e[l-2]);)l--;for(var u=0;u<l-1&&e[u].equals(e[u+1]);)u++;if(!(l<(s?3:2))){"bevel"===n&&(i=1.05);var c,p=this.overscaling<=16?122880/(512*this.overscaling):0,h=this.segments.prepareSegment(10*l,this.layoutVertexArray,this.indexArray),d=void 0,f=void 0,m=void 0,y=void 0;this.e1=this.e2=-1,s&&(y=e[u].sub(c=e[l-2])._unit()._perp());for(var v=u;v<l;v++)if(!(f=v===l-1?s?e[u+1]:void 0:e[v+1])||!e[v].equals(f)){y&&(m=y),c&&(d=c),c=e[v],y=f?f.sub(c)._unit()._perp():m;var g=(m=m||y).add(y);0===g.x&&0===g.y||g._unit();var _=m.x*y.x+m.y*y.y,x=g.x*y.x+g.y*y.y,b=0!==x?1/x:1/0,w=2*Math.sqrt(2-2*x),S=x<Ms&&d&&f,E=m.x*y.y-m.y*y.x>0;if(S&&v>u){var T=c.dist(d);if(T>2*p){var P=c.sub(c.sub(d)._mult(p/T)._round());this.updateDistance(d,P),this.addCurrentVertex(P,m,0,0,h),d=P}}var C=d&&f,k=C?n:s?"butt":r;if(C&&"round"===k&&(b<o?k="miter":b<=2&&(k="fakeround")),"miter"===k&&b>i&&(k="bevel"),"bevel"===k&&(b>2&&(k="flipbevel"),b<i&&(k="miter")),d&&this.updateDistance(d,c),"miter"===k)g._mult(b),this.addCurrentVertex(c,g,0,0,h);else if("flipbevel"===k){if(b>100)g=y.mult(-1);else{var A=b*m.add(y).mag()/m.sub(y).mag();g._perp()._mult(A*(E?-1:1))}this.addCurrentVertex(c,g,0,0,h),this.addCurrentVertex(c,g.mult(-1),0,0,h)}else if("bevel"===k||"fakeround"===k){var I=-Math.sqrt(b*b-1),O=E?I:0,D=E?0:I;if(d&&this.addCurrentVertex(c,m,O,D,h),"fakeround"===k)for(var M=Math.round(180*w/Math.PI/20),j=1;j<M;j++){var R=j/M;if(.5!==R){var L=R-.5;R+=R*L*(R-1)*((1.0904+_*(_*(3.55645-1.43519*_)-3.2452))*L*L+(.848013+_*(.215638*_-1.06021)))}var z=y.sub(m)._mult(R)._add(m)._unit()._mult(E?-1:1);this.addHalfVertex(c,z.x,z.y,!1,E,0,h)}f&&this.addCurrentVertex(c,y,-O,-D,h)}else if("butt"===k)this.addCurrentVertex(c,g,0,0,h);else if("square"===k){var N=d?1:-1;this.addCurrentVertex(c,g,N,N,h)}else"round"===k&&(d&&(this.addCurrentVertex(c,m,0,0,h),this.addCurrentVertex(c,m,1,1,h,!0)),f&&(this.addCurrentVertex(c,y,-1,-1,h,!0),this.addCurrentVertex(c,y,0,0,h)));if(S&&v<l-1){var B=c.dist(f);if(B>2*p){var F=c.add(f.sub(c)._mult(p/B)._round());this.updateDistance(c,F),this.addCurrentVertex(F,y,0,0,h),c=F}}}}},Rs.prototype.addCurrentVertex=function(e,t,n,r,i,o){void 0===o&&(o=!1);var a=t.y*r-t.x,s=-t.y-t.x*r;this.addHalfVertex(e,t.x+t.y*n,t.y-t.x*n,o,!1,n,i),this.addHalfVertex(e,a,s,o,!0,-r,i),this.distance>js/2&&0===this.totalDistance&&(this.distance=0,this.addCurrentVertex(e,t,n,r,i,o))},Rs.prototype.addHalfVertex=function(e,t,n,r,i,o,a){var s=.5*(this.lineClips?this.scaledDistance*(js-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((e.x<<1)+(r?1:0),(e.y<<1)+(i?1:0),Math.round(63*t)+128,Math.round(63*n)+128,1+(0===o?0:o<0?-1:1)|(63&s)<<2,s>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);var l=a.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,l),a.primitiveLength++),i?this.e2=l:this.e1=l},Rs.prototype.updateScaledDistance=function(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance},Rs.prototype.updateDistance=function(e,t){this.distance+=e.dist(t),this.updateScaledDistance()},Nr("LineBucket",Rs,{omit:["layers","patternFeatures"]});var Ls=new bi({"line-cap":new yi(Ae.layout_line["line-cap"]),"line-join":new vi(Ae.layout_line["line-join"]),"line-miter-limit":new yi(Ae.layout_line["line-miter-limit"]),"line-round-limit":new yi(Ae.layout_line["line-round-limit"]),"line-sort-key":new vi(Ae.layout_line["line-sort-key"])}),zs={paint:new bi({"line-opacity":new vi(Ae.paint_line["line-opacity"]),"line-color":new vi(Ae.paint_line["line-color"]),"line-translate":new yi(Ae.paint_line["line-translate"]),"line-translate-anchor":new yi(Ae.paint_line["line-translate-anchor"]),"line-width":new vi(Ae.paint_line["line-width"]),"line-gap-width":new vi(Ae.paint_line["line-gap-width"]),"line-offset":new vi(Ae.paint_line["line-offset"]),"line-blur":new vi(Ae.paint_line["line-blur"]),"line-dasharray":new _i(Ae.paint_line["line-dasharray"]),"line-pattern":new gi(Ae.paint_line["line-pattern"]),"line-gradient":new xi(Ae.paint_line["line-gradient"])}),layout:Ls},Ns=new(function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.possiblyEvaluate=function(t,n){return n=new si(Math.floor(n.zoom),{now:n.now,fadeDuration:n.fadeDuration,zoomHistory:n.zoomHistory,transition:n.transition}),e.prototype.possiblyEvaluate.call(this,t,n)},t.prototype.evaluate=function(t,n,r,i){return n=h({},n,{zoom:Math.floor(n.zoom)}),e.prototype.evaluate.call(this,t,n,r,i)},t}(vi))(zs.paint.properties["line-width"].specification);Ns.useIntegerZoom=!0;var Bs=function(e){function t(t){e.call(this,t,zs),this.gradientVersion=0}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._handleSpecialPaintPropertyUpdate=function(e){"line-gradient"===e&&(this.stepInterpolant=this._transitionablePaint._values["line-gradient"].value.expression._styleExpression.expression instanceof qt,this.gradientVersion=(this.gradientVersion+1)%s)},t.prototype.gradientExpression=function(){return this._transitionablePaint._values["line-gradient"].value.expression},t.prototype.recalculate=function(t,n){e.prototype.recalculate.call(this,t,n),this.paint._values["line-floorwidth"]=Ns.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,t)},t.prototype.createBucket=function(e){return new Rs(e)},t.prototype.queryRadius=function(e){var t=e,n=Fs(ta("line-width",this,t),ta("line-gap-width",this,t)),r=ta("line-offset",this,t);return n/2+Math.abs(r)+na(this.paint.get("line-translate"))},t.prototype.queryIntersectsFeature=function(e,t,n,r,o,a,s){var l=ra(e,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),a.angle,s),u=s/2*Fs(this.paint.get("line-width").evaluate(t,n),this.paint.get("line-gap-width").evaluate(t,n)),c=this.paint.get("line-offset").evaluate(t,n);return c&&(r=function(e,t){for(var n=[],r=new i(0,0),o=0;o<e.length;o++){for(var a=e[o],s=[],l=0;l<a.length;l++){var u=a[l],c=a[l+1],p=0===l?r:u.sub(a[l-1])._unit()._perp(),h=l===a.length-1?r:c.sub(u)._unit()._perp(),d=p._add(h)._unit();d._mult(1/(d.x*h.x+d.y*h.y)),s.push(d._mult(t)._add(u))}n.push(s)}return n}(r,c*s)),function(e,t,n){for(var r=0;r<t.length;r++){var i=t[r];if(e.length>=3)for(var o=0;o<i.length;o++)if(Qo(e,i[o]))return!0;if(Zo(e,i,n))return!0}return!1}(l,r,u)},t.prototype.isTileClipped=function(){return!0},t}(wi);function Fs(e,t){return t>0?t+2*e:e}var Us=Pi([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),Vs=Pi([{name:"a_projected_pos",components:3,type:"Float32"}],4),qs=(Pi([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),Pi([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),Ws=(Pi([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]),Pi([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),Hs=Pi([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function Gs(e,t,n){return e.sections.forEach((function(e){e.text=function(e,t,n){var r=t.layout.get("text-transform").evaluate(n,{});return"uppercase"===r?e=e.toLocaleUpperCase():"lowercase"===r&&(e=e.toLocaleLowerCase()),ai.applyArabicShaping&&(e=ai.applyArabicShaping(e)),e}(e.text,t,n)})),e}Pi([{name:"triangle",components:3,type:"Uint16"}]),Pi([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Pi([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Pi([{type:"Float32",name:"offsetX"}]),Pi([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var Zs={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42"},Ks=function(e,t,n,r,i){var o,a,s=8*i-r-1,l=(1<<s)-1,u=l>>1,c=-7,p=n?i-1:0,h=n?-1:1,d=e[t+p];for(p+=h,o=d&(1<<-c)-1,d>>=-c,c+=s;c>0;o=256*o+e[t+p],p+=h,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+e[t+p],p+=h,c-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),o-=u}return(d?-1:1)*a*Math.pow(2,o-r)},Xs=function(e,t,n,r,i,o){var a,s,l,u=8*o-i-1,c=(1<<u)-1,p=c>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,f=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+p>=1?h/l:h*Math.pow(2,1-p))*l>=2&&(a++,l/=2),a+p>=c?(s=0,a=c):a+p>=1?(s=(t*l-1)*Math.pow(2,i),a+=p):(s=t*Math.pow(2,p-1)*Math.pow(2,i),a=0));i>=8;e[n+d]=255&s,d+=f,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[n+d]=255&a,d+=f,a/=256,u-=8);e[n+d-f]|=128*m},Ys=$s;function $s(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}$s.Varint=0,$s.Fixed64=1,$s.Bytes=2,$s.Fixed32=5;var Js="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function Qs(e){return e.type===$s.Bytes?e.readVarint()+e.pos:e.pos+1}function el(e,t,n){return n?4294967296*t+(e>>>0):4294967296*(t>>>0)+(e>>>0)}function tl(e,t,n){var r=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(7*Math.LN2));n.realloc(r);for(var i=n.pos-1;i>=e;i--)n.buf[i+r]=n.buf[i]}function nl(e,t){for(var n=0;n<e.length;n++)t.writeVarint(e[n])}function rl(e,t){for(var n=0;n<e.length;n++)t.writeSVarint(e[n])}function il(e,t){for(var n=0;n<e.length;n++)t.writeFloat(e[n])}function ol(e,t){for(var n=0;n<e.length;n++)t.writeDouble(e[n])}function al(e,t){for(var n=0;n<e.length;n++)t.writeBoolean(e[n])}function sl(e,t){for(var n=0;n<e.length;n++)t.writeFixed32(e[n])}function ll(e,t){for(var n=0;n<e.length;n++)t.writeSFixed32(e[n])}function ul(e,t){for(var n=0;n<e.length;n++)t.writeFixed64(e[n])}function cl(e,t){for(var n=0;n<e.length;n++)t.writeSFixed64(e[n])}function pl(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+16777216*e[t+3]}function hl(e,t,n){e[n]=t,e[n+1]=t>>>8,e[n+2]=t>>>16,e[n+3]=t>>>24}function dl(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}function fl(e,t,n){1===e&&n.readMessage(ml,t)}function ml(e,t,n){if(3===e){var r=n.readMessage(yl,{}),i=r.width,o=r.height,a=r.left,s=r.top,l=r.advance;t.push({id:r.id,bitmap:new ga({width:i+6,height:o+6},r.bitmap),metrics:{width:i,height:o,left:a,top:s,advance:l}})}}function yl(e,t,n){1===e?t.id=n.readVarint():2===e?t.bitmap=n.readBytes():3===e?t.width=n.readVarint():4===e?t.height=n.readVarint():5===e?t.left=n.readSVarint():6===e?t.top=n.readSVarint():7===e&&(t.advance=n.readVarint())}function vl(e){for(var t=0,n=0,r=0,i=e;r<i.length;r+=1){var o=i[r];t+=o.w*o.h,n=Math.max(n,o.w)}e.sort((function(e,t){return t.h-e.h}));for(var a=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(t/.95)),n),h:1/0}],s=0,l=0,u=0,c=e;u<c.length;u+=1)for(var p=c[u],h=a.length-1;h>=0;h--){var d=a[h];if(!(p.w>d.w||p.h>d.h)){if(p.x=d.x,p.y=d.y,l=Math.max(l,p.y+p.h),s=Math.max(s,p.x+p.w),p.w===d.w&&p.h===d.h){var f=a.pop();h<a.length&&(a[h]=f)}else p.h===d.h?(d.x+=p.w,d.w-=p.w):p.w===d.w?(d.y+=p.h,d.h-=p.h):(a.push({x:d.x+p.w,y:d.y,w:d.w-p.w,h:p.h}),d.y+=p.h,d.h-=p.h);break}}return{w:s,h:l,fill:t/(s*l)||0}}$s.prototype={destroy:function(){this.buf=null},readFields:function(e,t,n){for(n=n||this.length;this.pos<n;){var r=this.readVarint(),i=r>>3,o=this.pos;this.type=7&r,e(i,t,this),this.pos===o&&this.skip(r)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=pl(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=dl(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=pl(this.buf,this.pos)+4294967296*pl(this.buf,this.pos+4);return this.pos+=8,e},readSFixed64:function(){var e=pl(this.buf,this.pos)+4294967296*dl(this.buf,this.pos+4);return this.pos+=8,e},readFloat:function(){var e=Ks(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=Ks(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t,n,r=this.buf;return t=127&(n=r[this.pos++]),n<128?t:(t|=(127&(n=r[this.pos++]))<<7,n<128?t:(t|=(127&(n=r[this.pos++]))<<14,n<128?t:(t|=(127&(n=r[this.pos++]))<<21,n<128?t:function(e,t,n){var r,i,o=n.buf;if(r=(112&(i=o[n.pos++]))>>4,i<128)return el(e,r,t);if(r|=(127&(i=o[n.pos++]))<<3,i<128)return el(e,r,t);if(r|=(127&(i=o[n.pos++]))<<10,i<128)return el(e,r,t);if(r|=(127&(i=o[n.pos++]))<<17,i<128)return el(e,r,t);if(r|=(127&(i=o[n.pos++]))<<24,i<128)return el(e,r,t);if(r|=(1&(i=o[n.pos++]))<<31,i<128)return el(e,r,t);throw new Error("Expected varint not more than 10 bytes")}(t|=(15&(n=r[this.pos]))<<28,e,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2==1?(e+1)/-2:e/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var e=this.readVarint()+this.pos,t=this.pos;return this.pos=e,e-t>=12&&Js?function(e,t,n){return Js.decode(e.subarray(t,n))}(this.buf,t,e):function(e,t,n){for(var r="",i=t;i<n;){var o,a,s,l=e[i],u=null,c=l>239?4:l>223?3:l>191?2:1;if(i+c>n)break;1===c?l<128&&(u=l):2===c?128==(192&(o=e[i+1]))&&(u=(31&l)<<6|63&o)<=127&&(u=null):3===c?(a=e[i+2],128==(192&(o=e[i+1]))&&128==(192&a)&&((u=(15&l)<<12|(63&o)<<6|63&a)<=2047||u>=55296&&u<=57343)&&(u=null)):4===c&&(a=e[i+2],s=e[i+3],128==(192&(o=e[i+1]))&&128==(192&a)&&128==(192&s)&&((u=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&s)<=65535||u>=1114112)&&(u=null)),null===u?(u=65533,c=1):u>65535&&(u-=65536,r+=String.fromCharCode(u>>>10&1023|55296),u=56320|1023&u),r+=String.fromCharCode(u),i+=c}return r}(this.buf,t,e)},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){if(this.type!==$s.Bytes)return e.push(this.readVarint(t));var n=Qs(this);for(e=e||[];this.pos<n;)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){if(this.type!==$s.Bytes)return e.push(this.readSVarint());var t=Qs(this);for(e=e||[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){if(this.type!==$s.Bytes)return e.push(this.readBoolean());var t=Qs(this);for(e=e||[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(e){if(this.type!==$s.Bytes)return e.push(this.readFloat());var t=Qs(this);for(e=e||[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(e){if(this.type!==$s.Bytes)return e.push(this.readDouble());var t=Qs(this);for(e=e||[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(e){if(this.type!==$s.Bytes)return e.push(this.readFixed32());var t=Qs(this);for(e=e||[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){if(this.type!==$s.Bytes)return e.push(this.readSFixed32());var t=Qs(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){if(this.type!==$s.Bytes)return e.push(this.readFixed64());var t=Qs(this);for(e=e||[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){if(this.type!==$s.Bytes)return e.push(this.readSFixed64());var t=Qs(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(e){var t=7&e;if(t===$s.Varint)for(;this.buf[this.pos++]>127;);else if(t===$s.Bytes)this.pos=this.readVarint()+this.pos;else if(t===$s.Fixed32)this.pos+=4;else{if(t!==$s.Fixed64)throw new Error("Unimplemented type: "+t);this.pos+=8}},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var n=new Uint8Array(t);n.set(this.buf),this.buf=n,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),hl(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),hl(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),hl(this.buf,-1&e,this.pos),hl(this.buf,Math.floor(e*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),hl(this.buf,-1&e,this.pos),hl(this.buf,Math.floor(e*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(e){(e=+e||0)>268435455||e<0?function(e,t){var n,r;if(e>=0?(n=e%4294967296|0,r=e/4294967296|0):(r=~(-e/4294967296),4294967295^(n=~(-e%4294967296))?n=n+1|0:(n=0,r=r+1|0)),e>=0x10000000000000000||e<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),function(e,t,n){n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,n.buf[n.pos]=127&(e>>>=7)}(n,0,t),function(e,t){var n=(7&e)<<4;t.buf[t.pos++]|=n|((e>>>=3)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e)))))}(r,t)}(e,this):(this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127))))},writeSVarint:function(e){this.writeVarint(e<0?2*-e-1:2*e)},writeBoolean:function(e){this.writeVarint(Boolean(e))},writeString:function(e){e=String(e),this.realloc(4*e.length),this.pos++;var t=this.pos;this.pos=function(e,t,n){for(var r,i,o=0;o<t.length;o++){if((r=t.charCodeAt(o))>55295&&r<57344){if(!i){r>56319||o+1===t.length?(e[n++]=239,e[n++]=191,e[n++]=189):i=r;continue}if(r<56320){e[n++]=239,e[n++]=191,e[n++]=189,i=r;continue}r=i-55296<<10|r-56320|65536,i=null}else i&&(e[n++]=239,e[n++]=191,e[n++]=189,i=null);r<128?e[n++]=r:(r<2048?e[n++]=r>>6|192:(r<65536?e[n++]=r>>12|224:(e[n++]=r>>18|240,e[n++]=r>>12&63|128),e[n++]=r>>6&63|128),e[n++]=63&r|128)}return n}(this.buf,e,this.pos);var n=this.pos-t;n>=128&&tl(t,n,this),this.pos=t-1,this.writeVarint(n),this.pos+=n},writeFloat:function(e){this.realloc(4),Xs(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),Xs(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var n=0;n<t;n++)this.buf[this.pos++]=e[n]},writeRawMessage:function(e,t){this.pos++;var n=this.pos;e(t,this);var r=this.pos-n;r>=128&&tl(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r},writeMessage:function(e,t,n){this.writeTag(e,$s.Bytes),this.writeRawMessage(t,n)},writePackedVarint:function(e,t){t.length&&this.writeMessage(e,nl,t)},writePackedSVarint:function(e,t){t.length&&this.writeMessage(e,rl,t)},writePackedBoolean:function(e,t){t.length&&this.writeMessage(e,al,t)},writePackedFloat:function(e,t){t.length&&this.writeMessage(e,il,t)},writePackedDouble:function(e,t){t.length&&this.writeMessage(e,ol,t)},writePackedFixed32:function(e,t){t.length&&this.writeMessage(e,sl,t)},writePackedSFixed32:function(e,t){t.length&&this.writeMessage(e,ll,t)},writePackedFixed64:function(e,t){t.length&&this.writeMessage(e,ul,t)},writePackedSFixed64:function(e,t){t.length&&this.writeMessage(e,cl,t)},writeBytesField:function(e,t){this.writeTag(e,$s.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,$s.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,$s.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,$s.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,$s.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,$s.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,$s.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,$s.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,$s.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,$s.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,Boolean(t))}};var gl=function(e,t){var n=t.pixelRatio,r=t.version,i=t.stretchX,o=t.stretchY,a=t.content;this.paddedRect=e,this.pixelRatio=n,this.stretchX=i,this.stretchY=o,this.content=a,this.version=r},_l={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};_l.tl.get=function(){return[this.paddedRect.x+1,this.paddedRect.y+1]},_l.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]},_l.tlbr.get=function(){return this.tl.concat(this.br)},_l.displaySize.get=function(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]},Object.defineProperties(gl.prototype,_l);var xl=function(e,t){var n={},r={};this.haveRenderCallbacks=[];var i=[];this.addImages(e,n,i),this.addImages(t,r,i);var o=vl(i),a=new _a({width:o.w||1,height:o.h||1});for(var s in e){var l=e[s],u=n[s].paddedRect;_a.copy(l.data,a,{x:0,y:0},{x:u.x+1,y:u.y+1},l.data)}for(var c in t){var p=t[c],h=r[c].paddedRect,d=h.x+1,f=h.y+1,m=p.data.width,y=p.data.height;_a.copy(p.data,a,{x:0,y:0},{x:d,y:f},p.data),_a.copy(p.data,a,{x:0,y:y-1},{x:d,y:f-1},{width:m,height:1}),_a.copy(p.data,a,{x:0,y:0},{x:d,y:f+y},{width:m,height:1}),_a.copy(p.data,a,{x:m-1,y:0},{x:d-1,y:f},{width:1,height:y}),_a.copy(p.data,a,{x:0,y:0},{x:d+m,y:f},{width:1,height:y})}this.image=a,this.iconPositions=n,this.patternPositions=r};xl.prototype.addImages=function(e,t,n){for(var r in e){var i=e[r],o={x:0,y:0,w:i.data.width+2,h:i.data.height+2};n.push(o),t[r]=new gl(o,i),i.hasRenderCallback&&this.haveRenderCallbacks.push(r)}},xl.prototype.patchUpdatedImages=function(e,t){for(var n in e.dispatchRenderCallbacks(this.haveRenderCallbacks),e.updatedImages)this.patchUpdatedImage(this.iconPositions[n],e.getImage(n),t),this.patchUpdatedImage(this.patternPositions[n],e.getImage(n),t)},xl.prototype.patchUpdatedImage=function(e,t,n){if(e&&t&&e.version!==t.version){e.version=t.version;var r=e.tl;n.update(t.data,void 0,{x:r[0],y:r[1]})}},Nr("ImagePosition",gl),Nr("ImageAtlas",xl);var bl={horizontal:1,vertical:2,horizontalOnly:3},wl=function(){this.scale=1,this.fontStack="",this.imageName=null};wl.forText=function(e,t){var n=new wl;return n.scale=e||1,n.fontStack=t,n},wl.forImage=function(e){var t=new wl;return t.imageName=e,t};var Sl=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};function El(e,t,n,r,i,o,a,s,l,u,c,p,h,d,f,m){var y,v=Sl.fromFeature(e,i);p===bl.vertical&&v.verticalizePunctuation();var g=ai.processBidirectionalText,_=ai.processStyledBidirectionalText;if(g&&1===v.sections.length){y=[];for(var x=0,b=g(v.toString(),Ol(v,u,o,t,r,d,f));x<b.length;x+=1){var w=b[x],S=new Sl;S.text=w,S.sections=v.sections;for(var E=0;E<w.length;E++)S.sectionIndex.push(0);y.push(S)}}else if(_){y=[];for(var T=0,P=_(v.text,v.sectionIndex,Ol(v,u,o,t,r,d,f));T<P.length;T+=1){var C=P[T],k=new Sl;k.text=C[0],k.sectionIndex=C[1],k.sections=v.sections,y.push(k)}}else y=function(e,t){for(var n=[],r=e.text,i=0,o=0,a=t;o<a.length;o+=1){var s=a[o];n.push(e.substring(i,s)),i=s}return i<r.length&&n.push(e.substring(i,r.length)),n}(v,Ol(v,u,o,t,r,d,f));var A=[],I={positionedLines:A,text:v.toString(),top:c[1],bottom:c[1],left:c[0],right:c[0],writingMode:p,iconsInText:!1,verticalizable:!1};return function(e,t,n,r,i,o,a,s,l,u,c,p){for(var h=0,d=-17,f=0,m=0,y="right"===s?1:"left"===s?0:.5,v=0,g=0,_=i;g<_.length;g+=1){var x=_[g];x.trim();var b=x.getMaxScale(),w=24*(b-1),S={positionedGlyphs:[],lineOffset:0};e.positionedLines[v]=S;var E=S.positionedGlyphs,T=0;if(x.length()){for(var P=0;P<x.length();P++){var C=x.getSection(P),k=x.getSectionIndex(P),A=x.getCharCode(P),I=0,O=null,D=null,M=null,j=24,R=!(l===bl.horizontal||!c&&!Zr(A)||c&&(Tl[A]||(W=A,Hr.Arabic(W)||Hr["Arabic Supplement"](W)||Hr["Arabic Extended-A"](W)||Hr["Arabic Presentation Forms-A"](W)||Hr["Arabic Presentation Forms-B"](W))));if(C.imageName){var L=r[C.imageName];if(!L)continue;M=C.imageName,e.iconsInText=e.iconsInText||!0,D=L.paddedRect;var z=L.displaySize;C.scale=24*C.scale/p,I=w+(24-z[1]*C.scale),j=(O={width:z[0],height:z[1],left:1,top:-3,advance:R?z[1]:z[0]}).advance;var N=R?z[0]*C.scale-24*b:z[1]*C.scale-24*b;N>0&&N>T&&(T=N)}else{var B=n[C.fontStack],F=B&&B[A];if(F&&F.rect)D=F.rect,O=F.metrics;else{var U=t[C.fontStack],V=U&&U[A];if(!V)continue;O=V.metrics}I=24*(b-C.scale)}R?(e.verticalizable=!0,E.push({glyph:A,imageName:M,x:h,y:d+I,vertical:R,scale:C.scale,fontStack:C.fontStack,sectionIndex:k,metrics:O,rect:D}),h+=j*C.scale+u):(E.push({glyph:A,imageName:M,x:h,y:d+I,vertical:R,scale:C.scale,fontStack:C.fontStack,sectionIndex:k,metrics:O,rect:D}),h+=O.advance*C.scale+u)}0!==E.length&&(f=Math.max(h-u,f),Ml(E,0,E.length-1,y,T)),h=0;var q=o*b+T;S.lineOffset=Math.max(T,w),d+=q,m=Math.max(q,m),++v}else d+=o,++v}var W,H=d- -17,G=Dl(a),Z=G.horizontalAlign,K=G.verticalAlign;(function(e,t,n,r,i,o,a,s,l){var u,c=(t-n)*i;u=o!==a?-s*r- -17:(-r*l+.5)*a;for(var p=0,h=e;p<h.length;p+=1)for(var d=0,f=h[p].positionedGlyphs;d<f.length;d+=1){var m=f[d];m.x+=c,m.y+=u}})(e.positionedLines,y,Z,K,f,m,o,H,i.length),e.top+=-K*H,e.bottom=e.top+H,e.left+=-Z*f,e.right=e.left+f}(I,t,n,r,y,a,s,l,p,u,h,m),!function(e){for(var t=0,n=e;t<n.length;t+=1)if(0!==n[t].positionedGlyphs.length)return!1;return!0}(A)&&I}Sl.fromFeature=function(e,t){for(var n=new Sl,r=0;r<e.sections.length;r++){var i=e.sections[r];i.image?n.addImageSection(i):n.addTextSection(i,t)}return n},Sl.prototype.length=function(){return this.text.length},Sl.prototype.getSection=function(e){return this.sections[this.sectionIndex[e]]},Sl.prototype.getSectionIndex=function(e){return this.sectionIndex[e]},Sl.prototype.getCharCode=function(e){return this.text.charCodeAt(e)},Sl.prototype.verticalizePunctuation=function(){this.text=function(e){for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n+1)||null,i=e.charCodeAt(n-1)||null;t+=r&&Kr(r)&&!Zs[e[n+1]]||i&&Kr(i)&&!Zs[e[n-1]]||!Zs[e[n]]?e[n]:Zs[e[n]]}return t}(this.text)},Sl.prototype.trim=function(){for(var e=0,t=0;t<this.text.length&&Tl[this.text.charCodeAt(t)];t++)e++;for(var n=this.text.length,r=this.text.length-1;r>=0&&r>=e&&Tl[this.text.charCodeAt(r)];r--)n--;this.text=this.text.substring(e,n),this.sectionIndex=this.sectionIndex.slice(e,n)},Sl.prototype.substring=function(e,t){var n=new Sl;return n.text=this.text.substring(e,t),n.sectionIndex=this.sectionIndex.slice(e,t),n.sections=this.sections,n},Sl.prototype.toString=function(){return this.text},Sl.prototype.getMaxScale=function(){var e=this;return this.sectionIndex.reduce((function(t,n){return Math.max(t,e.sections[n].scale)}),0)},Sl.prototype.addTextSection=function(e,t){this.text+=e.text,this.sections.push(wl.forText(e.scale,e.fontStack||t));for(var n=this.sections.length-1,r=0;r<e.text.length;++r)this.sectionIndex.push(n)},Sl.prototype.addImageSection=function(e){var t=e.image?e.image.name:"";if(0!==t.length){var n=this.getNextImageSectionCharCode();n?(this.text+=String.fromCharCode(n),this.sections.push(wl.forImage(t)),this.sectionIndex.push(this.sections.length-1)):S("Reached maximum number of images 6401")}else S("Can't add FormattedSection with an empty image.")},Sl.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)};var Tl={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Pl={};function Cl(e,t,n,r,i,o){if(t.imageName){var a=r[t.imageName];return a?a.displaySize[0]*t.scale*24/o+i:0}var s=n[t.fontStack],l=s&&s[e];return l?l.metrics.advance*t.scale+i:0}function kl(e,t,n,r){var i=Math.pow(e-t,2);return r?e<t?i/2:2*i:i+Math.abs(n)*n}function Al(e,t,n){var r=0;return 10===e&&(r-=1e4),n&&(r+=150),40!==e&&65288!==e||(r+=50),41!==t&&65289!==t||(r+=50),r}function Il(e,t,n,r,i,o){for(var a=null,s=kl(t,n,i,o),l=0,u=r;l<u.length;l+=1){var c=u[l],p=kl(t-c.x,n,i,o)+c.badness;p<=s&&(a=c,s=p)}return{index:e,x:t,priorBreak:a,badness:s}}function Ol(e,t,n,r,i,o,a){if("point"!==o)return[];if(!e)return[];for(var s,l=[],u=function(e,t,n,r,i,o){for(var a=0,s=0;s<e.length();s++){var l=e.getSection(s);a+=Cl(e.getCharCode(s),l,r,i,t,o)}return a/Math.max(1,Math.ceil(a/n))}(e,t,n,r,i,a),c=e.text.indexOf("\u200b")>=0,p=0,h=0;h<e.length();h++){var d=e.getSection(h),f=e.getCharCode(h);if(Tl[f]||(p+=Cl(f,d,r,i,t,a)),h<e.length()-1){var m=!((s=f)<11904||!(Hr["Bopomofo Extended"](s)||Hr.Bopomofo(s)||Hr["CJK Compatibility Forms"](s)||Hr["CJK Compatibility Ideographs"](s)||Hr["CJK Compatibility"](s)||Hr["CJK Radicals Supplement"](s)||Hr["CJK Strokes"](s)||Hr["CJK Symbols and Punctuation"](s)||Hr["CJK Unified Ideographs Extension A"](s)||Hr["CJK Unified Ideographs"](s)||Hr["Enclosed CJK Letters and Months"](s)||Hr["Halfwidth and Fullwidth Forms"](s)||Hr.Hiragana(s)||Hr["Ideographic Description Characters"](s)||Hr["Kangxi Radicals"](s)||Hr["Katakana Phonetic Extensions"](s)||Hr.Katakana(s)||Hr["Vertical Forms"](s)||Hr["Yi Radicals"](s)||Hr["Yi Syllables"](s)));(Pl[f]||m||d.imageName)&&l.push(Il(h+1,p,u,l,Al(f,e.getCharCode(h+1),m&&c),!1))}}return function e(t){return t?e(t.priorBreak).concat(t.index):[]}(Il(e.length(),p,u,l,0,!0))}function Dl(e){var t=.5,n=.5;switch(e){case"right":case"top-right":case"bottom-right":t=1;break;case"left":case"top-left":case"bottom-left":t=0}switch(e){case"bottom":case"bottom-right":case"bottom-left":n=1;break;case"top":case"top-right":case"top-left":n=0}return{horizontalAlign:t,verticalAlign:n}}function Ml(e,t,n,r,i){if(r||i)for(var o=e[n],a=(e[n].x+o.metrics.advance*o.scale)*r,s=t;s<=n;s++)e[s].x-=a,e[s].y+=i}function jl(e,t,n,r,i,o){var a,s=e.image;if(s.content){var l=s.content,u=s.pixelRatio||1;a=[l[0]/u,l[1]/u,s.displaySize[0]-l[2]/u,s.displaySize[1]-l[3]/u]}var c,p,h,d,f=t.left*o,m=t.right*o;"width"===n||"both"===n?(d=i[0]+f-r[3],p=i[0]+m+r[1]):p=(d=i[0]+(f+m-s.displaySize[0])/2)+s.displaySize[0];var y=t.top*o,v=t.bottom*o;return"height"===n||"both"===n?(c=i[1]+y-r[0],h=i[1]+v+r[2]):h=(c=i[1]+(y+v-s.displaySize[1])/2)+s.displaySize[1],{image:s,top:c,right:p,bottom:h,left:d,collisionPadding:a}}Pl[10]=!0,Pl[32]=!0,Pl[38]=!0,Pl[40]=!0,Pl[41]=!0,Pl[43]=!0,Pl[45]=!0,Pl[47]=!0,Pl[173]=!0,Pl[183]=!0,Pl[8203]=!0,Pl[8208]=!0,Pl[8211]=!0,Pl[8231]=!0;var Rl=function(e){function t(t,n,r,i){e.call(this,t,n),this.angle=r,void 0!==i&&(this.segment=i)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.clone=function(){return new t(this.x,this.y,this.angle,this.segment)},t}(i);function Ll(e,t){var n=t.expression;if("constant"===n.kind)return{kind:"constant",layoutSize:n.evaluate(new si(e+1))};if("source"===n.kind)return{kind:"source"};for(var r=n.zoomStops,i=n.interpolationType,o=0;o<r.length&&r[o]<=e;)o++;for(var a=o=Math.max(0,o-1);a<r.length&&r[a]<e+1;)a++;a=Math.min(r.length-1,a);var s=r[o],l=r[a];return"composite"===n.kind?{kind:"composite",minZoom:s,maxZoom:l,interpolationType:i}:{kind:"camera",minZoom:s,maxZoom:l,minSize:n.evaluate(new si(s)),maxSize:n.evaluate(new si(l)),interpolationType:i}}function zl(e,t,n){var r=t.uSize,i=n.lowerSize;return"source"===e.kind?i/128:"composite"===e.kind?Wt(i/128,n.upperSize/128,t.uSizeT):r}function Nl(e,t){var n=0,r=0;if("constant"===e.kind)r=e.layoutSize;else if("source"!==e.kind){var i=e.interpolationType,o=i?c(an.interpolationFactor(i,t,e.minZoom,e.maxZoom),0,1):0;"camera"===e.kind?r=Wt(e.minSize,e.maxSize,o):n=o}return{uSizeT:n,uSize:r}}Nr("Anchor",Rl);var Bl=Object.freeze({__proto__:null,getSizeData:Ll,evaluateSizeForFeature:zl,evaluateSizeForZoom:Nl,SIZE_PACK_FACTOR:128});function Fl(e,t,n,r,i){if(void 0===t.segment)return!0;for(var o=t,a=t.segment+1,s=0;s>-n/2;){if(--a<0)return!1;s-=e[a].dist(o),o=e[a]}s+=e[a].dist(e[a+1]),a++;for(var l=[],u=0;s<n/2;){var c=e[a],p=e[a+1];if(!p)return!1;var h=e[a-1].angleTo(c)-c.angleTo(p);for(h=Math.abs((h+3*Math.PI)%(2*Math.PI)-Math.PI),l.push({distance:s,angleDelta:h}),u+=h;s-l[0].distance>r;)u-=l.shift().angleDelta;if(u>i)return!1;a++,s+=c.dist(p)}return!0}function Ul(e){for(var t=0,n=0;n<e.length-1;n++)t+=e[n].dist(e[n+1]);return t}function Vl(e,t,n){return e?.6*t*n:0}function ql(e,t){return Math.max(e?e.right-e.left:0,t?t.right-t.left:0)}function Wl(e,t,n,r,i,o){for(var a=Vl(n,i,o),s=ql(n,r)*o,l=0,u=Ul(e)/2,c=0;c<e.length-1;c++){var p=e[c],h=e[c+1],d=p.dist(h);if(l+d>u){var f=(u-l)/d,m=Wt(p.x,h.x,f),y=Wt(p.y,h.y,f),v=new Rl(m,y,h.angleTo(p),c);return v._round(),!a||Fl(e,v,s,a,t)?v:void 0}l+=d}}function Hl(e,t,n,r,i,o,a,s,l){var u=Vl(r,o,a),c=ql(r,i),p=c*a,h=0===e[0].x||e[0].x===l||0===e[0].y||e[0].y===l;return t-p<t/4&&(t=p+t/4),function e(t,n,r,i,o,a,s,l,u){for(var c=a/2,p=Ul(t),h=0,d=n-r,f=[],m=0;m<t.length-1;m++){for(var y=t[m],v=t[m+1],g=y.dist(v),_=v.angleTo(y);d+r<h+g;){var x=((d+=r)-h)/g,b=Wt(y.x,v.x,x),w=Wt(y.y,v.y,x);if(b>=0&&b<u&&w>=0&&w<u&&d-c>=0&&d+c<=p){var S=new Rl(b,w,_,m);S._round(),i&&!Fl(t,S,a,i,o)||f.push(S)}}h+=g}return l||f.length||s||(f=e(t,h/2,r,i,o,a,s,!0,u)),f}(e,h?t/2*s%t:(c/2+2*o)*a*s%t,t,u,n,p,h,!1,l)}function Gl(e,t,n,r,o){for(var a=[],s=0;s<e.length;s++)for(var l=e[s],u=void 0,c=0;c<l.length-1;c++){var p=l[c],h=l[c+1];p.x<t&&h.x<t||(p.x<t?p=new i(t,p.y+(t-p.x)/(h.x-p.x)*(h.y-p.y))._round():h.x<t&&(h=new i(t,p.y+(t-p.x)/(h.x-p.x)*(h.y-p.y))._round()),p.y<n&&h.y<n||(p.y<n?p=new i(p.x+(n-p.y)/(h.y-p.y)*(h.x-p.x),n)._round():h.y<n&&(h=new i(p.x+(n-p.y)/(h.y-p.y)*(h.x-p.x),n)._round()),p.x>=r&&h.x>=r||(p.x>=r?p=new i(r,p.y+(r-p.x)/(h.x-p.x)*(h.y-p.y))._round():h.x>=r&&(h=new i(r,p.y+(r-p.x)/(h.x-p.x)*(h.y-p.y))._round()),p.y>=o&&h.y>=o||(p.y>=o?p=new i(p.x+(o-p.y)/(h.y-p.y)*(h.x-p.x),o)._round():h.y>=o&&(h=new i(p.x+(o-p.y)/(h.y-p.y)*(h.x-p.x),o)._round()),u&&p.equals(u[u.length-1])||a.push(u=[p]),u.push(h)))))}return a}function Zl(e,t,n,r){var o=[],a=e.image,s=a.pixelRatio,l=a.paddedRect.w-2,u=a.paddedRect.h-2,c=e.right-e.left,p=e.bottom-e.top,h=a.stretchX||[[0,l]],d=a.stretchY||[[0,u]],f=function(e,t){return e+t[1]-t[0]},m=h.reduce(f,0),y=d.reduce(f,0),v=l-m,g=u-y,_=0,x=m,b=0,w=y,S=0,E=v,T=0,P=g;if(a.content&&r){var C=a.content;_=Kl(h,0,C[0]),b=Kl(d,0,C[1]),x=Kl(h,C[0],C[2]),w=Kl(d,C[1],C[3]),S=C[0]-_,T=C[1]-b,E=C[2]-C[0]-x,P=C[3]-C[1]-w}var k=function(r,o,l,u){var h=Yl(r.stretch-_,x,c,e.left),d=$l(r.fixed-S,E,r.stretch,m),f=Yl(o.stretch-b,w,p,e.top),v=$l(o.fixed-T,P,o.stretch,y),g=Yl(l.stretch-_,x,c,e.left),C=$l(l.fixed-S,E,l.stretch,m),k=Yl(u.stretch-b,w,p,e.top),A=$l(u.fixed-T,P,u.stretch,y),I=new i(h,f),O=new i(g,f),D=new i(g,k),M=new i(h,k),j=new i(d/s,v/s),R=new i(C/s,A/s),L=t*Math.PI/180;if(L){var z=Math.sin(L),N=Math.cos(L),B=[N,-z,z,N];I._matMult(B),O._matMult(B),M._matMult(B),D._matMult(B)}var F=r.stretch+r.fixed,U=o.stretch+o.fixed;return{tl:I,tr:O,bl:M,br:D,tex:{x:a.paddedRect.x+1+F,y:a.paddedRect.y+1+U,w:l.stretch+l.fixed-F,h:u.stretch+u.fixed-U},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:j,pixelOffsetBR:R,minFontScaleX:E/s/c,minFontScaleY:P/s/p,isSDF:n}};if(r&&(a.stretchX||a.stretchY))for(var A=Xl(h,v,m),I=Xl(d,g,y),O=0;O<A.length-1;O++)for(var D=A[O],M=A[O+1],j=0;j<I.length-1;j++)o.push(k(D,I[j],M,I[j+1]));else o.push(k({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:l+1},{fixed:0,stretch:u+1}));return o}function Kl(e,t,n){for(var r=0,i=0,o=e;i<o.length;i+=1){var a=o[i];r+=Math.max(t,Math.min(n,a[1]))-Math.max(t,Math.min(n,a[0]))}return r}function Xl(e,t,n){for(var r=[{fixed:-1,stretch:0}],i=0,o=e;i<o.length;i+=1){var a=o[i],s=a[0],l=a[1],u=r[r.length-1];r.push({fixed:s-u.stretch,stretch:u.stretch}),r.push({fixed:s-u.stretch,stretch:u.stretch+(l-s)})}return r.push({fixed:t+1,stretch:n}),r}function Yl(e,t,n,r){return e/t*n+r}function $l(e,t,n,r){return e-t*n/r}var Jl=function(e,t,n,r,o,a,s,l,u,c){if(this.boxStartIndex=e.length,u){var p=a.top,h=a.bottom,d=a.collisionPadding;d&&(p-=d[1],h+=d[3]);var f=h-p;f>0&&(f=Math.max(10,f),this.circleDiameter=f)}else{var m=a.top*s-l,y=a.bottom*s+l,v=a.left*s-l,g=a.right*s+l,_=a.collisionPadding;if(_&&(v-=_[0]*s,m-=_[1]*s,g+=_[2]*s,y+=_[3]*s),c){var x=new i(v,m),b=new i(g,m),w=new i(v,y),S=new i(g,y),E=c*Math.PI/180;x._rotate(E),b._rotate(E),w._rotate(E),S._rotate(E),v=Math.min(x.x,b.x,w.x,S.x),g=Math.max(x.x,b.x,w.x,S.x),m=Math.min(x.y,b.y,w.y,S.y),y=Math.max(x.y,b.y,w.y,S.y)}e.emplaceBack(t.x,t.y,v,m,g,y,n,r,o)}this.boxEndIndex=e.length},Ql=function(e,t){if(void 0===e&&(e=[]),void 0===t&&(t=eu),this.data=e,this.length=this.data.length,this.compare=t,this.length>0)for(var n=(this.length>>1)-1;n>=0;n--)this._down(n)};function eu(e,t){return e<t?-1:e>t?1:0}function tu(e,t,n){void 0===t&&(t=1),void 0===n&&(n=!1);for(var r=1/0,o=1/0,a=-1/0,s=-1/0,l=e[0],u=0;u<l.length;u++){var c=l[u];(!u||c.x<r)&&(r=c.x),(!u||c.y<o)&&(o=c.y),(!u||c.x>a)&&(a=c.x),(!u||c.y>s)&&(s=c.y)}var p=Math.min(a-r,s-o),h=p/2,d=new Ql([],nu);if(0===p)return new i(r,o);for(var f=r;f<a;f+=p)for(var m=o;m<s;m+=p)d.push(new ru(f+h,m+h,h,e));for(var y=function(e){for(var t=0,n=0,r=0,i=e[0],o=0,a=i.length,s=a-1;o<a;s=o++){var l=i[o],u=i[s],c=l.x*u.y-u.x*l.y;n+=(l.x+u.x)*c,r+=(l.y+u.y)*c,t+=3*c}return new ru(n/t,r/t,0,e)}(e),v=d.length;d.length;){var g=d.pop();(g.d>y.d||!y.d)&&(y=g,n&&console.log("found best %d after %d probes",Math.round(1e4*g.d)/1e4,v)),g.max-y.d<=t||(d.push(new ru(g.p.x-(h=g.h/2),g.p.y-h,h,e)),d.push(new ru(g.p.x+h,g.p.y-h,h,e)),d.push(new ru(g.p.x-h,g.p.y+h,h,e)),d.push(new ru(g.p.x+h,g.p.y+h,h,e)),v+=4)}return n&&(console.log("num probes: "+v),console.log("best distance: "+y.d)),y.p}function nu(e,t){return t.max-e.max}function ru(e,t,n,r){this.p=new i(e,t),this.h=n,this.d=function(e,t){for(var n=!1,r=1/0,i=0;i<t.length;i++)for(var o=t[i],a=0,s=o.length,l=s-1;a<s;l=a++){var u=o[a],c=o[l];u.y>e.y!=c.y>e.y&&e.x<(c.x-u.x)*(e.y-u.y)/(c.y-u.y)+u.x&&(n=!n),r=Math.min(r,$o(e,u,c))}return(n?1:-1)*Math.sqrt(r)}(this.p,r),this.max=this.d+this.h*Math.SQRT2}Ql.prototype.push=function(e){this.data.push(e),this.length++,this._up(this.length-1)},Ql.prototype.pop=function(){if(0!==this.length){var e=this.data[0],t=this.data.pop();return this.length--,this.length>0&&(this.data[0]=t,this._down(0)),e}},Ql.prototype.peek=function(){return this.data[0]},Ql.prototype._up=function(e){for(var t=this.data,n=this.compare,r=t[e];e>0;){var i=e-1>>1,o=t[i];if(n(r,o)>=0)break;t[e]=o,e=i}t[e]=r},Ql.prototype._down=function(e){for(var t=this.data,n=this.compare,r=this.length>>1,i=t[e];e<r;){var o=1+(e<<1),a=t[o],s=o+1;if(s<this.length&&n(t[s],a)<0&&(o=s,a=t[s]),n(a,i)>=0)break;t[e]=a,e=o}t[e]=i};var iu=Number.POSITIVE_INFINITY;function ou(e,t){return t[1]!==iu?function(e,t,n){var r=0,i=0;switch(t=Math.abs(t),n=Math.abs(n),e){case"top-right":case"top-left":case"top":i=n-7;break;case"bottom-right":case"bottom-left":case"bottom":i=7-n}switch(e){case"top-right":case"bottom-right":case"right":r=-t;break;case"top-left":case"bottom-left":case"left":r=t}return[r,i]}(e,t[0],t[1]):function(e,t){var n=0,r=0;t<0&&(t=0);var i=t/Math.sqrt(2);switch(e){case"top-right":case"top-left":r=i-7;break;case"bottom-right":case"bottom-left":r=7-i;break;case"bottom":r=7-t;break;case"top":r=t-7}switch(e){case"top-right":case"bottom-right":n=-i;break;case"top-left":case"bottom-left":n=i;break;case"left":n=t;break;case"right":n=-t}return[n,r]}(e,t[0])}function au(e){switch(e){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function su(e,t,n,r,o,a,s,l,u,c,p,h,d,f,m){var y=function(e,t,n,r,o,a,s,l){for(var u=r.layout.get("text-rotate").evaluate(a,{})*Math.PI/180,c=[],p=0,h=t.positionedLines;p<h.length;p+=1)for(var d=h[p],f=0,m=d.positionedGlyphs;f<m.length;f+=1){var y=m[f];if(y.rect){var v=y.rect||{},g=4,_=!0,x=1,b=0,w=(o||l)&&y.vertical,S=y.metrics.advance*y.scale/2;if(l&&t.verticalizable&&(b=d.lineOffset/2-(y.imageName?-(24-y.metrics.width*y.scale)/2:24*(y.scale-1))),y.imageName){var E=s[y.imageName];_=E.sdf,g=1/(x=E.pixelRatio)}var T=o?[y.x+S,y.y]:[0,0],P=o?[0,0]:[y.x+S+n[0],y.y+n[1]-b],C=[0,0];w&&(C=P,P=[0,0]);var k=(y.metrics.left-g)*y.scale-S+P[0],A=(-y.metrics.top-g)*y.scale+P[1],I=k+v.w*y.scale/x,O=A+v.h*y.scale/x,D=new i(k,A),M=new i(I,A),j=new i(k,O),R=new i(I,O);if(w){var L=new i(-S,S- -17),z=-Math.PI/2,N=12-S,B=new i(22-N,-(y.imageName?N:0)),F=new(Function.prototype.bind.apply(i,[null].concat(C)));D._rotateAround(z,L)._add(B)._add(F),M._rotateAround(z,L)._add(B)._add(F),j._rotateAround(z,L)._add(B)._add(F),R._rotateAround(z,L)._add(B)._add(F)}if(u){var U=Math.sin(u),V=Math.cos(u),q=[V,-U,U,V];D._matMult(q),M._matMult(q),j._matMult(q),R._matMult(q)}var W=new i(0,0),H=new i(0,0);c.push({tl:D,tr:M,bl:j,br:R,tex:v,writingMode:t.writingMode,glyphOffset:T,sectionIndex:y.sectionIndex,isSDF:_,pixelOffsetTL:W,pixelOffsetBR:H,minFontScaleX:0,minFontScaleY:0})}}return c}(0,n,l,o,a,s,r,e.allowVerticalPlacement),v=e.textSizeData,g=null;"source"===v.kind?(g=[128*o.layout.get("text-size").evaluate(s,{})])[0]>32640&&S(e.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'):"composite"===v.kind&&((g=[128*f.compositeTextSizes[0].evaluate(s,{},m),128*f.compositeTextSizes[1].evaluate(s,{},m)])[0]>32640||g[1]>32640)&&S(e.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'),e.addSymbols(e.text,y,g,l,a,s,c,t,u.lineStartIndex,u.lineLength,d,m);for(var _=0,x=p;_<x.length;_+=1)h[x[_]]=e.text.placedSymbolArray.length-1;return 4*y.length}function lu(e){for(var t in e)return e[t];return null}function uu(e,t,n,r){var i=e.compareText;if(t in i){for(var o=i[t],a=o.length-1;a>=0;a--)if(r.dist(o[a])<n)return!0}else i[t]=[];return i[t].push(r),!1}var cu=xs.VectorTileFeature.types,pu=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function hu(e,t,n,r,i,o,a,s,l,u,c,p,h){var d=s?Math.min(32640,Math.round(s[0])):0,f=s?Math.min(32640,Math.round(s[1])):0;e.emplaceBack(t,n,Math.round(32*r),Math.round(32*i),o,a,(d<<1)+(l?1:0),f,16*u,16*c,256*p,256*h)}function du(e,t,n){e.emplaceBack(t.x,t.y,n),e.emplaceBack(t.x,t.y,n),e.emplaceBack(t.x,t.y,n),e.emplaceBack(t.x,t.y,n)}function fu(e){for(var t=0,n=e.sections;t<n.length;t+=1)if($r(n[t].text))return!0;return!1}var mu=function(e){this.layoutVertexArray=new ji,this.indexArray=new Ui,this.programConfigurations=e,this.segments=new so,this.dynamicLayoutVertexArray=new Ri,this.opacityVertexArray=new Li,this.placedSymbolArray=new Qi};mu.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length},mu.prototype.upload=function(e,t,n,r){this.isEmpty()||(n&&(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Us.members),this.indexBuffer=e.createIndexBuffer(this.indexArray,t),this.dynamicLayoutVertexBuffer=e.createVertexBuffer(this.dynamicLayoutVertexArray,Vs.members,!0),this.opacityVertexBuffer=e.createVertexBuffer(this.opacityVertexArray,pu,!0),this.opacityVertexBuffer.itemSize=1),(n||r)&&this.programConfigurations.upload(e))},mu.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},Nr("SymbolBuffers",mu);var yu=function(e,t,n){this.layoutVertexArray=new e,this.layoutAttributes=t,this.indexArray=new n,this.segments=new so,this.collisionVertexArray=new Fi};yu.prototype.upload=function(e){this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=e.createVertexBuffer(this.collisionVertexArray,qs.members,!0)},yu.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},Nr("CollisionBuffers",yu);var vu=function(e){this.collisionBoxArray=e.collisionBoxArray,this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=e.index,this.pixelRatio=e.pixelRatio,this.sourceLayerIndex=e.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=sa([]),this.placementViewportMatrix=sa([]);var t=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Ll(this.zoom,t["text-size"]),this.iconSizeData=Ll(this.zoom,t["icon-size"]);var n=this.layers[0].layout,r=n.get("symbol-sort-key"),i=n.get("symbol-z-order");this.canOverlap=n.get("text-allow-overlap")||n.get("icon-allow-overlap")||n.get("text-ignore-placement")||n.get("icon-ignore-placement"),this.sortFeaturesByKey="viewport-y"!==i&&void 0!==r.constantOr(1),this.sortFeaturesByY=("viewport-y"===i||"auto"===i&&!this.sortFeaturesByKey)&&this.canOverlap,"point"===n.get("symbol-placement")&&(this.writingModes=n.get("text-writing-mode").map((function(e){return bl[e]}))),this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id})),this.sourceID=e.sourceID};vu.prototype.createArrays=function(){this.text=new mu(new Ro(this.layers,this.zoom,(function(e){return/^text/.test(e)}))),this.icon=new mu(new Ro(this.layers,this.zoom,(function(e){return/^icon/.test(e)}))),this.glyphOffsetArray=new no,this.lineVertexArray=new ro,this.symbolInstances=new to},vu.prototype.calculateGlyphDependencies=function(e,t,n,r,i){for(var o=0;o<e.length;o++)if(t[e.charCodeAt(o)]=!0,(n||r)&&i){var a=Zs[e.charAt(o)];a&&(t[a.charCodeAt(0)]=!0)}},vu.prototype.populate=function(e,t,n){var r=this.layers[0],i=r.layout,o=i.get("text-font"),a=i.get("text-field"),s=i.get("icon-image"),l=("constant"!==a.value.kind||a.value.value instanceof rt&&!a.value.value.isEmpty()||a.value.value.toString().length>0)&&("constant"!==o.value.kind||o.value.value.length>0),u="constant"!==s.value.kind||!!s.value.value||Object.keys(s.parameters).length>0,c=i.get("symbol-sort-key");if(this.features=[],l||u){for(var p=t.iconDependencies,h=t.glyphDependencies,d=t.availableImages,f=new si(this.zoom),m=0,y=e;m<y.length;m+=1){var v=y[m],g=v.feature,_=v.id,x=v.index,b=v.sourceLayerIndex,w=r._featureFilter.needGeometry,S=Uo(g,w);if(r._featureFilter.filter(f,S,n)){w||(S.geometry=Fo(g));var E=void 0;if(l){var T=r.getValueAndResolveTokens("text-field",S,n,d),P=rt.factory(T);fu(P)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===ii()||this.hasRTLText&&ai.isParsed())&&(E=Gs(P,r,S))}var C=void 0;if(u){var k=r.getValueAndResolveTokens("icon-image",S,n,d);C=k instanceof it?k:it.fromString(k)}if(E||C){var A=this.sortFeaturesByKey?c.evaluate(S,{},n):void 0;if(this.features.push({id:_,text:E,icon:C,index:x,sourceLayerIndex:b,geometry:S.geometry,properties:g.properties,type:cu[g.type],sortKey:A}),C&&(p[C.name]=!0),E){var I=o.evaluate(S,{},n).join(","),O="map"===i.get("text-rotation-alignment")&&"point"!==i.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(bl.vertical)>=0;for(var D=0,M=E.sections;D<M.length;D+=1){var j=M[D];if(j.image)p[j.image.name]=!0;else{var R=Gr(E.toString()),L=j.fontStack||I,z=h[L]=h[L]||{};this.calculateGlyphDependencies(j.text,z,O,this.allowVerticalPlacement,R)}}}}}}"line"===i.get("symbol-placement")&&(this.features=function(e){var t={},n={},r=[],i=0;function o(t){r.push(e[t]),i++}function a(e,t,i){var o=n[e];return delete n[e],n[t]=o,r[o].geometry[0].pop(),r[o].geometry[0]=r[o].geometry[0].concat(i[0]),o}function s(e,n,i){var o=t[n];return delete t[n],t[e]=o,r[o].geometry[0].shift(),r[o].geometry[0]=i[0].concat(r[o].geometry[0]),o}function l(e,t,n){var r=n?t[0][t[0].length-1]:t[0][0];return e+":"+r.x+":"+r.y}for(var u=0;u<e.length;u++){var c=e[u],p=c.geometry,h=c.text?c.text.toString():null;if(h){var d=l(h,p),f=l(h,p,!0);if(d in n&&f in t&&n[d]!==t[f]){var m=s(d,f,p),y=a(d,f,r[m].geometry);delete t[d],delete n[f],n[l(h,r[y].geometry,!0)]=y,r[m].geometry=null}else d in n?a(d,f,p):f in t?s(d,f,p):(o(u),t[d]=i-1,n[f]=i-1)}else o(u)}return r.filter((function(e){return e.geometry}))}(this.features)),this.sortFeaturesByKey&&this.features.sort((function(e,t){return e.sortKey-t.sortKey}))}},vu.prototype.update=function(e,t,n){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(e,t,this.layers,n),this.icon.programConfigurations.updatePaintArrays(e,t,this.layers,n))},vu.prototype.isEmpty=function(){return 0===this.symbolInstances.length&&!this.hasRTLText},vu.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},vu.prototype.upload=function(e){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(e),this.iconCollisionBox.upload(e)),this.text.upload(e,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(e,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},vu.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},vu.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},vu.prototype.addToLineVertexArray=function(e,t){var n=this.lineVertexArray.length;if(void 0!==e.segment){for(var r=e.dist(t[e.segment+1]),i=e.dist(t[e.segment]),o={},a=e.segment+1;a<t.length;a++)o[a]={x:t[a].x,y:t[a].y,tileUnitDistanceFromAnchor:r},a<t.length-1&&(r+=t[a+1].dist(t[a]));for(var s=e.segment||0;s>=0;s--)o[s]={x:t[s].x,y:t[s].y,tileUnitDistanceFromAnchor:i},s>0&&(i+=t[s-1].dist(t[s]));for(var l=0;l<t.length;l++){var u=o[l];this.lineVertexArray.emplaceBack(u.x,u.y,u.tileUnitDistanceFromAnchor)}}return{lineStartIndex:n,lineLength:this.lineVertexArray.length-n}},vu.prototype.addSymbols=function(e,t,n,r,i,o,a,s,l,u,c,p){for(var h=e.indexArray,d=e.layoutVertexArray,f=e.segments.prepareSegment(4*t.length,d,h,this.canOverlap?o.sortKey:void 0),m=this.glyphOffsetArray.length,y=f.vertexLength,v=this.allowVerticalPlacement&&a===bl.vertical?Math.PI/2:0,g=o.text&&o.text.sections,_=0;_<t.length;_++){var x=t[_],b=x.tl,w=x.tr,S=x.bl,E=x.br,T=x.tex,P=x.pixelOffsetTL,C=x.pixelOffsetBR,k=x.minFontScaleX,A=x.minFontScaleY,I=x.glyphOffset,O=x.isSDF,D=x.sectionIndex,M=f.vertexLength,j=I[1];hu(d,s.x,s.y,b.x,j+b.y,T.x,T.y,n,O,P.x,P.y,k,A),hu(d,s.x,s.y,w.x,j+w.y,T.x+T.w,T.y,n,O,C.x,P.y,k,A),hu(d,s.x,s.y,S.x,j+S.y,T.x,T.y+T.h,n,O,P.x,C.y,k,A),hu(d,s.x,s.y,E.x,j+E.y,T.x+T.w,T.y+T.h,n,O,C.x,C.y,k,A),du(e.dynamicLayoutVertexArray,s,v),h.emplaceBack(M,M+1,M+2),h.emplaceBack(M+1,M+2,M+3),f.vertexLength+=4,f.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(I[0]),_!==t.length-1&&D===t[_+1].sectionIndex||e.programConfigurations.populatePaintArrays(d.length,o,o.index,{},p,g&&g[D])}e.placedSymbolArray.emplaceBack(s.x,s.y,m,this.glyphOffsetArray.length-m,y,l,u,s.segment,n?n[0]:0,n?n[1]:0,r[0],r[1],a,0,!1,0,c)},vu.prototype._addCollisionDebugVertex=function(e,t,n,r,i,o){return t.emplaceBack(0,0),e.emplaceBack(n.x,n.y,r,i,Math.round(o.x),Math.round(o.y))},vu.prototype.addCollisionDebugVertices=function(e,t,n,r,o,a,s){var l=o.segments.prepareSegment(4,o.layoutVertexArray,o.indexArray),u=l.vertexLength,c=o.layoutVertexArray,p=o.collisionVertexArray,h=s.anchorX,d=s.anchorY;this._addCollisionDebugVertex(c,p,a,h,d,new i(e,t)),this._addCollisionDebugVertex(c,p,a,h,d,new i(n,t)),this._addCollisionDebugVertex(c,p,a,h,d,new i(n,r)),this._addCollisionDebugVertex(c,p,a,h,d,new i(e,r)),l.vertexLength+=4;var f=o.indexArray;f.emplaceBack(u,u+1),f.emplaceBack(u+1,u+2),f.emplaceBack(u+2,u+3),f.emplaceBack(u+3,u),l.primitiveLength+=4},vu.prototype.addDebugCollisionBoxes=function(e,t,n,r){for(var i=e;i<t;i++){var o=this.collisionBoxArray.get(i);this.addCollisionDebugVertices(o.x1,o.y1,o.x2,o.y2,r?this.textCollisionBox:this.iconCollisionBox,o.anchorPoint,n)}},vu.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new yu(Ni,Ws.members,Zi),this.iconCollisionBox=new yu(Ni,Ws.members,Zi);for(var e=0;e<this.symbolInstances.length;e++){var t=this.symbolInstances.get(e);this.addDebugCollisionBoxes(t.textBoxStartIndex,t.textBoxEndIndex,t,!0),this.addDebugCollisionBoxes(t.verticalTextBoxStartIndex,t.verticalTextBoxEndIndex,t,!0),this.addDebugCollisionBoxes(t.iconBoxStartIndex,t.iconBoxEndIndex,t,!1),this.addDebugCollisionBoxes(t.verticalIconBoxStartIndex,t.verticalIconBoxEndIndex,t,!1)}},vu.prototype._deserializeCollisionBoxesForSymbol=function(e,t,n,r,i,o,a,s,l){for(var u={},c=t;c<n;c++){var p=e.get(c);u.textBox={x1:p.x1,y1:p.y1,x2:p.x2,y2:p.y2,anchorPointX:p.anchorPointX,anchorPointY:p.anchorPointY},u.textFeatureIndex=p.featureIndex;break}for(var h=r;h<i;h++){var d=e.get(h);u.verticalTextBox={x1:d.x1,y1:d.y1,x2:d.x2,y2:d.y2,anchorPointX:d.anchorPointX,anchorPointY:d.anchorPointY},u.verticalTextFeatureIndex=d.featureIndex;break}for(var f=o;f<a;f++){var m=e.get(f);u.iconBox={x1:m.x1,y1:m.y1,x2:m.x2,y2:m.y2,anchorPointX:m.anchorPointX,anchorPointY:m.anchorPointY},u.iconFeatureIndex=m.featureIndex;break}for(var y=s;y<l;y++){var v=e.get(y);u.verticalIconBox={x1:v.x1,y1:v.y1,x2:v.x2,y2:v.y2,anchorPointX:v.anchorPointX,anchorPointY:v.anchorPointY},u.verticalIconFeatureIndex=v.featureIndex;break}return u},vu.prototype.deserializeCollisionBoxes=function(e){this.collisionArrays=[];for(var t=0;t<this.symbolInstances.length;t++){var n=this.symbolInstances.get(t);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(e,n.textBoxStartIndex,n.textBoxEndIndex,n.verticalTextBoxStartIndex,n.verticalTextBoxEndIndex,n.iconBoxStartIndex,n.iconBoxEndIndex,n.verticalIconBoxStartIndex,n.verticalIconBoxEndIndex))}},vu.prototype.hasTextData=function(){return this.text.segments.get().length>0},vu.prototype.hasIconData=function(){return this.icon.segments.get().length>0},vu.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},vu.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},vu.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},vu.prototype.addIndicesForPlacedSymbol=function(e,t){for(var n=e.placedSymbolArray.get(t),r=n.vertexStartIndex+4*n.numGlyphs,i=n.vertexStartIndex;i<r;i+=4)e.indexArray.emplaceBack(i,i+1,i+2),e.indexArray.emplaceBack(i+1,i+2,i+3)},vu.prototype.getSortedSymbolIndexes=function(e){if(this.sortedAngle===e&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;for(var t=Math.sin(e),n=Math.cos(e),r=[],i=[],o=[],a=0;a<this.symbolInstances.length;++a){o.push(a);var s=this.symbolInstances.get(a);r.push(0|Math.round(t*s.anchorX+n*s.anchorY)),i.push(s.featureIndex)}return o.sort((function(e,t){return r[e]-r[t]||i[t]-i[e]})),o},vu.prototype.addToSortKeyRanges=function(e,t){var n=this.sortKeyRanges[this.sortKeyRanges.length-1];n&&n.sortKey===t?n.symbolInstanceEnd=e+1:this.sortKeyRanges.push({sortKey:t,symbolInstanceStart:e,symbolInstanceEnd:e+1})},vu.prototype.sortFeatures=function(e){var t=this;if(this.sortFeaturesByY&&this.sortedAngle!==e&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(e),this.sortedAngle=e,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var n=0,r=this.symbolInstanceIndexes;n<r.length;n+=1){var i=this.symbolInstances.get(r[n]);this.featureSortOrder.push(i.featureIndex),[i.rightJustifiedTextSymbolIndex,i.centerJustifiedTextSymbolIndex,i.leftJustifiedTextSymbolIndex].forEach((function(e,n,r){e>=0&&r.indexOf(e)===n&&t.addIndicesForPlacedSymbol(t.text,e)})),i.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,i.verticalPlacedTextSymbolIndex),i.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,i.placedIconSymbolIndex),i.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,i.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},Nr("SymbolBucket",vu,{omit:["layers","collisionBoxArray","features","compareText"]}),vu.MAX_GLYPHS=65535,vu.addDynamicAttributes=du;var gu=new bi({"symbol-placement":new yi(Ae.layout_symbol["symbol-placement"]),"symbol-spacing":new yi(Ae.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new yi(Ae.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new vi(Ae.layout_symbol["symbol-sort-key"]),"symbol-z-order":new yi(Ae.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new yi(Ae.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new yi(Ae.layout_symbol["icon-ignore-placement"]),"icon-optional":new yi(Ae.layout_symbol["icon-optional"]),"icon-rotation-alignment":new yi(Ae.layout_symbol["icon-rotation-alignment"]),"icon-size":new vi(Ae.layout_symbol["icon-size"]),"icon-text-fit":new yi(Ae.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new yi(Ae.layout_symbol["icon-text-fit-padding"]),"icon-image":new vi(Ae.layout_symbol["icon-image"]),"icon-rotate":new vi(Ae.layout_symbol["icon-rotate"]),"icon-padding":new yi(Ae.layout_symbol["icon-padding"]),"icon-keep-upright":new yi(Ae.layout_symbol["icon-keep-upright"]),"icon-offset":new vi(Ae.layout_symbol["icon-offset"]),"icon-anchor":new vi(Ae.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new yi(Ae.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new yi(Ae.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new yi(Ae.layout_symbol["text-rotation-alignment"]),"text-field":new vi(Ae.layout_symbol["text-field"]),"text-font":new vi(Ae.layout_symbol["text-font"]),"text-size":new vi(Ae.layout_symbol["text-size"]),"text-max-width":new vi(Ae.layout_symbol["text-max-width"]),"text-line-height":new yi(Ae.layout_symbol["text-line-height"]),"text-letter-spacing":new vi(Ae.layout_symbol["text-letter-spacing"]),"text-justify":new vi(Ae.layout_symbol["text-justify"]),"text-radial-offset":new vi(Ae.layout_symbol["text-radial-offset"]),"text-variable-anchor":new yi(Ae.layout_symbol["text-variable-anchor"]),"text-anchor":new vi(Ae.layout_symbol["text-anchor"]),"text-max-angle":new yi(Ae.layout_symbol["text-max-angle"]),"text-writing-mode":new yi(Ae.layout_symbol["text-writing-mode"]),"text-rotate":new vi(Ae.layout_symbol["text-rotate"]),"text-padding":new yi(Ae.layout_symbol["text-padding"]),"text-keep-upright":new yi(Ae.layout_symbol["text-keep-upright"]),"text-transform":new vi(Ae.layout_symbol["text-transform"]),"text-offset":new vi(Ae.layout_symbol["text-offset"]),"text-allow-overlap":new yi(Ae.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new yi(Ae.layout_symbol["text-ignore-placement"]),"text-optional":new yi(Ae.layout_symbol["text-optional"])}),_u={paint:new bi({"icon-opacity":new vi(Ae.paint_symbol["icon-opacity"]),"icon-color":new vi(Ae.paint_symbol["icon-color"]),"icon-halo-color":new vi(Ae.paint_symbol["icon-halo-color"]),"icon-halo-width":new vi(Ae.paint_symbol["icon-halo-width"]),"icon-halo-blur":new vi(Ae.paint_symbol["icon-halo-blur"]),"icon-translate":new yi(Ae.paint_symbol["icon-translate"]),"icon-translate-anchor":new yi(Ae.paint_symbol["icon-translate-anchor"]),"text-opacity":new vi(Ae.paint_symbol["text-opacity"]),"text-color":new vi(Ae.paint_symbol["text-color"],{runtimeType:Ue,getOverride:function(e){return e.textColor},hasOverride:function(e){return!!e.textColor}}),"text-halo-color":new vi(Ae.paint_symbol["text-halo-color"]),"text-halo-width":new vi(Ae.paint_symbol["text-halo-width"]),"text-halo-blur":new vi(Ae.paint_symbol["text-halo-blur"]),"text-translate":new yi(Ae.paint_symbol["text-translate"]),"text-translate-anchor":new yi(Ae.paint_symbol["text-translate-anchor"])}),layout:gu},xu=function(e){this.type=e.property.overrides?e.property.overrides.runtimeType:ze,this.defaultValue=e};xu.prototype.evaluate=function(e){if(e.formattedSection){var t=this.defaultValue.property.overrides;if(t&&t.hasOverride(e.formattedSection))return t.getOverride(e.formattedSection)}return e.feature&&e.featureState?this.defaultValue.evaluate(e.feature,e.featureState):this.defaultValue.property.specification.default},xu.prototype.eachChild=function(e){this.defaultValue.isConstant()||e(this.defaultValue.value._styleExpression.expression)},xu.prototype.outputDefined=function(){return!1},xu.prototype.serialize=function(){return null},Nr("FormatSectionOverride",xu,{omit:["defaultValue"]});var bu=function(e){function t(t){e.call(this,t,_u)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.recalculate=function(t,n){if(e.prototype.recalculate.call(this,t,n),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),"point"===this.layout.get("symbol-placement")){var r=this.layout.get("text-writing-mode");if(r){for(var i=[],o=0,a=r;o<a.length;o+=1){var s=a[o];i.indexOf(s)<0&&i.push(s)}this.layout._values["text-writing-mode"]=i}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},t.prototype.getValueAndResolveTokens=function(e,t,n,r){var i=this.layout.get(e).evaluate(t,{},n,r),o=this._unevaluatedLayout._values[e];return o.isDataDriven()||Gn(o.value)||!i?i:function(e,t){return t.replace(/{([^{}]+)}/g,(function(t,n){return n in e?String(e[n]):""}))}(t.properties,i)},t.prototype.createBucket=function(e){return new vu(e)},t.prototype.queryRadius=function(){return 0},t.prototype.queryIntersectsFeature=function(){return!1},t.prototype._setPaintOverrides=function(){for(var e=0,n=_u.paint.overridableProperties;e<n.length;e+=1){var r=n[e];if(t.hasPaintOverride(this.layout,r)){var i,o=this.paint.get(r),a=new xu(o),s=new Hn(a,o.property.specification);i="constant"===o.value.kind||"source"===o.value.kind?new Kn("source",s):new Xn("composite",s,o.value.zoomStops,o.value._interpolationType),this.paint._values[r]=new fi(o.property,i,o.parameters)}}},t.prototype._handleOverridablePaintPropertyUpdate=function(e,n,r){return!(!this.layout||n.isDataDriven()||r.isDataDriven())&&t.hasPaintOverride(this.layout,e)},t.hasPaintOverride=function(e,t){var n=e.get("text-field"),r=_u.paint.properties[t],i=!1,o=function(e){for(var t=0,n=e;t<n.length;t+=1)if(r.overrides&&r.overrides.hasOverride(n[t]))return void(i=!0)};if("constant"===n.value.kind&&n.value.value instanceof rt)o(n.value.value.sections);else if("source"===n.value.kind){var a=function(e){i||(e instanceof ut&&st(e.value)===He?o(e.value.sections):e instanceof dt?o(e.sections):e.eachChild(a))},s=n.value;s._styleExpression&&a(s._styleExpression.expression)}return i},t}(wi),wu={paint:new bi({"background-color":new yi(Ae.paint_background["background-color"]),"background-pattern":new _i(Ae.paint_background["background-pattern"]),"background-opacity":new yi(Ae.paint_background["background-opacity"])})},Su=function(e){function t(t){e.call(this,t,wu)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t}(wi),Eu={paint:new bi({"raster-opacity":new yi(Ae.paint_raster["raster-opacity"]),"raster-hue-rotate":new yi(Ae.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new yi(Ae.paint_raster["raster-brightness-min"]),"raster-brightness-max":new yi(Ae.paint_raster["raster-brightness-max"]),"raster-saturation":new yi(Ae.paint_raster["raster-saturation"]),"raster-contrast":new yi(Ae.paint_raster["raster-contrast"]),"raster-resampling":new yi(Ae.paint_raster["raster-resampling"]),"raster-fade-duration":new yi(Ae.paint_raster["raster-fade-duration"])})},Tu=function(e){function t(t){e.call(this,t,Eu)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t}(wi),Pu=function(e){function t(t){e.call(this,t,{}),this.implementation=t}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.is3D=function(){return"3d"===this.implementation.renderingMode},t.prototype.hasOffscreenPass=function(){return void 0!==this.implementation.prerender},t.prototype.recalculate=function(){},t.prototype.updateTransitions=function(){},t.prototype.hasTransition=function(){},t.prototype.serialize=function(){},t.prototype.onAdd=function(e){this.implementation.onAdd&&this.implementation.onAdd(e,e.painter.context.gl)},t.prototype.onRemove=function(e){this.implementation.onRemove&&this.implementation.onRemove(e,e.painter.context.gl)},t}(wi),Cu={circle:ha,heatmap:wa,hillshade:Ea,fill:cs,"fill-extrusion":Cs,line:Bs,symbol:bu,background:Su,raster:Tu},ku=a.HTMLImageElement,Au=a.HTMLCanvasElement,Iu=a.HTMLVideoElement,Ou=a.ImageData,Du=a.ImageBitmap,Mu=function(e,t,n,r){this.context=e,this.format=n,this.texture=e.gl.createTexture(),this.update(t,r)};Mu.prototype.update=function(e,t,n){var r=e.width,i=e.height,o=!(this.size&&this.size[0]===r&&this.size[1]===i||n),a=this.context,s=a.gl;if(this.useMipmap=Boolean(t&&t.useMipmap),s.bindTexture(s.TEXTURE_2D,this.texture),a.pixelStoreUnpackFlipY.set(!1),a.pixelStoreUnpack.set(1),a.pixelStoreUnpackPremultiplyAlpha.set(this.format===s.RGBA&&(!t||!1!==t.premultiply)),o)this.size=[r,i],e instanceof ku||e instanceof Au||e instanceof Iu||e instanceof Ou||Du&&e instanceof Du?s.texImage2D(s.TEXTURE_2D,0,this.format,this.format,s.UNSIGNED_BYTE,e):s.texImage2D(s.TEXTURE_2D,0,this.format,r,i,0,this.format,s.UNSIGNED_BYTE,e.data);else{var l=n||{x:0,y:0},u=l.x,c=l.y;e instanceof ku||e instanceof Au||e instanceof Iu||e instanceof Ou||Du&&e instanceof Du?s.texSubImage2D(s.TEXTURE_2D,0,u,c,s.RGBA,s.UNSIGNED_BYTE,e):s.texSubImage2D(s.TEXTURE_2D,0,u,c,r,i,s.RGBA,s.UNSIGNED_BYTE,e.data)}this.useMipmap&&this.isSizePowerOfTwo()&&s.generateMipmap(s.TEXTURE_2D)},Mu.prototype.bind=function(e,t,n){var r=this.context.gl;r.bindTexture(r.TEXTURE_2D,this.texture),n!==r.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(n=r.LINEAR),e!==this.filter&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,e),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,n||e),this.filter=e),t!==this.wrap&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,t),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,t),this.wrap=t)},Mu.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},Mu.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var ju=function(e){var t=this;this._callback=e,this._triggered=!1,"undefined"!=typeof MessageChannel&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){t._triggered=!1,t._callback()})};ju.prototype.trigger=function(){var e=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout((function(){e._triggered=!1,e._callback()}),0))},ju.prototype.remove=function(){delete this._channel,this._callback=function(){}};var Ru=function(e,t,n){this.target=e,this.parent=t,this.mapId=n,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},v(["receive","process"],this),this.invoker=new ju(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=P()?e:a};function Lu(e,t,n){var r=2*Math.PI*6378137/256/Math.pow(2,n);return[e*r-2*Math.PI*6378137/2,t*r-2*Math.PI*6378137/2]}Ru.prototype.send=function(e,t,n,r,i){var o=this;void 0===i&&(i=!1);var a=Math.round(1e18*Math.random()).toString(36).substring(0,10);n&&(this.callbacks[a]=n);var s=A(this.globalScope)?void 0:[];return this.target.postMessage({id:a,type:e,hasCallback:!!n,targetMapId:r,mustQueue:i,sourceMapId:this.mapId,data:Vr(t,s)},s),{cancel:function(){n&&delete o.callbacks[a],o.target.postMessage({id:a,type:"<cancel>",targetMapId:r,sourceMapId:o.mapId})}}},Ru.prototype.receive=function(e){var t=e.data,n=t.id;if(n&&(!t.targetMapId||this.mapId===t.targetMapId))if("<cancel>"===t.type){delete this.tasks[n];var r=this.cancelCallbacks[n];delete this.cancelCallbacks[n],r&&r()}else P()||t.mustQueue?(this.tasks[n]=t,this.taskQueue.push(n),this.invoker.trigger()):this.processTask(n,t)},Ru.prototype.process=function(){if(this.taskQueue.length){var e=this.taskQueue.shift(),t=this.tasks[e];delete this.tasks[e],this.taskQueue.length&&this.invoker.trigger(),t&&this.processTask(e,t)}},Ru.prototype.processTask=function(e,t){var n=this;if("<response>"===t.type){var r=this.callbacks[e];delete this.callbacks[e],r&&(t.error?r(qr(t.error)):r(null,qr(t.data)))}else{var i=!1,o=A(this.globalScope)?void 0:[],a=t.hasCallback?function(t,r){i=!0,delete n.cancelCallbacks[e],n.target.postMessage({id:e,type:"<response>",sourceMapId:n.mapId,error:t?Vr(t):null,data:Vr(r,o)},o)}:function(e){i=!0},s=null,l=qr(t.data);if(this.parent[t.type])s=this.parent[t.type](t.sourceMapId,l,a);else if(this.parent.getWorkerSource){var u=t.type.split(".");s=this.parent.getWorkerSource(t.sourceMapId,u[0],l.source)[u[1]](l,a)}else a(new Error("Could not find function "+t.type));!i&&s&&s.cancel&&(this.cancelCallbacks[e]=s.cancel)}},Ru.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};var zu=function(e,t){e&&(t?this.setSouthWest(e).setNorthEast(t):4===e.length?this.setSouthWest([e[0],e[1]]).setNorthEast([e[2],e[3]]):this.setSouthWest(e[0]).setNorthEast(e[1]))};zu.prototype.setNorthEast=function(e){return this._ne=e instanceof Nu?new Nu(e.lng,e.lat):Nu.convert(e),this},zu.prototype.setSouthWest=function(e){return this._sw=e instanceof Nu?new Nu(e.lng,e.lat):Nu.convert(e),this},zu.prototype.extend=function(e){var t,n,r=this._sw,i=this._ne;if(e instanceof Nu)t=e,n=e;else{if(!(e instanceof zu))return Array.isArray(e)?4===e.length||e.every(Array.isArray)?this.extend(zu.convert(e)):this.extend(Nu.convert(e)):this;if(n=e._ne,!(t=e._sw)||!n)return this}return r||i?(r.lng=Math.min(t.lng,r.lng),r.lat=Math.min(t.lat,r.lat),i.lng=Math.max(n.lng,i.lng),i.lat=Math.max(n.lat,i.lat)):(this._sw=new Nu(t.lng,t.lat),this._ne=new Nu(n.lng,n.lat)),this},zu.prototype.getCenter=function(){return new Nu((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},zu.prototype.getSouthWest=function(){return this._sw},zu.prototype.getNorthEast=function(){return this._ne},zu.prototype.getNorthWest=function(){return new Nu(this.getWest(),this.getNorth())},zu.prototype.getSouthEast=function(){return new Nu(this.getEast(),this.getSouth())},zu.prototype.getWest=function(){return this._sw.lng},zu.prototype.getSouth=function(){return this._sw.lat},zu.prototype.getEast=function(){return this._ne.lng},zu.prototype.getNorth=function(){return this._ne.lat},zu.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},zu.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},zu.prototype.isEmpty=function(){return!(this._sw&&this._ne)},zu.prototype.contains=function(e){var t=Nu.convert(e),n=t.lng,r=t.lat,i=this._sw.lng<=n&&n<=this._ne.lng;return this._sw.lng>this._ne.lng&&(i=this._sw.lng>=n&&n>=this._ne.lng),this._sw.lat<=r&&r<=this._ne.lat&&i},zu.convert=function(e){return!e||e instanceof zu?e:new zu(e)};var Nu=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid LngLat object: ("+e+", "+t+")");if(this.lng=+e,this.lat=+t,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};Nu.prototype.wrap=function(){return new Nu(p(this.lng,-180,180),this.lat)},Nu.prototype.toArray=function(){return[this.lng,this.lat]},Nu.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},Nu.prototype.distanceTo=function(e){var t=Math.PI/180,n=this.lat*t,r=e.lat*t,i=Math.sin(n)*Math.sin(r)+Math.cos(n)*Math.cos(r)*Math.cos((e.lng-this.lng)*t);return 6371008.8*Math.acos(Math.min(i,1))},Nu.prototype.toBounds=function(e){void 0===e&&(e=0);var t=360*e/40075017,n=t/Math.cos(Math.PI/180*this.lat);return new zu(new Nu(this.lng-n,this.lat-t),new Nu(this.lng+n,this.lat+t))},Nu.convert=function(e){if(e instanceof Nu)return e;if(Array.isArray(e)&&(2===e.length||3===e.length))return new Nu(Number(e[0]),Number(e[1]));if(!Array.isArray(e)&&"object"==typeof e&&null!==e)return new Nu(Number("lng"in e?e.lng:e.lon),Number(e.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var Bu=2*Math.PI*6371008.8;function Fu(e){return Bu*Math.cos(e*Math.PI/180)}function Uu(e){return(180+e)/360}function Vu(e){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360)))/360}function qu(e,t){return e/Fu(t)}function Wu(e){return 360/Math.PI*Math.atan(Math.exp((180-360*e)*Math.PI/180))-90}var Hu=function(e,t,n){void 0===n&&(n=0),this.x=+e,this.y=+t,this.z=+n};Hu.fromLngLat=function(e,t){void 0===t&&(t=0);var n=Nu.convert(e);return new Hu(Uu(n.lng),Vu(n.lat),qu(t,n.lat))},Hu.prototype.toLngLat=function(){return new Nu(360*this.x-180,Wu(this.y))},Hu.prototype.toAltitude=function(){return this.z*Fu(Wu(this.y))},Hu.prototype.meterInMercatorCoordinateUnits=function(){return 1/Bu*(e=Wu(this.y),1/Math.cos(e*Math.PI/180));var e};var Gu=function(e,t,n){this.z=e,this.x=t,this.y=n,this.key=Xu(0,e,e,t,n)};Gu.prototype.equals=function(e){return this.z===e.z&&this.x===e.x&&this.y===e.y},Gu.prototype.url=function(e,t){var n,r,i,o,a,s=(r=this.y,i=this.z,o=Lu(256*(n=this.x),256*(r=Math.pow(2,i)-r-1),i),a=Lu(256*(n+1),256*(r+1),i),o[0]+","+o[1]+","+a[0]+","+a[1]),l=function(e,t,n){for(var r,i="",o=e;o>0;o--)i+=(t&(r=1<<o-1)?1:0)+(n&r?2:0);return i}(this.z,this.x,this.y);return e[(this.x+this.y)%e.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===t?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",l).replace("{bbox-epsg-3857}",s)},Gu.prototype.getTilePoint=function(e){var t=Math.pow(2,this.z);return new i(8192*(e.x*t-this.x),8192*(e.y*t-this.y))},Gu.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var Zu=function(e,t){this.wrap=e,this.canonical=t,this.key=Xu(e,t.z,t.z,t.x,t.y)},Ku=function(e,t,n,r,i){this.overscaledZ=e,this.wrap=t,this.canonical=new Gu(n,+r,+i),this.key=Xu(t,e,n,r,i)};function Xu(e,t,n,r,i){(e*=2)<0&&(e=-1*e-1);var o=1<<n;return(o*o*e+o*i+r).toString(36)+n.toString(36)+t.toString(36)}Ku.prototype.equals=function(e){return this.overscaledZ===e.overscaledZ&&this.wrap===e.wrap&&this.canonical.equals(e.canonical)},Ku.prototype.scaledTo=function(e){var t=this.canonical.z-e;return e>this.canonical.z?new Ku(e,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Ku(e,this.wrap,e,this.canonical.x>>t,this.canonical.y>>t)},Ku.prototype.calculateScaledKey=function(e,t){var n=this.canonical.z-e;return e>this.canonical.z?Xu(this.wrap*+t,e,this.canonical.z,this.canonical.x,this.canonical.y):Xu(this.wrap*+t,e,e,this.canonical.x>>n,this.canonical.y>>n)},Ku.prototype.isChildOf=function(e){if(e.wrap!==this.wrap)return!1;var t=this.canonical.z-e.canonical.z;return 0===e.overscaledZ||e.overscaledZ<this.overscaledZ&&e.canonical.x===this.canonical.x>>t&&e.canonical.y===this.canonical.y>>t},Ku.prototype.children=function(e){if(this.overscaledZ>=e)return[new Ku(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var t=this.canonical.z+1,n=2*this.canonical.x,r=2*this.canonical.y;return[new Ku(t,this.wrap,t,n,r),new Ku(t,this.wrap,t,n+1,r),new Ku(t,this.wrap,t,n,r+1),new Ku(t,this.wrap,t,n+1,r+1)]},Ku.prototype.isLessThan=function(e){return this.wrap<e.wrap||!(this.wrap>e.wrap)&&(this.overscaledZ<e.overscaledZ||!(this.overscaledZ>e.overscaledZ)&&(this.canonical.x<e.canonical.x||!(this.canonical.x>e.canonical.x)&&this.canonical.y<e.canonical.y))},Ku.prototype.wrapped=function(){return new Ku(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},Ku.prototype.unwrapTo=function(e){return new Ku(this.overscaledZ,e,this.canonical.z,this.canonical.x,this.canonical.y)},Ku.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},Ku.prototype.toUnwrapped=function(){return new Zu(this.wrap,this.canonical)},Ku.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},Ku.prototype.getTilePoint=function(e){return this.canonical.getTilePoint(new Hu(e.x-this.wrap,e.y))},Nr("CanonicalTileID",Gu),Nr("OverscaledTileID",Ku,{omit:["posMatrix"]});var Yu=function(e,t,n){if(this.uid=e,t.height!==t.width)throw new RangeError("DEM tiles must be square");if(n&&"mapbox"!==n&&"terrarium"!==n)return S('"'+n+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=t.height;var r=this.dim=t.height-2;this.data=new Uint32Array(t.data.buffer),this.encoding=n||"mapbox";for(var i=0;i<r;i++)this.data[this._idx(-1,i)]=this.data[this._idx(0,i)],this.data[this._idx(r,i)]=this.data[this._idx(r-1,i)],this.data[this._idx(i,-1)]=this.data[this._idx(i,0)],this.data[this._idx(i,r)]=this.data[this._idx(i,r-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(r,-1)]=this.data[this._idx(r-1,0)],this.data[this._idx(-1,r)]=this.data[this._idx(0,r-1)],this.data[this._idx(r,r)]=this.data[this._idx(r-1,r-1)]};Yu.prototype.get=function(e,t){var n=new Uint8Array(this.data.buffer),r=4*this._idx(e,t);return("terrarium"===this.encoding?this._unpackTerrarium:this._unpackMapbox)(n[r],n[r+1],n[r+2])},Yu.prototype.getUnpackVector=function(){return"terrarium"===this.encoding?[256,1,1/256,32768]:[6553.6,25.6,.1,1e4]},Yu.prototype._idx=function(e,t){if(e<-1||e>=this.dim+1||t<-1||t>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(t+1)*this.stride+(e+1)},Yu.prototype._unpackMapbox=function(e,t,n){return(256*e*256+256*t+n)/10-1e4},Yu.prototype._unpackTerrarium=function(e,t,n){return 256*e+t+n/256-32768},Yu.prototype.getPixels=function(){return new _a({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},Yu.prototype.backfillBorder=function(e,t,n){if(this.dim!==e.dim)throw new Error("dem dimension mismatch");var r=t*this.dim,i=t*this.dim+this.dim,o=n*this.dim,a=n*this.dim+this.dim;switch(t){case-1:r=i-1;break;case 1:i=r+1}switch(n){case-1:o=a-1;break;case 1:a=o+1}for(var s=-t*this.dim,l=-n*this.dim,u=o;u<a;u++)for(var c=r;c<i;c++)this.data[this._idx(c,u)]=e.data[this._idx(c+s,u+l)]},Nr("DEMData",Yu);var $u=function(e){this._stringToNumber={},this._numberToString=[];for(var t=0;t<e.length;t++){var n=e[t];this._stringToNumber[n]=t,this._numberToString[t]=n}};$u.prototype.encode=function(e){return this._stringToNumber[e]},$u.prototype.decode=function(e){return this._numberToString[e]};var Ju=function(e,t,n,r,i){this.type="Feature",this._vectorTileFeature=e,e._z=t,e._x=n,e._y=r,this.properties=e.properties,this.id=i},Qu={geometry:{configurable:!0}};Qu.geometry.get=function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},Qu.geometry.set=function(e){this._geometry=e},Ju.prototype.toJSON=function(){var e={geometry:this.geometry};for(var t in this)"_geometry"!==t&&"_vectorTileFeature"!==t&&(e[t]=this[t]);return e},Object.defineProperties(Ju.prototype,Qu);var ec=function(){this.state={},this.stateChanges={},this.deletedStates={}};ec.prototype.updateState=function(e,t,n){var r=String(t);if(this.stateChanges[e]=this.stateChanges[e]||{},this.stateChanges[e][r]=this.stateChanges[e][r]||{},h(this.stateChanges[e][r],n),null===this.deletedStates[e])for(var i in this.deletedStates[e]={},this.state[e])i!==r&&(this.deletedStates[e][i]=null);else if(this.deletedStates[e]&&null===this.deletedStates[e][r])for(var o in this.deletedStates[e][r]={},this.state[e][r])n[o]||(this.deletedStates[e][r][o]=null);else for(var a in n)this.deletedStates[e]&&this.deletedStates[e][r]&&null===this.deletedStates[e][r][a]&&delete this.deletedStates[e][r][a]},ec.prototype.removeFeatureState=function(e,t,n){if(null!==this.deletedStates[e]){var r=String(t);if(this.deletedStates[e]=this.deletedStates[e]||{},n&&void 0!==t)null!==this.deletedStates[e][r]&&(this.deletedStates[e][r]=this.deletedStates[e][r]||{},this.deletedStates[e][r][n]=null);else if(void 0!==t)if(this.stateChanges[e]&&this.stateChanges[e][r])for(n in this.deletedStates[e][r]={},this.stateChanges[e][r])this.deletedStates[e][r][n]=null;else this.deletedStates[e][r]=null;else this.deletedStates[e]=null}},ec.prototype.getState=function(e,t){var n=String(t),r=h({},(this.state[e]||{})[n],(this.stateChanges[e]||{})[n]);if(null===this.deletedStates[e])return{};if(this.deletedStates[e]){var i=this.deletedStates[e][t];if(null===i)return{};for(var o in i)delete r[o]}return r},ec.prototype.initializeTileState=function(e,t){e.setFeatureState(this.state,t)},ec.prototype.coalesceChanges=function(e,t){var n={};for(var r in this.stateChanges){this.state[r]=this.state[r]||{};var i={};for(var o in this.stateChanges[r])this.state[r][o]||(this.state[r][o]={}),h(this.state[r][o],this.stateChanges[r][o]),i[o]=this.state[r][o];n[r]=i}for(var a in this.deletedStates){this.state[a]=this.state[a]||{};var s={};if(null===this.deletedStates[a])for(var l in this.state[a])s[l]={},this.state[a][l]={};else for(var u in this.deletedStates[a]){if(null===this.deletedStates[a][u])this.state[a][u]={};else for(var c=0,p=Object.keys(this.deletedStates[a][u]);c<p.length;c+=1)delete this.state[a][u][p[c]];s[u]=this.state[a][u]}n[a]=n[a]||{},h(n[a],s)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(n).length)for(var d in e)e[d].setFeatureState(n,t)};var tc=function(e,t){this.tileID=e,this.x=e.canonical.x,this.y=e.canonical.y,this.z=e.canonical.z,this.grid=new Mr(8192,16,0),this.grid3D=new Mr(8192,16,0),this.featureIndexArray=new oo,this.promoteId=t};function nc(e,t,n,r,i){return _(e,(function(e,o){var a=t instanceof mi?t.get(o):null;return a&&a.evaluate?a.evaluate(n,r,i):a}))}function rc(e){for(var t=1/0,n=1/0,r=-1/0,i=-1/0,o=0,a=e;o<a.length;o+=1){var s=a[o];t=Math.min(t,s.x),n=Math.min(n,s.y),r=Math.max(r,s.x),i=Math.max(i,s.y)}return{minX:t,minY:n,maxX:r,maxY:i}}function ic(e,t){return t-e}tc.prototype.insert=function(e,t,n,r,i,o){var a=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(n,r,i);for(var s=o?this.grid3D:this.grid,l=0;l<t.length;l++){for(var u=t[l],c=[1/0,1/0,-1/0,-1/0],p=0;p<u.length;p++){var h=u[p];c[0]=Math.min(c[0],h.x),c[1]=Math.min(c[1],h.y),c[2]=Math.max(c[2],h.x),c[3]=Math.max(c[3],h.y)}c[0]<8192&&c[1]<8192&&c[2]>=0&&c[3]>=0&&s.insert(a,c[0],c[1],c[2],c[3])}},tc.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new xs.VectorTile(new Ys(this.rawTileData)).layers,this.sourceLayerCoder=new $u(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},tc.prototype.query=function(e,t,n,r){var o=this;this.loadVTLayers();for(var a=e.params||{},s=8192/e.tileSize/e.scale,l=ar(a.filter),u=e.queryGeometry,c=e.queryPadding*s,p=rc(u),h=this.grid.query(p.minX-c,p.minY-c,p.maxX+c,p.maxY+c),d=rc(e.cameraQueryGeometry),f=this.grid3D.query(d.minX-c,d.minY-c,d.maxX+c,d.maxY+c,(function(t,n,r,o){return function(e,t,n,r,o){for(var a=0,s=e;a<s.length;a+=1){var l=s[a];if(t<=l.x&&n<=l.y&&r>=l.x&&o>=l.y)return!0}var u=[new i(t,n),new i(t,o),new i(r,o),new i(r,n)];if(e.length>2)for(var c=0,p=u;c<p.length;c+=1)if(Qo(e,p[c]))return!0;for(var h=0;h<e.length-1;h++)if(ea(e[h],e[h+1],u))return!0;return!1}(e.cameraQueryGeometry,t-c,n-c,r+c,o+c)})),m=0,y=f;m<y.length;m+=1)h.push(y[m]);h.sort(ic);for(var v,g={},_=function(i){var c=h[i];if(c!==v){v=c;var p=o.featureIndexArray.get(c),d=null;o.loadMatchingFeature(g,p.bucketIndex,p.sourceLayerIndex,p.featureIndex,l,a.layers,a.availableImages,t,n,r,(function(t,n,r){return d||(d=Fo(t)),n.queryIntersectsFeature(u,t,r,d,o.z,e.transform,s,e.pixelPosMatrix)}))}},x=0;x<h.length;x++)_(x);return g},tc.prototype.loadMatchingFeature=function(e,t,n,r,i,o,a,s,l,u,c){var p=this.bucketLayerIDs[t];if(!o||function(e,t){for(var n=0;n<e.length;n++)if(t.indexOf(e[n])>=0)return!0;return!1}(o,p)){var d=this.sourceLayerCoder.decode(n),f=this.vtLayers[d].feature(r);if(i.needGeometry){var m=Uo(f,!0);if(!i.filter(new si(this.tileID.overscaledZ),m,this.tileID.canonical))return}else if(!i.filter(new si(this.tileID.overscaledZ),f))return;for(var y=this.getId(f,d),v=0;v<p.length;v++){var g=p[v];if(!(o&&o.indexOf(g)<0)){var _=s[g];if(_){var x={};void 0!==y&&u&&(x=u.getState(_.sourceLayer||"_geojsonTileLayer",y));var b=h({},l[g]);b.paint=nc(b.paint,_.paint,f,x,a),b.layout=nc(b.layout,_.layout,f,x,a);var w=!c||c(f,_,x);if(w){var S=new Ju(f,this.z,this.x,this.y,y);S.layer=b;var E=e[g];void 0===E&&(E=e[g]=[]),E.push({featureIndex:r,feature:S,intersectionZ:w})}}}}}},tc.prototype.lookupSymbolFeatures=function(e,t,n,r,i,o,a,s){var l={};this.loadVTLayers();for(var u=ar(i),c=0,p=e;c<p.length;c+=1)this.loadMatchingFeature(l,n,r,p[c],u,o,a,s,t);return l},tc.prototype.hasLayer=function(e){for(var t=0,n=this.bucketLayerIDs;t<n.length;t+=1)for(var r=0,i=n[t];r<i.length;r+=1)if(e===i[r])return!0;return!1},tc.prototype.getId=function(e,t){var n=e.id;return this.promoteId&&"boolean"==typeof(n=e.properties["string"==typeof this.promoteId?this.promoteId:this.promoteId[t]])&&(n=Number(n)),n},Nr("FeatureIndex",tc,{omit:["rawTileData","sourceLayerCoder"]});var oc=function(e,t){this.tileID=e,this.uid=f(),this.uses=0,this.tileSize=t,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};oc.prototype.registerFadeDuration=function(e){var t=e+this.timeAdded;t<N.now()||this.fadeEndTime&&t<this.fadeEndTime||(this.fadeEndTime=t)},oc.prototype.wasRequested=function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state},oc.prototype.loadVectorData=function(e,t,n){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",e){for(var r in e.featureIndex&&(this.latestFeatureIndex=e.featureIndex,e.rawTileData?(this.latestRawTileData=e.rawTileData,this.latestFeatureIndex.rawTileData=e.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=e.collisionBoxArray,this.buckets=function(e,t){var n={};if(!t)return n;for(var r=function(){var e=o[i],r=e.layerIds.map((function(e){return t.getLayer(e)})).filter(Boolean);if(0!==r.length){e.layers=r,e.stateDependentLayerIds&&(e.stateDependentLayers=e.stateDependentLayerIds.map((function(e){return r.filter((function(t){return t.id===e}))[0]})));for(var a=0,s=r;a<s.length;a+=1)n[s[a].id]=e}},i=0,o=e;i<o.length;i+=1)r();return n}(e.buckets,t.style),this.hasSymbolBuckets=!1,this.buckets){var i=this.buckets[r];if(i instanceof vu){if(this.hasSymbolBuckets=!0,!n)break;i.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var o in this.buckets){var a=this.buckets[o];if(a instanceof vu&&a.hasRTLText){this.hasRTLText=!0,ai.isLoading()||ai.isLoaded()||"deferred"!==ii()||oi();break}}for(var s in this.queryPadding=0,this.buckets){var l=this.buckets[s];this.queryPadding=Math.max(this.queryPadding,t.style.getLayer(s).queryRadius(l))}e.imageAtlas&&(this.imageAtlas=e.imageAtlas),e.glyphAtlasImage&&(this.glyphAtlasImage=e.glyphAtlasImage)}else this.collisionBoxArray=new $i},oc.prototype.unloadVectorData=function(){for(var e in this.buckets)this.buckets[e].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},oc.prototype.getBucket=function(e){return this.buckets[e.id]},oc.prototype.upload=function(e){for(var t in this.buckets){var n=this.buckets[t];n.uploadPending()&&n.upload(e)}var r=e.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Mu(e,this.imageAtlas.image,r.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Mu(e,this.glyphAtlasImage,r.ALPHA),this.glyphAtlasImage=null)},oc.prototype.prepare=function(e){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(e,this.imageAtlasTexture)},oc.prototype.queryRenderedFeatures=function(e,t,n,r,i,o,a,s,l,u){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:r,cameraQueryGeometry:i,scale:o,tileSize:this.tileSize,pixelPosMatrix:u,transform:s,params:a,queryPadding:this.queryPadding*l},e,t,n):{}},oc.prototype.querySourceFeatures=function(e,t){var n=this.latestFeatureIndex;if(n&&n.rawTileData){var r=n.loadVTLayers(),i=t?t.sourceLayer:"",o=r._geojsonTileLayer||r[i];if(o)for(var a=ar(t&&t.filter),s=this.tileID.canonical,l=s.z,u=s.x,c=s.y,p={z:l,x:u,y:c},h=0;h<o.length;h++){var d=o.feature(h);if(a.needGeometry){var f=Uo(d,!0);if(!a.filter(new si(this.tileID.overscaledZ),f,this.tileID.canonical))continue}else if(!a.filter(new si(this.tileID.overscaledZ),d))continue;var m=n.getId(d,i),y=new Ju(d,l,u,c,m);y.tile=p,e.push(y)}}},oc.prototype.hasData=function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state},oc.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},oc.prototype.setExpiryData=function(e){var t=this.expirationTime;if(e.cacheControl){var n=C(e.cacheControl);n["max-age"]&&(this.expirationTime=Date.now()+1e3*n["max-age"])}else e.expires&&(this.expirationTime=new Date(e.expires).getTime());if(this.expirationTime){var r=Date.now(),i=!1;if(this.expirationTime>r)i=!1;else if(t)if(this.expirationTime<t)i=!0;else{var o=this.expirationTime-t;o?this.expirationTime=r+Math.max(o,3e4):i=!0}else i=!0;i?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},oc.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)},oc.prototype.setFeatureState=function(e,t){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&0!==Object.keys(e).length){var n=this.latestFeatureIndex.loadVTLayers();for(var r in this.buckets)if(t.style.hasLayer(r)){var i=this.buckets[r],o=i.layers[0].sourceLayer||"_geojsonTileLayer",a=n[o],s=e[o];if(a&&s&&0!==Object.keys(s).length){i.update(s,a,this.imageAtlas&&this.imageAtlas.patternPositions||{});var l=t&&t.style&&t.style.getLayer(r);l&&(this.queryPadding=Math.max(this.queryPadding,l.queryRadius(i)))}}}},oc.prototype.holdingForFade=function(){return void 0!==this.symbolFadeHoldUntil},oc.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<N.now()},oc.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},oc.prototype.setHoldDuration=function(e){this.symbolFadeHoldUntil=N.now()+e},oc.prototype.setDependencies=function(e,t){for(var n={},r=0,i=t;r<i.length;r+=1)n[i[r]]=!0;this.dependencies[e]=n},oc.prototype.hasDependency=function(e,t){for(var n=0,r=e;n<r.length;n+=1){var i=this.dependencies[r[n]];if(i)for(var o=0,a=t;o<a.length;o+=1)if(i[a[o]])return!0}return!1};var ac=a.performance,sc=function(e){this._marks={start:[e.url,"start"].join("#"),end:[e.url,"end"].join("#"),measure:e.url.toString()},ac.mark(this._marks.start)};sc.prototype.finish=function(){ac.mark(this._marks.end);var e=ac.getEntriesByName(this._marks.measure);return 0===e.length&&(ac.measure(this._marks.measure,this._marks.start,this._marks.end),e=ac.getEntriesByName(this._marks.measure),ac.clearMarks(this._marks.start),ac.clearMarks(this._marks.end),ac.clearMeasures(this._marks.measure)),e},e.Actor=Ru,e.AlphaImage=ga,e.CanonicalTileID=Gu,e.CollisionBoxArray=$i,e.Color=et,e.DEMData=Yu,e.DataConstantProperty=yi,e.DictionaryCoder=$u,e.EXTENT=8192,e.ErrorEvent=Ce,e.EvaluationParameters=si,e.Event=Pe,e.Evented=ke,e.FeatureIndex=tc,e.FillBucket=ss,e.FillExtrusionBucket=Es,e.ImageAtlas=xl,e.ImagePosition=gl,e.LineBucket=Rs,e.LngLat=Nu,e.LngLatBounds=zu,e.MercatorCoordinate=Hu,e.ONE_EM=24,e.OverscaledTileID=Ku,e.Point=i,e.Point$1=i,e.Properties=bi,e.Protobuf=Ys,e.RGBAImage=_a,e.RequestManager=H,e.RequestPerformance=sc,e.ResourceType=fe,e.SegmentVector=so,e.SourceFeatureState=ec,e.StructArrayLayout1ui2=Ki,e.StructArrayLayout2f1f2i16=Bi,e.StructArrayLayout2i4=ki,e.StructArrayLayout3ui6=Ui,e.StructArrayLayout4i8=Ai,e.SymbolBucket=vu,e.Texture=Mu,e.Tile=oc,e.Transitionable=ci,e.Uniform1f=bo,e.Uniform1i=xo,e.Uniform2f=wo,e.Uniform3f=So,e.Uniform4f=Eo,e.UniformColor=To,e.UniformMatrix4f=Co,e.UnwrappedTileID=Zu,e.ValidationError=Ie,e.WritingMode=bl,e.ZoomHistory=Wr,e.add=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e},e.addDynamicAttributes=du,e.asyncAll=function(e,t,n){if(!e.length)return n(null,[]);var r=e.length,i=new Array(e.length),o=null;e.forEach((function(e,a){t(e,(function(e,t){e&&(o=e),i[a]=t,0==--r&&n(o,i)}))}))},e.bezier=l,e.bindAll=v,e.browser=N,e.cacheEntryPossiblyAdded=function(e){++he>le&&(e.getActor().send("enforceCacheSizeLimit",se),he=0)},e.clamp=c,e.clearTileCache=function(e){var t=a.caches.delete("mapbox-tiles");e&&t.catch(e).then((function(){return e()}))},e.clipLine=Gl,e.clone=function(e){var t=new aa(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},e.clone$1=b,e.clone$2=function(e){var t=new aa(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},e.collisionCircleLayout=Hs,e.config=B,e.create=function(){var e=new aa(16);return aa!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e},e.create$1=function(){var e=new aa(9);return aa!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e},e.create$2=function(){var e=new aa(4);return aa!=Float32Array&&(e[1]=0,e[2]=0),e[0]=1,e[3]=1,e},e.createCommonjsModule=t,e.createExpression=Zn,e.createLayout=Pi,e.createStyleLayer=function(e){return"custom"===e.type?new Pu(e):new Cu[e.type](e)},e.cross=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[0],s=n[1],l=n[2];return e[0]=i*l-o*s,e[1]=o*a-r*l,e[2]=r*s-i*a,e},e.deepEqual=function e(t,n){if(Array.isArray(t)){if(!Array.isArray(n)||t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(!e(t[r],n[r]))return!1;return!0}if("object"==typeof t&&null!==t&&null!==n){if("object"!=typeof n)return!1;if(Object.keys(t).length!==Object.keys(n).length)return!1;for(var i in t)if(!e(t[i],n[i]))return!1;return!0}return t===n},e.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]},e.dot$1=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]},e.ease=u,e.emitValidationErrors=Dr,e.endsWith=g,e.enforceCacheSizeLimit=function(e){ue(),ee&&ee.then((function(t){t.keys().then((function(n){for(var r=0;r<n.length-e;r++)t.delete(n[r])}))}))},e.evaluateSizeForFeature=zl,e.evaluateSizeForZoom=Nl,e.evaluateVariableOffset=ou,e.evented=ri,e.extend=h,e.featureFilter=ar,e.filterObject=x,e.fromRotation=function(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=-n,e[4]=r,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},e.getAnchorAlignment=Dl,e.getAnchorJustification=au,e.getArrayBuffer=xe,e.getImage=Se,e.getJSON=function(e,t){return _e(h(e,{type:"json"}),t)},e.getRTLTextPluginStatus=ii,e.getReferrer=ge,e.getVideo=function(e,t){var n,r,i=a.document.createElement("video");i.muted=!0,i.onloadstart=function(){t(null,i)};for(var o=0;o<e.length;o++){var s=a.document.createElement("source");n=e[o],r=void 0,(r=a.document.createElement("a")).href=n,(r.protocol!==a.document.location.protocol||r.host!==a.document.location.host)&&(i.crossOrigin="Anonymous"),s.src=e[o],i.appendChild(s)}return{cancel:function(){}}},e.identity=sa,e.invert=function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],l=t[6],u=t[7],c=t[8],p=t[9],h=t[10],d=t[11],f=t[12],m=t[13],y=t[14],v=t[15],g=n*s-r*a,_=n*l-i*a,x=n*u-o*a,b=r*l-i*s,w=r*u-o*s,S=i*u-o*l,E=c*m-p*f,T=c*y-h*f,P=c*v-d*f,C=p*y-h*m,k=p*v-d*m,A=h*v-d*y,I=g*A-_*k+x*C+b*P-w*T+S*E;return I?(e[0]=(s*A-l*k+u*C)*(I=1/I),e[1]=(i*k-r*A-o*C)*I,e[2]=(m*S-y*w+v*b)*I,e[3]=(h*w-p*S-d*b)*I,e[4]=(l*P-a*A-u*T)*I,e[5]=(n*A-i*P+o*T)*I,e[6]=(y*x-f*S-v*_)*I,e[7]=(c*S-h*x+d*_)*I,e[8]=(a*k-s*P+u*E)*I,e[9]=(r*P-n*k-o*E)*I,e[10]=(f*w-m*x+v*g)*I,e[11]=(p*x-c*w-d*g)*I,e[12]=(s*T-a*C-l*E)*I,e[13]=(n*C-r*T+i*E)*I,e[14]=(m*_-f*b-y*g)*I,e[15]=(c*b-p*_+h*g)*I,e):null},e.isChar=Hr,e.isMapboxURL=G,e.keysDifference=function(e,t){var n=[];for(var r in e)r in t||n.push(r);return n},e.makeRequest=_e,e.mapObject=_,e.mercatorXfromLng=Uu,e.mercatorYfromLat=Vu,e.mercatorZfromAltitude=qu,e.mul=ca,e.multiply=la,e.mvt=xs,e.nextPowerOfTwo=function(e){return e<=1?1:Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},e.normalize=function(e,t){var n=t[0],r=t[1],i=t[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o)),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o,e},e.number=Wt,e.offscreenCanvasSupported=de,e.ortho=function(e,t,n,r,i,o,a){var s=1/(t-n),l=1/(r-i),u=1/(o-a);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*u,e[11]=0,e[12]=(t+n)*s,e[13]=(i+r)*l,e[14]=(a+o)*u,e[15]=1,e},e.parseGlyphPBF=function(e){return new Ys(e).readFields(fl,[])},e.pbf=Ys,e.performSymbolLayout=function(e,t,n,r,i,o,a){e.createArrays(),e.tilePixelRatio=8192/(512*e.overscaling),e.compareText={},e.iconsNeedLinear=!1;var s=e.layers[0].layout,l=e.layers[0]._unevaluatedLayout._values,u={};if("composite"===e.textSizeData.kind){var c=e.textSizeData,p=c.maxZoom;u.compositeTextSizes=[l["text-size"].possiblyEvaluate(new si(c.minZoom),a),l["text-size"].possiblyEvaluate(new si(p),a)]}if("composite"===e.iconSizeData.kind){var h=e.iconSizeData,d=h.maxZoom;u.compositeIconSizes=[l["icon-size"].possiblyEvaluate(new si(h.minZoom),a),l["icon-size"].possiblyEvaluate(new si(d),a)]}u.layoutTextSize=l["text-size"].possiblyEvaluate(new si(e.zoom+1),a),u.layoutIconSize=l["icon-size"].possiblyEvaluate(new si(e.zoom+1),a),u.textMaxSize=l["text-size"].possiblyEvaluate(new si(18));for(var f=24*s.get("text-line-height"),m="map"===s.get("text-rotation-alignment")&&"point"!==s.get("symbol-placement"),y=s.get("text-keep-upright"),v=s.get("text-size"),g=function(){var o=x[_],l=s.get("text-font").evaluate(o,{},a).join(","),c=v.evaluate(o,{},a),p=u.layoutTextSize.evaluate(o,{},a),h=u.layoutIconSize.evaluate(o,{},a),d={horizontal:{},vertical:void 0},g=o.text,b=[0,0];if(g){var w=g.toString(),E=24*s.get("text-letter-spacing").evaluate(o,{},a),T=function(e){for(var t=0,n=e;t<n.length;t+=1)if(r=n[t].charCodeAt(0),Hr.Arabic(r)||Hr["Arabic Supplement"](r)||Hr["Arabic Extended-A"](r)||Hr["Arabic Presentation Forms-A"](r)||Hr["Arabic Presentation Forms-B"](r))return!1;var r;return!0}(w)?E:0,P=s.get("text-anchor").evaluate(o,{},a),C=s.get("text-variable-anchor");if(!C){var k=s.get("text-radial-offset").evaluate(o,{},a);b=k?ou(P,[24*k,iu]):s.get("text-offset").evaluate(o,{},a).map((function(e){return 24*e}))}var A=m?"center":s.get("text-justify").evaluate(o,{},a),I=s.get("symbol-placement"),O="point"===I?24*s.get("text-max-width").evaluate(o,{},a):0,D=function(){e.allowVerticalPlacement&&Gr(w)&&(d.vertical=El(g,t,n,i,l,O,f,P,"left",T,b,bl.vertical,!0,I,p,c))};if(!m&&C){for(var M="auto"===A?C.map((function(e){return au(e)})):[A],j=!1,R=0;R<M.length;R++){var L=M[R];if(!d.horizontal[L])if(j)d.horizontal[L]=d.horizontal[0];else{var z=El(g,t,n,i,l,O,f,"center",L,T,b,bl.horizontal,!1,I,p,c);z&&(d.horizontal[L]=z,j=1===z.positionedLines.length)}}D()}else{"auto"===A&&(A=au(P));var N=El(g,t,n,i,l,O,f,P,A,T,b,bl.horizontal,!1,I,p,c);N&&(d.horizontal[A]=N),D(),Gr(w)&&m&&y&&(d.vertical=El(g,t,n,i,l,O,f,P,A,T,b,bl.vertical,!1,I,p,c))}}var B=void 0,F=!1;if(o.icon&&o.icon.name){var U=r[o.icon.name];U&&(B=function(e,t,n){var r=Dl(n),i=t[0]-e.displaySize[0]*r.horizontalAlign,o=t[1]-e.displaySize[1]*r.verticalAlign;return{image:e,top:o,bottom:o+e.displaySize[1],left:i,right:i+e.displaySize[0]}}(i[o.icon.name],s.get("icon-offset").evaluate(o,{},a),s.get("icon-anchor").evaluate(o,{},a)),F=U.sdf,void 0===e.sdfIcons?e.sdfIcons=U.sdf:e.sdfIcons!==U.sdf&&S("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(U.pixelRatio!==e.pixelRatio||0!==s.get("icon-rotate").constantOr(1))&&(e.iconsNeedLinear=!0))}var V=lu(d.horizontal)||d.vertical;e.iconsInText=!!V&&V.iconsInText,(V||B)&&function(e,t,n,r,i,o,a,s,l,u,c){var p=o.textMaxSize.evaluate(t,{});void 0===p&&(p=a);var h,d=e.layers[0].layout,f=d.get("icon-offset").evaluate(t,{},c),m=lu(n.horizontal),y=a/24,v=e.tilePixelRatio*y,g=e.tilePixelRatio*p/24,_=e.tilePixelRatio*s,x=e.tilePixelRatio*d.get("symbol-spacing"),b=d.get("text-padding")*e.tilePixelRatio,w=d.get("icon-padding")*e.tilePixelRatio,E=d.get("text-max-angle")/180*Math.PI,T="map"===d.get("text-rotation-alignment")&&"point"!==d.get("symbol-placement"),P="map"===d.get("icon-rotation-alignment")&&"point"!==d.get("symbol-placement"),C=d.get("symbol-placement"),k=x/2,A=d.get("icon-text-fit");r&&"none"!==A&&(e.allowVerticalPlacement&&n.vertical&&(h=jl(r,n.vertical,A,d.get("icon-text-fit-padding"),f,y)),m&&(r=jl(r,m,A,d.get("icon-text-fit-padding"),f,y)));var I=function(s,p){p.x<0||p.x>=8192||p.y<0||p.y>=8192||function(e,t,n,r,i,o,a,s,l,u,c,p,h,d,f,m,y,v,g,_,x,b,w,E,T){var P,C,k,A,I,O=e.addToLineVertexArray(t,n),D=0,M=0,j=0,R=0,L=-1,z=-1,N={},B=ho(""),F=0,U=0;if(void 0===s._unevaluatedLayout.getValue("text-radial-offset")?(F=(P=s.layout.get("text-offset").evaluate(x,{},E).map((function(e){return 24*e})))[0],U=P[1]):(F=24*s.layout.get("text-radial-offset").evaluate(x,{},E),U=iu),e.allowVerticalPlacement&&r.vertical){var V=s.layout.get("text-rotate").evaluate(x,{},E)+90;A=new Jl(l,t,u,c,p,r.vertical,h,d,f,V),a&&(I=new Jl(l,t,u,c,p,a,y,v,f,V))}if(i){var q=s.layout.get("icon-rotate").evaluate(x,{}),W="none"!==s.layout.get("icon-text-fit"),H=Zl(i,q,w,W),G=a?Zl(a,q,w,W):void 0;k=new Jl(l,t,u,c,p,i,y,v,!1,q),D=4*H.length;var Z=e.iconSizeData,K=null;"source"===Z.kind?(K=[128*s.layout.get("icon-size").evaluate(x,{})])[0]>32640&&S(e.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'):"composite"===Z.kind&&((K=[128*b.compositeIconSizes[0].evaluate(x,{},E),128*b.compositeIconSizes[1].evaluate(x,{},E)])[0]>32640||K[1]>32640)&&S(e.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'),e.addSymbols(e.icon,H,K,_,g,x,!1,t,O.lineStartIndex,O.lineLength,-1,E),L=e.icon.placedSymbolArray.length-1,G&&(M=4*G.length,e.addSymbols(e.icon,G,K,_,g,x,bl.vertical,t,O.lineStartIndex,O.lineLength,-1,E),z=e.icon.placedSymbolArray.length-1)}for(var X in r.horizontal){var Y=r.horizontal[X];if(!C){B=ho(Y.text);var $=s.layout.get("text-rotate").evaluate(x,{},E);C=new Jl(l,t,u,c,p,Y,h,d,f,$)}var J=1===Y.positionedLines.length;if(j+=su(e,t,Y,o,s,f,x,m,O,r.vertical?bl.horizontal:bl.horizontalOnly,J?Object.keys(r.horizontal):[X],N,L,b,E),J)break}r.vertical&&(R+=su(e,t,r.vertical,o,s,f,x,m,O,bl.vertical,["vertical"],N,z,b,E));var Q=C?C.boxStartIndex:e.collisionBoxArray.length,ee=C?C.boxEndIndex:e.collisionBoxArray.length,te=A?A.boxStartIndex:e.collisionBoxArray.length,ne=A?A.boxEndIndex:e.collisionBoxArray.length,re=k?k.boxStartIndex:e.collisionBoxArray.length,ie=k?k.boxEndIndex:e.collisionBoxArray.length,oe=I?I.boxStartIndex:e.collisionBoxArray.length,ae=I?I.boxEndIndex:e.collisionBoxArray.length,se=-1,le=function(e,t){return e&&e.circleDiameter?Math.max(e.circleDiameter,t):t};se=le(C,se),se=le(A,se),se=le(k,se);var ue=(se=le(I,se))>-1?1:0;ue&&(se*=T/24),e.glyphOffsetArray.length>=vu.MAX_GLYPHS&&S("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==x.sortKey&&e.addToSortKeyRanges(e.symbolInstances.length,x.sortKey),e.symbolInstances.emplaceBack(t.x,t.y,N.right>=0?N.right:-1,N.center>=0?N.center:-1,N.left>=0?N.left:-1,N.vertical||-1,L,z,B,Q,ee,te,ne,re,ie,oe,ae,u,j,R,D,M,ue,0,h,F,U,se)}(e,p,s,n,r,i,h,e.layers[0],e.collisionBoxArray,t.index,t.sourceLayerIndex,e.index,v,b,T,l,_,w,P,f,t,o,u,c,a)};if("line"===C)for(var O=0,D=Gl(t.geometry,0,0,8192,8192);O<D.length;O+=1)for(var M=D[O],j=0,R=Hl(M,x,E,n.vertical||m,r,24,g,e.overscaling,8192);j<R.length;j+=1){var L=R[j];m&&uu(e,m.text,k,L)||I(M,L)}else if("line-center"===C)for(var z=0,N=t.geometry;z<N.length;z+=1){var B=N[z];if(B.length>1){var F=Wl(B,E,n.vertical||m,r,24,g);F&&I(B,F)}}else if("Polygon"===t.type)for(var U=0,V=rs(t.geometry,0);U<V.length;U+=1){var q=V[U],W=tu(q,16);I(q[0],new Rl(W.x,W.y,0))}else if("LineString"===t.type)for(var H=0,G=t.geometry;H<G.length;H+=1){var Z=G[H];I(Z,new Rl(Z[0].x,Z[0].y,0))}else if("Point"===t.type)for(var K=0,X=t.geometry;K<X.length;K+=1)for(var Y=0,$=X[K];Y<$.length;Y+=1){var J=$[Y];I([J],new Rl(J.x,J.y,0))}}(e,o,d,B,r,u,p,h,b,F,a)},_=0,x=e.features;_<x.length;_+=1)g();o&&e.generateCollisionDebugBuffers()},e.perspective=function(e,t,n,r,i){var o,a=1/Math.tan(t/2);return e[0]=a/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0?(e[10]=(i+r)*(o=1/(r-i)),e[14]=2*i*r*o):(e[10]=-1,e[14]=-2*r),e},e.pick=function(e,t){for(var n={},r=0;r<t.length;r++){var i=t[r];i in e&&(n[i]=e[i])}return n},e.plugin=ai,e.polygonIntersectsPolygon=Wo,e.postMapLoadEvent=ae,e.postTurnstileEvent=ie,e.potpack=vl,e.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],e.register=Nr,e.registerForPluginStateChange=function(e){return e({pluginStatus:Qr,pluginURL:ei}),ri.on("pluginStateChange",e),e},e.renderColorRamp=ba,e.rotate=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=Math.sin(n),l=Math.cos(n);return e[0]=r*l+o*s,e[1]=i*l+a*s,e[2]=r*-s+o*l,e[3]=i*-s+a*l,e},e.rotateX=function(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[4],a=t[5],s=t[6],l=t[7],u=t[8],c=t[9],p=t[10],h=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=o*i+u*r,e[5]=a*i+c*r,e[6]=s*i+p*r,e[7]=l*i+h*r,e[8]=u*i-o*r,e[9]=c*i-a*r,e[10]=p*i-s*r,e[11]=h*i-l*r,e},e.rotateZ=function(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[0],a=t[1],s=t[2],l=t[3],u=t[4],c=t[5],p=t[6],h=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i+u*r,e[1]=a*i+c*r,e[2]=s*i+p*r,e[3]=l*i+h*r,e[4]=u*i-o*r,e[5]=c*i-a*r,e[6]=p*i-s*r,e[7]=h*i-l*r,e},e.scale=function(e,t,n){var r=n[0],i=n[1],o=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},e.scale$1=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e},e.scale$2=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e},e.setCacheLimits=function(e,t){se=e,le=t},e.setRTLTextPlugin=function(e,t,n){if(void 0===n&&(n=!1),"deferred"===Qr||"loading"===Qr||"loaded"===Qr)throw new Error("setRTLTextPlugin cannot be called multiple times.");ei=N.resolveURL(e),Qr="deferred",Jr=t,ni(),n||oi()},e.sphericalToCartesian=function(e){var t=e[0],n=e[1],r=e[2];return n+=90,n*=Math.PI/180,r*=Math.PI/180,{x:t*Math.cos(n)*Math.sin(r),y:t*Math.sin(n)*Math.sin(r),z:t*Math.cos(r)}},e.sqrLen=function(e){var t=e[0],n=e[1];return t*t+n*n},e.styleSpec=Ae,e.sub=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e},e.symbolSize=Bl,e.transformMat3=function(e,t,n){var r=t[0],i=t[1],o=t[2];return e[0]=r*n[0]+i*n[3]+o*n[6],e[1]=r*n[1]+i*n[4]+o*n[7],e[2]=r*n[2]+i*n[5]+o*n[8],e},e.transformMat4=pa,e.translate=function(e,t,n){var r,i,o,a,s,l,u,c,p,h,d,f,m=n[0],y=n[1],v=n[2];return t===e?(e[12]=t[0]*m+t[4]*y+t[8]*v+t[12],e[13]=t[1]*m+t[5]*y+t[9]*v+t[13],e[14]=t[2]*m+t[6]*y+t[10]*v+t[14],e[15]=t[3]*m+t[7]*y+t[11]*v+t[15]):(i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],u=t[6],c=t[7],p=t[8],h=t[9],d=t[10],f=t[11],e[0]=r=t[0],e[1]=i,e[2]=o,e[3]=a,e[4]=s,e[5]=l,e[6]=u,e[7]=c,e[8]=p,e[9]=h,e[10]=d,e[11]=f,e[12]=r*m+s*y+p*v+t[12],e[13]=i*m+l*y+h*v+t[13],e[14]=o*m+u*y+d*v+t[14],e[15]=a*m+c*y+f*v+t[15]),e},e.triggerPluginCompletionEvent=ti,e.uniqueId=f,e.validateCustomStyleLayer=function(e){var t=[],n=e.id;return void 0===n&&t.push({message:"layers."+n+': missing required property "id"'}),void 0===e.render&&t.push({message:"layers."+n+': missing required method "render"'}),e.renderingMode&&"2d"!==e.renderingMode&&"3d"!==e.renderingMode&&t.push({message:"layers."+n+': property "renderingMode" must be either "2d" or "3d"'}),t},e.validateLight=Ar,e.validateStyle=kr,e.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t},e.vectorTile=xs,e.version="1.13.3",e.warnOnce=S,e.webpSupported=F,e.window=a,e.wrap=p})),r(["./shared"],(function(e){function t(e){var n=typeof e;if("number"===n||"boolean"===n||"string"===n||null==e)return JSON.stringify(e);if(Array.isArray(e)){for(var r="[",i=0,o=e;i<o.length;i+=1)r+=t(o[i])+",";return r+"]"}for(var a=Object.keys(e).sort(),s="{",l=0;l<a.length;l++)s+=JSON.stringify(a[l])+":"+t(e[a[l]])+",";return s+"}"}function n(n){for(var r="",i=0,o=e.refProperties;i<o.length;i+=1)r+="/"+t(n[o[i]]);return r}var r=function(e){this.keyCache={},e&&this.replace(e)};r.prototype.replace=function(e){this._layerConfigs={},this._layers={},this.update(e,[])},r.prototype.update=function(t,r){for(var i=this,o=0,a=t;o<a.length;o+=1){var s=a[o];this._layerConfigs[s.id]=s;var l=this._layers[s.id]=e.createStyleLayer(s);l._featureFilter=e.featureFilter(l.filter),this.keyCache[s.id]&&delete this.keyCache[s.id]}for(var u=0,c=r;u<c.length;u+=1){var p=c[u];delete this.keyCache[p],delete this._layerConfigs[p],delete this._layers[p]}this.familiesBySource={};for(var h=0,d=function(e,t){for(var r={},i=0;i<e.length;i++){var o=t&&t[e[i].id]||n(e[i]);t&&(t[e[i].id]=o);var a=r[o];a||(a=r[o]=[]),a.push(e[i])}var s=[];for(var l in r)s.push(r[l]);return s}(e.values(this._layerConfigs),this.keyCache);h<d.length;h+=1){var f=d[h].map((function(e){return i._layers[e.id]})),m=f[0];if("none"!==m.visibility){var y=m.source||"",v=this.familiesBySource[y];v||(v=this.familiesBySource[y]={});var g=m.sourceLayer||"_geojsonTileLayer",_=v[g];_||(_=v[g]=[]),_.push(f)}}};var i=function(t){var n={},r=[];for(var i in t){var o=t[i],a=n[i]={};for(var s in o){var l=o[+s];if(l&&0!==l.bitmap.width&&0!==l.bitmap.height){var u={x:0,y:0,w:l.bitmap.width+2,h:l.bitmap.height+2};r.push(u),a[s]={rect:u,metrics:l.metrics}}}}var c=e.potpack(r),p=new e.AlphaImage({width:c.w||1,height:c.h||1});for(var h in t){var d=t[h];for(var f in d){var m=d[+f];if(m&&0!==m.bitmap.width&&0!==m.bitmap.height){var y=n[h][f].rect;e.AlphaImage.copy(m.bitmap,p,{x:0,y:0},{x:y.x+1,y:y.y+1},m.bitmap)}}}this.image=p,this.positions=n};e.register("GlyphAtlas",i);var o=function(t){this.tileID=new e.OverscaledTileID(t.tileID.overscaledZ,t.tileID.wrap,t.tileID.canonical.z,t.tileID.canonical.x,t.tileID.canonical.y),this.uid=t.uid,this.zoom=t.zoom,this.pixelRatio=t.pixelRatio,this.tileSize=t.tileSize,this.source=t.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=t.showCollisionBoxes,this.collectResourceTiming=!!t.collectResourceTiming,this.returnDependencies=!!t.returnDependencies,this.promoteId=t.promoteId};function a(t,n,r){for(var i=new e.EvaluationParameters(n),o=0,a=t;o<a.length;o+=1)a[o].recalculate(i,r)}function s(t,n){var r=e.getArrayBuffer(t.request,(function(t,r,i,o){t?n(t):r&&n(null,{vectorTile:new e.vectorTile.VectorTile(new e.pbf(r)),rawData:r,cacheControl:i,expires:o})}));return function(){r.cancel(),n()}}o.prototype.parse=function(t,n,r,o,s){var l=this;this.status="parsing",this.data=t,this.collisionBoxArray=new e.CollisionBoxArray;var u=new e.DictionaryCoder(Object.keys(t.layers).sort()),c=new e.FeatureIndex(this.tileID,this.promoteId);c.bucketLayerIDs=[];var p,h,d,f,m={},y={featureIndex:c,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:r},v=n.familiesBySource[this.source];for(var g in v){var _=t.layers[g];if(_){1===_.version&&e.warnOnce('Vector tile source "'+this.source+'" layer "'+g+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var x=u.encode(g),b=[],w=0;w<_.length;w++){var S=_.feature(w),E=c.getId(S,g);b.push({feature:S,id:E,index:w,sourceLayerIndex:x})}for(var T=0,P=v[g];T<P.length;T+=1){var C=P[T],k=C[0];k.minzoom&&this.zoom<Math.floor(k.minzoom)||k.maxzoom&&this.zoom>=k.maxzoom||"none"!==k.visibility&&(a(C,this.zoom,r),(m[k.id]=k.createBucket({index:c.bucketLayerIDs.length,layers:C,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:x,sourceID:this.source})).populate(b,y,this.tileID.canonical),c.bucketLayerIDs.push(C.map((function(e){return e.id}))))}}}var A=e.mapObject(y.glyphDependencies,(function(e){return Object.keys(e).map(Number)}));Object.keys(A).length?o.send("getGlyphs",{uid:this.uid,stacks:A},(function(e,t){p||(p=e,h=t,D.call(l))})):h={};var I=Object.keys(y.iconDependencies);I.length?o.send("getImages",{icons:I,source:this.source,tileID:this.tileID,type:"icons"},(function(e,t){p||(p=e,d=t,D.call(l))})):d={};var O=Object.keys(y.patternDependencies);function D(){if(p)return s(p);if(h&&d&&f){var t=new i(h),n=new e.ImageAtlas(d,f);for(var o in m){var l=m[o];l instanceof e.SymbolBucket?(a(l.layers,this.zoom,r),e.performSymbolLayout(l,h,t.positions,d,n.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):l.hasPattern&&(l instanceof e.LineBucket||l instanceof e.FillBucket||l instanceof e.FillExtrusionBucket)&&(a(l.layers,this.zoom,r),l.addFeatures(y,this.tileID.canonical,n.patternPositions))}this.status="done",s(null,{buckets:e.values(m).filter((function(e){return!e.isEmpty()})),featureIndex:c,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:t.image,imageAtlas:n,glyphMap:this.returnDependencies?h:null,iconMap:this.returnDependencies?d:null,glyphPositions:this.returnDependencies?t.positions:null})}}O.length?o.send("getImages",{icons:O,source:this.source,tileID:this.tileID,type:"patterns"},(function(e,t){p||(p=e,f=t,D.call(l))})):f={},D.call(this)};var l=function(e,t,n,r){this.actor=e,this.layerIndex=t,this.availableImages=n,this.loadVectorData=r||s,this.loading={},this.loaded={}};l.prototype.loadTile=function(t,n){var r=this,i=t.uid;this.loading||(this.loading={});var a=!!(t&&t.request&&t.request.collectResourceTiming)&&new e.RequestPerformance(t.request),s=this.loading[i]=new o(t);s.abort=this.loadVectorData(t,(function(t,o){if(delete r.loading[i],t||!o)return s.status="done",r.loaded[i]=s,n(t);var l=o.rawData,u={};o.expires&&(u.expires=o.expires),o.cacheControl&&(u.cacheControl=o.cacheControl);var c={};if(a){var p=a.finish();p&&(c.resourceTiming=JSON.parse(JSON.stringify(p)))}s.vectorTile=o.vectorTile,s.parse(o.vectorTile,r.layerIndex,r.availableImages,r.actor,(function(t,r){if(t||!r)return n(t);n(null,e.extend({rawTileData:l.slice(0)},r,u,c))})),r.loaded=r.loaded||{},r.loaded[i]=s}))},l.prototype.reloadTile=function(e,t){var n=this,r=this.loaded,i=e.uid,o=this;if(r&&r[i]){var a=r[i];a.showCollisionBoxes=e.showCollisionBoxes;var s=function(e,r){var i=a.reloadCallback;i&&(delete a.reloadCallback,a.parse(a.vectorTile,o.layerIndex,n.availableImages,o.actor,i)),t(e,r)};"parsing"===a.status?a.reloadCallback=s:"done"===a.status&&(a.vectorTile?a.parse(a.vectorTile,this.layerIndex,this.availableImages,this.actor,s):s())}},l.prototype.abortTile=function(e,t){var n=this.loading,r=e.uid;n&&n[r]&&n[r].abort&&(n[r].abort(),delete n[r]),t()},l.prototype.removeTile=function(e,t){var n=this.loaded,r=e.uid;n&&n[r]&&delete n[r],t()};var u=e.window.ImageBitmap,c=function(){this.loaded={}};function p(e,t){if(0!==e.length){h(e[0],t);for(var n=1;n<e.length;n++)h(e[n],!t)}}function h(e,t){for(var n=0,r=0,i=0,o=e.length,a=o-1;i<o;a=i++){var s=(e[i][0]-e[a][0])*(e[a][1]+e[i][1]),l=n+s;r+=Math.abs(n)>=Math.abs(s)?n-l+s:s-l+n,n=l}n+r>=0!=!!t&&e.reverse()}c.prototype.loadTile=function(t,n){var r=t.uid,i=t.encoding,o=t.rawImageData,a=u&&o instanceof u?this.getImageData(o):o,s=new e.DEMData(r,a,i);this.loaded=this.loaded||{},this.loaded[r]=s,n(null,s)},c.prototype.getImageData=function(t){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(t.width,t.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=t.width,this.offscreenCanvas.height=t.height,this.offscreenCanvasContext.drawImage(t,0,0,t.width,t.height);var n=this.offscreenCanvasContext.getImageData(-1,-1,t.width+2,t.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new e.RGBAImage({width:n.width,height:n.height},n.data)},c.prototype.removeTile=function(e){var t=this.loaded,n=e.uid;t&&t[n]&&delete t[n]};var d=e.vectorTile.VectorTileFeature.prototype.toGeoJSON,f=function(t){this._feature=t,this.extent=e.EXTENT,this.type=t.type,this.properties=t.tags,"id"in t&&!isNaN(t.id)&&(this.id=parseInt(t.id,10))};f.prototype.loadGeometry=function(){if(1===this._feature.type){for(var t=[],n=0,r=this._feature.geometry;n<r.length;n+=1){var i=r[n];t.push([new e.Point$1(i[0],i[1])])}return t}for(var o=[],a=0,s=this._feature.geometry;a<s.length;a+=1){for(var l=[],u=0,c=s[a];u<c.length;u+=1){var p=c[u];l.push(new e.Point$1(p[0],p[1]))}o.push(l)}return o},f.prototype.toGeoJSON=function(e,t,n){return d.call(this,e,t,n)};var m=function(t){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=e.EXTENT,this.length=t.length,this._features=t};m.prototype.feature=function(e){return new f(this._features[e])};var y=e.vectorTile.VectorTileFeature,v=g;function g(e,t){this.options=t||{},this.features=e,this.length=e.length}function _(e,t){this.id="number"==typeof e.id?e.id:void 0,this.type=e.type,this.rawGeometry=1===e.type?[e.geometry]:e.geometry,this.properties=e.tags,this.extent=t||4096}g.prototype.feature=function(e){return new _(this.features[e],this.options.extent)},_.prototype.loadGeometry=function(){var t=this.rawGeometry;this.geometry=[];for(var n=0;n<t.length;n++){for(var r=t[n],i=[],o=0;o<r.length;o++)i.push(new e.Point$1(r[o][0],r[o][1]));this.geometry.push(i)}return this.geometry},_.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var e=this.geometry,t=1/0,n=-1/0,r=1/0,i=-1/0,o=0;o<e.length;o++)for(var a=e[o],s=0;s<a.length;s++){var l=a[s];t=Math.min(t,l.x),n=Math.max(n,l.x),r=Math.min(r,l.y),i=Math.max(i,l.y)}return[t,r,n,i]},_.prototype.toGeoJSON=y.prototype.toGeoJSON;var x=w,b=v;function w(t){var n=new e.pbf;return function(e,t){for(var n in e.layers)t.writeMessage(3,S,e.layers[n])}(t,n),n.finish()}function S(e,t){var n;t.writeVarintField(15,e.version||1),t.writeStringField(1,e.name||""),t.writeVarintField(5,e.extent||4096);var r={keys:[],values:[],keycache:{},valuecache:{}};for(n=0;n<e.length;n++)r.feature=e.feature(n),t.writeMessage(2,E,r);var i=r.keys;for(n=0;n<i.length;n++)t.writeStringField(3,i[n]);var o=r.values;for(n=0;n<o.length;n++)t.writeMessage(4,A,o[n])}function E(e,t){var n=e.feature;void 0!==n.id&&t.writeVarintField(1,n.id),t.writeMessage(2,T,e),t.writeVarintField(3,n.type),t.writeMessage(4,k,n)}function T(e,t){var n=e.feature,r=e.keys,i=e.values,o=e.keycache,a=e.valuecache;for(var s in n.properties){var l=o[s];void 0===l&&(r.push(s),o[s]=l=r.length-1),t.writeVarint(l);var u=n.properties[s],c=typeof u;"string"!==c&&"boolean"!==c&&"number"!==c&&(u=JSON.stringify(u));var p=c+":"+u,h=a[p];void 0===h&&(i.push(u),a[p]=h=i.length-1),t.writeVarint(h)}}function P(e,t){return(t<<3)+(7&e)}function C(e){return e<<1^e>>31}function k(e,t){for(var n=e.loadGeometry(),r=e.type,i=0,o=0,a=n.length,s=0;s<a;s++){var l=n[s],u=1;1===r&&(u=l.length),t.writeVarint(P(1,u));for(var c=3===r?l.length-1:l.length,p=0;p<c;p++){1===p&&1!==r&&t.writeVarint(P(2,c-1));var h=l[p].x-i,d=l[p].y-o;t.writeVarint(C(h)),t.writeVarint(C(d)),i+=h,o+=d}3===r&&t.writeVarint(P(7,1))}}function A(e,t){var n=typeof e;"string"===n?t.writeStringField(1,e):"boolean"===n?t.writeBooleanField(7,e):"number"===n&&(e%1!=0?t.writeDoubleField(3,e):e<0?t.writeSVarintField(6,e):t.writeVarintField(5,e))}function I(e,t,n,r){O(e,n,r),O(t,2*n,2*r),O(t,2*n+1,2*r+1)}function O(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function D(e,t,n,r){var i=e-n,o=t-r;return i*i+o*o}x.fromVectorTileJs=w,x.fromGeojsonVt=function(e,t){t=t||{};var n={};for(var r in e)n[r]=new v(e[r].features,t),n[r].name=r,n[r].version=t.version,n[r].extent=t.extent;return w({layers:n})},x.GeoJSONWrapper=b;var M=function(e){return e[0]},j=function(e){return e[1]},R=function(e,t,n,r,i){void 0===t&&(t=M),void 0===n&&(n=j),void 0===r&&(r=64),void 0===i&&(i=Float64Array),this.nodeSize=r,this.points=e;for(var o=e.length<65536?Uint16Array:Uint32Array,a=this.ids=new o(e.length),s=this.coords=new i(2*e.length),l=0;l<e.length;l++)a[l]=l,s[2*l]=t(e[l]),s[2*l+1]=n(e[l]);!function e(t,n,r,i,o,a){if(!(o-i<=r)){var s=i+o>>1;!function e(t,n,r,i,o,a){for(;o>i;){if(o-i>600){var s=o-i+1,l=r-i+1,u=Math.log(s),c=.5*Math.exp(2*u/3),p=.5*Math.sqrt(u*c*(s-c)/s)*(l-s/2<0?-1:1);e(t,n,r,Math.max(i,Math.floor(r-l*c/s+p)),Math.min(o,Math.floor(r+(s-l)*c/s+p)),a)}var h=n[2*r+a],d=i,f=o;for(I(t,n,i,r),n[2*o+a]>h&&I(t,n,i,o);d<f;){for(I(t,n,d,f),d++,f--;n[2*d+a]<h;)d++;for(;n[2*f+a]>h;)f--}n[2*i+a]===h?I(t,n,i,f):I(t,n,++f,o),f<=r&&(i=f+1),r<=f&&(o=f-1)}}(t,n,s,i,o,a%2),e(t,n,r,i,s-1,a+1),e(t,n,r,s+1,o,a+1)}}(a,s,r,0,a.length-1,0)};R.prototype.range=function(e,t,n,r){return function(e,t,n,r,i,o,a){for(var s,l,u=[0,e.length-1,0],c=[];u.length;){var p=u.pop(),h=u.pop(),d=u.pop();if(h-d<=a)for(var f=d;f<=h;f++)l=t[2*f+1],(s=t[2*f])>=n&&s<=i&&l>=r&&l<=o&&c.push(e[f]);else{var m=Math.floor((d+h)/2);l=t[2*m+1],(s=t[2*m])>=n&&s<=i&&l>=r&&l<=o&&c.push(e[m]);var y=(p+1)%2;(0===p?n<=s:r<=l)&&(u.push(d),u.push(m-1),u.push(y)),(0===p?i>=s:o>=l)&&(u.push(m+1),u.push(h),u.push(y))}}return c}(this.ids,this.coords,e,t,n,r,this.nodeSize)},R.prototype.within=function(e,t,n){return function(e,t,n,r,i,o){for(var a=[0,e.length-1,0],s=[],l=i*i;a.length;){var u=a.pop(),c=a.pop(),p=a.pop();if(c-p<=o)for(var h=p;h<=c;h++)D(t[2*h],t[2*h+1],n,r)<=l&&s.push(e[h]);else{var d=Math.floor((p+c)/2),f=t[2*d],m=t[2*d+1];D(f,m,n,r)<=l&&s.push(e[d]);var y=(u+1)%2;(0===u?n-i<=f:r-i<=m)&&(a.push(p),a.push(d-1),a.push(y)),(0===u?n+i>=f:r+i>=m)&&(a.push(d+1),a.push(c),a.push(y))}}return s}(this.ids,this.coords,e,t,n,this.nodeSize)};var L={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(e){return e}},z=function(e){this.options=W(Object.create(L),e),this.trees=new Array(this.options.maxZoom+1)};function N(e,t,n,r,i){return{x:e,y:t,zoom:1/0,id:n,parentId:-1,numPoints:r,properties:i}}function B(e,t){var n=e.geometry.coordinates,r=n[1];return{x:V(n[0]),y:q(r),zoom:1/0,index:t,parentId:-1}}function F(e){return{type:"Feature",id:e.id,properties:U(e),geometry:{type:"Point",coordinates:[(r=e.x,360*(r-.5)),(t=e.y,n=(180-360*t)*Math.PI/180,360*Math.atan(Math.exp(n))/Math.PI-90)]}};var t,n,r}function U(e){var t=e.numPoints,n=t>=1e4?Math.round(t/1e3)+"k":t>=1e3?Math.round(t/100)/10+"k":t;return W(W({},e.properties),{cluster:!0,cluster_id:e.id,point_count:t,point_count_abbreviated:n})}function V(e){return e/360+.5}function q(e){var t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function W(e,t){for(var n in t)e[n]=t[n];return e}function H(e){return e.x}function G(e){return e.y}function Z(e,t,n,r,i,o){var a=i-n,s=o-r;if(0!==a||0!==s){var l=((e-n)*a+(t-r)*s)/(a*a+s*s);l>1?(n=i,r=o):l>0&&(n+=a*l,r+=s*l)}return(a=e-n)*a+(s=t-r)*s}function K(e,t,n,r){var i={id:void 0===e?null:e,type:t,geometry:n,tags:r,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(e){var t=e.geometry,n=e.type;if("Point"===n||"MultiPoint"===n||"LineString"===n)X(e,t);else if("Polygon"===n||"MultiLineString"===n)for(var r=0;r<t.length;r++)X(e,t[r]);else if("MultiPolygon"===n)for(r=0;r<t.length;r++)for(var i=0;i<t[r].length;i++)X(e,t[r][i])}(i),i}function X(e,t){for(var n=0;n<t.length;n+=3)e.minX=Math.min(e.minX,t[n]),e.minY=Math.min(e.minY,t[n+1]),e.maxX=Math.max(e.maxX,t[n]),e.maxY=Math.max(e.maxY,t[n+1])}function Y(e,t,n,r){if(t.geometry){var i=t.geometry.coordinates,o=t.geometry.type,a=Math.pow(n.tolerance/((1<<n.maxZoom)*n.extent),2),s=[],l=t.id;if(n.promoteId?l=t.properties[n.promoteId]:n.generateId&&(l=r||0),"Point"===o)$(i,s);else if("MultiPoint"===o)for(var u=0;u<i.length;u++)$(i[u],s);else if("LineString"===o)J(i,s,a,!1);else if("MultiLineString"===o){if(n.lineMetrics){for(u=0;u<i.length;u++)J(i[u],s=[],a,!1),e.push(K(l,"LineString",s,t.properties));return}Q(i,s,a,!1)}else if("Polygon"===o)Q(i,s,a,!0);else{if("MultiPolygon"!==o){if("GeometryCollection"===o){for(u=0;u<t.geometry.geometries.length;u++)Y(e,{id:l,geometry:t.geometry.geometries[u],properties:t.properties},n,r);return}throw new Error("Input data is not a valid GeoJSON object.")}for(u=0;u<i.length;u++){var c=[];Q(i[u],c,a,!0),s.push(c)}}e.push(K(l,o,s,t.properties))}}function $(e,t){t.push(ee(e[0])),t.push(te(e[1])),t.push(0)}function J(e,t,n,r){for(var i,o,a=0,s=0;s<e.length;s++){var l=ee(e[s][0]),u=te(e[s][1]);t.push(l),t.push(u),t.push(0),s>0&&(a+=r?(i*u-l*o)/2:Math.sqrt(Math.pow(l-i,2)+Math.pow(u-o,2))),i=l,o=u}var c=t.length-3;t[2]=1,function e(t,n,r,i){for(var o,a=i,s=r-n>>1,l=r-n,u=t[n],c=t[n+1],p=t[r],h=t[r+1],d=n+3;d<r;d+=3){var f=Z(t[d],t[d+1],u,c,p,h);if(f>a)o=d,a=f;else if(f===a){var m=Math.abs(d-s);m<l&&(o=d,l=m)}}a>i&&(o-n>3&&e(t,n,o,i),t[o+2]=a,r-o>3&&e(t,o,r,i))}(t,0,c,n),t[c+2]=1,t.size=Math.abs(a),t.start=0,t.end=t.size}function Q(e,t,n,r){for(var i=0;i<e.length;i++){var o=[];J(e[i],o,n,r),t.push(o)}}function ee(e){return e/360+.5}function te(e){var t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function ne(e,t,n,r,i,o,a,s){if(r/=t,o>=(n/=t)&&a<r)return e;if(a<n||o>=r)return null;for(var l=[],u=0;u<e.length;u++){var c=e[u],p=c.geometry,h=c.type,d=0===i?c.minX:c.minY,f=0===i?c.maxX:c.maxY;if(d>=n&&f<r)l.push(c);else if(!(f<n||d>=r)){var m=[];if("Point"===h||"MultiPoint"===h)re(p,m,n,r,i);else if("LineString"===h)ie(p,m,n,r,i,!1,s.lineMetrics);else if("MultiLineString"===h)ae(p,m,n,r,i,!1);else if("Polygon"===h)ae(p,m,n,r,i,!0);else if("MultiPolygon"===h)for(var y=0;y<p.length;y++){var v=[];ae(p[y],v,n,r,i,!0),v.length&&m.push(v)}if(m.length){if(s.lineMetrics&&"LineString"===h){for(y=0;y<m.length;y++)l.push(K(c.id,h,m[y],c.tags));continue}"LineString"!==h&&"MultiLineString"!==h||(1===m.length?(h="LineString",m=m[0]):h="MultiLineString"),"Point"!==h&&"MultiPoint"!==h||(h=3===m.length?"Point":"MultiPoint"),l.push(K(c.id,h,m,c.tags))}}}return l.length?l:null}function re(e,t,n,r,i){for(var o=0;o<e.length;o+=3){var a=e[o+i];a>=n&&a<=r&&(t.push(e[o]),t.push(e[o+1]),t.push(e[o+2]))}}function ie(e,t,n,r,i,o,a){for(var s,l,u=oe(e),c=0===i?le:ue,p=e.start,h=0;h<e.length-3;h+=3){var d=e[h],f=e[h+1],m=e[h+2],y=e[h+3],v=e[h+4],g=0===i?d:f,_=0===i?y:v,x=!1;a&&(s=Math.sqrt(Math.pow(d-y,2)+Math.pow(f-v,2))),g<n?_>n&&(l=c(u,d,f,y,v,n),a&&(u.start=p+s*l)):g>r?_<r&&(l=c(u,d,f,y,v,r),a&&(u.start=p+s*l)):se(u,d,f,m),_<n&&g>=n&&(l=c(u,d,f,y,v,n),x=!0),_>r&&g<=r&&(l=c(u,d,f,y,v,r),x=!0),!o&&x&&(a&&(u.end=p+s*l),t.push(u),u=oe(e)),a&&(p+=s)}var b=e.length-3;d=e[b],f=e[b+1],m=e[b+2],(g=0===i?d:f)>=n&&g<=r&&se(u,d,f,m),b=u.length-3,o&&b>=3&&(u[b]!==u[0]||u[b+1]!==u[1])&&se(u,u[0],u[1],u[2]),u.length&&t.push(u)}function oe(e){var t=[];return t.size=e.size,t.start=e.start,t.end=e.end,t}function ae(e,t,n,r,i,o){for(var a=0;a<e.length;a++)ie(e[a],t,n,r,i,o,!1)}function se(e,t,n,r){e.push(t),e.push(n),e.push(r)}function le(e,t,n,r,i,o){var a=(o-t)/(r-t);return e.push(o),e.push(n+(i-n)*a),e.push(1),a}function ue(e,t,n,r,i,o){var a=(o-n)/(i-n);return e.push(t+(r-t)*a),e.push(o),e.push(1),a}function ce(e,t){for(var n=[],r=0;r<e.length;r++){var i,o=e[r],a=o.type;if("Point"===a||"MultiPoint"===a||"LineString"===a)i=pe(o.geometry,t);else if("MultiLineString"===a||"Polygon"===a){i=[];for(var s=0;s<o.geometry.length;s++)i.push(pe(o.geometry[s],t))}else if("MultiPolygon"===a)for(i=[],s=0;s<o.geometry.length;s++){for(var l=[],u=0;u<o.geometry[s].length;u++)l.push(pe(o.geometry[s][u],t));i.push(l)}n.push(K(o.id,a,i,o.tags))}return n}function pe(e,t){var n=[];n.size=e.size,void 0!==e.start&&(n.start=e.start,n.end=e.end);for(var r=0;r<e.length;r+=3)n.push(e[r]+t,e[r+1],e[r+2]);return n}function he(e,t){if(e.transformed)return e;var n,r,i,o=1<<e.z,a=e.x,s=e.y;for(n=0;n<e.features.length;n++){var l=e.features[n],u=l.geometry,c=l.type;if(l.geometry=[],1===c)for(r=0;r<u.length;r+=2)l.geometry.push(de(u[r],u[r+1],t,o,a,s));else for(r=0;r<u.length;r++){var p=[];for(i=0;i<u[r].length;i+=2)p.push(de(u[r][i],u[r][i+1],t,o,a,s));l.geometry.push(p)}}return e.transformed=!0,e}function de(e,t,n,r,i,o){return[Math.round(n*(e*r-i)),Math.round(n*(t*r-o))]}function fe(e,t,n,r,i){for(var o=t===i.maxZoom?0:i.tolerance/((1<<t)*i.extent),a={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:n,y:r,z:t,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},s=0;s<e.length;s++){a.numFeatures++,me(a,e[s],o,i);var l=e[s].minX,u=e[s].minY,c=e[s].maxX,p=e[s].maxY;l<a.minX&&(a.minX=l),u<a.minY&&(a.minY=u),c>a.maxX&&(a.maxX=c),p>a.maxY&&(a.maxY=p)}return a}function me(e,t,n,r){var i=t.geometry,o=t.type,a=[];if("Point"===o||"MultiPoint"===o)for(var s=0;s<i.length;s+=3)a.push(i[s]),a.push(i[s+1]),e.numPoints++,e.numSimplified++;else if("LineString"===o)ye(a,i,e,n,!1,!1);else if("MultiLineString"===o||"Polygon"===o)for(s=0;s<i.length;s++)ye(a,i[s],e,n,"Polygon"===o,0===s);else if("MultiPolygon"===o)for(var l=0;l<i.length;l++){var u=i[l];for(s=0;s<u.length;s++)ye(a,u[s],e,n,!0,0===s)}if(a.length){var c=t.tags||null;if("LineString"===o&&r.lineMetrics){for(var p in c={},t.tags)c[p]=t.tags[p];c.mapbox_clip_start=i.start/i.size,c.mapbox_clip_end=i.end/i.size}var h={geometry:a,type:"Polygon"===o||"MultiPolygon"===o?3:"LineString"===o||"MultiLineString"===o?2:1,tags:c};null!==t.id&&(h.id=t.id),e.features.push(h)}}function ye(e,t,n,r,i,o){var a=r*r;if(r>0&&t.size<(i?a:r))n.numPoints+=t.length/3;else{for(var s=[],l=0;l<t.length;l+=3)(0===r||t[l+2]>a)&&(n.numSimplified++,s.push(t[l]),s.push(t[l+1])),n.numPoints++;i&&function(e,t){for(var n=0,r=0,i=e.length,o=i-2;r<i;o=r,r+=2)n+=(e[r]-e[o])*(e[r+1]+e[o+1]);if(n>0===t)for(r=0,i=e.length;r<i/2;r+=2){var a=e[r],s=e[r+1];e[r]=e[i-2-r],e[r+1]=e[i-1-r],e[i-2-r]=a,e[i-1-r]=s}}(s,o),e.push(s)}}function ve(e,t){var n=(t=this.options=function(e,t){for(var n in t)e[n]=t[n];return e}(Object.create(this.options),t)).debug;if(n&&console.time("preprocess data"),t.maxZoom<0||t.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(t.promoteId&&t.generateId)throw new Error("promoteId and generateId cannot be used together.");var r=function(e,t){var n=[];if("FeatureCollection"===e.type)for(var r=0;r<e.features.length;r++)Y(n,e.features[r],t,r);else Y(n,"Feature"===e.type?e:{geometry:e},t);return n}(e,t);this.tiles={},this.tileCoords=[],n&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",t.indexMaxZoom,t.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(r=function(e,t){var n=t.buffer/t.extent,r=e,i=ne(e,1,-1-n,n,0,-1,2,t),o=ne(e,1,1-n,2+n,0,-1,2,t);return(i||o)&&(r=ne(e,1,-n,1+n,0,-1,2,t)||[],i&&(r=ce(i,1).concat(r)),o&&(r=r.concat(ce(o,-1)))),r}(r,t)).length&&this.splitTile(r,0,0,0),n&&(r.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function ge(e,t,n){return 32*((1<<e)*n+t)+e}function _e(e,t){var n=e.tileID.canonical;if(!this._geoJSONIndex)return t(null,null);var r=this._geoJSONIndex.getTile(n.z,n.x,n.y);if(!r)return t(null,null);var i=new m(r.features),o=x(i);0===o.byteOffset&&o.byteLength===o.buffer.byteLength||(o=new Uint8Array(o)),t(null,{vectorTile:i,rawData:o.buffer})}z.prototype.load=function(e){var t=this.options,n=t.log,r=t.minZoom,i=t.maxZoom,o=t.nodeSize;n&&console.time("total time");var a="prepare "+e.length+" points";n&&console.time(a),this.points=e;for(var s=[],l=0;l<e.length;l++)e[l].geometry&&s.push(B(e[l],l));this.trees[i+1]=new R(s,H,G,o,Float32Array),n&&console.timeEnd(a);for(var u=i;u>=r;u--){var c=+Date.now();s=this._cluster(s,u),this.trees[u]=new R(s,H,G,o,Float32Array),n&&console.log("z%d: %d clusters in %dms",u,s.length,+Date.now()-c)}return n&&console.timeEnd("total time"),this},z.prototype.getClusters=function(e,t){var n=((e[0]+180)%360+360)%360-180,r=Math.max(-90,Math.min(90,e[1])),i=180===e[2]?180:((e[2]+180)%360+360)%360-180,o=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)n=-180,i=180;else if(n>i){var a=this.getClusters([n,r,180,o],t),s=this.getClusters([-180,r,i,o],t);return a.concat(s)}for(var l=this.trees[this._limitZoom(t)],u=[],c=0,p=l.range(V(n),q(o),V(i),q(r));c<p.length;c+=1){var h=l.points[p[c]];u.push(h.numPoints?F(h):this.points[h.index])}return u},z.prototype.getChildren=function(e){var t=this._getOriginId(e),n=this._getOriginZoom(e),r="No cluster with the specified id.",i=this.trees[n];if(!i)throw new Error(r);var o=i.points[t];if(!o)throw new Error(r);for(var a=this.options.radius/(this.options.extent*Math.pow(2,n-1)),s=[],l=0,u=i.within(o.x,o.y,a);l<u.length;l+=1){var c=i.points[u[l]];c.parentId===e&&s.push(c.numPoints?F(c):this.points[c.index])}if(0===s.length)throw new Error(r);return s},z.prototype.getLeaves=function(e,t,n){var r=[];return this._appendLeaves(r,e,t=t||10,n=n||0,0),r},z.prototype.getTile=function(e,t,n){var r=this.trees[this._limitZoom(e)],i=Math.pow(2,e),o=this.options,a=o.radius/o.extent,s=(n-a)/i,l=(n+1+a)/i,u={features:[]};return this._addTileFeatures(r.range((t-a)/i,s,(t+1+a)/i,l),r.points,t,n,i,u),0===t&&this._addTileFeatures(r.range(1-a/i,s,1,l),r.points,i,n,i,u),t===i-1&&this._addTileFeatures(r.range(0,s,a/i,l),r.points,-1,n,i,u),u.features.length?u:null},z.prototype.getClusterExpansionZoom=function(e){for(var t=this._getOriginZoom(e)-1;t<=this.options.maxZoom;){var n=this.getChildren(e);if(t++,1!==n.length)break;e=n[0].properties.cluster_id}return t},z.prototype._appendLeaves=function(e,t,n,r,i){for(var o=0,a=this.getChildren(t);o<a.length;o+=1){var s=a[o],l=s.properties;if(l&&l.cluster?i+l.point_count<=r?i+=l.point_count:i=this._appendLeaves(e,l.cluster_id,n,r,i):i<r?i++:e.push(s),e.length===n)break}return i},z.prototype._addTileFeatures=function(e,t,n,r,i,o){for(var a=0,s=e;a<s.length;a+=1){var l=t[s[a]],u=l.numPoints,c={type:1,geometry:[[Math.round(this.options.extent*(l.x*i-n)),Math.round(this.options.extent*(l.y*i-r))]],tags:u?U(l):this.points[l.index].properties},p=void 0;u?p=l.id:this.options.generateId?p=l.index:this.points[l.index].id&&(p=this.points[l.index].id),void 0!==p&&(c.id=p),o.features.push(c)}},z.prototype._limitZoom=function(e){return Math.max(this.options.minZoom,Math.min(+e,this.options.maxZoom+1))},z.prototype._cluster=function(e,t){for(var n=[],r=this.options,i=r.reduce,o=r.minPoints,a=r.radius/(r.extent*Math.pow(2,t)),s=0;s<e.length;s++){var l=e[s];if(!(l.zoom<=t)){l.zoom=t;for(var u=this.trees[t+1],c=u.within(l.x,l.y,a),p=l.numPoints||1,h=p,d=0,f=c;d<f.length;d+=1){var m=u.points[f[d]];m.zoom>t&&(h+=m.numPoints||1)}if(h>=o){for(var y=l.x*p,v=l.y*p,g=i&&p>1?this._map(l,!0):null,_=(s<<5)+(t+1)+this.points.length,x=0,b=c;x<b.length;x+=1){var w=u.points[b[x]];if(!(w.zoom<=t)){w.zoom=t;var S=w.numPoints||1;y+=w.x*S,v+=w.y*S,w.parentId=_,i&&(g||(g=this._map(l,!0)),i(g,this._map(w)))}}l.parentId=_,n.push(N(y/h,v/h,_,h,g))}else if(n.push(l),h>1)for(var E=0,T=c;E<T.length;E+=1){var P=u.points[T[E]];P.zoom<=t||(P.zoom=t,n.push(P))}}}return n},z.prototype._getOriginId=function(e){return e-this.points.length>>5},z.prototype._getOriginZoom=function(e){return(e-this.points.length)%32},z.prototype._map=function(e,t){if(e.numPoints)return t?W({},e.properties):e.properties;var n=this.points[e.index].properties,r=this.options.map(n);return t&&r===n?W({},r):r},ve.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},ve.prototype.splitTile=function(e,t,n,r,i,o,a){for(var s=[e,t,n,r],l=this.options,u=l.debug;s.length;){r=s.pop(),n=s.pop(),t=s.pop(),e=s.pop();var c=1<<t,p=ge(t,n,r),h=this.tiles[p];if(!h&&(u>1&&console.time("creation"),h=this.tiles[p]=fe(e,t,n,r,l),this.tileCoords.push({z:t,x:n,y:r}),u)){u>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",t,n,r,h.numFeatures,h.numPoints,h.numSimplified),console.timeEnd("creation"));var d="z"+t;this.stats[d]=(this.stats[d]||0)+1,this.total++}if(h.source=e,i){if(t===l.maxZoom||t===i)continue;var f=1<<i-t;if(n!==Math.floor(o/f)||r!==Math.floor(a/f))continue}else if(t===l.indexMaxZoom||h.numPoints<=l.indexMaxPoints)continue;if(h.source=null,0!==e.length){u>1&&console.time("clipping");var m,y,v,g,_,x,b=.5*l.buffer/l.extent,w=.5-b,S=.5+b,E=1+b;m=y=v=g=null,_=ne(e,c,n-b,n+S,0,h.minX,h.maxX,l),x=ne(e,c,n+w,n+E,0,h.minX,h.maxX,l),e=null,_&&(m=ne(_,c,r-b,r+S,1,h.minY,h.maxY,l),y=ne(_,c,r+w,r+E,1,h.minY,h.maxY,l),_=null),x&&(v=ne(x,c,r-b,r+S,1,h.minY,h.maxY,l),g=ne(x,c,r+w,r+E,1,h.minY,h.maxY,l),x=null),u>1&&console.timeEnd("clipping"),s.push(m||[],t+1,2*n,2*r),s.push(y||[],t+1,2*n,2*r+1),s.push(v||[],t+1,2*n+1,2*r),s.push(g||[],t+1,2*n+1,2*r+1)}}},ve.prototype.getTile=function(e,t,n){var r=this.options,i=r.extent,o=r.debug;if(e<0||e>24)return null;var a=1<<e,s=ge(e,t=(t%a+a)%a,n);if(this.tiles[s])return he(this.tiles[s],i);o>1&&console.log("drilling down to z%d-%d-%d",e,t,n);for(var l,u=e,c=t,p=n;!l&&u>0;)u--,c=Math.floor(c/2),p=Math.floor(p/2),l=this.tiles[ge(u,c,p)];return l&&l.source?(o>1&&console.log("found parent tile z%d-%d-%d",u,c,p),o>1&&console.time("drilling down"),this.splitTile(l.source,u,c,p,e,t,n),o>1&&console.timeEnd("drilling down"),this.tiles[s]?he(this.tiles[s],i):null):null};var xe=function(t){function n(e,n,r,i){t.call(this,e,n,r,_e),i&&(this.loadGeoJSON=i)}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.loadData=function(e,t){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=t,this._pendingLoadDataParams=e,this._state&&"Idle"!==this._state?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},n.prototype._loadData=function(){var t=this;if(this._pendingCallback&&this._pendingLoadDataParams){var n=this._pendingCallback,r=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var i=!!(r&&r.request&&r.request.collectResourceTiming)&&new e.RequestPerformance(r.request);this.loadGeoJSON(r,(function(o,a){if(o||!a)return n(o);if("object"!=typeof a)return n(new Error("Input data given to '"+r.source+"' is not a valid GeoJSON object."));!function e(t,n){var r,i=t&&t.type;if("FeatureCollection"===i)for(r=0;r<t.features.length;r++)e(t.features[r],n);else if("GeometryCollection"===i)for(r=0;r<t.geometries.length;r++)e(t.geometries[r],n);else if("Feature"===i)e(t.geometry,n);else if("Polygon"===i)p(t.coordinates,n);else if("MultiPolygon"===i)for(r=0;r<t.coordinates.length;r++)p(t.coordinates[r],n);return t}(a,!0);try{if(r.filter){var s=e.createExpression(r.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if("error"===s.result)throw new Error(s.value.map((function(e){return e.key+": "+e.message})).join(", "));var l=a.features.filter((function(e){return s.value.evaluate({zoom:0},e)}));a={type:"FeatureCollection",features:l}}t._geoJSONIndex=r.cluster?new z(function(t){var n=t.superclusterOptions,r=t.clusterProperties;if(!r||!n)return n;for(var i={},o={},a={accumulated:null,zoom:0},s={properties:null},l=Object.keys(r),u=0,c=l;u<c.length;u+=1){var p=c[u],h=r[p],d=h[0],f=e.createExpression(h[1]),m=e.createExpression("string"==typeof d?[d,["accumulated"],["get",p]]:d);i[p]=f.value,o[p]=m.value}return n.map=function(e){s.properties=e;for(var t={},n=0,r=l;n<r.length;n+=1){var o=r[n];t[o]=i[o].evaluate(a,s)}return t},n.reduce=function(e,t){s.properties=t;for(var n=0,r=l;n<r.length;n+=1){var i=r[n];a.accumulated=e[i],e[i]=o[i].evaluate(a,s)}},n}(r)).load(a.features):function(e,t){return new ve(e,t)}(a,r.geojsonVtOptions)}catch(o){return n(o)}t.loaded={};var u={};if(i){var c=i.finish();c&&(u.resourceTiming={},u.resourceTiming[r.source]=JSON.parse(JSON.stringify(c)))}n(null,u)}))}},n.prototype.coalesce=function(){"Coalescing"===this._state?this._state="Idle":"NeedsLoadData"===this._state&&(this._state="Coalescing",this._loadData())},n.prototype.reloadTile=function(e,n){var r=this.loaded;return r&&r[e.uid]?t.prototype.reloadTile.call(this,e,n):this.loadTile(e,n)},n.prototype.loadGeoJSON=function(t,n){if(t.request)e.getJSON(t.request,n);else{if("string"!=typeof t.data)return n(new Error("Input data given to '"+t.source+"' is not a valid GeoJSON object."));try{return n(null,JSON.parse(t.data))}catch(e){return n(new Error("Input data given to '"+t.source+"' is not a valid GeoJSON object."))}}},n.prototype.removeSource=function(e,t){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),t()},n.prototype.getClusterExpansionZoom=function(e,t){try{t(null,this._geoJSONIndex.getClusterExpansionZoom(e.clusterId))}catch(e){t(e)}},n.prototype.getClusterChildren=function(e,t){try{t(null,this._geoJSONIndex.getChildren(e.clusterId))}catch(e){t(e)}},n.prototype.getClusterLeaves=function(e,t){try{t(null,this._geoJSONIndex.getLeaves(e.clusterId,e.limit,e.offset))}catch(e){t(e)}},n}(l),be=function(t){var n=this;this.self=t,this.actor=new e.Actor(t,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:l,geojson:xe},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(e,t){if(n.workerSourceTypes[e])throw new Error('Worker source with name "'+e+'" already registered.');n.workerSourceTypes[e]=t},this.self.registerRTLTextPlugin=function(t){if(e.plugin.isParsed())throw new Error("RTL text plugin already registered.");e.plugin.applyArabicShaping=t.applyArabicShaping,e.plugin.processBidirectionalText=t.processBidirectionalText,e.plugin.processStyledBidirectionalText=t.processStyledBidirectionalText}};return be.prototype.setReferrer=function(e,t){this.referrer=t},be.prototype.setImages=function(e,t,n){for(var r in this.availableImages[e]=t,this.workerSources[e]){var i=this.workerSources[e][r];for(var o in i)i[o].availableImages=t}n()},be.prototype.setLayers=function(e,t,n){this.getLayerIndex(e).replace(t),n()},be.prototype.updateLayers=function(e,t,n){this.getLayerIndex(e).update(t.layers,t.removedIds),n()},be.prototype.loadTile=function(e,t,n){this.getWorkerSource(e,t.type,t.source).loadTile(t,n)},be.prototype.loadDEMTile=function(e,t,n){this.getDEMWorkerSource(e,t.source).loadTile(t,n)},be.prototype.reloadTile=function(e,t,n){this.getWorkerSource(e,t.type,t.source).reloadTile(t,n)},be.prototype.abortTile=function(e,t,n){this.getWorkerSource(e,t.type,t.source).abortTile(t,n)},be.prototype.removeTile=function(e,t,n){this.getWorkerSource(e,t.type,t.source).removeTile(t,n)},be.prototype.removeDEMTile=function(e,t){this.getDEMWorkerSource(e,t.source).removeTile(t)},be.prototype.removeSource=function(e,t,n){if(this.workerSources[e]&&this.workerSources[e][t.type]&&this.workerSources[e][t.type][t.source]){var r=this.workerSources[e][t.type][t.source];delete this.workerSources[e][t.type][t.source],void 0!==r.removeSource?r.removeSource(t,n):n()}},be.prototype.loadWorkerSource=function(e,t,n){try{this.self.importScripts(t.url),n()}catch(e){n(e.toString())}},be.prototype.syncRTLPluginState=function(t,n,r){try{e.plugin.setState(n);var i=e.plugin.getPluginURL();if(e.plugin.isLoaded()&&!e.plugin.isParsed()&&null!=i){this.self.importScripts(i);var o=e.plugin.isParsed();r(o?void 0:new Error("RTL Text Plugin failed to import scripts from "+i),o)}}catch(e){r(e.toString())}},be.prototype.getAvailableImages=function(e){var t=this.availableImages[e];return t||(t=[]),t},be.prototype.getLayerIndex=function(e){var t=this.layerIndexes[e];return t||(t=this.layerIndexes[e]=new r),t},be.prototype.getWorkerSource=function(e,t,n){var r=this;return this.workerSources[e]||(this.workerSources[e]={}),this.workerSources[e][t]||(this.workerSources[e][t]={}),this.workerSources[e][t][n]||(this.workerSources[e][t][n]=new this.workerSourceTypes[t]({send:function(t,n,i){r.actor.send(t,n,i,e)}},this.getLayerIndex(e),this.getAvailableImages(e))),this.workerSources[e][t][n]},be.prototype.getDEMWorkerSource=function(e,t){return this.demWorkerSources[e]||(this.demWorkerSources[e]={}),this.demWorkerSources[e][t]||(this.demWorkerSources[e][t]=new c),this.demWorkerSources[e][t]},be.prototype.enforceCacheSizeLimit=function(t,n){e.enforceCacheSizeLimit(n)},"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope&&(self.worker=new be(self)),be})),r(["./shared"],(function(e){var t=e.createCommonjsModule((function(e){function t(e){return!n(e)}function n(e){return"undefined"==typeof window||"undefined"==typeof document?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var e,t,n=new Blob([""],{type:"text/javascript"}),r=URL.createObjectURL(n);try{t=new Worker(r),e=!0}catch(t){e=!1}return t&&t.terminate(),URL.revokeObjectURL(r),e}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var e=document.createElement("canvas");e.width=e.height=1;var t=e.getContext("2d");if(!t)return!1;var n=t.getImageData(0,0,1,1);return n&&n.width===e.width}()?(void 0===r[n=e&&e.failIfMajorPerformanceCaveat]&&(r[n]=function(e){var n=function(e){var n=document.createElement("canvas"),r=Object.create(t.webGLContextAttributes);return r.failIfMajorPerformanceCaveat=e,n.probablySupportsContext?n.probablySupportsContext("webgl",r)||n.probablySupportsContext("experimental-webgl",r):n.supportsContext?n.supportsContext("webgl",r)||n.supportsContext("experimental-webgl",r):n.getContext("webgl",r)||n.getContext("experimental-webgl",r)}(e);if(!n)return!1;var r=n.createShader(n.VERTEX_SHADER);return!(!r||n.isContextLost())&&(n.shaderSource(r,"void main() {}"),n.compileShader(r),!0===n.getShaderParameter(r,n.COMPILE_STATUS))}(n)),r[n]?void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var n}e.exports?e.exports=t:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=t,window.mapboxgl.notSupportedReason=n);var r={};t.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}})),n={create:function(t,n,r){var i=e.window.document.createElement(t);return void 0!==n&&(i.className=n),r&&r.appendChild(i),i},createNS:function(t,n){return e.window.document.createElementNS(t,n)}},r=e.window.document&&e.window.document.documentElement.style;function i(e){if(!r)return e[0];for(var t=0;t<e.length;t++)if(e[t]in r)return e[t];return e[0]}var o,a=i(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);n.disableDrag=function(){r&&a&&(o=r[a],r[a]="none")},n.enableDrag=function(){r&&a&&(r[a]=o)};var s=i(["transform","WebkitTransform"]);n.setTransform=function(e,t){e.style[s]=t};var l=!1;try{var u=Object.defineProperty({},"passive",{get:function(){l=!0}});e.window.addEventListener("test",u,u),e.window.removeEventListener("test",u,u)}catch(e){l=!1}n.addEventListener=function(e,t,n,r){void 0===r&&(r={}),e.addEventListener(t,n,"passive"in r&&l?r:r.capture)},n.removeEventListener=function(e,t,n,r){void 0===r&&(r={}),e.removeEventListener(t,n,"passive"in r&&l?r:r.capture)};var c=function(t){t.preventDefault(),t.stopPropagation(),e.window.removeEventListener("click",c,!0)};function p(e){var t=e.userImage;return!!(t&&t.render&&t.render())&&(e.data.replace(new Uint8Array(t.data.buffer)),!0)}n.suppressClick=function(){e.window.addEventListener("click",c,!0),e.window.setTimeout((function(){e.window.removeEventListener("click",c,!0)}),0)},n.mousePos=function(t,n){var r=t.getBoundingClientRect();return new e.Point(n.clientX-r.left-t.clientLeft,n.clientY-r.top-t.clientTop)},n.touchPos=function(t,n){for(var r=t.getBoundingClientRect(),i=[],o=0;o<n.length;o++)i.push(new e.Point(n[o].clientX-r.left-t.clientLeft,n[o].clientY-r.top-t.clientTop));return i},n.mouseButton=function(t){return void 0!==e.window.InstallTrigger&&2===t.button&&t.ctrlKey&&e.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:t.button},n.remove=function(e){e.parentNode&&e.parentNode.removeChild(e)};var h=function(t){function n(){t.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new e.RGBAImage({width:1,height:1}),this.dirty=!0}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.isLoaded=function(){return this.loaded},n.prototype.setLoaded=function(e){if(this.loaded!==e&&(this.loaded=e,e)){for(var t=0,n=this.requestors;t<n.length;t+=1){var r=n[t];this._notify(r.ids,r.callback)}this.requestors=[]}},n.prototype.getImage=function(e){return this.images[e]},n.prototype.addImage=function(e,t){this._validate(e,t)&&(this.images[e]=t)},n.prototype._validate=function(t,n){var r=!0;return this._validateStretch(n.stretchX,n.data&&n.data.width)||(this.fire(new e.ErrorEvent(new Error('Image "'+t+'" has invalid "stretchX" value'))),r=!1),this._validateStretch(n.stretchY,n.data&&n.data.height)||(this.fire(new e.ErrorEvent(new Error('Image "'+t+'" has invalid "stretchY" value'))),r=!1),this._validateContent(n.content,n)||(this.fire(new e.ErrorEvent(new Error('Image "'+t+'" has invalid "content" value'))),r=!1),r},n.prototype._validateStretch=function(e,t){if(!e)return!0;for(var n=0,r=0,i=e;r<i.length;r+=1){var o=i[r];if(o[0]<n||o[1]<o[0]||t<o[1])return!1;n=o[1]}return!0},n.prototype._validateContent=function(e,t){return!(e&&(4!==e.length||e[0]<0||t.data.width<e[0]||e[1]<0||t.data.height<e[1]||e[2]<0||t.data.width<e[2]||e[3]<0||t.data.height<e[3]||e[2]<e[0]||e[3]<e[1]))},n.prototype.updateImage=function(e,t){t.version=this.images[e].version+1,this.images[e]=t,this.updatedImages[e]=!0},n.prototype.removeImage=function(e){var t=this.images[e];delete this.images[e],delete this.patterns[e],t.userImage&&t.userImage.onRemove&&t.userImage.onRemove()},n.prototype.listImages=function(){return Object.keys(this.images)},n.prototype.getImages=function(e,t){var n=!0;if(!this.isLoaded())for(var r=0,i=e;r<i.length;r+=1)this.images[i[r]]||(n=!1);this.isLoaded()||n?this._notify(e,t):this.requestors.push({ids:e,callback:t})},n.prototype._notify=function(t,n){for(var r={},i=0,o=t;i<o.length;i+=1){var a=o[i];this.images[a]||this.fire(new e.Event("styleimagemissing",{id:a}));var s=this.images[a];s?r[a]={data:s.data.clone(),pixelRatio:s.pixelRatio,sdf:s.sdf,version:s.version,stretchX:s.stretchX,stretchY:s.stretchY,content:s.content,hasRenderCallback:Boolean(s.userImage&&s.userImage.render)}:e.warnOnce('Image "'+a+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}n(null,r)},n.prototype.getPixelSize=function(){var e=this.atlasImage;return{width:e.width,height:e.height}},n.prototype.getPattern=function(t){var n=this.patterns[t],r=this.getImage(t);if(!r)return null;if(n&&n.position.version===r.version)return n.position;if(n)n.position.version=r.version;else{var i={w:r.data.width+2,h:r.data.height+2,x:0,y:0},o=new e.ImagePosition(i,r);this.patterns[t]={bin:i,position:o}}return this._updatePatternAtlas(),this.patterns[t].position},n.prototype.bind=function(t){var n=t.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new e.Texture(t,this.atlasImage,n.RGBA),this.atlasTexture.bind(n.LINEAR,n.CLAMP_TO_EDGE)},n.prototype._updatePatternAtlas=function(){var t=[];for(var n in this.patterns)t.push(this.patterns[n].bin);var r=e.potpack(t),i=r.w,o=r.h,a=this.atlasImage;for(var s in a.resize({width:i||1,height:o||1}),this.patterns){var l=this.patterns[s].bin,u=l.x+1,c=l.y+1,p=this.images[s].data,h=p.width,d=p.height;e.RGBAImage.copy(p,a,{x:0,y:0},{x:u,y:c},{width:h,height:d}),e.RGBAImage.copy(p,a,{x:0,y:d-1},{x:u,y:c-1},{width:h,height:1}),e.RGBAImage.copy(p,a,{x:0,y:0},{x:u,y:c+d},{width:h,height:1}),e.RGBAImage.copy(p,a,{x:h-1,y:0},{x:u-1,y:c},{width:1,height:d}),e.RGBAImage.copy(p,a,{x:0,y:0},{x:u+h,y:c},{width:1,height:d})}this.dirty=!0},n.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},n.prototype.dispatchRenderCallbacks=function(e){for(var t=0,n=e;t<n.length;t+=1){var r=n[t];if(!this.callbackDispatchedThisFrame[r]){this.callbackDispatchedThisFrame[r]=!0;var i=this.images[r];p(i)&&this.updateImage(r,i)}}},n}(e.Evented),d=y,f=y,m=1e20;function y(e,t,n,r,i,o){this.fontSize=e||24,this.buffer=void 0===t?3:t,this.cutoff=r||.25,this.fontFamily=i||"sans-serif",this.fontWeight=o||"normal",this.radius=n||8;var a=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=a,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(a*a),this.gridInner=new Float64Array(a*a),this.f=new Float64Array(a),this.d=new Float64Array(a),this.z=new Float64Array(a+1),this.v=new Int16Array(a),this.middle=Math.round(a/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function v(e,t,n,r,i,o,a){for(var s=0;s<t;s++){for(var l=0;l<n;l++)r[l]=e[l*t+s];for(g(r,i,o,a,n),l=0;l<n;l++)e[l*t+s]=i[l]}for(l=0;l<n;l++){for(s=0;s<t;s++)r[s]=e[l*t+s];for(g(r,i,o,a,t),s=0;s<t;s++)e[l*t+s]=Math.sqrt(i[s])}}function g(e,t,n,r,i){n[0]=0,r[0]=-m,r[1]=+m;for(var o=1,a=0;o<i;o++){for(var s=(e[o]+o*o-(e[n[a]]+n[a]*n[a]))/(2*o-2*n[a]);s<=r[a];)a--,s=(e[o]+o*o-(e[n[a]]+n[a]*n[a]))/(2*o-2*n[a]);n[++a]=o,r[a]=s,r[a+1]=+m}for(o=0,a=0;o<i;o++){for(;r[a+1]<o;)a++;t[o]=(o-n[a])*(o-n[a])+e[n[a]]}}y.prototype.draw=function(e){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(e,this.buffer,this.middle);for(var t=this.ctx.getImageData(0,0,this.size,this.size),n=new Uint8ClampedArray(this.size*this.size),r=0;r<this.size*this.size;r++){var i=t.data[4*r+3]/255;this.gridOuter[r]=1===i?0:0===i?m:Math.pow(Math.max(0,.5-i),2),this.gridInner[r]=1===i?m:0===i?0:Math.pow(Math.max(0,i-.5),2)}for(v(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),v(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),r=0;r<this.size*this.size;r++)n[r]=Math.max(0,Math.min(255,Math.round(255-255*((this.gridOuter[r]-this.gridInner[r])/this.radius+this.cutoff))));return n},d.default=f;var _=function(e,t){this.requestManager=e,this.localIdeographFontFamily=t,this.entries={}};_.prototype.setURL=function(e){this.url=e},_.prototype.getGlyphs=function(t,n){var r=this,i=[];for(var o in t)for(var a=0,s=t[o];a<s.length;a+=1)i.push({stack:o,id:s[a]});e.asyncAll(i,(function(e,t){var n=e.stack,i=e.id,o=r.entries[n];o||(o=r.entries[n]={glyphs:{},requests:{},ranges:{}});var a=o.glyphs[i];if(void 0===a){if(a=r._tinySDF(o,n,i))return o.glyphs[i]=a,void t(null,{stack:n,id:i,glyph:a});var s=Math.floor(i/256);if(256*s>65535)t(new Error("glyphs > 65535 not supported"));else if(o.ranges[s])t(null,{stack:n,id:i,glyph:a});else{var l=o.requests[s];l||(l=o.requests[s]=[],_.loadGlyphRange(n,s,r.url,r.requestManager,(function(e,t){if(t){for(var n in t)r._doesCharSupportLocalGlyph(+n)||(o.glyphs[+n]=t[+n]);o.ranges[s]=!0}for(var i=0,a=l;i<a.length;i+=1)(0,a[i])(e,t);delete o.requests[s]}))),l.push((function(e,r){e?t(e):r&&t(null,{stack:n,id:i,glyph:r[i]||null})}))}}else t(null,{stack:n,id:i,glyph:a})}),(function(e,t){if(e)n(e);else if(t){for(var r={},i=0,o=t;i<o.length;i+=1){var a=o[i],s=a.stack,l=a.id,u=a.glyph;(r[s]||(r[s]={}))[l]=u&&{id:u.id,bitmap:u.bitmap.clone(),metrics:u.metrics}}n(null,r)}}))},_.prototype._doesCharSupportLocalGlyph=function(t){return!!this.localIdeographFontFamily&&(e.isChar["CJK Unified Ideographs"](t)||e.isChar["Hangul Syllables"](t)||e.isChar.Hiragana(t)||e.isChar.Katakana(t))},_.prototype._tinySDF=function(t,n,r){var i=this.localIdeographFontFamily;if(i&&this._doesCharSupportLocalGlyph(r)){var o=t.tinySDF;if(!o){var a="400";/bold/i.test(n)?a="900":/medium/i.test(n)?a="500":/light/i.test(n)&&(a="200"),o=t.tinySDF=new _.TinySDF(24,3,8,.25,i,a)}return{id:r,bitmap:new e.AlphaImage({width:30,height:30},o.draw(String.fromCharCode(r))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},_.loadGlyphRange=function(t,n,r,i,o){var a=256*n,s=a+255,l=i.transformRequest(i.normalizeGlyphsURL(r).replace("{fontstack}",t).replace("{range}",a+"-"+s),e.ResourceType.Glyphs);e.getArrayBuffer(l,(function(t,n){if(t)o(t);else if(n){for(var r={},i=0,a=e.parseGlyphPBF(n);i<a.length;i+=1){var s=a[i];r[s.id]=s}o(null,r)}}))},_.TinySDF=d;var x=function(){this.specification=e.styleSpec.light.position};x.prototype.possiblyEvaluate=function(t,n){return e.sphericalToCartesian(t.expression.evaluate(n))},x.prototype.interpolate=function(t,n,r){return{x:e.number(t.x,n.x,r),y:e.number(t.y,n.y,r),z:e.number(t.z,n.z,r)}};var b=new e.Properties({anchor:new e.DataConstantProperty(e.styleSpec.light.anchor),position:new x,color:new e.DataConstantProperty(e.styleSpec.light.color),intensity:new e.DataConstantProperty(e.styleSpec.light.intensity)}),w=function(t){function n(n){t.call(this),this._transitionable=new e.Transitionable(b),this.setLight(n),this._transitioning=this._transitionable.untransitioned()}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.getLight=function(){return this._transitionable.serialize()},n.prototype.setLight=function(t,n){if(void 0===n&&(n={}),!this._validate(e.validateLight,t,n))for(var r in t){var i=t[r];e.endsWith(r,"-transition")?this._transitionable.setTransition(r.slice(0,-11),i):this._transitionable.setValue(r,i)}},n.prototype.updateTransitions=function(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)},n.prototype.hasTransition=function(){return this._transitioning.hasTransition()},n.prototype.recalculate=function(e){this.properties=this._transitioning.possiblyEvaluate(e)},n.prototype._validate=function(t,n,r){return(!r||!1!==r.validate)&&e.emitValidationErrors(this,t.call(e.validateStyle,e.extend({value:n,style:{glyphs:!0,sprite:!0},styleSpec:e.styleSpec})))},n}(e.Evented),S=function(e,t){this.width=e,this.height=t,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};S.prototype.getDash=function(e,t){var n=e.join(",")+String(t);return this.dashEntry[n]||(this.dashEntry[n]=this.addDash(e,t)),this.dashEntry[n]},S.prototype.getDashRanges=function(e,t,n){var r=[],i=e.length%2==1?-e[e.length-1]*n:0,o=e[0]*n,a=!0;r.push({left:i,right:o,isDash:a,zeroLength:0===e[0]});for(var s=e[0],l=1;l<e.length;l++){var u=e[l];r.push({left:i=s*n,right:o=(s+=u)*n,isDash:a=!a,zeroLength:0===u})}return r},S.prototype.addRoundDash=function(e,t,n){for(var r=t/2,i=-n;i<=n;i++)for(var o=this.width*(this.nextRow+n+i),a=0,s=e[a],l=0;l<this.width;l++){l/s.right>1&&(s=e[++a]);var u=Math.abs(l-s.left),c=Math.abs(l-s.right),p=Math.min(u,c),h=void 0,d=i/n*(r+1);if(s.isDash){var f=r-Math.abs(d);h=Math.sqrt(p*p+f*f)}else h=r-Math.sqrt(p*p+d*d);this.data[o+l]=Math.max(0,Math.min(255,h+128))}},S.prototype.addRegularDash=function(e){for(var t=e.length-1;t>=0;--t){var n=e[t],r=e[t+1];n.zeroLength?e.splice(t,1):r&&r.isDash===n.isDash&&(r.left=n.left,e.splice(t,1))}var i=e[0],o=e[e.length-1];i.isDash===o.isDash&&(i.left=o.left-this.width,o.right=i.right+this.width);for(var a=this.width*this.nextRow,s=0,l=e[s],u=0;u<this.width;u++){u/l.right>1&&(l=e[++s]);var c=Math.abs(u-l.left),p=Math.abs(u-l.right),h=Math.min(c,p);this.data[a+u]=Math.max(0,Math.min(255,(l.isDash?h:-h)+128))}},S.prototype.addDash=function(t,n){var r=n?7:0,i=2*r+1;if(this.nextRow+i>this.height)return e.warnOnce("LineAtlas out of space"),null;for(var o=0,a=0;a<t.length;a++)o+=t[a];if(0!==o){var s=this.width/o,l=this.getDashRanges(t,this.width,s);n?this.addRoundDash(l,s,r):this.addRegularDash(l)}var u={y:(this.nextRow+r+.5)/this.height,height:2*r/this.height,width:o};return this.nextRow+=i,this.dirty=!0,u},S.prototype.bind=function(e){var t=e.gl;this.texture?(t.bindTexture(t.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.width,this.height,t.ALPHA,t.UNSIGNED_BYTE,this.data))):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texImage2D(t.TEXTURE_2D,0,t.ALPHA,this.width,this.height,0,t.ALPHA,t.UNSIGNED_BYTE,this.data))};var E=function t(n,r){this.workerPool=n,this.actors=[],this.currentActor=0,this.id=e.uniqueId();for(var i=this.workerPool.acquire(this.id),o=0;o<i.length;o++){var a=new t.Actor(i[o],r,this.id);a.name="Worker "+o,this.actors.push(a)}};function T(t,n,r){var i=function(i,o){if(i)return r(i);if(o){var a=e.pick(e.extend(o,t),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);o.vector_layers&&(a.vectorLayers=o.vector_layers,a.vectorLayerIds=a.vectorLayers.map((function(e){return e.id}))),a.tiles=n.canonicalizeTileset(a,t.url),r(null,a)}};return t.url?e.getJSON(n.transformRequest(n.normalizeSourceURL(t.url),e.ResourceType.Source),i):e.browser.frame((function(){return i(null,t)}))}E.prototype.broadcast=function(t,n,r){e.asyncAll(this.actors,(function(e,r){e.send(t,n,r)}),r=r||function(){})},E.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},E.prototype.remove=function(){this.actors.forEach((function(e){e.remove()})),this.actors=[],this.workerPool.release(this.id)},E.Actor=e.Actor;var P=function(t,n,r){this.bounds=e.LngLatBounds.convert(this.validateBounds(t)),this.minzoom=n||0,this.maxzoom=r||24};P.prototype.validateBounds=function(e){return Array.isArray(e)&&4===e.length?[Math.max(-180,e[0]),Math.max(-90,e[1]),Math.min(180,e[2]),Math.min(90,e[3])]:[-180,-90,180,90]},P.prototype.contains=function(t){var n=Math.pow(2,t.z),r=Math.floor(e.mercatorXfromLng(this.bounds.getWest())*n),i=Math.floor(e.mercatorYfromLat(this.bounds.getNorth())*n),o=Math.ceil(e.mercatorXfromLng(this.bounds.getEast())*n),a=Math.ceil(e.mercatorYfromLat(this.bounds.getSouth())*n);return t.x>=r&&t.x<o&&t.y>=i&&t.y<a};var C=function(t){function n(n,r,i,o){if(t.call(this),this.id=n,this.dispatcher=i,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,e.extend(this,e.pick(r,["url","scheme","tileSize","promoteId"])),this._options=e.extend({type:"vector"},r),this._collectResourceTiming=r.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(o)}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.load=function(){var t=this;this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=T(this._options,this.map._requestManager,(function(n,r){t._tileJSONRequest=null,t._loaded=!0,n?t.fire(new e.ErrorEvent(n)):r&&(e.extend(t,r),r.bounds&&(t.tileBounds=new P(r.bounds,t.minzoom,t.maxzoom)),e.postTurnstileEvent(r.tiles,t.map._requestManager._customAccessToken),e.postMapLoadEvent(r.tiles,t.map._getMapId(),t.map._requestManager._skuToken,t.map._requestManager._customAccessToken),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})))}))},n.prototype.loaded=function(){return this._loaded},n.prototype.hasTile=function(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)},n.prototype.onAdd=function(e){this.map=e,this.load()},n.prototype.setSourceProperty=function(e){this._tileJSONRequest&&this._tileJSONRequest.cancel(),e(),this.map.style.sourceCaches[this.id].clearTiles(),this.load()},n.prototype.setTiles=function(e){var t=this;return this.setSourceProperty((function(){t._options.tiles=e})),this},n.prototype.setUrl=function(e){var t=this;return this.setSourceProperty((function(){t.url=e,t._options.url=e})),this},n.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},n.prototype.serialize=function(){return e.extend({},this._options)},n.prototype.loadTile=function(t,n){var r=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme)),i={request:this.map._requestManager.transformRequest(r,e.ResourceType.Tile),uid:t.uid,tileID:t.tileID,zoom:t.tileID.overscaledZ,tileSize:this.tileSize*t.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:e.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function o(r,i){return delete t.request,t.aborted?n(null):r&&404!==r.status?n(r):(i&&i.resourceTiming&&(t.resourceTiming=i.resourceTiming),this.map._refreshExpiredTiles&&i&&t.setExpiryData(i),t.loadVectorData(i,this.map.painter),e.cacheEntryPossiblyAdded(this.dispatcher),n(null),void(t.reloadCallback&&(this.loadTile(t,t.reloadCallback),t.reloadCallback=null)))}i.request.collectResourceTiming=this._collectResourceTiming,t.actor&&"expired"!==t.state?"loading"===t.state?t.reloadCallback=n:t.request=t.actor.send("reloadTile",i,o.bind(this)):(t.actor=this.dispatcher.getActor(),t.request=t.actor.send("loadTile",i,o.bind(this)))},n.prototype.abortTile=function(e){e.request&&(e.request.cancel(),delete e.request),e.actor&&e.actor.send("abortTile",{uid:e.uid,type:this.type,source:this.id},void 0)},n.prototype.unloadTile=function(e){e.unloadVectorData(),e.actor&&e.actor.send("removeTile",{uid:e.uid,type:this.type,source:this.id},void 0)},n.prototype.hasTransition=function(){return!1},n}(e.Evented),k=function(t){function n(n,r,i,o){t.call(this),this.id=n,this.dispatcher=i,this.setEventedParent(o),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=e.extend({type:"raster"},r),e.extend(this,e.pick(r,["url","scheme","tileSize"]))}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.load=function(){var t=this;this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=T(this._options,this.map._requestManager,(function(n,r){t._tileJSONRequest=null,t._loaded=!0,n?t.fire(new e.ErrorEvent(n)):r&&(e.extend(t,r),r.bounds&&(t.tileBounds=new P(r.bounds,t.minzoom,t.maxzoom)),e.postTurnstileEvent(r.tiles),e.postMapLoadEvent(r.tiles,t.map._getMapId(),t.map._requestManager._skuToken),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})))}))},n.prototype.loaded=function(){return this._loaded},n.prototype.onAdd=function(e){this.map=e,this.load()},n.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},n.prototype.serialize=function(){return e.extend({},this._options)},n.prototype.hasTile=function(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)},n.prototype.loadTile=function(t,n){var r=this,i=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);t.request=e.getImage(this.map._requestManager.transformRequest(i,e.ResourceType.Tile),(function(i,o){if(delete t.request,t.aborted)t.state="unloaded",n(null);else if(i)t.state="errored",n(i);else if(o){r.map._refreshExpiredTiles&&t.setExpiryData(o),delete o.cacheControl,delete o.expires;var a=r.map.painter.context,s=a.gl;t.texture=r.map.painter.getTileTexture(o.width),t.texture?t.texture.update(o,{useMipmap:!0}):(t.texture=new e.Texture(a,o,s.RGBA,{useMipmap:!0}),t.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE,s.LINEAR_MIPMAP_NEAREST),a.extTextureFilterAnisotropic&&s.texParameterf(s.TEXTURE_2D,a.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,a.extTextureFilterAnisotropicMax)),t.state="loaded",e.cacheEntryPossiblyAdded(r.dispatcher),n(null)}}))},n.prototype.abortTile=function(e,t){e.request&&(e.request.cancel(),delete e.request),t()},n.prototype.unloadTile=function(e,t){e.texture&&this.map.painter.saveTileTexture(e.texture),t()},n.prototype.hasTransition=function(){return!1},n}(e.Evented),A=function(t){function n(n,r,i,o){t.call(this,n,r,i,o),this.type="raster-dem",this.maxzoom=22,this._options=e.extend({type:"raster-dem"},r),this.encoding=r.encoding||"mapbox"}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},n.prototype.loadTile=function(t,n){var r=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);function i(e,r){e&&(t.state="errored",n(e)),r&&(t.dem=r,t.needsHillshadePrepare=!0,t.state="loaded",n(null))}t.request=e.getImage(this.map._requestManager.transformRequest(r,e.ResourceType.Tile),function(r,o){if(delete t.request,t.aborted)t.state="unloaded",n(null);else if(r)t.state="errored",n(r);else if(o){this.map._refreshExpiredTiles&&t.setExpiryData(o),delete o.cacheControl,delete o.expires;var a=e.window.ImageBitmap&&o instanceof e.window.ImageBitmap&&e.offscreenCanvasSupported()?o:e.browser.getImageData(o,1),s={uid:t.uid,coord:t.tileID,source:this.id,rawImageData:a,encoding:this.encoding};t.actor&&"expired"!==t.state||(t.actor=this.dispatcher.getActor(),t.actor.send("loadDEMTile",s,i.bind(this)))}}.bind(this)),t.neighboringTiles=this._getNeighboringTiles(t.tileID)},n.prototype._getNeighboringTiles=function(t){var n=t.canonical,r=Math.pow(2,n.z),i=(n.x-1+r)%r,o=0===n.x?t.wrap-1:t.wrap,a=(n.x+1+r)%r,s=n.x+1===r?t.wrap+1:t.wrap,l={};return l[new e.OverscaledTileID(t.overscaledZ,o,n.z,i,n.y).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,s,n.z,a,n.y).key]={backfilled:!1},n.y>0&&(l[new e.OverscaledTileID(t.overscaledZ,o,n.z,i,n.y-1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,t.wrap,n.z,n.x,n.y-1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,s,n.z,a,n.y-1).key]={backfilled:!1}),n.y+1<r&&(l[new e.OverscaledTileID(t.overscaledZ,o,n.z,i,n.y+1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,t.wrap,n.z,n.x,n.y+1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,s,n.z,a,n.y+1).key]={backfilled:!1}),l},n.prototype.unloadTile=function(e){e.demTexture&&this.map.painter.saveTileTexture(e.demTexture),e.fbo&&(e.fbo.destroy(),delete e.fbo),e.dem&&delete e.dem,delete e.neighboringTiles,e.state="unloaded",e.actor&&e.actor.send("removeDEMTile",{uid:e.uid,source:this.id})},n}(k),I=function(t){function n(n,r,i,o){t.call(this),this.id=n,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=i.getActor(),this.setEventedParent(o),this._data=r.data,this._options=e.extend({},r),this._collectResourceTiming=r.collectResourceTiming,this._resourceTiming=[],void 0!==r.maxzoom&&(this.maxzoom=r.maxzoom),r.type&&(this.type=r.type),r.attribution&&(this.attribution=r.attribution),this.promoteId=r.promoteId;var a=e.EXTENT/this.tileSize;this.workerOptions=e.extend({source:this.id,cluster:r.cluster||!1,geojsonVtOptions:{buffer:(void 0!==r.buffer?r.buffer:128)*a,tolerance:(void 0!==r.tolerance?r.tolerance:.375)*a,extent:e.EXTENT,maxZoom:this.maxzoom,lineMetrics:r.lineMetrics||!1,generateId:r.generateId||!1},superclusterOptions:{maxZoom:void 0!==r.clusterMaxZoom?Math.min(r.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,minPoints:Math.max(2,r.clusterMinPoints||2),extent:e.EXTENT,radius:(r.clusterRadius||50)*a,log:!1,generateId:r.generateId||!1},clusterProperties:r.clusterProperties,filter:r.filter},r.workerOptions)}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.load=function(){var t=this;this.fire(new e.Event("dataloading",{dataType:"source"})),this._updateWorkerData((function(n){if(n)t.fire(new e.ErrorEvent(n));else{var r={dataType:"source",sourceDataType:"metadata"};t._collectResourceTiming&&t._resourceTiming&&t._resourceTiming.length>0&&(r.resourceTiming=t._resourceTiming,t._resourceTiming=[]),t.fire(new e.Event("data",r))}}))},n.prototype.onAdd=function(e){this.map=e,this.load()},n.prototype.setData=function(t){var n=this;return this._data=t,this.fire(new e.Event("dataloading",{dataType:"source"})),this._updateWorkerData((function(t){if(t)n.fire(new e.ErrorEvent(t));else{var r={dataType:"source",sourceDataType:"content"};n._collectResourceTiming&&n._resourceTiming&&n._resourceTiming.length>0&&(r.resourceTiming=n._resourceTiming,n._resourceTiming=[]),n.fire(new e.Event("data",r))}})),this},n.prototype.getClusterExpansionZoom=function(e,t){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:e,source:this.id},t),this},n.prototype.getClusterChildren=function(e,t){return this.actor.send("geojson.getClusterChildren",{clusterId:e,source:this.id},t),this},n.prototype.getClusterLeaves=function(e,t,n,r){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:e,limit:t,offset:n},r),this},n.prototype._updateWorkerData=function(t){var n=this;this._loaded=!1;var r=e.extend({},this.workerOptions),i=this._data;"string"==typeof i?(r.request=this.map._requestManager.transformRequest(e.browser.resolveURL(i),e.ResourceType.Source),r.request.collectResourceTiming=this._collectResourceTiming):r.data=JSON.stringify(i),this.actor.send(this.type+".loadData",r,(function(e,i){n._removed||i&&i.abandoned||(n._loaded=!0,i&&i.resourceTiming&&i.resourceTiming[n.id]&&(n._resourceTiming=i.resourceTiming[n.id].slice(0)),n.actor.send(n.type+".coalesce",{source:r.source},null),t(e))}))},n.prototype.loaded=function(){return this._loaded},n.prototype.loadTile=function(t,n){var r=this,i=t.actor?"reloadTile":"loadTile";t.actor=this.actor,t.request=this.actor.send(i,{type:this.type,uid:t.uid,tileID:t.tileID,zoom:t.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:e.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},(function(e,o){return delete t.request,t.unloadVectorData(),t.aborted?n(null):e?n(e):(t.loadVectorData(o,r.map.painter,"reloadTile"===i),n(null))}))},n.prototype.abortTile=function(e){e.request&&(e.request.cancel(),delete e.request),e.aborted=!0},n.prototype.unloadTile=function(e){e.unloadVectorData(),this.actor.send("removeTile",{uid:e.uid,type:this.type,source:this.id})},n.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},n.prototype.serialize=function(){return e.extend({},this._options,{type:this.type,data:this._data})},n.prototype.hasTransition=function(){return!1},n}(e.Evented),O=e.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),D=function(t){function n(e,n,r,i){t.call(this),this.id=e,this.dispatcher=r,this.coordinates=n.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(i),this.options=n}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.load=function(t,n){var r=this;this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this.url=this.options.url,e.getImage(this.map._requestManager.transformRequest(this.url,e.ResourceType.Image),(function(i,o){r._loaded=!0,i?r.fire(new e.ErrorEvent(i)):o&&(r.image=o,t&&(r.coordinates=t),n&&n(),r._finishLoading())}))},n.prototype.loaded=function(){return this._loaded},n.prototype.updateImage=function(e){var t=this;return this.image&&e.url?(this.options.url=e.url,this.load(e.coordinates,(function(){t.texture=null})),this):this},n.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})))},n.prototype.onAdd=function(e){this.map=e,this.load()},n.prototype.setCoordinates=function(t){var n=this;this.coordinates=t;var r=t.map(e.MercatorCoordinate.fromLngLat);this.tileID=function(t){for(var n=1/0,r=1/0,i=-1/0,o=-1/0,a=0,s=t;a<s.length;a+=1){var l=s[a];n=Math.min(n,l.x),r=Math.min(r,l.y),i=Math.max(i,l.x),o=Math.max(o,l.y)}var u=Math.max(i-n,o-r),c=Math.max(0,Math.floor(-Math.log(u)/Math.LN2)),p=Math.pow(2,c);return new e.CanonicalTileID(c,Math.floor((n+i)/2*p),Math.floor((r+o)/2*p))}(r),this.minzoom=this.maxzoom=this.tileID.z;var i=r.map((function(e){return n.tileID.getTilePoint(e)._round()}));return this._boundsArray=new e.StructArrayLayout4i8,this._boundsArray.emplaceBack(i[0].x,i[0].y,0,0),this._boundsArray.emplaceBack(i[1].x,i[1].y,e.EXTENT,0),this._boundsArray.emplaceBack(i[3].x,i[3].y,0,e.EXTENT),this._boundsArray.emplaceBack(i[2].x,i[2].y,e.EXTENT,e.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})),this},n.prototype.prepare=function(){if(0!==Object.keys(this.tiles).length&&this.image){var t=this.map.painter.context,n=t.gl;for(var r in this.boundsBuffer||(this.boundsBuffer=t.createVertexBuffer(this._boundsArray,O.members)),this.boundsSegments||(this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new e.Texture(t,this.image,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE)),this.tiles){var i=this.tiles[r];"loaded"!==i.state&&(i.state="loaded",i.texture=this.texture)}}},n.prototype.loadTile=function(e,t){this.tileID&&this.tileID.equals(e.tileID.canonical)?(this.tiles[String(e.tileID.wrap)]=e,e.buckets={},t(null)):(e.state="errored",t(null))},n.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},n.prototype.hasTransition=function(){return!1},n}(e.Evented),M=function(t){function n(e,n,r,i){t.call(this,e,n,r,i),this.roundZoom=!0,this.type="video",this.options=n}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.load=function(){var t=this;this._loaded=!1;var n=this.options;this.urls=[];for(var r=0,i=n.urls;r<i.length;r+=1)this.urls.push(this.map._requestManager.transformRequest(i[r],e.ResourceType.Source).url);e.getVideo(this.urls,(function(n,r){t._loaded=!0,n?t.fire(new e.ErrorEvent(n)):r&&(t.video=r,t.video.loop=!0,t.video.setAttribute("playsinline",""),t.video.addEventListener("playing",(function(){t.map.triggerRepaint()})),t.map&&t.video.play(),t._finishLoading())}))},n.prototype.pause=function(){this.video&&this.video.pause()},n.prototype.play=function(){this.video&&this.video.play()},n.prototype.seek=function(t){if(this.video){var n=this.video.seekable;t<n.start(0)||t>n.end(0)?this.fire(new e.ErrorEvent(new e.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+n.start(0)+" and "+n.end(0)+"-second mark."))):this.video.currentTime=t}},n.prototype.getVideo=function(){return this.video},n.prototype.onAdd=function(e){this.map||(this.map=e,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},n.prototype.prepare=function(){if(!(0===Object.keys(this.tiles).length||this.video.readyState<2)){var t=this.map.painter.context,n=t.gl;for(var r in this.boundsBuffer||(this.boundsBuffer=t.createVertexBuffer(this._boundsArray,O.members)),this.boundsSegments||(this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE),n.texSubImage2D(n.TEXTURE_2D,0,0,0,n.RGBA,n.UNSIGNED_BYTE,this.video)):(this.texture=new e.Texture(t,this.video,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE)),this.tiles){var i=this.tiles[r];"loaded"!==i.state&&(i.state="loaded",i.texture=this.texture)}}},n.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},n.prototype.hasTransition=function(){return this.video&&!this.video.paused},n}(D),j=function(t){function n(n,r,i,o){t.call(this,n,r,i,o),r.coordinates?Array.isArray(r.coordinates)&&4===r.coordinates.length&&!r.coordinates.some((function(e){return!Array.isArray(e)||2!==e.length||e.some((function(e){return"number"!=typeof e}))}))||this.fire(new e.ErrorEvent(new e.ValidationError("sources."+n,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new e.ErrorEvent(new e.ValidationError("sources."+n,null,'missing required property "coordinates"'))),r.animate&&"boolean"!=typeof r.animate&&this.fire(new e.ErrorEvent(new e.ValidationError("sources."+n,null,'optional "animate" property must be a boolean value'))),r.canvas?"string"==typeof r.canvas||r.canvas instanceof e.window.HTMLCanvasElement||this.fire(new e.ErrorEvent(new e.ValidationError("sources."+n,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new e.ErrorEvent(new e.ValidationError("sources."+n,null,'missing required property "canvas"'))),this.options=r,this.animate=void 0===r.animate||r.animate}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.load=function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof e.window.HTMLCanvasElement?this.options.canvas:e.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new e.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},n.prototype.getCanvas=function(){return this.canvas},n.prototype.onAdd=function(e){this.map=e,this.load(),this.canvas&&this.animate&&this.play()},n.prototype.onRemove=function(){this.pause()},n.prototype.prepare=function(){var t=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,t=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,t=!0),!this._hasInvalidDimensions()&&0!==Object.keys(this.tiles).length){var n=this.map.painter.context,r=n.gl;for(var i in this.boundsBuffer||(this.boundsBuffer=n.createVertexBuffer(this._boundsArray,O.members)),this.boundsSegments||(this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(t||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new e.Texture(n,this.canvas,r.RGBA,{premultiply:!0}),this.tiles){var o=this.tiles[i];"loaded"!==o.state&&(o.state="loaded",o.texture=this.texture)}}},n.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},n.prototype.hasTransition=function(){return this._playing},n.prototype._hasInvalidDimensions=function(){for(var e=0,t=[this.canvas.width,this.canvas.height];e<t.length;e+=1){var n=t[e];if(isNaN(n)||n<=0)return!0}return!1},n}(D),R={vector:C,raster:k,"raster-dem":A,geojson:I,video:M,image:D,canvas:j};function L(t,n){var r=e.identity([]);return e.translate(r,r,[1,1,0]),e.scale(r,r,[.5*t.width,.5*t.height,1]),e.multiply(r,r,t.calculatePosMatrix(n.toUnwrapped()))}function z(e,t,n,r,i,o){var a=function(e,t,n){if(e)for(var r=0,i=e;r<i.length;r+=1){var o=t[i[r]];if(o&&o.source===n&&"fill-extrusion"===o.type)return!0}else for(var a in t){var s=t[a];if(s.source===n&&"fill-extrusion"===s.type)return!0}return!1}(i&&i.layers,t,e.id),s=o.maxPitchScaleFactor(),l=e.tilesIn(r,s,a);l.sort(N);for(var u=[],c=0,p=l;c<p.length;c+=1){var h=p[c];u.push({wrappedTileID:h.tileID.wrapped().key,queryResults:h.tile.queryRenderedFeatures(t,n,e._state,h.queryGeometry,h.cameraQueryGeometry,h.scale,i,o,s,L(e.transform,h.tileID))})}var d=function(e){for(var t={},n={},r=0,i=e;r<i.length;r+=1){var o=i[r],a=o.queryResults,s=o.wrappedTileID,l=n[s]=n[s]||{};for(var u in a)for(var c=a[u],p=l[u]=l[u]||{},h=t[u]=t[u]||[],d=0,f=c;d<f.length;d+=1){var m=f[d];p[m.featureIndex]||(p[m.featureIndex]=!0,h.push(m))}}return t}(u);for(var f in d)d[f].forEach((function(t){var n=t.feature,r=e.getFeatureState(n.layer["source-layer"],n.id);n.source=n.layer.source,n.layer["source-layer"]&&(n.sourceLayer=n.layer["source-layer"]),n.state=r}));return d}function N(e,t){var n=e.tileID,r=t.tileID;return n.overscaledZ-r.overscaledZ||n.canonical.y-r.canonical.y||n.wrap-r.wrap||n.canonical.x-r.canonical.x}var B=function(e,t){this.max=e,this.onRemove=t,this.reset()};B.prototype.reset=function(){for(var e in this.data)for(var t=0,n=this.data[e];t<n.length;t+=1){var r=n[t];r.timeout&&clearTimeout(r.timeout),this.onRemove(r.value)}return this.data={},this.order=[],this},B.prototype.add=function(e,t,n){var r=this,i=e.wrapped().key;void 0===this.data[i]&&(this.data[i]=[]);var o={value:t,timeout:void 0};if(void 0!==n&&(o.timeout=setTimeout((function(){r.remove(e,o)}),n)),this.data[i].push(o),this.order.push(i),this.order.length>this.max){var a=this._getAndRemoveByKey(this.order[0]);a&&this.onRemove(a)}return this},B.prototype.has=function(e){return e.wrapped().key in this.data},B.prototype.getAndRemove=function(e){return this.has(e)?this._getAndRemoveByKey(e.wrapped().key):null},B.prototype._getAndRemoveByKey=function(e){var t=this.data[e].shift();return t.timeout&&clearTimeout(t.timeout),0===this.data[e].length&&delete this.data[e],this.order.splice(this.order.indexOf(e),1),t.value},B.prototype.getByKey=function(e){var t=this.data[e];return t?t[0].value:null},B.prototype.get=function(e){return this.has(e)?this.data[e.wrapped().key][0].value:null},B.prototype.remove=function(e,t){if(!this.has(e))return this;var n=e.wrapped().key,r=void 0===t?0:this.data[n].indexOf(t),i=this.data[n][r];return this.data[n].splice(r,1),i.timeout&&clearTimeout(i.timeout),0===this.data[n].length&&delete this.data[n],this.onRemove(i.value),this.order.splice(this.order.indexOf(n),1),this},B.prototype.setMaxSize=function(e){for(this.max=e;this.order.length>this.max;){var t=this._getAndRemoveByKey(this.order[0]);t&&this.onRemove(t)}return this},B.prototype.filter=function(e){var t=[];for(var n in this.data)for(var r=0,i=this.data[n];r<i.length;r+=1){var o=i[r];e(o.value)||t.push(o)}for(var a=0,s=t;a<s.length;a+=1){var l=s[a];this.remove(l.value.tileID,l)}};var F=function(e,t,n){this.context=e;var r=e.gl;this.buffer=r.createBuffer(),this.dynamicDraw=Boolean(n),this.context.unbindVAO(),e.bindElementBuffer.set(this.buffer),r.bufferData(r.ELEMENT_ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?r.DYNAMIC_DRAW:r.STATIC_DRAW),this.dynamicDraw||delete t.arrayBuffer};F.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},F.prototype.updateData=function(e){var t=this.context.gl;this.context.unbindVAO(),this.bind(),t.bufferSubData(t.ELEMENT_ARRAY_BUFFER,0,e.arrayBuffer)},F.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var U={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},V=function(e,t,n,r){this.length=t.length,this.attributes=n,this.itemSize=t.bytesPerElement,this.dynamicDraw=r,this.context=e;var i=e.gl;this.buffer=i.createBuffer(),e.bindVertexBuffer.set(this.buffer),i.bufferData(i.ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?i.DYNAMIC_DRAW:i.STATIC_DRAW),this.dynamicDraw||delete t.arrayBuffer};V.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},V.prototype.updateData=function(e){var t=this.context.gl;this.bind(),t.bufferSubData(t.ARRAY_BUFFER,0,e.arrayBuffer)},V.prototype.enableAttributes=function(e,t){for(var n=0;n<this.attributes.length;n++){var r=t.attributes[this.attributes[n].name];void 0!==r&&e.enableVertexAttribArray(r)}},V.prototype.setVertexAttribPointers=function(e,t,n){for(var r=0;r<this.attributes.length;r++){var i=this.attributes[r],o=t.attributes[i.name];void 0!==o&&e.vertexAttribPointer(o,i.components,e[U[i.type]],!1,this.itemSize,i.offset+this.itemSize*(n||0))}},V.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var q=function(e){this.gl=e.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};q.prototype.get=function(){return this.current},q.prototype.set=function(e){},q.prototype.getDefault=function(){return this.default},q.prototype.setDefault=function(){this.set(this.default)};var W=function(t){function n(){t.apply(this,arguments)}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.getDefault=function(){return e.Color.transparent},n.prototype.set=function(e){var t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.clearColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)},n}(q),H=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return 1},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.clearDepth(e),this.current=e,this.dirty=!1)},t}(q),G=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return 0},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.clearStencil(e),this.current=e,this.dirty=!1)},t}(q),Z=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return[!0,!0,!0,!0]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.colorMask(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)},t}(q),K=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return!0},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.depthMask(e),this.current=e,this.dirty=!1)},t}(q),X=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return 255},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.stencilMask(e),this.current=e,this.dirty=!1)},t}(q),Y=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},t.prototype.set=function(e){var t=this.current;(e.func!==t.func||e.ref!==t.ref||e.mask!==t.mask||this.dirty)&&(this.gl.stencilFunc(e.func,e.ref,e.mask),this.current=e,this.dirty=!1)},t}(q),$=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){var e=this.gl;return[e.KEEP,e.KEEP,e.KEEP]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||this.dirty)&&(this.gl.stencilOp(e[0],e[1],e[2]),this.current=e,this.dirty=!1)},t}(q),J=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.STENCIL_TEST):t.disable(t.STENCIL_TEST),this.current=e,this.dirty=!1}},t}(q),Q=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return[0,1]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.depthRange(e[0],e[1]),this.current=e,this.dirty=!1)},t}(q),ee=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.DEPTH_TEST):t.disable(t.DEPTH_TEST),this.current=e,this.dirty=!1}},t}(q),te=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return this.gl.LESS},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.depthFunc(e),this.current=e,this.dirty=!1)},t}(q),ne=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.BLEND):t.disable(t.BLEND),this.current=e,this.dirty=!1}},t}(q),re=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){var e=this.gl;return[e.ONE,e.ZERO]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.blendFunc(e[0],e[1]),this.current=e,this.dirty=!1)},t}(q),ie=function(t){function n(){t.apply(this,arguments)}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.getDefault=function(){return e.Color.transparent},n.prototype.set=function(e){var t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.blendColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)},n}(q),oe=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return this.gl.FUNC_ADD},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.blendEquation(e),this.current=e,this.dirty=!1)},t}(q),ae=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.CULL_FACE):t.disable(t.CULL_FACE),this.current=e,this.dirty=!1}},t}(q),se=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return this.gl.BACK},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.cullFace(e),this.current=e,this.dirty=!1)},t}(q),le=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return this.gl.CCW},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.frontFace(e),this.current=e,this.dirty=!1)},t}(q),ue=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.useProgram(e),this.current=e,this.dirty=!1)},t}(q),ce=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return this.gl.TEXTURE0},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.activeTexture(e),this.current=e,this.dirty=!1)},t}(q),pe=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){var e=this.gl;return[0,0,e.drawingBufferWidth,e.drawingBufferHeight]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.viewport(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)},t}(q),he=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,e),this.current=e,this.dirty=!1}},t}(q),de=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindRenderbuffer(t.RENDERBUFFER,e),this.current=e,this.dirty=!1}},t}(q),fe=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindTexture(t.TEXTURE_2D,e),this.current=e,this.dirty=!1}},t}(q),me=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindBuffer(t.ARRAY_BUFFER,e),this.current=e,this.dirty=!1}},t}(q),ye=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){var t=this.gl;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e),this.current=e,this.dirty=!1},t}(q),ve=function(e){function t(t){e.call(this,t),this.vao=t.extVertexArrayObject}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){this.vao&&(e!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(e),this.current=e,this.dirty=!1)},t}(q),ge=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return 4},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.pixelStorei(t.UNPACK_ALIGNMENT,e),this.current=e,this.dirty=!1}},t}(q),_e=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e),this.current=e,this.dirty=!1}},t}(q),xe=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e),this.current=e,this.dirty=!1}},t}(q),be=function(e){function t(t,n){e.call(this,t),this.context=t,this.parent=n}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t}(q),we=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.setDirty=function(){this.dirty=!0},t.prototype.set=function(e){if(e!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var t=this.gl;t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0),this.current=e,this.dirty=!1}},t}(be),Se=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){if(e!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var t=this.gl;t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,e),this.current=e,this.dirty=!1}},t}(be),Ee=function(e,t,n,r){this.context=e,this.width=t,this.height=n;var i=this.framebuffer=e.gl.createFramebuffer();this.colorAttachment=new we(e,i),r&&(this.depthAttachment=new Se(e,i))};Ee.prototype.destroy=function(){var e=this.context.gl,t=this.colorAttachment.get();if(t&&e.deleteTexture(t),this.depthAttachment){var n=this.depthAttachment.get();n&&e.deleteRenderbuffer(n)}e.deleteFramebuffer(this.framebuffer)};var Te=function(e,t,n){this.func=e,this.mask=t,this.range=n};Te.ReadOnly=!1,Te.ReadWrite=!0,Te.disabled=new Te(519,Te.ReadOnly,[0,1]);var Pe=function(e,t,n,r,i,o){this.test=e,this.ref=t,this.mask=n,this.fail=r,this.depthFail=i,this.pass=o};Pe.disabled=new Pe({func:519,mask:0},0,0,7680,7680,7680);var Ce=function(e,t,n){this.blendFunction=e,this.blendColor=t,this.mask=n};Ce.disabled=new Ce(Ce.Replace=[1,0],e.Color.transparent,[!1,!1,!1,!1]),Ce.unblended=new Ce(Ce.Replace,e.Color.transparent,[!0,!0,!0,!0]),Ce.alphaBlended=new Ce([1,771],e.Color.transparent,[!0,!0,!0,!0]);var ke=function(e,t,n){this.enable=e,this.mode=t,this.frontFace=n};ke.disabled=new ke(!1,1029,2305),ke.backCCW=new ke(!0,1029,2305);var Ae=function(e){this.gl=e,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new W(this),this.clearDepth=new H(this),this.clearStencil=new G(this),this.colorMask=new Z(this),this.depthMask=new K(this),this.stencilMask=new X(this),this.stencilFunc=new Y(this),this.stencilOp=new $(this),this.stencilTest=new J(this),this.depthRange=new Q(this),this.depthTest=new ee(this),this.depthFunc=new te(this),this.blend=new ne(this),this.blendFunc=new re(this),this.blendColor=new ie(this),this.blendEquation=new oe(this),this.cullFace=new ae(this),this.cullFaceSide=new se(this),this.frontFace=new le(this),this.program=new ue(this),this.activeTexture=new ce(this),this.viewport=new pe(this),this.bindFramebuffer=new he(this),this.bindRenderbuffer=new de(this),this.bindTexture=new fe(this),this.bindVertexBuffer=new me(this),this.bindElementBuffer=new ye(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new ve(this),this.pixelStoreUnpack=new ge(this),this.pixelStoreUnpackPremultiplyAlpha=new _e(this),this.pixelStoreUnpackFlipY=new xe(this),this.extTextureFilterAnisotropic=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=e.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=e.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(e.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=e.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=e.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE)};Ae.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},Ae.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},Ae.prototype.createIndexBuffer=function(e,t){return new F(this,e,t)},Ae.prototype.createVertexBuffer=function(e,t,n){return new V(this,e,t,n)},Ae.prototype.createRenderbuffer=function(e,t,n){var r=this.gl,i=r.createRenderbuffer();return this.bindRenderbuffer.set(i),r.renderbufferStorage(r.RENDERBUFFER,e,t,n),this.bindRenderbuffer.set(null),i},Ae.prototype.createFramebuffer=function(e,t,n){return new Ee(this,e,t,n)},Ae.prototype.clear=function(e){var t=e.color,n=e.depth,r=this.gl,i=0;t&&(i|=r.COLOR_BUFFER_BIT,this.clearColor.set(t),this.colorMask.set([!0,!0,!0,!0])),void 0!==n&&(i|=r.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(n),this.depthMask.set(!0)),r.clear(i)},Ae.prototype.setCullFace=function(e){!1===e.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(e.mode),this.frontFace.set(e.frontFace))},Ae.prototype.setDepthMode=function(e){e.func!==this.gl.ALWAYS||e.mask?(this.depthTest.set(!0),this.depthFunc.set(e.func),this.depthMask.set(e.mask),this.depthRange.set(e.range)):this.depthTest.set(!1)},Ae.prototype.setStencilMode=function(e){e.test.func!==this.gl.ALWAYS||e.mask?(this.stencilTest.set(!0),this.stencilMask.set(e.mask),this.stencilOp.set([e.fail,e.depthFail,e.pass]),this.stencilFunc.set({func:e.test.func,ref:e.ref,mask:e.test.mask})):this.stencilTest.set(!1)},Ae.prototype.setColorMode=function(t){e.deepEqual(t.blendFunction,Ce.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(t.blendFunction),this.blendColor.set(t.blendColor)),this.colorMask.set(t.mask)},Ae.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var Ie=function(t){function n(n,r,i){var o=this;t.call(this),this.id=n,this.dispatcher=i,this.on("data",(function(e){"source"===e.dataType&&"metadata"===e.sourceDataType&&(o._sourceLoaded=!0),o._sourceLoaded&&!o._paused&&"source"===e.dataType&&"content"===e.sourceDataType&&(o.reload(),o.transform&&o.update(o.transform))})),this.on("error",(function(){o._sourceErrored=!0})),this._source=function(t,n,r,i){var o=new R[n.type](t,n,r,i);if(o.id!==t)throw new Error("Expected Source id to be "+t+" instead of "+o.id);return e.bindAll(["load","abort","unload","serialize","prepare"],o),o}(n,r,i,this),this._tiles={},this._cache=new B(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new e.SourceFeatureState}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.onAdd=function(e){this.map=e,this._maxTileCacheSize=e?e._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(e)},n.prototype.onRemove=function(e){this._source&&this._source.onRemove&&this._source.onRemove(e)},n.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;if(!this._source.loaded())return!1;for(var e in this._tiles){var t=this._tiles[e];if("loaded"!==t.state&&"errored"!==t.state)return!1}return!0},n.prototype.getSource=function(){return this._source},n.prototype.pause=function(){this._paused=!0},n.prototype.resume=function(){if(this._paused){var e=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,e&&this.reload(),this.transform&&this.update(this.transform)}},n.prototype._loadTile=function(e,t){return this._source.loadTile(e,t)},n.prototype._unloadTile=function(e){if(this._source.unloadTile)return this._source.unloadTile(e,(function(){}))},n.prototype._abortTile=function(e){if(this._source.abortTile)return this._source.abortTile(e,(function(){}))},n.prototype.serialize=function(){return this._source.serialize()},n.prototype.prepare=function(e){for(var t in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var n=this._tiles[t];n.upload(e),n.prepare(this.map.style.imageManager)}},n.prototype.getIds=function(){return e.values(this._tiles).map((function(e){return e.tileID})).sort(Oe).map((function(e){return e.key}))},n.prototype.getRenderableIds=function(t){var n=this,r=[];for(var i in this._tiles)this._isIdRenderable(i,t)&&r.push(this._tiles[i]);return t?r.sort((function(t,r){var i=t.tileID,o=r.tileID,a=new e.Point(i.canonical.x,i.canonical.y)._rotate(n.transform.angle),s=new e.Point(o.canonical.x,o.canonical.y)._rotate(n.transform.angle);return i.overscaledZ-o.overscaledZ||s.y-a.y||s.x-a.x})).map((function(e){return e.tileID.key})):r.map((function(e){return e.tileID})).sort(Oe).map((function(e){return e.key}))},n.prototype.hasRenderableParent=function(e){var t=this.findLoadedParent(e,0);return!!t&&this._isIdRenderable(t.tileID.key)},n.prototype._isIdRenderable=function(e,t){return this._tiles[e]&&this._tiles[e].hasData()&&!this._coveredTiles[e]&&(t||!this._tiles[e].holdingForFade())},n.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var e in this._cache.reset(),this._tiles)"errored"!==this._tiles[e].state&&this._reloadTile(e,"reloading")},n.prototype._reloadTile=function(e,t){var n=this._tiles[e];n&&("loading"!==n.state&&(n.state=t),this._loadTile(n,this._tileLoaded.bind(this,n,e,t)))},n.prototype._tileLoaded=function(t,n,r,i){if(i)return t.state="errored",void(404!==i.status?this._source.fire(new e.ErrorEvent(i,{tile:t})):this.update(this.transform));t.timeAdded=e.browser.now(),"expired"===r&&(t.refreshedUponExpiration=!0),this._setTileReloadTimer(n,t),"raster-dem"===this.getSource().type&&t.dem&&this._backfillDEM(t),this._state.initializeTileState(t,this.map?this.map.painter:null),this._source.fire(new e.Event("data",{dataType:"source",tile:t,coord:t.tileID}))},n.prototype._backfillDEM=function(e){for(var t=this.getRenderableIds(),n=0;n<t.length;n++){var r=t[n];if(e.neighboringTiles&&e.neighboringTiles[r]){var i=this.getTileByID(r);o(e,i),o(i,e)}}function o(e,t){e.needsHillshadePrepare=!0;var n=t.tileID.canonical.x-e.tileID.canonical.x,r=t.tileID.canonical.y-e.tileID.canonical.y,i=Math.pow(2,e.tileID.canonical.z),o=t.tileID.key;0===n&&0===r||Math.abs(r)>1||(Math.abs(n)>1&&(1===Math.abs(n+i)?n+=i:1===Math.abs(n-i)&&(n-=i)),t.dem&&e.dem&&(e.dem.backfillBorder(t.dem,n,r),e.neighboringTiles&&e.neighboringTiles[o]&&(e.neighboringTiles[o].backfilled=!0)))}},n.prototype.getTile=function(e){return this.getTileByID(e.key)},n.prototype.getTileByID=function(e){return this._tiles[e]},n.prototype._retainLoadedChildren=function(e,t,n,r){for(var i in this._tiles){var o=this._tiles[i];if(!(r[i]||!o.hasData()||o.tileID.overscaledZ<=t||o.tileID.overscaledZ>n)){for(var a=o.tileID;o&&o.tileID.overscaledZ>t+1;){var s=o.tileID.scaledTo(o.tileID.overscaledZ-1);(o=this._tiles[s.key])&&o.hasData()&&(a=s)}for(var l=a;l.overscaledZ>t;)if(e[(l=l.scaledTo(l.overscaledZ-1)).key]){r[a.key]=a;break}}}},n.prototype.findLoadedParent=function(e,t){if(e.key in this._loadedParentTiles){var n=this._loadedParentTiles[e.key];return n&&n.tileID.overscaledZ>=t?n:null}for(var r=e.overscaledZ-1;r>=t;r--){var i=e.scaledTo(r),o=this._getLoadedTile(i);if(o)return o}},n.prototype._getLoadedTile=function(e){var t=this._tiles[e.key];return t&&t.hasData()?t:this._cache.getByKey(e.wrapped().key)},n.prototype.updateCacheSize=function(e){var t=Math.ceil(e.width/this._source.tileSize)+1,n=Math.ceil(e.height/this._source.tileSize)+1,r=Math.floor(t*n*5),i="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,r):r;this._cache.setMaxSize(i)},n.prototype.handleWrapJump=function(e){var t=Math.round((e-(void 0===this._prevLng?e:this._prevLng))/360);if(this._prevLng=e,t){var n={};for(var r in this._tiles){var i=this._tiles[r];i.tileID=i.tileID.unwrapTo(i.tileID.wrap+t),n[i.tileID.key]=i}for(var o in this._tiles=n,this._timers)clearTimeout(this._timers[o]),delete this._timers[o];for(var a in this._tiles)this._setTileReloadTimer(a,this._tiles[a])}},n.prototype.update=function(t){var r=this;if(this.transform=t,this._sourceLoaded&&!this._paused){var i;this.updateCacheSize(t),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?i=t.getVisibleUnwrappedCoordinates(this._source.tileID).map((function(t){return new e.OverscaledTileID(t.canonical.z,t.wrap,t.canonical.z,t.canonical.x,t.canonical.y)})):(i=t.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(i=i.filter((function(e){return r._source.hasTile(e)})))):i=[];var o=t.coveringZoomLevel(this._source),a=Math.max(o-n.maxOverzooming,this._source.minzoom),s=Math.max(o+n.maxUnderzooming,this._source.minzoom),l=this._updateRetainedTiles(i,o);if(De(this._source.type)){for(var u={},c={},p=0,h=Object.keys(l);p<h.length;p+=1){var d=h[p],f=l[d],m=this._tiles[d];if(m&&!(m.fadeEndTime&&m.fadeEndTime<=e.browser.now())){var y=this.findLoadedParent(f,a);y&&(this._addTile(y.tileID),u[y.tileID.key]=y.tileID),c[d]=f}}for(var v in this._retainLoadedChildren(c,o,s,l),u)l[v]||(this._coveredTiles[v]=!0,l[v]=u[v])}for(var g in l)this._tiles[g].clearFadeHold();for(var _=0,x=e.keysDifference(this._tiles,l);_<x.length;_+=1){var b=x[_],w=this._tiles[b];w.hasSymbolBuckets&&!w.holdingForFade()?w.setHoldDuration(this.map._fadeDuration):w.hasSymbolBuckets&&!w.symbolFadeFinished()||this._removeTile(b)}this._updateLoadedParentTileCache()}},n.prototype.releaseSymbolFadeTiles=function(){for(var e in this._tiles)this._tiles[e].holdingForFade()&&this._removeTile(e)},n.prototype._updateRetainedTiles=function(e,t){for(var r={},i={},o=Math.max(t-n.maxOverzooming,this._source.minzoom),a=Math.max(t+n.maxUnderzooming,this._source.minzoom),s={},l=0,u=e;l<u.length;l+=1){var c=u[l],p=this._addTile(c);r[c.key]=c,p.hasData()||t<this._source.maxzoom&&(s[c.key]=c)}this._retainLoadedChildren(s,t,a,r);for(var h=0,d=e;h<d.length;h+=1){var f=d[h],m=this._tiles[f.key];if(!m.hasData()){if(t+1>this._source.maxzoom){var y=f.children(this._source.maxzoom)[0],v=this.getTile(y);if(v&&v.hasData()){r[y.key]=y;continue}}else{var g=f.children(this._source.maxzoom);if(r[g[0].key]&&r[g[1].key]&&r[g[2].key]&&r[g[3].key])continue}for(var _=m.wasRequested(),x=f.overscaledZ-1;x>=o;--x){var b=f.scaledTo(x);if(i[b.key])break;if(i[b.key]=!0,!(m=this.getTile(b))&&_&&(m=this._addTile(b)),m&&(r[b.key]=b,_=m.wasRequested(),m.hasData()))break}}}return r},n.prototype._updateLoadedParentTileCache=function(){for(var e in this._loadedParentTiles={},this._tiles){for(var t=[],n=void 0,r=this._tiles[e].tileID;r.overscaledZ>0;){if(r.key in this._loadedParentTiles){n=this._loadedParentTiles[r.key];break}t.push(r.key);var i=r.scaledTo(r.overscaledZ-1);if(n=this._getLoadedTile(i))break;r=i}for(var o=0,a=t;o<a.length;o+=1)this._loadedParentTiles[a[o]]=n}},n.prototype._addTile=function(t){var n=this._tiles[t.key];if(n)return n;(n=this._cache.getAndRemove(t))&&(this._setTileReloadTimer(t.key,n),n.tileID=t,this._state.initializeTileState(n,this.map?this.map.painter:null),this._cacheTimers[t.key]&&(clearTimeout(this._cacheTimers[t.key]),delete this._cacheTimers[t.key],this._setTileReloadTimer(t.key,n)));var r=Boolean(n);return r||(n=new e.Tile(t,this._source.tileSize*t.overscaleFactor()),this._loadTile(n,this._tileLoaded.bind(this,n,t.key,n.state))),n?(n.uses++,this._tiles[t.key]=n,r||this._source.fire(new e.Event("dataloading",{tile:n,coord:n.tileID,dataType:"source"})),n):null},n.prototype._setTileReloadTimer=function(e,t){var n=this;e in this._timers&&(clearTimeout(this._timers[e]),delete this._timers[e]);var r=t.getExpiryTimeout();r&&(this._timers[e]=setTimeout((function(){n._reloadTile(e,"expired"),delete n._timers[e]}),r))},n.prototype._removeTile=function(e){var t=this._tiles[e];t&&(t.uses--,delete this._tiles[e],this._timers[e]&&(clearTimeout(this._timers[e]),delete this._timers[e]),t.uses>0||(t.hasData()&&"reloading"!==t.state?this._cache.add(t.tileID,t,t.getExpiryTimeout()):(t.aborted=!0,this._abortTile(t),this._unloadTile(t))))},n.prototype.clearTiles=function(){for(var e in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(e);this._cache.reset()},n.prototype.tilesIn=function(t,n,r){var i=this,o=[],a=this.transform;if(!a)return o;for(var s=r?a.getCameraQueryGeometry(t):t,l=t.map((function(e){return a.pointCoordinate(e)})),u=s.map((function(e){return a.pointCoordinate(e)})),c=this.getIds(),p=1/0,h=1/0,d=-1/0,f=-1/0,m=0,y=u;m<y.length;m+=1){var v=y[m];p=Math.min(p,v.x),h=Math.min(h,v.y),d=Math.max(d,v.x),f=Math.max(f,v.y)}for(var g=function(t){var r=i._tiles[c[t]];if(!r.holdingForFade()){var s=r.tileID,m=Math.pow(2,a.zoom-r.tileID.overscaledZ),y=n*r.queryPadding*e.EXTENT/r.tileSize/m,v=[s.getTilePoint(new e.MercatorCoordinate(p,h)),s.getTilePoint(new e.MercatorCoordinate(d,f))];if(v[0].x-y<e.EXTENT&&v[0].y-y<e.EXTENT&&v[1].x+y>=0&&v[1].y+y>=0){var g=l.map((function(e){return s.getTilePoint(e)})),_=u.map((function(e){return s.getTilePoint(e)}));o.push({tile:r,tileID:s,queryGeometry:g,cameraQueryGeometry:_,scale:m})}}},_=0;_<c.length;_++)g(_);return o},n.prototype.getVisibleCoordinates=function(e){for(var t=this,n=this.getRenderableIds(e).map((function(e){return t._tiles[e].tileID})),r=0,i=n;r<i.length;r+=1){var o=i[r];o.posMatrix=this.transform.calculatePosMatrix(o.toUnwrapped())}return n},n.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(De(this._source.type))for(var t in this._tiles){var n=this._tiles[t];if(void 0!==n.fadeEndTime&&n.fadeEndTime>=e.browser.now())return!0}return!1},n.prototype.setFeatureState=function(e,t,n){this._state.updateState(e=e||"_geojsonTileLayer",t,n)},n.prototype.removeFeatureState=function(e,t,n){this._state.removeFeatureState(e=e||"_geojsonTileLayer",t,n)},n.prototype.getFeatureState=function(e,t){return this._state.getState(e=e||"_geojsonTileLayer",t)},n.prototype.setDependencies=function(e,t,n){var r=this._tiles[e];r&&r.setDependencies(t,n)},n.prototype.reloadTilesForDependencies=function(e,t){for(var n in this._tiles)this._tiles[n].hasDependency(e,t)&&this._reloadTile(n,"reloading");this._cache.filter((function(n){return!n.hasDependency(e,t)}))},n}(e.Evented);function Oe(e,t){var n=Math.abs(2*e.wrap)-+(e.wrap<0),r=Math.abs(2*t.wrap)-+(t.wrap<0);return e.overscaledZ-t.overscaledZ||r-n||t.canonical.y-e.canonical.y||t.canonical.x-e.canonical.x}function De(e){return"raster"===e||"image"===e||"video"===e}function Me(){return new e.window.Worker(Xi.workerUrl)}Ie.maxOverzooming=10,Ie.maxUnderzooming=3;var je="mapboxgl_preloaded_worker_pool",Re=function(){this.active={}};Re.prototype.acquire=function(e){if(!this.workers)for(this.workers=[];this.workers.length<Re.workerCount;)this.workers.push(new Me);return this.active[e]=!0,this.workers.slice()},Re.prototype.release=function(e){delete this.active[e],0===this.numActive()&&(this.workers.forEach((function(e){e.terminate()})),this.workers=null)},Re.prototype.isPreloaded=function(){return!!this.active[je]},Re.prototype.numActive=function(){return Object.keys(this.active).length};var Le,ze=Math.floor(e.browser.hardwareConcurrency/2);function Ne(){return Le||(Le=new Re),Le}function Be(t,n){var r={};for(var i in t)"ref"!==i&&(r[i]=t[i]);return e.refProperties.forEach((function(e){e in n&&(r[e]=n[e])})),r}function Fe(e){e=e.slice();for(var t=Object.create(null),n=0;n<e.length;n++)t[e[n].id]=e[n];for(var r=0;r<e.length;r++)"ref"in e[r]&&(e[r]=Be(e[r],t[e[r].ref]));return e}Re.workerCount=Math.max(Math.min(ze,6),1);var Ue={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function Ve(e,t,n){n.push({command:Ue.addSource,args:[e,t[e]]})}function qe(e,t,n){t.push({command:Ue.removeSource,args:[e]}),n[e]=!0}function We(e,t,n,r){qe(e,n,r),Ve(e,t,n)}function He(t,n,r){var i;for(i in t[r])if(t[r].hasOwnProperty(i)&&"data"!==i&&!e.deepEqual(t[r][i],n[r][i]))return!1;for(i in n[r])if(n[r].hasOwnProperty(i)&&"data"!==i&&!e.deepEqual(t[r][i],n[r][i]))return!1;return!0}function Ge(t,n,r,i,o,a){var s;for(s in n=n||{},t=t||{})t.hasOwnProperty(s)&&(e.deepEqual(t[s],n[s])||r.push({command:a,args:[i,s,n[s],o]}));for(s in n)n.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(e.deepEqual(t[s],n[s])||r.push({command:a,args:[i,s,n[s],o]}))}function Ze(e){return e.id}function Ke(e,t){return e[t.id]=t,e}var Xe=function(e,t){this.reset(e,t)};Xe.prototype.reset=function(e,t){this.points=e||[],this._distances=[0];for(var n=1;n<this.points.length;n++)this._distances[n]=this._distances[n-1]+this.points[n].dist(this.points[n-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(t||0,.5*this.length),this.paddedLength=this.length-2*this.padding},Xe.prototype.lerp=function(t){if(1===this.points.length)return this.points[0];t=e.clamp(t,0,1);for(var n=1,r=this._distances[n],i=t*this.paddedLength+this.padding;r<i&&n<this._distances.length;)r=this._distances[++n];var o=n-1,a=this._distances[o],s=r-a,l=s>0?(i-a)/s:0;return this.points[o].mult(1-l).add(this.points[n].mult(l))};var Ye=function(e,t,n){var r=this.boxCells=[],i=this.circleCells=[];this.xCellCount=Math.ceil(e/n),this.yCellCount=Math.ceil(t/n);for(var o=0;o<this.xCellCount*this.yCellCount;o++)r.push([]),i.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=e,this.height=t,this.xScale=this.xCellCount/e,this.yScale=this.yCellCount/t,this.boxUid=0,this.circleUid=0};function $e(t,n,r,i,o){var a=e.create();return n?(e.scale(a,a,[1/o,1/o,1]),r||e.rotateZ(a,a,i.angle)):e.multiply(a,i.labelPlaneMatrix,t),a}function Je(t,n,r,i,o){if(n){var a=e.clone(t);return e.scale(a,a,[o,o,1]),r||e.rotateZ(a,a,-i.angle),a}return i.glCoordMatrix}function Qe(t,n){var r=[t.x,t.y,0,1];ct(r,r,n);var i=r[3];return{point:new e.Point(r[0]/i,r[1]/i),signedDistanceFromCamera:i}}function et(e,t){return.5+e/t*.5}function tt(e,t){var n=e[0]/e[3],r=e[1]/e[3];return n>=-t[0]&&n<=t[0]&&r>=-t[1]&&r<=t[1]}function nt(t,n,r,i,o,a,s,l){var u=i?t.textSizeData:t.iconSizeData,c=e.evaluateSizeForZoom(u,r.transform.zoom),p=[256/r.width*2+1,256/r.height*2+1],h=i?t.text.dynamicLayoutVertexArray:t.icon.dynamicLayoutVertexArray;h.clear();for(var d=t.lineVertexArray,f=i?t.text.placedSymbolArray:t.icon.placedSymbolArray,m=r.transform.width/r.transform.height,y=!1,v=0;v<f.length;v++){var g=f.get(v);if(g.hidden||g.writingMode===e.WritingMode.vertical&&!y)ut(g.numGlyphs,h);else{y=!1;var _=[g.anchorX,g.anchorY,0,1];if(e.transformMat4(_,_,n),tt(_,p)){var x=et(r.transform.cameraToCenterDistance,_[3]),b=e.evaluateSizeForFeature(u,c,g),w=s?b/x:b*x,S=new e.Point(g.anchorX,g.anchorY),E=Qe(S,o).point,T={},P=ot(g,w,!1,l,n,o,a,t.glyphOffsetArray,d,h,E,S,T,m);y=P.useVertical,(P.notEnoughRoom||y||P.needsFlipping&&ot(g,w,!0,l,n,o,a,t.glyphOffsetArray,d,h,E,S,T,m).notEnoughRoom)&&ut(g.numGlyphs,h)}else ut(g.numGlyphs,h)}}i?t.text.dynamicLayoutVertexBuffer.updateData(h):t.icon.dynamicLayoutVertexBuffer.updateData(h)}function rt(e,t,n,r,i,o,a,s,l,u,c){var p=s.glyphStartIndex+s.numGlyphs,h=s.lineStartIndex,d=s.lineStartIndex+s.lineLength,f=t.getoffsetX(s.glyphStartIndex),m=t.getoffsetX(p-1),y=st(e*f,n,r,i,o,a,s.segment,h,d,l,u,c);if(!y)return null;var v=st(e*m,n,r,i,o,a,s.segment,h,d,l,u,c);return v?{first:y,last:v}:null}function it(t,n,r,i){return t===e.WritingMode.horizontal&&Math.abs(r.y-n.y)>Math.abs(r.x-n.x)*i?{useVertical:!0}:(t===e.WritingMode.vertical?n.y<r.y:n.x>r.x)?{needsFlipping:!0}:null}function ot(t,n,r,i,o,a,s,l,u,c,p,h,d,f){var m,y=n/24,v=t.lineOffsetX*y,g=t.lineOffsetY*y;if(t.numGlyphs>1){var _=t.glyphStartIndex+t.numGlyphs,x=t.lineStartIndex,b=t.lineStartIndex+t.lineLength,w=rt(y,l,v,g,r,p,h,t,u,a,d);if(!w)return{notEnoughRoom:!0};var S=Qe(w.first.point,s).point,E=Qe(w.last.point,s).point;if(i&&!r){var T=it(t.writingMode,S,E,f);if(T)return T}m=[w.first];for(var P=t.glyphStartIndex+1;P<_-1;P++)m.push(st(y*l.getoffsetX(P),v,g,r,p,h,t.segment,x,b,u,a,d));m.push(w.last)}else{if(i&&!r){var C=Qe(h,o).point,k=t.lineStartIndex+t.segment+1,A=new e.Point(u.getx(k),u.gety(k)),I=Qe(A,o),O=I.signedDistanceFromCamera>0?I.point:at(h,A,C,1,o),D=it(t.writingMode,C,O,f);if(D)return D}var M=st(y*l.getoffsetX(t.glyphStartIndex),v,g,r,p,h,t.segment,t.lineStartIndex,t.lineStartIndex+t.lineLength,u,a,d);if(!M)return{notEnoughRoom:!0};m=[M]}for(var j=0,R=m;j<R.length;j+=1){var L=R[j];e.addDynamicAttributes(c,L.point,L.angle)}return{}}function at(e,t,n,r,i){var o=Qe(e.add(e.sub(t)._unit()),i).point,a=n.sub(o);return n.add(a._mult(r/a.mag()))}function st(t,n,r,i,o,a,s,l,u,c,p,h){var d=i?t-n:t+n,f=d>0?1:-1,m=0;i&&(f*=-1,m=Math.PI),f<0&&(m+=Math.PI);for(var y=f>0?l+s:l+s+1,v=o,g=o,_=0,x=0,b=Math.abs(d),w=[];_+x<=b;){if((y+=f)<l||y>=u)return null;if(g=v,w.push(v),void 0===(v=h[y])){var S=new e.Point(c.getx(y),c.gety(y)),E=Qe(S,p);if(E.signedDistanceFromCamera>0)v=h[y]=E.point;else{var T=y-f;v=at(0===_?a:new e.Point(c.getx(T),c.gety(T)),S,g,b-_+1,p)}}_+=x,x=g.dist(v)}var P=(b-_)/x,C=v.sub(g),k=C.mult(P)._add(g);k._add(C._unit()._perp()._mult(r*f));var A=m+Math.atan2(v.y-g.y,v.x-g.x);return w.push(k),{point:k,angle:A,path:w}}Ye.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},Ye.prototype.insert=function(e,t,n,r,i){this._forEachCell(t,n,r,i,this._insertBoxCell,this.boxUid++),this.boxKeys.push(e),this.bboxes.push(t),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(i)},Ye.prototype.insertCircle=function(e,t,n,r){this._forEachCell(t-r,n-r,t+r,n+r,this._insertCircleCell,this.circleUid++),this.circleKeys.push(e),this.circles.push(t),this.circles.push(n),this.circles.push(r)},Ye.prototype._insertBoxCell=function(e,t,n,r,i,o){this.boxCells[i].push(o)},Ye.prototype._insertCircleCell=function(e,t,n,r,i,o){this.circleCells[i].push(o)},Ye.prototype._query=function(e,t,n,r,i,o){if(n<0||e>this.width||r<0||t>this.height)return!i&&[];var a=[];if(e<=0&&t<=0&&this.width<=n&&this.height<=r){if(i)return!0;for(var s=0;s<this.boxKeys.length;s++)a.push({key:this.boxKeys[s],x1:this.bboxes[4*s],y1:this.bboxes[4*s+1],x2:this.bboxes[4*s+2],y2:this.bboxes[4*s+3]});for(var l=0;l<this.circleKeys.length;l++){var u=this.circles[3*l],c=this.circles[3*l+1],p=this.circles[3*l+2];a.push({key:this.circleKeys[l],x1:u-p,y1:c-p,x2:u+p,y2:c+p})}return o?a.filter(o):a}return this._forEachCell(e,t,n,r,this._queryCell,a,{hitTest:i,seenUids:{box:{},circle:{}}},o),i?a.length>0:a},Ye.prototype._queryCircle=function(e,t,n,r,i){var o=e-n,a=e+n,s=t-n,l=t+n;if(a<0||o>this.width||l<0||s>this.height)return!r&&[];var u=[];return this._forEachCell(o,s,a,l,this._queryCellCircle,u,{hitTest:r,circle:{x:e,y:t,radius:n},seenUids:{box:{},circle:{}}},i),r?u.length>0:u},Ye.prototype.query=function(e,t,n,r,i){return this._query(e,t,n,r,!1,i)},Ye.prototype.hitTest=function(e,t,n,r,i){return this._query(e,t,n,r,!0,i)},Ye.prototype.hitTestCircle=function(e,t,n,r){return this._queryCircle(e,t,n,!0,r)},Ye.prototype._queryCell=function(e,t,n,r,i,o,a,s){var l=a.seenUids,u=this.boxCells[i];if(null!==u)for(var c=this.bboxes,p=0,h=u;p<h.length;p+=1){var d=h[p];if(!l.box[d]){l.box[d]=!0;var f=4*d;if(e<=c[f+2]&&t<=c[f+3]&&n>=c[f+0]&&r>=c[f+1]&&(!s||s(this.boxKeys[d]))){if(a.hitTest)return o.push(!0),!0;o.push({key:this.boxKeys[d],x1:c[f],y1:c[f+1],x2:c[f+2],y2:c[f+3]})}}}var m=this.circleCells[i];if(null!==m)for(var y=this.circles,v=0,g=m;v<g.length;v+=1){var _=g[v];if(!l.circle[_]){l.circle[_]=!0;var x=3*_;if(this._circleAndRectCollide(y[x],y[x+1],y[x+2],e,t,n,r)&&(!s||s(this.circleKeys[_]))){if(a.hitTest)return o.push(!0),!0;var b=y[x],w=y[x+1],S=y[x+2];o.push({key:this.circleKeys[_],x1:b-S,y1:w-S,x2:b+S,y2:w+S})}}}},Ye.prototype._queryCellCircle=function(e,t,n,r,i,o,a,s){var l=a.circle,u=a.seenUids,c=this.boxCells[i];if(null!==c)for(var p=this.bboxes,h=0,d=c;h<d.length;h+=1){var f=d[h];if(!u.box[f]){u.box[f]=!0;var m=4*f;if(this._circleAndRectCollide(l.x,l.y,l.radius,p[m+0],p[m+1],p[m+2],p[m+3])&&(!s||s(this.boxKeys[f])))return o.push(!0),!0}}var y=this.circleCells[i];if(null!==y)for(var v=this.circles,g=0,_=y;g<_.length;g+=1){var x=_[g];if(!u.circle[x]){u.circle[x]=!0;var b=3*x;if(this._circlesCollide(v[b],v[b+1],v[b+2],l.x,l.y,l.radius)&&(!s||s(this.circleKeys[x])))return o.push(!0),!0}}},Ye.prototype._forEachCell=function(e,t,n,r,i,o,a,s){for(var l=this._convertToXCellCoord(e),u=this._convertToYCellCoord(t),c=this._convertToXCellCoord(n),p=this._convertToYCellCoord(r),h=l;h<=c;h++)for(var d=u;d<=p;d++)if(i.call(this,e,t,n,r,this.xCellCount*d+h,o,a,s))return},Ye.prototype._convertToXCellCoord=function(e){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(e*this.xScale)))},Ye.prototype._convertToYCellCoord=function(e){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(e*this.yScale)))},Ye.prototype._circlesCollide=function(e,t,n,r,i,o){var a=r-e,s=i-t,l=n+o;return l*l>a*a+s*s},Ye.prototype._circleAndRectCollide=function(e,t,n,r,i,o,a){var s=(o-r)/2,l=Math.abs(e-(r+s));if(l>s+n)return!1;var u=(a-i)/2,c=Math.abs(t-(i+u));if(c>u+n)return!1;if(l<=s||c<=u)return!0;var p=l-s,h=c-u;return p*p+h*h<=n*n};var lt=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function ut(e,t){for(var n=0;n<e;n++){var r=t.length;t.resize(r+4),t.float32.set(lt,3*r)}}function ct(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[4]*i+n[12],e[1]=n[1]*r+n[5]*i+n[13],e[3]=n[3]*r+n[7]*i+n[15],e}var pt=function(e,t,n){void 0===t&&(t=new Ye(e.width+200,e.height+200,25)),void 0===n&&(n=new Ye(e.width+200,e.height+200,25)),this.transform=e,this.grid=t,this.ignoredGrid=n,this.pitchfactor=Math.cos(e._pitch)*e.cameraToCenterDistance,this.screenRightBoundary=e.width+100,this.screenBottomBoundary=e.height+100,this.gridRightBoundary=e.width+200,this.gridBottomBoundary=e.height+200};function ht(t,n,r){return n*(e.EXTENT/(t.tileSize*Math.pow(2,r-t.tileID.overscaledZ)))}pt.prototype.placeCollisionBox=function(e,t,n,r,i){var o=this.projectAndGetPerspectiveRatio(r,e.anchorPointX,e.anchorPointY),a=n*o.perspectiveRatio,s=e.x1*a+o.point.x,l=e.y1*a+o.point.y,u=e.x2*a+o.point.x,c=e.y2*a+o.point.y;return!this.isInsideGrid(s,l,u,c)||!t&&this.grid.hitTest(s,l,u,c,i)?{box:[],offscreen:!1}:{box:[s,l,u,c],offscreen:this.isOffscreen(s,l,u,c)}},pt.prototype.placeCollisionCircles=function(t,n,r,i,o,a,s,l,u,c,p,h,d){var f=[],m=new e.Point(n.anchorX,n.anchorY),y=Qe(m,a),v=et(this.transform.cameraToCenterDistance,y.signedDistanceFromCamera),g=(c?o/v:o*v)/e.ONE_EM,_=Qe(m,s).point,x=rt(g,i,n.lineOffsetX*g,n.lineOffsetY*g,!1,_,m,n,r,s,{}),b=!1,w=!1,S=!0;if(x){for(var E=.5*h*v+d,T=new e.Point(-100,-100),P=new e.Point(this.screenRightBoundary,this.screenBottomBoundary),C=new Xe,k=x.first,A=x.last,I=[],O=k.path.length-1;O>=1;O--)I.push(k.path[O]);for(var D=1;D<A.path.length;D++)I.push(A.path[D]);var M=2.5*E;if(l){var j=I.map((function(e){return Qe(e,l)}));I=j.some((function(e){return e.signedDistanceFromCamera<=0}))?[]:j.map((function(e){return e.point}))}var R=[];if(I.length>0){for(var L=I[0].clone(),z=I[0].clone(),N=1;N<I.length;N++)L.x=Math.min(L.x,I[N].x),L.y=Math.min(L.y,I[N].y),z.x=Math.max(z.x,I[N].x),z.y=Math.max(z.y,I[N].y);R=L.x>=T.x&&z.x<=P.x&&L.y>=T.y&&z.y<=P.y?[I]:z.x<T.x||L.x>P.x||z.y<T.y||L.y>P.y?[]:e.clipLine([I],T.x,T.y,P.x,P.y)}for(var B=0,F=R;B<F.length;B+=1){var U;C.reset(F[B],.25*E),U=C.length<=.5*E?1:Math.ceil(C.paddedLength/M)+1;for(var V=0;V<U;V++){var q=V/Math.max(U-1,1),W=C.lerp(q),H=W.x+100,G=W.y+100;f.push(H,G,E,0);var Z=H-E,K=G-E,X=H+E,Y=G+E;if(S=S&&this.isOffscreen(Z,K,X,Y),w=w||this.isInsideGrid(Z,K,X,Y),!t&&this.grid.hitTestCircle(H,G,E,p)&&(b=!0,!u))return{circles:[],offscreen:!1,collisionDetected:b}}}}return{circles:!u&&b||!w?[]:f,offscreen:S,collisionDetected:b}},pt.prototype.queryRenderedSymbols=function(t){if(0===t.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};for(var n=[],r=1/0,i=1/0,o=-1/0,a=-1/0,s=0,l=t;s<l.length;s+=1){var u=l[s],c=new e.Point(u.x+100,u.y+100);r=Math.min(r,c.x),i=Math.min(i,c.y),o=Math.max(o,c.x),a=Math.max(a,c.y),n.push(c)}for(var p={},h={},d=0,f=this.grid.query(r,i,o,a).concat(this.ignoredGrid.query(r,i,o,a));d<f.length;d+=1){var m=f[d],y=m.key;if(void 0===p[y.bucketInstanceId]&&(p[y.bucketInstanceId]={}),!p[y.bucketInstanceId][y.featureIndex]){var v=[new e.Point(m.x1,m.y1),new e.Point(m.x2,m.y1),new e.Point(m.x2,m.y2),new e.Point(m.x1,m.y2)];e.polygonIntersectsPolygon(n,v)&&(p[y.bucketInstanceId][y.featureIndex]=!0,void 0===h[y.bucketInstanceId]&&(h[y.bucketInstanceId]=[]),h[y.bucketInstanceId].push(y.featureIndex))}}return h},pt.prototype.insertCollisionBox=function(e,t,n,r,i){(t?this.ignoredGrid:this.grid).insert({bucketInstanceId:n,featureIndex:r,collisionGroupID:i},e[0],e[1],e[2],e[3])},pt.prototype.insertCollisionCircles=function(e,t,n,r,i){for(var o=t?this.ignoredGrid:this.grid,a={bucketInstanceId:n,featureIndex:r,collisionGroupID:i},s=0;s<e.length;s+=4)o.insertCircle(a,e[s],e[s+1],e[s+2])},pt.prototype.projectAndGetPerspectiveRatio=function(t,n,r){var i=[n,r,0,1];return ct(i,i,t),{point:new e.Point((i[0]/i[3]+1)/2*this.transform.width+100,(-i[1]/i[3]+1)/2*this.transform.height+100),perspectiveRatio:.5+this.transform.cameraToCenterDistance/i[3]*.5}},pt.prototype.isOffscreen=function(e,t,n,r){return n<100||e>=this.screenRightBoundary||r<100||t>this.screenBottomBoundary},pt.prototype.isInsideGrid=function(e,t,n,r){return n>=0&&e<this.gridRightBoundary&&r>=0&&t<this.gridBottomBoundary},pt.prototype.getViewportMatrix=function(){var t=e.identity([]);return e.translate(t,t,[-100,-100,0]),t};var dt=function(e,t,n,r){this.opacity=e?Math.max(0,Math.min(1,e.opacity+(e.placed?t:-t))):r&&n?1:0,this.placed=n};dt.prototype.isHidden=function(){return 0===this.opacity&&!this.placed};var ft=function(e,t,n,r,i){this.text=new dt(e?e.text:null,t,n,i),this.icon=new dt(e?e.icon:null,t,r,i)};ft.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var mt=function(e,t,n){this.text=e,this.icon=t,this.skipFade=n},yt=function(){this.invProjMatrix=e.create(),this.viewportMatrix=e.create(),this.circles=[]},vt=function(e,t,n,r,i){this.bucketInstanceId=e,this.featureIndex=t,this.sourceLayerIndex=n,this.bucketIndex=r,this.tileID=i},gt=function(e){this.crossSourceCollisions=e,this.maxGroupID=0,this.collisionGroups={}};function _t(t,n,r,i,o){var a=e.getAnchorAlignment(t),s=-(a.horizontalAlign-.5)*n,l=-(a.verticalAlign-.5)*r,u=e.evaluateVariableOffset(t,i);return new e.Point(s+u[0]*o,l+u[1]*o)}function xt(t,n,r,i,o,a){var s=t.x1,l=t.x2,u=t.y1,c=t.y2,p=t.anchorPointX,h=t.anchorPointY,d=new e.Point(n,r);return i&&d._rotate(o?a:-a),{x1:s+d.x,y1:u+d.y,x2:l+d.x,y2:c+d.y,anchorPointX:p,anchorPointY:h}}gt.prototype.get=function(e){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[e]){var t=++this.maxGroupID;this.collisionGroups[e]={ID:t,predicate:function(e){return e.collisionGroupID===t}}}return this.collisionGroups[e]};var bt=function(e,t,n,r){this.transform=e.clone(),this.collisionIndex=new pt(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=t,this.retainedQueryData={},this.collisionGroups=new gt(n),this.collisionCircleArrays={},this.prevPlacement=r,r&&(r.prevPlacement=void 0),this.placedOrientations={}};function wt(e,t,n,r,i){e.emplaceBack(t?1:0,n?1:0,r||0,i||0),e.emplaceBack(t?1:0,n?1:0,r||0,i||0),e.emplaceBack(t?1:0,n?1:0,r||0,i||0),e.emplaceBack(t?1:0,n?1:0,r||0,i||0)}bt.prototype.getBucketParts=function(t,n,r,i){var o=r.getBucket(n),a=r.latestFeatureIndex;if(o&&a&&n.id===o.layerIds[0]){var s=r.collisionBoxArray,l=o.layers[0].layout,u=Math.pow(2,this.transform.zoom-r.tileID.overscaledZ),c=r.tileSize/e.EXTENT,p=this.transform.calculatePosMatrix(r.tileID.toUnwrapped()),h="map"===l.get("text-pitch-alignment"),d="map"===l.get("text-rotation-alignment"),f=ht(r,1,this.transform.zoom),m=$e(p,h,d,this.transform,f),y=null;if(h){var v=Je(p,h,d,this.transform,f);y=e.multiply([],this.transform.labelPlaneMatrix,v)}this.retainedQueryData[o.bucketInstanceId]=new vt(o.bucketInstanceId,a,o.sourceLayerIndex,o.index,r.tileID);var g={bucket:o,layout:l,posMatrix:p,textLabelPlaneMatrix:m,labelToScreenMatrix:y,scale:u,textPixelRatio:c,holdingForFade:r.holdingForFade(),collisionBoxArray:s,partiallyEvaluatedTextSize:e.evaluateSizeForZoom(o.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(o.sourceID)};if(i)for(var _=0,x=o.sortKeyRanges;_<x.length;_+=1){var b=x[_];t.push({sortKey:b.sortKey,symbolInstanceStart:b.symbolInstanceStart,symbolInstanceEnd:b.symbolInstanceEnd,parameters:g})}else t.push({symbolInstanceStart:0,symbolInstanceEnd:o.symbolInstances.length,parameters:g})}},bt.prototype.attemptAnchorPlacement=function(e,t,n,r,i,o,a,s,l,u,c,p,h,d,f){var m,y=[p.textOffset0,p.textOffset1],v=_t(e,n,r,y,i),g=this.collisionIndex.placeCollisionBox(xt(t,v.x,v.y,o,a,this.transform.angle),c,s,l,u.predicate);if(!f||0!==this.collisionIndex.placeCollisionBox(xt(f,v.x,v.y,o,a,this.transform.angle),c,s,l,u.predicate).box.length)return g.box.length>0?(this.prevPlacement&&this.prevPlacement.variableOffsets[p.crossTileID]&&this.prevPlacement.placements[p.crossTileID]&&this.prevPlacement.placements[p.crossTileID].text&&(m=this.prevPlacement.variableOffsets[p.crossTileID].anchor),this.variableOffsets[p.crossTileID]={textOffset:y,width:n,height:r,anchor:e,textBoxScale:i,prevAnchor:m},this.markUsedJustification(h,e,p,d),h.allowVerticalPlacement&&(this.markUsedOrientation(h,d,p),this.placedOrientations[p.crossTileID]=d),{shift:v,placedGlyphBoxes:g}):void 0},bt.prototype.placeLayerBucketPart=function(t,n,r){var i=this,o=t.parameters,a=o.bucket,s=o.layout,l=o.posMatrix,u=o.textLabelPlaneMatrix,c=o.labelToScreenMatrix,p=o.textPixelRatio,h=o.holdingForFade,d=o.collisionBoxArray,f=o.partiallyEvaluatedTextSize,m=o.collisionGroup,y=s.get("text-optional"),v=s.get("icon-optional"),g=s.get("text-allow-overlap"),_=s.get("icon-allow-overlap"),x="map"===s.get("text-rotation-alignment"),b="map"===s.get("text-pitch-alignment"),w="none"!==s.get("icon-text-fit"),S="viewport-y"===s.get("symbol-z-order"),E=g&&(_||!a.hasIconData()||v),T=_&&(g||!a.hasTextData()||y);!a.collisionArrays&&d&&a.deserializeCollisionBoxes(d);var P=function(t,o){if(!n[t.crossTileID])if(h)i.placements[t.crossTileID]=new mt(!1,!1,!1);else{var d,S=!1,P=!1,C=!0,k=null,A={box:null,offscreen:null},I={box:null,offscreen:null},O=null,D=null,M=0,j=0,R=0;o.textFeatureIndex?M=o.textFeatureIndex:t.useRuntimeCollisionCircles&&(M=t.featureIndex),o.verticalTextFeatureIndex&&(j=o.verticalTextFeatureIndex);var L=o.textBox;if(L){var z=function(n){var r=e.WritingMode.horizontal;if(a.allowVerticalPlacement&&!n&&i.prevPlacement){var o=i.prevPlacement.placedOrientations[t.crossTileID];o&&(i.placedOrientations[t.crossTileID]=o,i.markUsedOrientation(a,r=o,t))}return r},N=function(n,r){if(a.allowVerticalPlacement&&t.numVerticalGlyphVertices>0&&o.verticalTextBox)for(var i=0,s=a.writingModes;i<s.length&&(s[i]===e.WritingMode.vertical?(A=r(),I=A):A=n(),!(A&&A.box&&A.box.length));i+=1);else A=n()};if(s.get("text-variable-anchor")){var B=s.get("text-variable-anchor");if(i.prevPlacement&&i.prevPlacement.variableOffsets[t.crossTileID]){var F=i.prevPlacement.variableOffsets[t.crossTileID];B.indexOf(F.anchor)>0&&(B=B.filter((function(e){return e!==F.anchor}))).unshift(F.anchor)}var U=function(e,n,r){for(var o=e.x2-e.x1,s=e.y2-e.y1,u=t.textBoxScale,c=w&&!_?n:null,h={box:[],offscreen:!1},d=g?2*B.length:B.length,f=0;f<d;++f){var y=i.attemptAnchorPlacement(B[f%B.length],e,o,s,u,x,b,p,l,m,f>=B.length,t,a,r,c);if(y&&(h=y.placedGlyphBoxes)&&h.box&&h.box.length){S=!0,k=y.shift;break}}return h};N((function(){return U(L,o.iconBox,e.WritingMode.horizontal)}),(function(){var n=o.verticalTextBox;return a.allowVerticalPlacement&&!(A&&A.box&&A.box.length)&&t.numVerticalGlyphVertices>0&&n?U(n,o.verticalIconBox,e.WritingMode.vertical):{box:null,offscreen:null}})),A&&(S=A.box,C=A.offscreen);var V=z(A&&A.box);if(!S&&i.prevPlacement){var q=i.prevPlacement.variableOffsets[t.crossTileID];q&&(i.variableOffsets[t.crossTileID]=q,i.markUsedJustification(a,q.anchor,t,V))}}else{var W=function(e,n){var r=i.collisionIndex.placeCollisionBox(e,g,p,l,m.predicate);return r&&r.box&&r.box.length&&(i.markUsedOrientation(a,n,t),i.placedOrientations[t.crossTileID]=n),r};N((function(){return W(L,e.WritingMode.horizontal)}),(function(){var n=o.verticalTextBox;return a.allowVerticalPlacement&&t.numVerticalGlyphVertices>0&&n?W(n,e.WritingMode.vertical):{box:null,offscreen:null}})),z(A&&A.box&&A.box.length)}}if(S=(d=A)&&d.box&&d.box.length>0,C=d&&d.offscreen,t.useRuntimeCollisionCircles){var H=a.text.placedSymbolArray.get(t.centerJustifiedTextSymbolIndex),G=e.evaluateSizeForFeature(a.textSizeData,f,H),Z=s.get("text-padding");O=i.collisionIndex.placeCollisionCircles(g,H,a.lineVertexArray,a.glyphOffsetArray,G,l,u,c,r,b,m.predicate,t.collisionCircleDiameter,Z),S=g||O.circles.length>0&&!O.collisionDetected,C=C&&O.offscreen}if(o.iconFeatureIndex&&(R=o.iconFeatureIndex),o.iconBox){var K=function(e){var t=w&&k?xt(e,k.x,k.y,x,b,i.transform.angle):e;return i.collisionIndex.placeCollisionBox(t,_,p,l,m.predicate)};P=I&&I.box&&I.box.length&&o.verticalIconBox?(D=K(o.verticalIconBox)).box.length>0:(D=K(o.iconBox)).box.length>0,C=C&&D.offscreen}var X=y||0===t.numHorizontalGlyphVertices&&0===t.numVerticalGlyphVertices,Y=v||0===t.numIconVertices;if(X||Y?Y?X||(P=P&&S):S=P&&S:P=S=P&&S,S&&d&&d.box&&i.collisionIndex.insertCollisionBox(d.box,s.get("text-ignore-placement"),a.bucketInstanceId,I&&I.box&&j?j:M,m.ID),P&&D&&i.collisionIndex.insertCollisionBox(D.box,s.get("icon-ignore-placement"),a.bucketInstanceId,R,m.ID),O&&(S&&i.collisionIndex.insertCollisionCircles(O.circles,s.get("text-ignore-placement"),a.bucketInstanceId,M,m.ID),r)){var $=a.bucketInstanceId,J=i.collisionCircleArrays[$];void 0===J&&(J=i.collisionCircleArrays[$]=new yt);for(var Q=0;Q<O.circles.length;Q+=4)J.circles.push(O.circles[Q+0]),J.circles.push(O.circles[Q+1]),J.circles.push(O.circles[Q+2]),J.circles.push(O.collisionDetected?1:0)}i.placements[t.crossTileID]=new mt(S||E,P||T,C||a.justReloaded),n[t.crossTileID]=!0}};if(S)for(var C=a.getSortedSymbolIndexes(this.transform.angle),k=C.length-1;k>=0;--k){var A=C[k];P(a.symbolInstances.get(A),a.collisionArrays[A])}else for(var I=t.symbolInstanceStart;I<t.symbolInstanceEnd;I++)P(a.symbolInstances.get(I),a.collisionArrays[I]);if(r&&a.bucketInstanceId in this.collisionCircleArrays){var O=this.collisionCircleArrays[a.bucketInstanceId];e.invert(O.invProjMatrix,l),O.viewportMatrix=this.collisionIndex.getViewportMatrix()}a.justReloaded=!1},bt.prototype.markUsedJustification=function(t,n,r,i){var o;o=i===e.WritingMode.vertical?r.verticalPlacedTextSymbolIndex:{left:r.leftJustifiedTextSymbolIndex,center:r.centerJustifiedTextSymbolIndex,right:r.rightJustifiedTextSymbolIndex}[e.getAnchorJustification(n)];for(var a=0,s=[r.leftJustifiedTextSymbolIndex,r.centerJustifiedTextSymbolIndex,r.rightJustifiedTextSymbolIndex,r.verticalPlacedTextSymbolIndex];a<s.length;a+=1){var l=s[a];l>=0&&(t.text.placedSymbolArray.get(l).crossTileID=o>=0&&l!==o?0:r.crossTileID)}},bt.prototype.markUsedOrientation=function(t,n,r){for(var i=n===e.WritingMode.horizontal||n===e.WritingMode.horizontalOnly?n:0,o=n===e.WritingMode.vertical?n:0,a=0,s=[r.leftJustifiedTextSymbolIndex,r.centerJustifiedTextSymbolIndex,r.rightJustifiedTextSymbolIndex];a<s.length;a+=1)t.text.placedSymbolArray.get(s[a]).placedOrientation=i;r.verticalPlacedTextSymbolIndex&&(t.text.placedSymbolArray.get(r.verticalPlacedTextSymbolIndex).placedOrientation=o)},bt.prototype.commit=function(e){this.commitTime=e,this.zoomAtLastRecencyCheck=this.transform.zoom;var t=this.prevPlacement,n=!1;this.prevZoomAdjustment=t?t.zoomAdjustment(this.transform.zoom):0;var r=t?t.symbolFadeChange(e):1,i=t?t.opacities:{},o=t?t.variableOffsets:{},a=t?t.placedOrientations:{};for(var s in this.placements){var l=this.placements[s],u=i[s];u?(this.opacities[s]=new ft(u,r,l.text,l.icon),n=n||l.text!==u.text.placed||l.icon!==u.icon.placed):(this.opacities[s]=new ft(null,r,l.text,l.icon,l.skipFade),n=n||l.text||l.icon)}for(var c in i){var p=i[c];if(!this.opacities[c]){var h=new ft(p,r,!1,!1);h.isHidden()||(this.opacities[c]=h,n=n||p.text.placed||p.icon.placed)}}for(var d in o)this.variableOffsets[d]||!this.opacities[d]||this.opacities[d].isHidden()||(this.variableOffsets[d]=o[d]);for(var f in a)this.placedOrientations[f]||!this.opacities[f]||this.opacities[f].isHidden()||(this.placedOrientations[f]=a[f]);n?this.lastPlacementChangeTime=e:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=t?t.lastPlacementChangeTime:e)},bt.prototype.updateLayerOpacities=function(e,t){for(var n={},r=0,i=t;r<i.length;r+=1){var o=i[r],a=o.getBucket(e);a&&o.latestFeatureIndex&&e.id===a.layerIds[0]&&this.updateBucketOpacities(a,n,o.collisionBoxArray)}},bt.prototype.updateBucketOpacities=function(t,n,r){var i=this;t.hasTextData()&&t.text.opacityVertexArray.clear(),t.hasIconData()&&t.icon.opacityVertexArray.clear(),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexArray.clear(),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexArray.clear();var o=t.layers[0].layout,a=new ft(null,0,!1,!1,!0),s=o.get("text-allow-overlap"),l=o.get("icon-allow-overlap"),u=o.get("text-variable-anchor"),c="map"===o.get("text-rotation-alignment"),p="map"===o.get("text-pitch-alignment"),h="none"!==o.get("icon-text-fit"),d=new ft(null,0,s&&(l||!t.hasIconData()||o.get("icon-optional")),l&&(s||!t.hasTextData()||o.get("text-optional")),!0);!t.collisionArrays&&r&&(t.hasIconCollisionBoxData()||t.hasTextCollisionBoxData())&&t.deserializeCollisionBoxes(r);for(var f=function(e,t,n){for(var r=0;r<t/4;r++)e.opacityVertexArray.emplaceBack(n)},m=function(r){var o=t.symbolInstances.get(r),s=o.numHorizontalGlyphVertices,l=o.numVerticalGlyphVertices,m=o.crossTileID,y=i.opacities[m];n[m]?y=a:y||(i.opacities[m]=y=d),n[m]=!0;var v=o.numIconVertices>0,g=i.placedOrientations[o.crossTileID],_=g===e.WritingMode.vertical,x=g===e.WritingMode.horizontal||g===e.WritingMode.horizontalOnly;if(s>0||l>0){var b=It(y.text);f(t.text,s,_?Ot:b),f(t.text,l,x?Ot:b);var w=y.text.isHidden();[o.rightJustifiedTextSymbolIndex,o.centerJustifiedTextSymbolIndex,o.leftJustifiedTextSymbolIndex].forEach((function(e){e>=0&&(t.text.placedSymbolArray.get(e).hidden=w||_?1:0)})),o.verticalPlacedTextSymbolIndex>=0&&(t.text.placedSymbolArray.get(o.verticalPlacedTextSymbolIndex).hidden=w||x?1:0);var S=i.variableOffsets[o.crossTileID];S&&i.markUsedJustification(t,S.anchor,o,g);var E=i.placedOrientations[o.crossTileID];E&&(i.markUsedJustification(t,"left",o,E),i.markUsedOrientation(t,E,o))}if(v){var T=It(y.icon),P=!(h&&o.verticalPlacedIconSymbolIndex&&_);o.placedIconSymbolIndex>=0&&(f(t.icon,o.numIconVertices,P?T:Ot),t.icon.placedSymbolArray.get(o.placedIconSymbolIndex).hidden=y.icon.isHidden()),o.verticalPlacedIconSymbolIndex>=0&&(f(t.icon,o.numVerticalIconVertices,P?Ot:T),t.icon.placedSymbolArray.get(o.verticalPlacedIconSymbolIndex).hidden=y.icon.isHidden())}if(t.hasIconCollisionBoxData()||t.hasTextCollisionBoxData()){var C=t.collisionArrays[r];if(C){var k=new e.Point(0,0);if(C.textBox||C.verticalTextBox){var A=!0;if(u){var I=i.variableOffsets[m];I?(k=_t(I.anchor,I.width,I.height,I.textOffset,I.textBoxScale),c&&k._rotate(p?i.transform.angle:-i.transform.angle)):A=!1}C.textBox&&wt(t.textCollisionBox.collisionVertexArray,y.text.placed,!A||_,k.x,k.y),C.verticalTextBox&&wt(t.textCollisionBox.collisionVertexArray,y.text.placed,!A||x,k.x,k.y)}var O=Boolean(!x&&C.verticalIconBox);C.iconBox&&wt(t.iconCollisionBox.collisionVertexArray,y.icon.placed,O,h?k.x:0,h?k.y:0),C.verticalIconBox&&wt(t.iconCollisionBox.collisionVertexArray,y.icon.placed,!O,h?k.x:0,h?k.y:0)}}},y=0;y<t.symbolInstances.length;y++)m(y);if(t.sortFeatures(this.transform.angle),this.retainedQueryData[t.bucketInstanceId]&&(this.retainedQueryData[t.bucketInstanceId].featureSortOrder=t.featureSortOrder),t.hasTextData()&&t.text.opacityVertexBuffer&&t.text.opacityVertexBuffer.updateData(t.text.opacityVertexArray),t.hasIconData()&&t.icon.opacityVertexBuffer&&t.icon.opacityVertexBuffer.updateData(t.icon.opacityVertexArray),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexBuffer&&t.iconCollisionBox.collisionVertexBuffer.updateData(t.iconCollisionBox.collisionVertexArray),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexBuffer&&t.textCollisionBox.collisionVertexBuffer.updateData(t.textCollisionBox.collisionVertexArray),t.bucketInstanceId in this.collisionCircleArrays){var v=this.collisionCircleArrays[t.bucketInstanceId];t.placementInvProjMatrix=v.invProjMatrix,t.placementViewportMatrix=v.viewportMatrix,t.collisionCircleArray=v.circles,delete this.collisionCircleArrays[t.bucketInstanceId]}},bt.prototype.symbolFadeChange=function(e){return 0===this.fadeDuration?1:(e-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},bt.prototype.zoomAdjustment=function(e){return Math.max(0,(this.transform.zoom-e)/1.5)},bt.prototype.hasTransitions=function(e){return this.stale||e-this.lastPlacementChangeTime<this.fadeDuration},bt.prototype.stillRecent=function(e,t){var n=this.zoomAtLastRecencyCheck===t?1-this.zoomAdjustment(t):1;return this.zoomAtLastRecencyCheck=t,this.commitTime+this.fadeDuration*n>e},bt.prototype.setStale=function(){this.stale=!0};var St=Math.pow(2,25),Et=Math.pow(2,24),Tt=Math.pow(2,17),Pt=Math.pow(2,16),Ct=Math.pow(2,9),kt=Math.pow(2,8),At=Math.pow(2,1);function It(e){if(0===e.opacity&&!e.placed)return 0;if(1===e.opacity&&e.placed)return 4294967295;var t=e.placed?1:0,n=Math.floor(127*e.opacity);return n*St+t*Et+n*Tt+t*Pt+n*Ct+t*kt+n*At+t}var Ot=0,Dt=function(e){this._sortAcrossTiles="viewport-y"!==e.layout.get("symbol-z-order")&&void 0!==e.layout.get("symbol-sort-key").constantOr(1),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};Dt.prototype.continuePlacement=function(e,t,n,r,i){for(var o=this._bucketParts;this._currentTileIndex<e.length;)if(t.getBucketParts(o,r,e[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,i())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,o.sort((function(e,t){return e.sortKey-t.sortKey})));this._currentPartIndex<o.length;)if(t.placeLayerBucketPart(o[this._currentPartIndex],this._seenCrossTileIDs,n),this._currentPartIndex++,i())return!0;return!1};var Mt=function(e,t,n,r,i,o,a){this.placement=new bt(e,i,o,a),this._currentPlacementIndex=t.length-1,this._forceFullPlacement=n,this._showCollisionBoxes=r,this._done=!1};Mt.prototype.isDone=function(){return this._done},Mt.prototype.continuePlacement=function(t,n,r){for(var i=this,o=e.browser.now(),a=function(){var t=e.browser.now()-o;return!i._forceFullPlacement&&t>2};this._currentPlacementIndex>=0;){var s=n[t[this._currentPlacementIndex]],l=this.placement.collisionIndex.transform.zoom;if("symbol"===s.type&&(!s.minzoom||s.minzoom<=l)&&(!s.maxzoom||s.maxzoom>l)){if(this._inProgressLayer||(this._inProgressLayer=new Dt(s)),this._inProgressLayer.continuePlacement(r[s.source],this.placement,this._showCollisionBoxes,s,a))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},Mt.prototype.commit=function(e){return this.placement.commit(e),this.placement};var jt=512/e.EXTENT/2,Rt=function(e,t,n){this.tileID=e,this.indexedSymbolInstances={},this.bucketInstanceId=n;for(var r=0;r<t.length;r++){var i=t.get(r),o=i.key;this.indexedSymbolInstances[o]||(this.indexedSymbolInstances[o]=[]),this.indexedSymbolInstances[o].push({crossTileID:i.crossTileID,coord:this.getScaledCoordinates(i,e)})}};Rt.prototype.getScaledCoordinates=function(t,n){var r=jt/Math.pow(2,n.canonical.z-this.tileID.canonical.z);return{x:Math.floor((n.canonical.x*e.EXTENT+t.anchorX)*r),y:Math.floor((n.canonical.y*e.EXTENT+t.anchorY)*r)}},Rt.prototype.findMatches=function(e,t,n){for(var r=this.tileID.canonical.z<t.canonical.z?1:Math.pow(2,this.tileID.canonical.z-t.canonical.z),i=0;i<e.length;i++){var o=e.get(i);if(!o.crossTileID){var a=this.indexedSymbolInstances[o.key];if(a)for(var s=this.getScaledCoordinates(o,t),l=0,u=a;l<u.length;l+=1){var c=u[l];if(Math.abs(c.coord.x-s.x)<=r&&Math.abs(c.coord.y-s.y)<=r&&!n[c.crossTileID]){n[c.crossTileID]=!0,o.crossTileID=c.crossTileID;break}}}}};var Lt=function(){this.maxCrossTileID=0};Lt.prototype.generate=function(){return++this.maxCrossTileID};var zt=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};zt.prototype.handleWrapJump=function(e){var t=Math.round((e-this.lng)/360);if(0!==t)for(var n in this.indexes){var r=this.indexes[n],i={};for(var o in r){var a=r[o];a.tileID=a.tileID.unwrapTo(a.tileID.wrap+t),i[a.tileID.key]=a}this.indexes[n]=i}this.lng=e},zt.prototype.addBucket=function(e,t,n){if(this.indexes[e.overscaledZ]&&this.indexes[e.overscaledZ][e.key]){if(this.indexes[e.overscaledZ][e.key].bucketInstanceId===t.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(e.overscaledZ,this.indexes[e.overscaledZ][e.key])}for(var r=0;r<t.symbolInstances.length;r++)t.symbolInstances.get(r).crossTileID=0;this.usedCrossTileIDs[e.overscaledZ]||(this.usedCrossTileIDs[e.overscaledZ]={});var i=this.usedCrossTileIDs[e.overscaledZ];for(var o in this.indexes){var a=this.indexes[o];if(Number(o)>e.overscaledZ)for(var s in a){var l=a[s];l.tileID.isChildOf(e)&&l.findMatches(t.symbolInstances,e,i)}else{var u=a[e.scaledTo(Number(o)).key];u&&u.findMatches(t.symbolInstances,e,i)}}for(var c=0;c<t.symbolInstances.length;c++){var p=t.symbolInstances.get(c);p.crossTileID||(p.crossTileID=n.generate(),i[p.crossTileID]=!0)}return void 0===this.indexes[e.overscaledZ]&&(this.indexes[e.overscaledZ]={}),this.indexes[e.overscaledZ][e.key]=new Rt(e,t.symbolInstances,t.bucketInstanceId),!0},zt.prototype.removeBucketCrossTileIDs=function(e,t){for(var n in t.indexedSymbolInstances)for(var r=0,i=t.indexedSymbolInstances[n];r<i.length;r+=1)delete this.usedCrossTileIDs[e][i[r].crossTileID]},zt.prototype.removeStaleBuckets=function(e){var t=!1;for(var n in this.indexes){var r=this.indexes[n];for(var i in r)e[r[i].bucketInstanceId]||(this.removeBucketCrossTileIDs(n,r[i]),delete r[i],t=!0)}return t};var Nt=function(){this.layerIndexes={},this.crossTileIDs=new Lt,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};Nt.prototype.addLayer=function(e,t,n){var r=this.layerIndexes[e.id];void 0===r&&(r=this.layerIndexes[e.id]=new zt);var i=!1,o={};r.handleWrapJump(n);for(var a=0,s=t;a<s.length;a+=1){var l=s[a],u=l.getBucket(e);u&&e.id===u.layerIds[0]&&(u.bucketInstanceId||(u.bucketInstanceId=++this.maxBucketInstanceId),r.addBucket(l.tileID,u,this.crossTileIDs)&&(i=!0),o[u.bucketInstanceId]=!0)}return r.removeStaleBuckets(o)&&(i=!0),i},Nt.prototype.pruneUnusedLayers=function(e){var t={};for(var n in e.forEach((function(e){t[e]=!0})),this.layerIndexes)t[n]||delete this.layerIndexes[n]};var Bt=function(t,n){return e.emitValidationErrors(t,n&&n.filter((function(e){return"source.canvas"!==e.identifier})))},Ft=e.pick(Ue,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),Ut=e.pick(Ue,["setCenter","setZoom","setBearing","setPitch"]),Vt=function(){var t={},n=e.styleSpec.$version;for(var r in e.styleSpec.$root){var i,o=e.styleSpec.$root[r];o.required&&null!=(i="version"===r?n:"array"===o.type?[]:{})&&(t[r]=i)}return t}(),qt=function(t){function n(r,i){var o=this;void 0===i&&(i={}),t.call(this),this.map=r,this.dispatcher=new E(Ne(),this),this.imageManager=new h,this.imageManager.setEventedParent(this),this.glyphManager=new _(r._requestManager,i.localIdeographFontFamily),this.lineAtlas=new S(256,512),this.crossTileSymbolIndex=new Nt,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new e.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",e.getReferrer());var a=this;this._rtlTextPluginCallback=n.registerForPluginStateChange((function(t){a.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:t.pluginStatus,pluginURL:t.pluginURL},(function(t,n){if(e.triggerPluginCompletionEvent(t),n&&n.every((function(e){return e})))for(var r in a.sourceCaches)a.sourceCaches[r].reload()}))})),this.on("data",(function(e){if("source"===e.dataType&&"metadata"===e.sourceDataType){var t=o.sourceCaches[e.sourceId];if(t){var n=t.getSource();if(n&&n.vectorLayerIds)for(var r in o._layers){var i=o._layers[r];i.source===n.id&&o._validateLayer(i)}}}}))}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.loadURL=function(t,n){var r=this;void 0===n&&(n={}),this.fire(new e.Event("dataloading",{dataType:"style"}));var i="boolean"==typeof n.validate?n.validate:!e.isMapboxURL(t);t=this.map._requestManager.normalizeStyleURL(t,n.accessToken);var o=this.map._requestManager.transformRequest(t,e.ResourceType.Style);this._request=e.getJSON(o,(function(t,n){r._request=null,t?r.fire(new e.ErrorEvent(t)):n&&r._load(n,i)}))},n.prototype.loadJSON=function(t,n){var r=this;void 0===n&&(n={}),this.fire(new e.Event("dataloading",{dataType:"style"})),this._request=e.browser.frame((function(){r._request=null,r._load(t,!1!==n.validate)}))},n.prototype.loadEmpty=function(){this.fire(new e.Event("dataloading",{dataType:"style"})),this._load(Vt,!1)},n.prototype._load=function(t,n){if(!n||!Bt(this,e.validateStyle(t))){for(var r in this._loaded=!0,this.stylesheet=t,t.sources)this.addSource(r,t.sources[r],{validate:!1});t.sprite?this._loadSprite(t.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(t.glyphs);var i=Fe(this.stylesheet.layers);this._order=i.map((function(e){return e.id})),this._layers={},this._serializedLayers={};for(var o=0,a=i;o<a.length;o+=1){var s=a[o];(s=e.createStyleLayer(s)).setEventedParent(this,{layer:{id:s.id}}),this._layers[s.id]=s,this._serializedLayers[s.id]=s.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new w(this.stylesheet.light),this.fire(new e.Event("data",{dataType:"style"})),this.fire(new e.Event("style.load"))}},n.prototype._loadSprite=function(t){var n=this;this._spriteRequest=function(t,n,r){var i,o,a,s=e.browser.devicePixelRatio>1?"@2x":"",l=e.getJSON(n.transformRequest(n.normalizeSpriteURL(t,s,".json"),e.ResourceType.SpriteJSON),(function(e,t){l=null,a||(a=e,i=t,c())})),u=e.getImage(n.transformRequest(n.normalizeSpriteURL(t,s,".png"),e.ResourceType.SpriteImage),(function(e,t){u=null,a||(a=e,o=t,c())}));function c(){if(a)r(a);else if(i&&o){var t=e.browser.getImageData(o),n={};for(var s in i){var l=i[s],u=l.width,c=l.height,p=l.x,h=l.y,d=l.sdf,f=l.pixelRatio,m=l.stretchX,y=l.stretchY,v=l.content,g=new e.RGBAImage({width:u,height:c});e.RGBAImage.copy(t,g,{x:p,y:h},{x:0,y:0},{width:u,height:c}),n[s]={data:g,pixelRatio:f,sdf:d,stretchX:m,stretchY:y,content:v}}r(null,n)}}return{cancel:function(){l&&(l.cancel(),l=null),u&&(u.cancel(),u=null)}}}(t,this.map._requestManager,(function(t,r){if(n._spriteRequest=null,t)n.fire(new e.ErrorEvent(t));else if(r)for(var i in r)n.imageManager.addImage(i,r[i]);n.imageManager.setLoaded(!0),n._availableImages=n.imageManager.listImages(),n.dispatcher.broadcast("setImages",n._availableImages),n.fire(new e.Event("data",{dataType:"style"}))}))},n.prototype._validateLayer=function(t){var n=this.sourceCaches[t.source];if(n){var r=t.sourceLayer;if(r){var i=n.getSource();("geojson"===i.type||i.vectorLayerIds&&-1===i.vectorLayerIds.indexOf(r))&&this.fire(new e.ErrorEvent(new Error('Source layer "'+r+'" does not exist on source "'+i.id+'" as specified by style layer "'+t.id+'"')))}}},n.prototype.loaded=function(){if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(var e in this.sourceCaches)if(!this.sourceCaches[e].loaded())return!1;return!!this.imageManager.isLoaded()},n.prototype._serializeLayers=function(e){for(var t=[],n=0,r=e;n<r.length;n+=1){var i=this._layers[r[n]];"custom"!==i.type&&t.push(i.serialize())}return t},n.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var e in this.sourceCaches)if(this.sourceCaches[e].hasTransition())return!0;for(var t in this._layers)if(this._layers[t].hasTransition())return!0;return!1},n.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},n.prototype.update=function(t){if(this._loaded){var n=this._changed;if(this._changed){var r=Object.keys(this._updatedLayers),i=Object.keys(this._removedLayers);for(var o in(r.length||i.length)&&this._updateWorkerLayers(r,i),this._updatedSources){var a=this._updatedSources[o];"reload"===a?this._reloadSource(o):"clear"===a&&this._clearSource(o)}for(var s in this._updateTilesForChangedImages(),this._updatedPaintProps)this._layers[s].updateTransitions(t);this.light.updateTransitions(t),this._resetUpdates()}var l={};for(var u in this.sourceCaches){var c=this.sourceCaches[u];l[u]=c.used,c.used=!1}for(var p=0,h=this._order;p<h.length;p+=1){var d=this._layers[h[p]];d.recalculate(t,this._availableImages),!d.isHidden(t.zoom)&&d.source&&(this.sourceCaches[d.source].used=!0)}for(var f in l){var m=this.sourceCaches[f];l[f]!==m.used&&m.fire(new e.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:f}))}this.light.recalculate(t),this.z=t.zoom,n&&this.fire(new e.Event("data",{dataType:"style"}))}},n.prototype._updateTilesForChangedImages=function(){var e=Object.keys(this._changedImages);if(e.length){for(var t in this.sourceCaches)this.sourceCaches[t].reloadTilesForDependencies(["icons","patterns"],e);this._changedImages={}}},n.prototype._updateWorkerLayers=function(e,t){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(e),removedIds:t})},n.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},n.prototype.setState=function(t){var n=this;if(this._checkLoaded(),Bt(this,e.validateStyle(t)))return!1;(t=e.clone$1(t)).layers=Fe(t.layers);var r=function(t,n){if(!t)return[{command:Ue.setStyle,args:[n]}];var r=[];try{if(!e.deepEqual(t.version,n.version))return[{command:Ue.setStyle,args:[n]}];e.deepEqual(t.center,n.center)||r.push({command:Ue.setCenter,args:[n.center]}),e.deepEqual(t.zoom,n.zoom)||r.push({command:Ue.setZoom,args:[n.zoom]}),e.deepEqual(t.bearing,n.bearing)||r.push({command:Ue.setBearing,args:[n.bearing]}),e.deepEqual(t.pitch,n.pitch)||r.push({command:Ue.setPitch,args:[n.pitch]}),e.deepEqual(t.sprite,n.sprite)||r.push({command:Ue.setSprite,args:[n.sprite]}),e.deepEqual(t.glyphs,n.glyphs)||r.push({command:Ue.setGlyphs,args:[n.glyphs]}),e.deepEqual(t.transition,n.transition)||r.push({command:Ue.setTransition,args:[n.transition]}),e.deepEqual(t.light,n.light)||r.push({command:Ue.setLight,args:[n.light]});var i={},o=[];!function(t,n,r,i){var o;for(o in n=n||{},t=t||{})t.hasOwnProperty(o)&&(n.hasOwnProperty(o)||qe(o,r,i));for(o in n)n.hasOwnProperty(o)&&(t.hasOwnProperty(o)?e.deepEqual(t[o],n[o])||("geojson"===t[o].type&&"geojson"===n[o].type&&He(t,n,o)?r.push({command:Ue.setGeoJSONSourceData,args:[o,n[o].data]}):We(o,n,r,i)):Ve(o,n,r))}(t.sources,n.sources,o,i);var a=[];t.layers&&t.layers.forEach((function(e){i[e.source]?r.push({command:Ue.removeLayer,args:[e.id]}):a.push(e)})),r=r.concat(o),function(t,n,r){n=n||[];var i,o,a,s,l,u,c,p=(t=t||[]).map(Ze),h=n.map(Ze),d=t.reduce(Ke,{}),f=n.reduce(Ke,{}),m=p.slice(),y=Object.create(null);for(i=0,o=0;i<p.length;i++)f.hasOwnProperty(a=p[i])?o++:(r.push({command:Ue.removeLayer,args:[a]}),m.splice(m.indexOf(a,o),1));for(i=0,o=0;i<h.length;i++)m[m.length-1-i]!==(a=h[h.length-1-i])&&(d.hasOwnProperty(a)?(r.push({command:Ue.removeLayer,args:[a]}),m.splice(m.lastIndexOf(a,m.length-o),1)):o++,r.push({command:Ue.addLayer,args:[f[a],u=m[m.length-i]]}),m.splice(m.length-i,0,a),y[a]=!0);for(i=0;i<h.length;i++)if(s=d[a=h[i]],l=f[a],!y[a]&&!e.deepEqual(s,l))if(e.deepEqual(s.source,l.source)&&e.deepEqual(s["source-layer"],l["source-layer"])&&e.deepEqual(s.type,l.type)){for(c in Ge(s.layout,l.layout,r,a,null,Ue.setLayoutProperty),Ge(s.paint,l.paint,r,a,null,Ue.setPaintProperty),e.deepEqual(s.filter,l.filter)||r.push({command:Ue.setFilter,args:[a,l.filter]}),e.deepEqual(s.minzoom,l.minzoom)&&e.deepEqual(s.maxzoom,l.maxzoom)||r.push({command:Ue.setLayerZoomRange,args:[a,l.minzoom,l.maxzoom]}),s)s.hasOwnProperty(c)&&"layout"!==c&&"paint"!==c&&"filter"!==c&&"metadata"!==c&&"minzoom"!==c&&"maxzoom"!==c&&(0===c.indexOf("paint.")?Ge(s[c],l[c],r,a,c.slice(6),Ue.setPaintProperty):e.deepEqual(s[c],l[c])||r.push({command:Ue.setLayerProperty,args:[a,c,l[c]]}));for(c in l)l.hasOwnProperty(c)&&!s.hasOwnProperty(c)&&"layout"!==c&&"paint"!==c&&"filter"!==c&&"metadata"!==c&&"minzoom"!==c&&"maxzoom"!==c&&(0===c.indexOf("paint.")?Ge(s[c],l[c],r,a,c.slice(6),Ue.setPaintProperty):e.deepEqual(s[c],l[c])||r.push({command:Ue.setLayerProperty,args:[a,c,l[c]]}))}else r.push({command:Ue.removeLayer,args:[a]}),u=m[m.lastIndexOf(a)+1],r.push({command:Ue.addLayer,args:[l,u]})}(a,n.layers,r)}catch(e){console.warn("Unable to compute style diff:",e),r=[{command:Ue.setStyle,args:[n]}]}return r}(this.serialize(),t).filter((function(e){return!(e.command in Ut)}));if(0===r.length)return!1;var i=r.filter((function(e){return!(e.command in Ft)}));if(i.length>0)throw new Error("Unimplemented: "+i.map((function(e){return e.command})).join(", ")+".");return r.forEach((function(e){"setTransition"!==e.command&&n[e.command].apply(n,e.args)})),this.stylesheet=t,!0},n.prototype.addImage=function(t,n){if(this.getImage(t))return this.fire(new e.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(t,n),this._afterImageUpdated(t)},n.prototype.updateImage=function(e,t){this.imageManager.updateImage(e,t)},n.prototype.getImage=function(e){return this.imageManager.getImage(e)},n.prototype.removeImage=function(t){if(!this.getImage(t))return this.fire(new e.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(t),this._afterImageUpdated(t)},n.prototype._afterImageUpdated=function(t){this._availableImages=this.imageManager.listImages(),this._changedImages[t]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new e.Event("data",{dataType:"style"}))},n.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},n.prototype.addSource=function(t,n,r){var i=this;if(void 0===r&&(r={}),this._checkLoaded(),void 0!==this.sourceCaches[t])throw new Error("There is already a source with this ID");if(!n.type)throw new Error("The type property must be defined, but only the following properties were given: "+Object.keys(n).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(n.type)>=0&&this._validate(e.validateStyle.source,"sources."+t,n,null,r))){this.map&&this.map._collectResourceTiming&&(n.collectResourceTiming=!0);var o=this.sourceCaches[t]=new Ie(t,n,this.dispatcher);o.style=this,o.setEventedParent(this,(function(){return{isSourceLoaded:i.loaded(),source:o.serialize(),sourceId:t}})),o.onAdd(this.map),this._changed=!0}},n.prototype.removeSource=function(t){if(this._checkLoaded(),void 0===this.sourceCaches[t])throw new Error("There is no source with this ID");for(var n in this._layers)if(this._layers[n].source===t)return this.fire(new e.ErrorEvent(new Error('Source "'+t+'" cannot be removed while layer "'+n+'" is using it.')));var r=this.sourceCaches[t];delete this.sourceCaches[t],delete this._updatedSources[t],r.fire(new e.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:t})),r.setEventedParent(null),r.clearTiles(),r.onRemove&&r.onRemove(this.map),this._changed=!0},n.prototype.setGeoJSONSourceData=function(e,t){this._checkLoaded(),this.sourceCaches[e].getSource().setData(t),this._changed=!0},n.prototype.getSource=function(e){return this.sourceCaches[e]&&this.sourceCaches[e].getSource()},n.prototype.addLayer=function(t,n,r){void 0===r&&(r={}),this._checkLoaded();var i=t.id;if(this.getLayer(i))this.fire(new e.ErrorEvent(new Error('Layer with id "'+i+'" already exists on this map')));else{var o;if("custom"===t.type){if(Bt(this,e.validateCustomStyleLayer(t)))return;o=e.createStyleLayer(t)}else{if("object"==typeof t.source&&(this.addSource(i,t.source),t=e.clone$1(t),t=e.extend(t,{source:i})),this._validate(e.validateStyle.layer,"layers."+i,t,{arrayIndex:-1},r))return;o=e.createStyleLayer(t),this._validateLayer(o),o.setEventedParent(this,{layer:{id:i}}),this._serializedLayers[o.id]=o.serialize()}var a=n?this._order.indexOf(n):this._order.length;if(n&&-1===a)this.fire(new e.ErrorEvent(new Error('Layer with id "'+n+'" does not exist on this map.')));else{if(this._order.splice(a,0,i),this._layerOrderChanged=!0,this._layers[i]=o,this._removedLayers[i]&&o.source&&"custom"!==o.type){var s=this._removedLayers[i];delete this._removedLayers[i],s.type!==o.type?this._updatedSources[o.source]="clear":(this._updatedSources[o.source]="reload",this.sourceCaches[o.source].pause())}this._updateLayer(o),o.onAdd&&o.onAdd(this.map)}}},n.prototype.moveLayer=function(t,n){if(this._checkLoaded(),this._changed=!0,this._layers[t]){if(t!==n){var r=this._order.indexOf(t);this._order.splice(r,1);var i=n?this._order.indexOf(n):this._order.length;n&&-1===i?this.fire(new e.ErrorEvent(new Error('Layer with id "'+n+'" does not exist on this map.'))):(this._order.splice(i,0,t),this._layerOrderChanged=!0)}}else this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be moved.")))},n.prototype.removeLayer=function(t){this._checkLoaded();var n=this._layers[t];if(n){n.setEventedParent(null);var r=this._order.indexOf(t);this._order.splice(r,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[t]=n,delete this._layers[t],delete this._serializedLayers[t],delete this._updatedLayers[t],delete this._updatedPaintProps[t],n.onRemove&&n.onRemove(this.map)}else this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be removed.")))},n.prototype.getLayer=function(e){return this._layers[e]},n.prototype.hasLayer=function(e){return e in this._layers},n.prototype.setLayerZoomRange=function(t,n,r){this._checkLoaded();var i=this.getLayer(t);i?i.minzoom===n&&i.maxzoom===r||(null!=n&&(i.minzoom=n),null!=r&&(i.maxzoom=r),this._updateLayer(i)):this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot have zoom extent.")))},n.prototype.setFilter=function(t,n,r){void 0===r&&(r={}),this._checkLoaded();var i=this.getLayer(t);if(i){if(!e.deepEqual(i.filter,n))return null==n?(i.filter=void 0,void this._updateLayer(i)):void(this._validate(e.validateStyle.filter,"layers."+i.id+".filter",n,null,r)||(i.filter=e.clone$1(n),this._updateLayer(i)))}else this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be filtered.")))},n.prototype.getFilter=function(t){return e.clone$1(this.getLayer(t).filter)},n.prototype.setLayoutProperty=function(t,n,r,i){void 0===i&&(i={}),this._checkLoaded();var o=this.getLayer(t);o?e.deepEqual(o.getLayoutProperty(n),r)||(o.setLayoutProperty(n,r,i),this._updateLayer(o)):this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be styled.")))},n.prototype.getLayoutProperty=function(t,n){var r=this.getLayer(t);if(r)return r.getLayoutProperty(n);this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style.")))},n.prototype.setPaintProperty=function(t,n,r,i){void 0===i&&(i={}),this._checkLoaded();var o=this.getLayer(t);o?e.deepEqual(o.getPaintProperty(n),r)||(o.setPaintProperty(n,r,i)&&this._updateLayer(o),this._changed=!0,this._updatedPaintProps[t]=!0):this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be styled.")))},n.prototype.getPaintProperty=function(e,t){return this.getLayer(e).getPaintProperty(t)},n.prototype.setFeatureState=function(t,n){this._checkLoaded();var r=t.source,i=t.sourceLayer,o=this.sourceCaches[r];if(void 0!==o){var a=o.getSource().type;"geojson"===a&&i?this.fire(new e.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):"vector"!==a||i?(void 0===t.id&&this.fire(new e.ErrorEvent(new Error("The feature id parameter must be provided."))),o.setFeatureState(i,t.id,n)):this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new e.ErrorEvent(new Error("The source '"+r+"' does not exist in the map's style.")))},n.prototype.removeFeatureState=function(t,n){this._checkLoaded();var r=t.source,i=this.sourceCaches[r];if(void 0!==i){var o=i.getSource().type,a="vector"===o?t.sourceLayer:void 0;"vector"!==o||a?n&&"string"!=typeof t.id&&"number"!=typeof t.id?this.fire(new e.ErrorEvent(new Error("A feature id is required to remove its specific state property."))):i.removeFeatureState(a,t.id,n):this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new e.ErrorEvent(new Error("The source '"+r+"' does not exist in the map's style.")))},n.prototype.getFeatureState=function(t){this._checkLoaded();var n=t.source,r=t.sourceLayer,i=this.sourceCaches[n];if(void 0!==i){if("vector"!==i.getSource().type||r)return void 0===t.id&&this.fire(new e.ErrorEvent(new Error("The feature id parameter must be provided."))),i.getFeatureState(r,t.id);this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new e.ErrorEvent(new Error("The source '"+n+"' does not exist in the map's style.")))},n.prototype.getTransition=function(){return e.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},n.prototype.serialize=function(){return e.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:e.mapObject(this.sourceCaches,(function(e){return e.serialize()})),layers:this._serializeLayers(this._order)},(function(e){return void 0!==e}))},n.prototype._updateLayer=function(e){this._updatedLayers[e.id]=!0,e.source&&!this._updatedSources[e.source]&&"raster"!==this.sourceCaches[e.source].getSource().type&&(this._updatedSources[e.source]="reload",this.sourceCaches[e.source].pause()),this._changed=!0},n.prototype._flattenAndSortRenderedFeatures=function(e){for(var t=this,n=function(e){return"fill-extrusion"===t._layers[e].type},r={},i=[],o=this._order.length-1;o>=0;o--){var a=this._order[o];if(n(a)){r[a]=o;for(var s=0,l=e;s<l.length;s+=1){var u=l[s][a];if(u)for(var c=0,p=u;c<p.length;c+=1)i.push(p[c])}}}i.sort((function(e,t){return t.intersectionZ-e.intersectionZ}));for(var h=[],d=this._order.length-1;d>=0;d--){var f=this._order[d];if(n(f))for(var m=i.length-1;m>=0;m--){var y=i[m].feature;if(r[y.layer.id]<d)break;h.push(y),i.pop()}else for(var v=0,g=e;v<g.length;v+=1){var _=g[v][f];if(_)for(var x=0,b=_;x<b.length;x+=1)h.push(b[x].feature)}}return h},n.prototype.queryRenderedFeatures=function(t,n,r){n&&n.filter&&this._validate(e.validateStyle.filter,"queryRenderedFeatures.filter",n.filter,null,n);var i={};if(n&&n.layers){if(!Array.isArray(n.layers))return this.fire(new e.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var o=0,a=n.layers;o<a.length;o+=1){var s=a[o],l=this._layers[s];if(!l)return this.fire(new e.ErrorEvent(new Error("The layer '"+s+"' does not exist in the map's style and cannot be queried for features."))),[];i[l.source]=!0}}var u=[];for(var c in n.availableImages=this._availableImages,this.sourceCaches)n.layers&&!i[c]||u.push(z(this.sourceCaches[c],this._layers,this._serializedLayers,t,n,r));return this.placement&&u.push(function(e,t,n,r,i,o,a){for(var s={},l=o.queryRenderedSymbols(r),u=[],c=0,p=Object.keys(l).map(Number);c<p.length;c+=1)u.push(a[p[c]]);u.sort(N);for(var h=function(){var n=f[d],r=n.featureIndex.lookupSymbolFeatures(l[n.bucketInstanceId],t,n.bucketIndex,n.sourceLayerIndex,i.filter,i.layers,i.availableImages,e);for(var o in r){var a=s[o]=s[o]||[],u=r[o];u.sort((function(e,t){var r=n.featureSortOrder;if(r){var i=r.indexOf(e.featureIndex);return r.indexOf(t.featureIndex)-i}return t.featureIndex-e.featureIndex}));for(var c=0,p=u;c<p.length;c+=1)a.push(p[c])}},d=0,f=u;d<f.length;d+=1)h();var m=function(t){s[t].forEach((function(r){var i=r.feature,o=n[e[t].source].getFeatureState(i.layer["source-layer"],i.id);i.source=i.layer.source,i.layer["source-layer"]&&(i.sourceLayer=i.layer["source-layer"]),i.state=o}))};for(var y in s)m(y);return s}(this._layers,this._serializedLayers,this.sourceCaches,t,n,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(u)},n.prototype.querySourceFeatures=function(t,n){n&&n.filter&&this._validate(e.validateStyle.filter,"querySourceFeatures.filter",n.filter,null,n);var r=this.sourceCaches[t];return r?function(e,t){for(var n=e.getRenderableIds().map((function(t){return e.getTileByID(t)})),r=[],i={},o=0;o<n.length;o++){var a=n[o],s=a.tileID.canonical.key;i[s]||(i[s]=!0,a.querySourceFeatures(r,t))}return r}(r,n):[]},n.prototype.addSourceType=function(e,t,r){return n.getSourceType(e)?r(new Error('A source type called "'+e+'" already exists.')):(n.setSourceType(e,t),t.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:e,url:t.workerSourceURL},r):r(null,null))},n.prototype.getLight=function(){return this.light.getLight()},n.prototype.setLight=function(t,n){void 0===n&&(n={}),this._checkLoaded();var r=this.light.getLight(),i=!1;for(var o in t)if(!e.deepEqual(t[o],r[o])){i=!0;break}if(i){var a={now:e.browser.now(),transition:e.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(t,n),this.light.updateTransitions(a)}},n.prototype._validate=function(t,n,r,i,o){return void 0===o&&(o={}),(!o||!1!==o.validate)&&Bt(this,t.call(e.validateStyle,e.extend({key:n,style:this.serialize(),value:r,styleSpec:e.styleSpec},i)))},n.prototype._remove=function(){for(var t in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),e.evented.off("pluginStateChange",this._rtlTextPluginCallback),this._layers)this._layers[t].setEventedParent(null);for(var n in this.sourceCaches)this.sourceCaches[n].clearTiles(),this.sourceCaches[n].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},n.prototype._clearSource=function(e){this.sourceCaches[e].clearTiles()},n.prototype._reloadSource=function(e){this.sourceCaches[e].resume(),this.sourceCaches[e].reload()},n.prototype._updateSources=function(e){for(var t in this.sourceCaches)this.sourceCaches[t].update(e)},n.prototype._generateCollisionBoxes=function(){for(var e in this.sourceCaches)this._reloadSource(e)},n.prototype._updatePlacement=function(t,n,r,i,o){void 0===o&&(o=!1);for(var a=!1,s=!1,l={},u=0,c=this._order;u<c.length;u+=1){var p=this._layers[c[u]];if("symbol"===p.type){if(!l[p.source]){var h=this.sourceCaches[p.source];l[p.source]=h.getRenderableIds(!0).map((function(e){return h.getTileByID(e)})).sort((function(e,t){return t.tileID.overscaledZ-e.tileID.overscaledZ||(e.tileID.isLessThan(t.tileID)?-1:1)}))}var d=this.crossTileSymbolIndex.addLayer(p,l[p.source],t.center.lng);a=a||d}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((o=o||this._layerOrderChanged||0===r)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(e.browser.now(),t.zoom))&&(this.pauseablePlacement=new Mt(t,this._order,o,n,r,i,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,l),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(e.browser.now()),s=!0),a&&this.pauseablePlacement.placement.setStale()),s||a)for(var f=0,m=this._order;f<m.length;f+=1){var y=this._layers[m[f]];"symbol"===y.type&&this.placement.updateLayerOpacities(y,l[y.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(e.browser.now())},n.prototype._releaseSymbolFadeTiles=function(){for(var e in this.sourceCaches)this.sourceCaches[e].releaseSymbolFadeTiles()},n.prototype.getImages=function(e,t,n){this.imageManager.getImages(t.icons,n),this._updateTilesForChangedImages();var r=this.sourceCaches[t.source];r&&r.setDependencies(t.tileID.key,t.type,t.icons)},n.prototype.getGlyphs=function(e,t,n){this.glyphManager.getGlyphs(t.stacks,n)},n.prototype.getResource=function(t,n,r){return e.makeRequest(n,r)},n}(e.Evented);qt.getSourceType=function(e){return R[e]},qt.setSourceType=function(e,t){R[e]=t},qt.registerForPluginStateChange=e.registerForPluginStateChange;var Wt=e.createLayout([{name:"a_pos",type:"Int16",components:2}]),Ht=gn("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}"),Gt=gn("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Zt=gn("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),Kt=gn("varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),Xt=gn("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Yt=gn("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}"),$t=gn("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),Jt=gn("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),Qt=gn("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),en=gn("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}"),tn=gn("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),nn=gn("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),rn=gn("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),on=gn("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),an=gn("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),sn=gn("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),ln=gn("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),un=gn("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;\n#define PI 3.141592653589793\nvoid main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),cn=gn("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),pn=gn("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),hn=gn("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}"),dn=gn("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),fn=gn("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),mn=gn("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}"),yn=gn("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),vn=gn("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}");function gn(e,t){var n=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,r=t.match(/attribute ([\w]+) ([\w]+)/g),i=e.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),o=t.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),a=o?o.concat(i):i,s={};return{fragmentSource:e=e.replace(n,(function(e,t,n,r,i){return s[i]=!0,"define"===t?"\n#ifndef HAS_UNIFORM_u_"+i+"\nvarying "+n+" "+r+" "+i+";\n#else\nuniform "+n+" "+r+" u_"+i+";\n#endif\n":"\n#ifdef HAS_UNIFORM_u_"+i+"\n    "+n+" "+r+" "+i+" = u_"+i+";\n#endif\n"})),vertexSource:t=t.replace(n,(function(e,t,n,r,i){var o="float"===r?"vec2":"vec4",a=i.match(/color/)?"color":o;return s[i]?"define"===t?"\n#ifndef HAS_UNIFORM_u_"+i+"\nuniform lowp float u_"+i+"_t;\nattribute "+n+" "+o+" a_"+i+";\nvarying "+n+" "+r+" "+i+";\n#else\nuniform "+n+" "+r+" u_"+i+";\n#endif\n":"vec4"===a?"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+i+" = a_"+i+";\n#else\n    "+n+" "+r+" "+i+" = u_"+i+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+i+" = unpack_mix_"+a+"(a_"+i+", u_"+i+"_t);\n#else\n    "+n+" "+r+" "+i+" = u_"+i+";\n#endif\n":"define"===t?"\n#ifndef HAS_UNIFORM_u_"+i+"\nuniform lowp float u_"+i+"_t;\nattribute "+n+" "+o+" a_"+i+";\n#else\nuniform "+n+" "+r+" u_"+i+";\n#endif\n":"vec4"===a?"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+n+" "+r+" "+i+" = a_"+i+";\n#else\n    "+n+" "+r+" "+i+" = u_"+i+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+n+" "+r+" "+i+" = unpack_mix_"+a+"(a_"+i+", u_"+i+"_t);\n#else\n    "+n+" "+r+" "+i+" = u_"+i+";\n#endif\n"})),staticAttributes:r,staticUniforms:a}}var _n=Object.freeze({__proto__:null,prelude:Ht,background:Gt,backgroundPattern:Zt,circle:Kt,clippingMask:Xt,heatmap:Yt,heatmapTexture:$t,collisionBox:Jt,collisionCircle:Qt,debug:en,fill:tn,fillOutline:nn,fillOutlinePattern:rn,fillPattern:on,fillExtrusion:an,fillExtrusionPattern:sn,hillshadePrepare:ln,hillshade:un,line:cn,lineGradient:pn,linePattern:hn,lineSDF:dn,raster:fn,symbolIcon:mn,symbolSDF:yn,symbolTextAndIcon:vn}),xn=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};function bn(e){for(var t=[],n=0;n<e.length;n++)if(null!==e[n]){var r=e[n].split(" ");t.push(r.pop())}return t}xn.prototype.bind=function(e,t,n,r,i,o,a,s){this.context=e;for(var l=this.boundPaintVertexBuffers.length!==r.length,u=0;!l&&u<r.length;u++)this.boundPaintVertexBuffers[u]!==r[u]&&(l=!0);e.extVertexArrayObject&&this.vao&&this.boundProgram===t&&this.boundLayoutVertexBuffer===n&&!l&&this.boundIndexBuffer===i&&this.boundVertexOffset===o&&this.boundDynamicVertexBuffer===a&&this.boundDynamicVertexBuffer2===s?(e.bindVertexArrayOES.set(this.vao),a&&a.bind(),i&&i.dynamicDraw&&i.bind(),s&&s.bind()):this.freshBind(t,n,r,i,o,a,s)},xn.prototype.freshBind=function(e,t,n,r,i,o,a){var s,l=e.numAttributes,u=this.context,c=u.gl;if(u.extVertexArrayObject)this.vao&&this.destroy(),this.vao=u.extVertexArrayObject.createVertexArrayOES(),u.bindVertexArrayOES.set(this.vao),s=0,this.boundProgram=e,this.boundLayoutVertexBuffer=t,this.boundPaintVertexBuffers=n,this.boundIndexBuffer=r,this.boundVertexOffset=i,this.boundDynamicVertexBuffer=o,this.boundDynamicVertexBuffer2=a;else{s=u.currentNumAttributes||0;for(var p=l;p<s;p++)c.disableVertexAttribArray(p)}t.enableAttributes(c,e);for(var h=0,d=n;h<d.length;h+=1)d[h].enableAttributes(c,e);o&&o.enableAttributes(c,e),a&&a.enableAttributes(c,e),t.bind(),t.setVertexAttribPointers(c,e,i);for(var f=0,m=n;f<m.length;f+=1){var y=m[f];y.bind(),y.setVertexAttribPointers(c,e,i)}o&&(o.bind(),o.setVertexAttribPointers(c,e,i)),r&&r.bind(),a&&(a.bind(),a.setVertexAttribPointers(c,e,i)),u.currentNumAttributes=l},xn.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var wn=function(e,t,n,r,i,o){var a=e.gl;this.program=a.createProgram();for(var s=bn(n.staticAttributes),l=r?r.getBinderAttributes():[],u=s.concat(l),c=n.staticUniforms?bn(n.staticUniforms):[],p=r?r.getBinderUniforms():[],h=[],d=0,f=c.concat(p);d<f.length;d+=1){var m=f[d];h.indexOf(m)<0&&h.push(m)}var y=r?r.defines():[];o&&y.push("#define OVERDRAW_INSPECTOR;");var v=y.concat(Ht.fragmentSource,n.fragmentSource).join("\n"),g=y.concat(Ht.vertexSource,n.vertexSource).join("\n"),_=a.createShader(a.FRAGMENT_SHADER);if(a.isContextLost())this.failedToCreate=!0;else{a.shaderSource(_,v),a.compileShader(_),a.attachShader(this.program,_);var x=a.createShader(a.VERTEX_SHADER);if(a.isContextLost())this.failedToCreate=!0;else{a.shaderSource(x,g),a.compileShader(x),a.attachShader(this.program,x),this.attributes={};var b={};this.numAttributes=u.length;for(var w=0;w<this.numAttributes;w++)u[w]&&(a.bindAttribLocation(this.program,w,u[w]),this.attributes[u[w]]=w);a.linkProgram(this.program),a.deleteShader(x),a.deleteShader(_);for(var S=0;S<h.length;S++){var E=h[S];if(E&&!b[E]){var T=a.getUniformLocation(this.program,E);T&&(b[E]=T)}}this.fixedUniforms=i(e,b),this.binderUniforms=r?r.getUniforms(e,b):[]}}};function Sn(e,t,n){var r=1/ht(n,1,t.transform.tileZoom),i=Math.pow(2,n.tileID.overscaledZ),o=n.tileSize*Math.pow(2,t.transform.tileZoom)/i,a=o*(n.tileID.canonical.x+n.tileID.wrap*i),s=o*n.tileID.canonical.y;return{u_image:0,u_texsize:n.imageAtlasTexture.size,u_scale:[r,e.fromScale,e.toScale],u_fade:e.t,u_pixel_coord_upper:[a>>16,s>>16],u_pixel_coord_lower:[65535&a,65535&s]}}wn.prototype.draw=function(e,t,n,r,i,o,a,s,l,u,c,p,h,d,f,m){var y,v=e.gl;if(!this.failedToCreate){for(var g in e.program.set(this.program),e.setDepthMode(n),e.setStencilMode(r),e.setColorMode(i),e.setCullFace(o),this.fixedUniforms)this.fixedUniforms[g].set(a[g]);d&&d.setUniforms(e,this.binderUniforms,p,{zoom:h});for(var _=(y={},y[v.LINES]=2,y[v.TRIANGLES]=3,y[v.LINE_STRIP]=1,y)[t],x=0,b=c.get();x<b.length;x+=1){var w=b[x],S=w.vaos||(w.vaos={});(S[s]||(S[s]=new xn)).bind(e,this,l,d?d.getPaintVertexBuffers():[],u,w.vertexOffset,f,m),v.drawElements(t,w.primitiveLength*_,v.UNSIGNED_SHORT,w.primitiveOffset*_*2)}}};var En=function(t,n,r,i){var o=n.style.light,a=o.properties.get("position"),s=[a.x,a.y,a.z],l=e.create$1();"viewport"===o.properties.get("anchor")&&e.fromRotation(l,-n.transform.angle),e.transformMat3(s,s,l);var u=o.properties.get("color");return{u_matrix:t,u_lightpos:s,u_lightintensity:o.properties.get("intensity"),u_lightcolor:[u.r,u.g,u.b],u_vertical_gradient:+r,u_opacity:i}},Tn=function(t,n,r,i,o,a,s){return e.extend(En(t,n,r,i),Sn(a,n,s),{u_height_factor:-Math.pow(2,o.overscaledZ)/s.tileSize/8})},Pn=function(e){return{u_matrix:e}},Cn=function(t,n,r,i){return e.extend(Pn(t),Sn(r,n,i))},kn=function(e,t){return{u_matrix:e,u_world:t}},An=function(t,n,r,i,o){return e.extend(Cn(t,n,r,i),{u_world:o})},In=function(t,n,r,i){var o,a,s=t.transform;if("map"===i.paint.get("circle-pitch-alignment")){var l=ht(r,1,s.zoom);o=!0,a=[l,l]}else o=!1,a=s.pixelsToGLUnits;return{u_camera_to_center_distance:s.cameraToCenterDistance,u_scale_with_map:+("map"===i.paint.get("circle-pitch-scale")),u_matrix:t.translatePosMatrix(n.posMatrix,r,i.paint.get("circle-translate"),i.paint.get("circle-translate-anchor")),u_pitch_with_map:+o,u_device_pixel_ratio:e.browser.devicePixelRatio,u_extrude_scale:a}},On=function(e,t,n){var r=ht(n,1,t.zoom),i=Math.pow(2,t.zoom-n.tileID.overscaledZ),o=n.tileID.overscaleFactor();return{u_matrix:e,u_camera_to_center_distance:t.cameraToCenterDistance,u_pixels_to_tile_units:r,u_extrude_scale:[t.pixelsToGLUnits[0]/(r*i),t.pixelsToGLUnits[1]/(r*i)],u_overscale_factor:o}},Dn=function(e,t,n){return{u_matrix:e,u_inv_matrix:t,u_camera_to_center_distance:n.cameraToCenterDistance,u_viewport_size:[n.width,n.height]}},Mn=function(e,t,n){return void 0===n&&(n=1),{u_matrix:e,u_color:t,u_overlay:0,u_overlay_scale:n}},jn=function(e){return{u_matrix:e}},Rn=function(e,t,n,r){return{u_matrix:e,u_extrude_scale:ht(t,1,n),u_intensity:r}},Ln=function(t,n,r){var i=t.transform;return{u_matrix:Un(t,n,r),u_ratio:1/ht(n,1,i.zoom),u_device_pixel_ratio:e.browser.devicePixelRatio,u_units_to_pixels:[1/i.pixelsToGLUnits[0],1/i.pixelsToGLUnits[1]]}},zn=function(t,n,r,i){return e.extend(Ln(t,n,r),{u_image:0,u_image_height:i})},Nn=function(t,n,r,i){var o=t.transform,a=Fn(n,o);return{u_matrix:Un(t,n,r),u_texsize:n.imageAtlasTexture.size,u_ratio:1/ht(n,1,o.zoom),u_device_pixel_ratio:e.browser.devicePixelRatio,u_image:0,u_scale:[a,i.fromScale,i.toScale],u_fade:i.t,u_units_to_pixels:[1/o.pixelsToGLUnits[0],1/o.pixelsToGLUnits[1]]}},Bn=function(t,n,r,i,o){var a=t.lineAtlas,s=Fn(n,t.transform),l="round"===r.layout.get("line-cap"),u=a.getDash(i.from,l),c=a.getDash(i.to,l),p=u.width*o.fromScale,h=c.width*o.toScale;return e.extend(Ln(t,n,r),{u_patternscale_a:[s/p,-u.height/2],u_patternscale_b:[s/h,-c.height/2],u_sdfgamma:a.width/(256*Math.min(p,h)*e.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:u.y,u_tex_y_b:c.y,u_mix:o.t})};function Fn(e,t){return 1/ht(e,1,t.tileZoom)}function Un(e,t,n){return e.translatePosMatrix(t.tileID.posMatrix,t,n.paint.get("line-translate"),n.paint.get("line-translate-anchor"))}var Vn=function(e,t,n,r,i){return{u_matrix:e,u_tl_parent:t,u_scale_parent:n,u_buffer_scale:1,u_fade_t:r.mix,u_opacity:r.opacity*i.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:i.paint.get("raster-brightness-min"),u_brightness_high:i.paint.get("raster-brightness-max"),u_saturation_factor:(a=i.paint.get("raster-saturation"),a>0?1-1/(1.001-a):-a),u_contrast_factor:(o=i.paint.get("raster-contrast"),o>0?1/(1-o):1+o),u_spin_weights:qn(i.paint.get("raster-hue-rotate"))};var o,a};function qn(e){e*=Math.PI/180;var t=Math.sin(e),n=Math.cos(e);return[(2*n+1)/3,(-Math.sqrt(3)*t-n+1)/3,(Math.sqrt(3)*t-n+1)/3]}var Wn,Hn=function(e,t,n,r,i,o,a,s,l,u){var c=i.transform;return{u_is_size_zoom_constant:+("constant"===e||"source"===e),u_is_size_feature_constant:+("constant"===e||"camera"===e),u_size_t:t?t.uSizeT:0,u_size:t?t.uSize:0,u_camera_to_center_distance:c.cameraToCenterDistance,u_pitch:c.pitch/360*2*Math.PI,u_rotate_symbol:+n,u_aspect_ratio:c.width/c.height,u_fade_change:i.options.fadeDuration?i.symbolFadeChange:1,u_matrix:o,u_label_plane_matrix:a,u_coord_matrix:s,u_is_text:+l,u_pitch_with_map:+r,u_texsize:u,u_texture:0}},Gn=function(t,n,r,i,o,a,s,l,u,c,p){var h=o.transform;return e.extend(Hn(t,n,r,i,o,a,s,l,u,c),{u_gamma_scale:i?Math.cos(h._pitch)*h.cameraToCenterDistance:1,u_device_pixel_ratio:e.browser.devicePixelRatio,u_is_halo:+p})},Zn=function(t,n,r,i,o,a,s,l,u,c){return e.extend(Gn(t,n,r,i,o,a,s,l,!0,u,!0),{u_texsize_icon:c,u_texture_icon:1})},Kn=function(e,t,n){return{u_matrix:e,u_opacity:t,u_color:n}},Xn=function(t,n,r,i,o,a){return e.extend(function(e,t,n,r){var i=n.imageManager.getPattern(e.from.toString()),o=n.imageManager.getPattern(e.to.toString()),a=n.imageManager.getPixelSize(),s=a.width,l=a.height,u=Math.pow(2,r.tileID.overscaledZ),c=r.tileSize*Math.pow(2,n.transform.tileZoom)/u,p=c*(r.tileID.canonical.x+r.tileID.wrap*u),h=c*r.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:i.tl,u_pattern_br_a:i.br,u_pattern_tl_b:o.tl,u_pattern_br_b:o.br,u_texsize:[s,l],u_mix:t.t,u_pattern_size_a:i.displaySize,u_pattern_size_b:o.displaySize,u_scale_a:t.fromScale,u_scale_b:t.toScale,u_tile_units_to_pixels:1/ht(r,1,n.transform.tileZoom),u_pixel_coord_upper:[p>>16,h>>16],u_pixel_coord_lower:[65535&p,65535&h]}}(i,a,r,o),{u_matrix:t,u_opacity:n})},Yn={fillExtrusion:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_lightpos:new e.Uniform3f(t,n.u_lightpos),u_lightintensity:new e.Uniform1f(t,n.u_lightintensity),u_lightcolor:new e.Uniform3f(t,n.u_lightcolor),u_vertical_gradient:new e.Uniform1f(t,n.u_vertical_gradient),u_opacity:new e.Uniform1f(t,n.u_opacity)}},fillExtrusionPattern:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_lightpos:new e.Uniform3f(t,n.u_lightpos),u_lightintensity:new e.Uniform1f(t,n.u_lightintensity),u_lightcolor:new e.Uniform3f(t,n.u_lightcolor),u_vertical_gradient:new e.Uniform1f(t,n.u_vertical_gradient),u_height_factor:new e.Uniform1f(t,n.u_height_factor),u_image:new e.Uniform1i(t,n.u_image),u_texsize:new e.Uniform2f(t,n.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,n.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,n.u_pixel_coord_lower),u_scale:new e.Uniform3f(t,n.u_scale),u_fade:new e.Uniform1f(t,n.u_fade),u_opacity:new e.Uniform1f(t,n.u_opacity)}},fill:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix)}},fillPattern:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_image:new e.Uniform1i(t,n.u_image),u_texsize:new e.Uniform2f(t,n.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,n.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,n.u_pixel_coord_lower),u_scale:new e.Uniform3f(t,n.u_scale),u_fade:new e.Uniform1f(t,n.u_fade)}},fillOutline:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_world:new e.Uniform2f(t,n.u_world)}},fillOutlinePattern:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_world:new e.Uniform2f(t,n.u_world),u_image:new e.Uniform1i(t,n.u_image),u_texsize:new e.Uniform2f(t,n.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,n.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,n.u_pixel_coord_lower),u_scale:new e.Uniform3f(t,n.u_scale),u_fade:new e.Uniform1f(t,n.u_fade)}},circle:function(t,n){return{u_camera_to_center_distance:new e.Uniform1f(t,n.u_camera_to_center_distance),u_scale_with_map:new e.Uniform1i(t,n.u_scale_with_map),u_pitch_with_map:new e.Uniform1i(t,n.u_pitch_with_map),u_extrude_scale:new e.Uniform2f(t,n.u_extrude_scale),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_matrix:new e.UniformMatrix4f(t,n.u_matrix)}},collisionBox:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_camera_to_center_distance:new e.Uniform1f(t,n.u_camera_to_center_distance),u_pixels_to_tile_units:new e.Uniform1f(t,n.u_pixels_to_tile_units),u_extrude_scale:new e.Uniform2f(t,n.u_extrude_scale),u_overscale_factor:new e.Uniform1f(t,n.u_overscale_factor)}},collisionCircle:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_inv_matrix:new e.UniformMatrix4f(t,n.u_inv_matrix),u_camera_to_center_distance:new e.Uniform1f(t,n.u_camera_to_center_distance),u_viewport_size:new e.Uniform2f(t,n.u_viewport_size)}},debug:function(t,n){return{u_color:new e.UniformColor(t,n.u_color),u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_overlay:new e.Uniform1i(t,n.u_overlay),u_overlay_scale:new e.Uniform1f(t,n.u_overlay_scale)}},clippingMask:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix)}},heatmap:function(t,n){return{u_extrude_scale:new e.Uniform1f(t,n.u_extrude_scale),u_intensity:new e.Uniform1f(t,n.u_intensity),u_matrix:new e.UniformMatrix4f(t,n.u_matrix)}},heatmapTexture:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_world:new e.Uniform2f(t,n.u_world),u_image:new e.Uniform1i(t,n.u_image),u_color_ramp:new e.Uniform1i(t,n.u_color_ramp),u_opacity:new e.Uniform1f(t,n.u_opacity)}},hillshade:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_image:new e.Uniform1i(t,n.u_image),u_latrange:new e.Uniform2f(t,n.u_latrange),u_light:new e.Uniform2f(t,n.u_light),u_shadow:new e.UniformColor(t,n.u_shadow),u_highlight:new e.UniformColor(t,n.u_highlight),u_accent:new e.UniformColor(t,n.u_accent)}},hillshadePrepare:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_image:new e.Uniform1i(t,n.u_image),u_dimension:new e.Uniform2f(t,n.u_dimension),u_zoom:new e.Uniform1f(t,n.u_zoom),u_unpack:new e.Uniform4f(t,n.u_unpack)}},line:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_ratio:new e.Uniform1f(t,n.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_units_to_pixels:new e.Uniform2f(t,n.u_units_to_pixels)}},lineGradient:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_ratio:new e.Uniform1f(t,n.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_units_to_pixels:new e.Uniform2f(t,n.u_units_to_pixels),u_image:new e.Uniform1i(t,n.u_image),u_image_height:new e.Uniform1f(t,n.u_image_height)}},linePattern:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_texsize:new e.Uniform2f(t,n.u_texsize),u_ratio:new e.Uniform1f(t,n.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_image:new e.Uniform1i(t,n.u_image),u_units_to_pixels:new e.Uniform2f(t,n.u_units_to_pixels),u_scale:new e.Uniform3f(t,n.u_scale),u_fade:new e.Uniform1f(t,n.u_fade)}},lineSDF:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_ratio:new e.Uniform1f(t,n.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_units_to_pixels:new e.Uniform2f(t,n.u_units_to_pixels),u_patternscale_a:new e.Uniform2f(t,n.u_patternscale_a),u_patternscale_b:new e.Uniform2f(t,n.u_patternscale_b),u_sdfgamma:new e.Uniform1f(t,n.u_sdfgamma),u_image:new e.Uniform1i(t,n.u_image),u_tex_y_a:new e.Uniform1f(t,n.u_tex_y_a),u_tex_y_b:new e.Uniform1f(t,n.u_tex_y_b),u_mix:new e.Uniform1f(t,n.u_mix)}},raster:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_tl_parent:new e.Uniform2f(t,n.u_tl_parent),u_scale_parent:new e.Uniform1f(t,n.u_scale_parent),u_buffer_scale:new e.Uniform1f(t,n.u_buffer_scale),u_fade_t:new e.Uniform1f(t,n.u_fade_t),u_opacity:new e.Uniform1f(t,n.u_opacity),u_image0:new e.Uniform1i(t,n.u_image0),u_image1:new e.Uniform1i(t,n.u_image1),u_brightness_low:new e.Uniform1f(t,n.u_brightness_low),u_brightness_high:new e.Uniform1f(t,n.u_brightness_high),u_saturation_factor:new e.Uniform1f(t,n.u_saturation_factor),u_contrast_factor:new e.Uniform1f(t,n.u_contrast_factor),u_spin_weights:new e.Uniform3f(t,n.u_spin_weights)}},symbolIcon:function(t,n){return{u_is_size_zoom_constant:new e.Uniform1i(t,n.u_is_size_zoom_constant),u_is_size_feature_constant:new e.Uniform1i(t,n.u_is_size_feature_constant),u_size_t:new e.Uniform1f(t,n.u_size_t),u_size:new e.Uniform1f(t,n.u_size),u_camera_to_center_distance:new e.Uniform1f(t,n.u_camera_to_center_distance),u_pitch:new e.Uniform1f(t,n.u_pitch),u_rotate_symbol:new e.Uniform1i(t,n.u_rotate_symbol),u_aspect_ratio:new e.Uniform1f(t,n.u_aspect_ratio),u_fade_change:new e.Uniform1f(t,n.u_fade_change),u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_label_plane_matrix:new e.UniformMatrix4f(t,n.u_label_plane_matrix),u_coord_matrix:new e.UniformMatrix4f(t,n.u_coord_matrix),u_is_text:new e.Uniform1i(t,n.u_is_text),u_pitch_with_map:new e.Uniform1i(t,n.u_pitch_with_map),u_texsize:new e.Uniform2f(t,n.u_texsize),u_texture:new e.Uniform1i(t,n.u_texture)}},symbolSDF:function(t,n){return{u_is_size_zoom_constant:new e.Uniform1i(t,n.u_is_size_zoom_constant),u_is_size_feature_constant:new e.Uniform1i(t,n.u_is_size_feature_constant),u_size_t:new e.Uniform1f(t,n.u_size_t),u_size:new e.Uniform1f(t,n.u_size),u_camera_to_center_distance:new e.Uniform1f(t,n.u_camera_to_center_distance),u_pitch:new e.Uniform1f(t,n.u_pitch),u_rotate_symbol:new e.Uniform1i(t,n.u_rotate_symbol),u_aspect_ratio:new e.Uniform1f(t,n.u_aspect_ratio),u_fade_change:new e.Uniform1f(t,n.u_fade_change),u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_label_plane_matrix:new e.UniformMatrix4f(t,n.u_label_plane_matrix),u_coord_matrix:new e.UniformMatrix4f(t,n.u_coord_matrix),u_is_text:new e.Uniform1i(t,n.u_is_text),u_pitch_with_map:new e.Uniform1i(t,n.u_pitch_with_map),u_texsize:new e.Uniform2f(t,n.u_texsize),u_texture:new e.Uniform1i(t,n.u_texture),u_gamma_scale:new e.Uniform1f(t,n.u_gamma_scale),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_is_halo:new e.Uniform1i(t,n.u_is_halo)}},symbolTextAndIcon:function(t,n){return{u_is_size_zoom_constant:new e.Uniform1i(t,n.u_is_size_zoom_constant),u_is_size_feature_constant:new e.Uniform1i(t,n.u_is_size_feature_constant),u_size_t:new e.Uniform1f(t,n.u_size_t),u_size:new e.Uniform1f(t,n.u_size),u_camera_to_center_distance:new e.Uniform1f(t,n.u_camera_to_center_distance),u_pitch:new e.Uniform1f(t,n.u_pitch),u_rotate_symbol:new e.Uniform1i(t,n.u_rotate_symbol),u_aspect_ratio:new e.Uniform1f(t,n.u_aspect_ratio),u_fade_change:new e.Uniform1f(t,n.u_fade_change),u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_label_plane_matrix:new e.UniformMatrix4f(t,n.u_label_plane_matrix),u_coord_matrix:new e.UniformMatrix4f(t,n.u_coord_matrix),u_is_text:new e.Uniform1i(t,n.u_is_text),u_pitch_with_map:new e.Uniform1i(t,n.u_pitch_with_map),u_texsize:new e.Uniform2f(t,n.u_texsize),u_texsize_icon:new e.Uniform2f(t,n.u_texsize_icon),u_texture:new e.Uniform1i(t,n.u_texture),u_texture_icon:new e.Uniform1i(t,n.u_texture_icon),u_gamma_scale:new e.Uniform1f(t,n.u_gamma_scale),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_is_halo:new e.Uniform1i(t,n.u_is_halo)}},background:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_opacity:new e.Uniform1f(t,n.u_opacity),u_color:new e.UniformColor(t,n.u_color)}},backgroundPattern:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_opacity:new e.Uniform1f(t,n.u_opacity),u_image:new e.Uniform1i(t,n.u_image),u_pattern_tl_a:new e.Uniform2f(t,n.u_pattern_tl_a),u_pattern_br_a:new e.Uniform2f(t,n.u_pattern_br_a),u_pattern_tl_b:new e.Uniform2f(t,n.u_pattern_tl_b),u_pattern_br_b:new e.Uniform2f(t,n.u_pattern_br_b),u_texsize:new e.Uniform2f(t,n.u_texsize),u_mix:new e.Uniform1f(t,n.u_mix),u_pattern_size_a:new e.Uniform2f(t,n.u_pattern_size_a),u_pattern_size_b:new e.Uniform2f(t,n.u_pattern_size_b),u_scale_a:new e.Uniform1f(t,n.u_scale_a),u_scale_b:new e.Uniform1f(t,n.u_scale_b),u_pixel_coord_upper:new e.Uniform2f(t,n.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,n.u_pixel_coord_lower),u_tile_units_to_pixels:new e.Uniform1f(t,n.u_tile_units_to_pixels)}}};function $n(t,n,r,i,o,a,s){for(var l=t.context,u=l.gl,c=t.useProgram("collisionBox"),p=[],h=0,d=0,f=0;f<i.length;f++){var m=i[f],y=n.getTile(m),v=y.getBucket(r);if(v){var g=m.posMatrix;0===o[0]&&0===o[1]||(g=t.translatePosMatrix(m.posMatrix,y,o,a));var _=s?v.textCollisionBox:v.iconCollisionBox,x=v.collisionCircleArray;if(x.length>0){var b=e.create(),w=g;e.mul(b,v.placementInvProjMatrix,t.transform.glCoordMatrix),e.mul(b,b,v.placementViewportMatrix),p.push({circleArray:x,circleOffset:d,transform:w,invTransform:b}),d=h+=x.length/4}_&&c.draw(l,u.LINES,Te.disabled,Pe.disabled,t.colorModeForRenderPass(),ke.disabled,On(g,t.transform,y),r.id,_.layoutVertexBuffer,_.indexBuffer,_.segments,null,t.transform.zoom,null,null,_.collisionVertexBuffer)}}if(s&&p.length){var S=t.useProgram("collisionCircle"),E=new e.StructArrayLayout2f1f2i16;E.resize(4*h),E._trim();for(var T=0,P=0,C=p;P<C.length;P+=1)for(var k=C[P],A=0;A<k.circleArray.length/4;A++){var I=4*A,O=k.circleArray[I+0],D=k.circleArray[I+1],M=k.circleArray[I+2],j=k.circleArray[I+3];E.emplace(T++,O,D,M,j,0),E.emplace(T++,O,D,M,j,1),E.emplace(T++,O,D,M,j,2),E.emplace(T++,O,D,M,j,3)}(!Wn||Wn.length<2*h)&&(Wn=function(t){var n=2*t,r=new e.StructArrayLayout3ui6;r.resize(n),r._trim();for(var i=0;i<n;i++){var o=6*i;r.uint16[o+0]=4*i+0,r.uint16[o+1]=4*i+1,r.uint16[o+2]=4*i+2,r.uint16[o+3]=4*i+2,r.uint16[o+4]=4*i+3,r.uint16[o+5]=4*i+0}return r}(h));for(var R=l.createIndexBuffer(Wn,!0),L=l.createVertexBuffer(E,e.collisionCircleLayout.members,!0),z=0,N=p;z<N.length;z+=1){var B=N[z],F=Dn(B.transform,B.invTransform,t.transform);S.draw(l,u.TRIANGLES,Te.disabled,Pe.disabled,t.colorModeForRenderPass(),ke.disabled,F,r.id,L,R,e.SegmentVector.simpleSegment(0,2*B.circleOffset,B.circleArray.length,B.circleArray.length/2),null,t.transform.zoom,null,null,null)}L.destroy(),R.destroy()}}var Jn=e.identity(new Float32Array(16));function Qn(t,n,r,i,o,a){var s=e.getAnchorAlignment(t),l=-(s.horizontalAlign-.5)*n,u=-(s.verticalAlign-.5)*r,c=e.evaluateVariableOffset(t,i);return new e.Point((l/o+c[0])*a,(u/o+c[1])*a)}function er(t,n,r,i,o,a,s,l,u,c,p){var h=t.text.placedSymbolArray,d=t.text.dynamicLayoutVertexArray,f=t.icon.dynamicLayoutVertexArray,m={};d.clear();for(var y=0;y<h.length;y++){var v=h.get(y),g=v.hidden||!v.crossTileID||t.allowVerticalPlacement&&!v.placedOrientation?null:i[v.crossTileID];if(g){var _=new e.Point(v.anchorX,v.anchorY),x=Qe(_,r?l:s),b=et(a.cameraToCenterDistance,x.signedDistanceFromCamera),w=o.evaluateSizeForFeature(t.textSizeData,c,v)*b/e.ONE_EM;r&&(w*=t.tilePixelRatio/u);for(var S=Qn(g.anchor,g.width,g.height,g.textOffset,g.textBoxScale,w),E=r?Qe(_.add(S),s).point:x.point.add(n?S.rotate(-a.angle):S),T=t.allowVerticalPlacement&&v.placedOrientation===e.WritingMode.vertical?Math.PI/2:0,P=0;P<v.numGlyphs;P++)e.addDynamicAttributes(d,E,T);p&&v.associatedIconIndex>=0&&(m[v.associatedIconIndex]={shiftedAnchor:E,angle:T})}else ut(v.numGlyphs,d)}if(p){f.clear();for(var C=t.icon.placedSymbolArray,k=0;k<C.length;k++){var A=C.get(k);if(A.hidden)ut(A.numGlyphs,f);else{var I=m[k];if(I)for(var O=0;O<A.numGlyphs;O++)e.addDynamicAttributes(f,I.shiftedAnchor,I.angle);else ut(A.numGlyphs,f)}}t.icon.dynamicLayoutVertexBuffer.updateData(f)}t.text.dynamicLayoutVertexBuffer.updateData(d)}function tr(e,t,n){return n.iconsInText&&t?"symbolTextAndIcon":e?"symbolSDF":"symbolIcon"}function nr(t,n,r,i,o,a,s,l,u,c,p,h){for(var d=t.context,f=d.gl,m=t.transform,y="map"===l,v="map"===u,g=y&&"point"!==r.layout.get("symbol-placement"),_=y&&!v&&!g,x=void 0!==r.layout.get("symbol-sort-key").constantOr(1),b=!1,w=t.depthModeForSublayer(0,Te.ReadOnly),S=r.layout.get("text-variable-anchor"),E=[],T=0,P=i;T<P.length;T+=1){var C=P[T],k=n.getTile(C),A=k.getBucket(r);if(A){var I=o?A.text:A.icon;if(I&&I.segments.get().length){var O=I.programConfigurations.get(r.id),D=o||A.sdfIcons,M=o?A.textSizeData:A.iconSizeData,j=v||0!==m.pitch,R=t.useProgram(tr(D,o,A),O),L=e.evaluateSizeForZoom(M,m.zoom),z=void 0,N=[0,0],B=void 0,F=void 0,U=null,V=void 0;if(o)B=k.glyphAtlasTexture,F=f.LINEAR,z=k.glyphAtlasTexture.size,A.iconsInText&&(N=k.imageAtlasTexture.size,U=k.imageAtlasTexture,V=j||t.options.rotating||t.options.zooming||"composite"===M.kind||"camera"===M.kind?f.LINEAR:f.NEAREST);else{var q=1!==r.layout.get("icon-size").constantOr(0)||A.iconsNeedLinear;B=k.imageAtlasTexture,F=D||t.options.rotating||t.options.zooming||q||j?f.LINEAR:f.NEAREST,z=k.imageAtlasTexture.size}var W=ht(k,1,t.transform.zoom),H=$e(C.posMatrix,v,y,t.transform,W),G=Je(C.posMatrix,v,y,t.transform,W),Z=S&&A.hasTextData(),K="none"!==r.layout.get("icon-text-fit")&&Z&&A.hasIconData();g&&nt(A,C.posMatrix,t,o,H,G,v,c);var X=t.translatePosMatrix(C.posMatrix,k,a,s),Y=g||o&&S||K?Jn:H,$=t.translatePosMatrix(G,k,a,s,!0),J=D&&0!==r.paint.get(o?"text-halo-width":"icon-halo-width").constantOr(1),Q={program:R,buffers:I,uniformValues:D?A.iconsInText?Zn(M.kind,L,_,v,t,X,Y,$,z,N):Gn(M.kind,L,_,v,t,X,Y,$,o,z,!0):Hn(M.kind,L,_,v,t,X,Y,$,o,z),atlasTexture:B,atlasTextureIcon:U,atlasInterpolation:F,atlasInterpolationIcon:V,isSDF:D,hasHalo:J};if(x&&A.canOverlap){b=!0;for(var ee=0,te=I.segments.get();ee<te.length;ee+=1){var ne=te[ee];E.push({segments:new e.SegmentVector([ne]),sortKey:ne.sortKey,state:Q})}}else E.push({segments:I.segments,sortKey:0,state:Q})}}}b&&E.sort((function(e,t){return e.sortKey-t.sortKey}));for(var re=0,ie=E;re<ie.length;re+=1){var oe=ie[re],ae=oe.state;if(d.activeTexture.set(f.TEXTURE0),ae.atlasTexture.bind(ae.atlasInterpolation,f.CLAMP_TO_EDGE),ae.atlasTextureIcon&&(d.activeTexture.set(f.TEXTURE1),ae.atlasTextureIcon&&ae.atlasTextureIcon.bind(ae.atlasInterpolationIcon,f.CLAMP_TO_EDGE)),ae.isSDF){var se=ae.uniformValues;ae.hasHalo&&(se.u_is_halo=1,rr(ae.buffers,oe.segments,r,t,ae.program,w,p,h,se)),se.u_is_halo=0}rr(ae.buffers,oe.segments,r,t,ae.program,w,p,h,ae.uniformValues)}}function rr(e,t,n,r,i,o,a,s,l){var u=r.context;i.draw(u,u.gl.TRIANGLES,o,a,s,ke.disabled,l,n.id,e.layoutVertexBuffer,e.indexBuffer,t,n.paint,r.transform.zoom,e.programConfigurations.get(n.id),e.dynamicLayoutVertexBuffer,e.opacityVertexBuffer)}function ir(e,t,n,r,i,o,a){var s,l,u,c,p,h=e.context.gl,d=n.paint.get("fill-pattern"),f=d&&d.constantOr(1),m=n.getCrossfadeParameters();a?(l=f&&!n.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",s=h.LINES):(l=f?"fillPattern":"fill",s=h.TRIANGLES);for(var y=0,v=r;y<v.length;y+=1){var g=v[y],_=t.getTile(g);if(!f||_.patternsLoaded()){var x=_.getBucket(n);if(x){var b=x.programConfigurations.get(n.id),w=e.useProgram(l,b);f&&(e.context.activeTexture.set(h.TEXTURE0),_.imageAtlasTexture.bind(h.LINEAR,h.CLAMP_TO_EDGE),b.updatePaintBuffers(m));var S=d.constantOr(null);if(S&&_.imageAtlas){var E=_.imageAtlas,T=E.patternPositions[S.to.toString()],P=E.patternPositions[S.from.toString()];T&&P&&b.setConstantPatternPositions(T,P)}var C=e.translatePosMatrix(g.posMatrix,_,n.paint.get("fill-translate"),n.paint.get("fill-translate-anchor"));if(a){c=x.indexBuffer2,p=x.segments2;var k=[h.drawingBufferWidth,h.drawingBufferHeight];u="fillOutlinePattern"===l&&f?An(C,e,m,_,k):kn(C,k)}else c=x.indexBuffer,p=x.segments,u=f?Cn(C,e,m,_):Pn(C);w.draw(e.context,s,i,e.stencilModeForClipping(g),o,ke.disabled,u,n.id,x.layoutVertexBuffer,c,p,n.paint,e.transform.zoom,b)}}}}function or(e,t,n,r,i,o,a){for(var s=e.context,l=s.gl,u=n.paint.get("fill-extrusion-pattern"),c=u.constantOr(1),p=n.getCrossfadeParameters(),h=n.paint.get("fill-extrusion-opacity"),d=0,f=r;d<f.length;d+=1){var m=f[d],y=t.getTile(m),v=y.getBucket(n);if(v){var g=v.programConfigurations.get(n.id),_=e.useProgram(c?"fillExtrusionPattern":"fillExtrusion",g);c&&(e.context.activeTexture.set(l.TEXTURE0),y.imageAtlasTexture.bind(l.LINEAR,l.CLAMP_TO_EDGE),g.updatePaintBuffers(p));var x=u.constantOr(null);if(x&&y.imageAtlas){var b=y.imageAtlas,w=b.patternPositions[x.to.toString()],S=b.patternPositions[x.from.toString()];w&&S&&g.setConstantPatternPositions(w,S)}var E=e.translatePosMatrix(m.posMatrix,y,n.paint.get("fill-extrusion-translate"),n.paint.get("fill-extrusion-translate-anchor")),T=n.paint.get("fill-extrusion-vertical-gradient"),P=c?Tn(E,e,T,h,m,p,y):En(E,e,T,h);_.draw(s,s.gl.TRIANGLES,i,o,a,ke.backCCW,P,n.id,v.layoutVertexBuffer,v.indexBuffer,v.segments,n.paint,e.transform.zoom,g)}}}function ar(t,n,r,i,o,a){var s=t.context,l=s.gl,u=n.fbo;if(u){var c=t.useProgram("hillshade");s.activeTexture.set(l.TEXTURE0),l.bindTexture(l.TEXTURE_2D,u.colorAttachment.get());var p=function(t,n,r){var i=r.paint.get("hillshade-shadow-color"),o=r.paint.get("hillshade-highlight-color"),a=r.paint.get("hillshade-accent-color"),s=r.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===r.paint.get("hillshade-illumination-anchor")&&(s-=t.transform.angle);var l,u,c,p=!t.options.moving;return{u_matrix:t.transform.calculatePosMatrix(n.tileID.toUnwrapped(),p),u_image:0,u_latrange:(l=n.tileID,u=Math.pow(2,l.canonical.z),c=l.canonical.y,[new e.MercatorCoordinate(0,c/u).toLngLat().lat,new e.MercatorCoordinate(0,(c+1)/u).toLngLat().lat]),u_light:[r.paint.get("hillshade-exaggeration"),s],u_shadow:i,u_highlight:o,u_accent:a}}(t,n,r);c.draw(s,l.TRIANGLES,i,o,a,ke.disabled,p,r.id,t.rasterBoundsBuffer,t.quadTriangleIndexBuffer,t.rasterBoundsSegments)}}function sr(t,n,r,i,o,a){var s=t.context,l=s.gl,u=n.dem;if(u&&u.data){var c=u.dim,p=u.stride,h=u.getPixels();if(s.activeTexture.set(l.TEXTURE1),s.pixelStoreUnpackPremultiplyAlpha.set(!1),n.demTexture=n.demTexture||t.getTileTexture(p),n.demTexture){var d=n.demTexture;d.update(h,{premultiply:!1}),d.bind(l.NEAREST,l.CLAMP_TO_EDGE)}else n.demTexture=new e.Texture(s,h,l.RGBA,{premultiply:!1}),n.demTexture.bind(l.NEAREST,l.CLAMP_TO_EDGE);s.activeTexture.set(l.TEXTURE0);var f=n.fbo;if(!f){var m=new e.Texture(s,{width:c,height:c,data:null},l.RGBA);m.bind(l.LINEAR,l.CLAMP_TO_EDGE),(f=n.fbo=s.createFramebuffer(c,c,!0)).colorAttachment.set(m.texture)}s.bindFramebuffer.set(f.framebuffer),s.viewport.set([0,0,c,c]),t.useProgram("hillshadePrepare").draw(s,l.TRIANGLES,i,o,a,ke.disabled,function(t,n){var r=n.stride,i=e.create();return e.ortho(i,0,e.EXTENT,-e.EXTENT,0,0,1),e.translate(i,i,[0,-e.EXTENT,0]),{u_matrix:i,u_image:1,u_dimension:[r,r],u_zoom:t.overscaledZ,u_unpack:n.getUnpackVector()}}(n.tileID,u),r.id,t.rasterBoundsBuffer,t.quadTriangleIndexBuffer,t.rasterBoundsSegments),n.needsHillshadePrepare=!1}}function lr(t,n,r,i,o){var a=i.paint.get("raster-fade-duration");if(a>0){var s=e.browser.now(),l=(s-t.timeAdded)/a,u=n?(s-n.timeAdded)/a:-1,c=r.getSource(),p=o.coveringZoomLevel({tileSize:c.tileSize,roundZoom:c.roundZoom}),h=!n||Math.abs(n.tileID.overscaledZ-p)>Math.abs(t.tileID.overscaledZ-p),d=h&&t.refreshedUponExpiration?1:e.clamp(h?l:1-u,0,1);return t.refreshedUponExpiration&&l>=1&&(t.refreshedUponExpiration=!1),n?{opacity:1,mix:1-d}:{opacity:d,mix:0}}return{opacity:1,mix:0}}var ur=new e.Color(1,0,0,1),cr=new e.Color(0,1,0,1),pr=new e.Color(0,0,1,1),hr=new e.Color(1,0,1,1),dr=new e.Color(0,1,1,1);function fr(e,t,n,r){yr(e,0,t+n/2,e.transform.width,n,r)}function mr(e,t,n,r){yr(e,t-n/2,0,n,e.transform.height,r)}function yr(t,n,r,i,o,a){var s=t.context,l=s.gl;l.enable(l.SCISSOR_TEST),l.scissor(n*e.browser.devicePixelRatio,r*e.browser.devicePixelRatio,i*e.browser.devicePixelRatio,o*e.browser.devicePixelRatio),s.clear({color:a}),l.disable(l.SCISSOR_TEST)}function vr(t,n,r){var i=t.context,o=i.gl,a=r.posMatrix,s=t.useProgram("debug"),l=Te.disabled,u=Pe.disabled,c=t.colorModeForRenderPass();i.activeTexture.set(o.TEXTURE0),t.emptyTexture.bind(o.LINEAR,o.CLAMP_TO_EDGE),s.draw(i,o.LINE_STRIP,l,u,c,ke.disabled,Mn(a,e.Color.red),"$debug",t.debugBuffer,t.tileBorderIndexBuffer,t.debugSegments);var p=n.getTileByID(r.key).latestRawTileData,h=Math.floor((p&&p.byteLength||0)/1024),d=n.getTile(r).tileSize,f=512/Math.min(d,512)*(r.overscaledZ/t.transform.zoom)*.5,m=r.canonical.toString();r.overscaledZ!==r.canonical.z&&(m+=" => "+r.overscaledZ),function(e,t){e.initDebugOverlayCanvas();var n=e.debugOverlayCanvas,r=e.context.gl,i=e.debugOverlayCanvas.getContext("2d");i.clearRect(0,0,n.width,n.height),i.shadowColor="white",i.shadowBlur=2,i.lineWidth=1.5,i.strokeStyle="white",i.textBaseline="top",i.font="bold 36px Open Sans, sans-serif",i.fillText(t,5,5),i.strokeText(t,5,5),e.debugOverlayTexture.update(n),e.debugOverlayTexture.bind(r.LINEAR,r.CLAMP_TO_EDGE)}(t,m+" "+h+"kb"),s.draw(i,o.TRIANGLES,l,u,Ce.alphaBlended,ke.disabled,Mn(a,e.Color.transparent,f),"$debug",t.debugBuffer,t.quadTriangleIndexBuffer,t.debugSegments)}var gr={symbol:function(t,n,r,i,o){if("translucent"===t.renderPass){var a=Pe.disabled,s=t.colorModeForRenderPass();r.layout.get("text-variable-anchor")&&function(t,n,r,i,o,a,s){for(var l=n.transform,u="map"===o,c="map"===a,p=0,h=t;p<h.length;p+=1){var d=h[p],f=i.getTile(d),m=f.getBucket(r);if(m&&m.text&&m.text.segments.get().length){var y=e.evaluateSizeForZoom(m.textSizeData,l.zoom),v=ht(f,1,n.transform.zoom),g=$e(d.posMatrix,c,u,n.transform,v),_="none"!==r.layout.get("icon-text-fit")&&m.hasIconData();if(y){var x=Math.pow(2,l.zoom-f.tileID.overscaledZ);er(m,u,c,s,e.symbolSize,l,g,d.posMatrix,x,y,_)}}}}(i,t,r,n,r.layout.get("text-rotation-alignment"),r.layout.get("text-pitch-alignment"),o),0!==r.paint.get("icon-opacity").constantOr(1)&&nr(t,n,r,i,!1,r.paint.get("icon-translate"),r.paint.get("icon-translate-anchor"),r.layout.get("icon-rotation-alignment"),r.layout.get("icon-pitch-alignment"),r.layout.get("icon-keep-upright"),a,s),0!==r.paint.get("text-opacity").constantOr(1)&&nr(t,n,r,i,!0,r.paint.get("text-translate"),r.paint.get("text-translate-anchor"),r.layout.get("text-rotation-alignment"),r.layout.get("text-pitch-alignment"),r.layout.get("text-keep-upright"),a,s),n.map.showCollisionBoxes&&($n(t,n,r,i,r.paint.get("text-translate"),r.paint.get("text-translate-anchor"),!0),$n(t,n,r,i,r.paint.get("icon-translate"),r.paint.get("icon-translate-anchor"),!1))}},circle:function(t,n,r,i){if("translucent"===t.renderPass){var o=r.paint.get("circle-opacity"),a=r.paint.get("circle-stroke-width"),s=r.paint.get("circle-stroke-opacity"),l=void 0!==r.layout.get("circle-sort-key").constantOr(1);if(0!==o.constantOr(1)||0!==a.constantOr(1)&&0!==s.constantOr(1)){for(var u=t.context,c=u.gl,p=t.depthModeForSublayer(0,Te.ReadOnly),h=Pe.disabled,d=t.colorModeForRenderPass(),f=[],m=0;m<i.length;m++){var y=i[m],v=n.getTile(y),g=v.getBucket(r);if(g){var _=g.programConfigurations.get(r.id),x={programConfiguration:_,program:t.useProgram("circle",_),layoutVertexBuffer:g.layoutVertexBuffer,indexBuffer:g.indexBuffer,uniformValues:In(t,y,v,r)};if(l)for(var b=0,w=g.segments.get();b<w.length;b+=1){var S=w[b];f.push({segments:new e.SegmentVector([S]),sortKey:S.sortKey,state:x})}else f.push({segments:g.segments,sortKey:0,state:x})}}l&&f.sort((function(e,t){return e.sortKey-t.sortKey}));for(var E=0,T=f;E<T.length;E+=1){var P=T[E],C=P.state;C.program.draw(u,c.TRIANGLES,p,h,d,ke.disabled,C.uniformValues,r.id,C.layoutVertexBuffer,C.indexBuffer,P.segments,r.paint,t.transform.zoom,C.programConfiguration)}}}},heatmap:function(t,n,r,i){if(0!==r.paint.get("heatmap-opacity"))if("offscreen"===t.renderPass){var o=t.context,a=o.gl,s=Pe.disabled,l=new Ce([a.ONE,a.ONE],e.Color.transparent,[!0,!0,!0,!0]);!function(e,t,n){var r=e.gl;e.activeTexture.set(r.TEXTURE1),e.viewport.set([0,0,t.width/4,t.height/4]);var i=n.heatmapFbo;if(i)r.bindTexture(r.TEXTURE_2D,i.colorAttachment.get()),e.bindFramebuffer.set(i.framebuffer);else{var o=r.createTexture();r.bindTexture(r.TEXTURE_2D,o),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),i=n.heatmapFbo=e.createFramebuffer(t.width/4,t.height/4,!1),function(e,t,n,r){var i=e.gl;i.texImage2D(i.TEXTURE_2D,0,i.RGBA,t.width/4,t.height/4,0,i.RGBA,e.extRenderToTextureHalfFloat?e.extTextureHalfFloat.HALF_FLOAT_OES:i.UNSIGNED_BYTE,null),r.colorAttachment.set(n)}(e,t,o,i)}}(o,t,r),o.clear({color:e.Color.transparent});for(var u=0;u<i.length;u++){var c=i[u];if(!n.hasRenderableParent(c)){var p=n.getTile(c),h=p.getBucket(r);if(h){var d=h.programConfigurations.get(r.id);t.useProgram("heatmap",d).draw(o,a.TRIANGLES,Te.disabled,s,l,ke.disabled,Rn(c.posMatrix,p,t.transform.zoom,r.paint.get("heatmap-intensity")),r.id,h.layoutVertexBuffer,h.indexBuffer,h.segments,r.paint,t.transform.zoom,d)}}}o.viewport.set([0,0,t.width,t.height])}else"translucent"===t.renderPass&&(t.context.setColorMode(t.colorModeForRenderPass()),function(t,n){var r=t.context,i=r.gl,o=n.heatmapFbo;if(o){r.activeTexture.set(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,o.colorAttachment.get()),r.activeTexture.set(i.TEXTURE1);var a=n.colorRampTexture;a||(a=n.colorRampTexture=new e.Texture(r,n.colorRamp,i.RGBA)),a.bind(i.LINEAR,i.CLAMP_TO_EDGE),t.useProgram("heatmapTexture").draw(r,i.TRIANGLES,Te.disabled,Pe.disabled,t.colorModeForRenderPass(),ke.disabled,function(t,n,r,i){var o=e.create();e.ortho(o,0,t.width,t.height,0,0,1);var a=t.context.gl;return{u_matrix:o,u_world:[a.drawingBufferWidth,a.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:n.paint.get("heatmap-opacity")}}(t,n),n.id,t.viewportBuffer,t.quadTriangleIndexBuffer,t.viewportSegments,n.paint,t.transform.zoom)}}(t,r))},line:function(t,n,r,i){if("translucent"===t.renderPass){var o=r.paint.get("line-opacity"),a=r.paint.get("line-width");if(0!==o.constantOr(1)&&0!==a.constantOr(1))for(var s=t.depthModeForSublayer(0,Te.ReadOnly),l=t.colorModeForRenderPass(),u=r.paint.get("line-dasharray"),c=r.paint.get("line-pattern"),p=c.constantOr(1),h=r.paint.get("line-gradient"),d=r.getCrossfadeParameters(),f=p?"linePattern":u?"lineSDF":h?"lineGradient":"line",m=t.context,y=m.gl,v=!0,g=0,_=i;g<_.length;g+=1){var x=_[g],b=n.getTile(x);if(!p||b.patternsLoaded()){var w=b.getBucket(r);if(w){var S=w.programConfigurations.get(r.id),E=t.context.program.get(),T=t.useProgram(f,S),P=v||T.program!==E,C=c.constantOr(null);if(C&&b.imageAtlas){var k=b.imageAtlas,A=k.patternPositions[C.to.toString()],I=k.patternPositions[C.from.toString()];A&&I&&S.setConstantPatternPositions(A,I)}var O=p?Nn(t,b,r,d):u?Bn(t,b,r,u,d):h?zn(t,b,r,w.lineClipsArray.length):Ln(t,b,r);if(p)m.activeTexture.set(y.TEXTURE0),b.imageAtlasTexture.bind(y.LINEAR,y.CLAMP_TO_EDGE),S.updatePaintBuffers(d);else if(u&&(P||t.lineAtlas.dirty))m.activeTexture.set(y.TEXTURE0),t.lineAtlas.bind(m);else if(h){var D=w.gradients[r.id],M=D.texture;if(r.gradientVersion!==D.version){var j=256;if(r.stepInterpolant){var R=n.getSource().maxzoom,L=x.canonical.z===R?Math.ceil(1<<t.transform.maxZoom-x.canonical.z):1;j=e.clamp(e.nextPowerOfTwo(w.maxLineLength/e.EXTENT*1024*L),256,m.maxTextureSize)}D.gradient=e.renderColorRamp({expression:r.gradientExpression(),evaluationKey:"lineProgress",resolution:j,image:D.gradient||void 0,clips:w.lineClipsArray}),D.texture?D.texture.update(D.gradient):D.texture=new e.Texture(m,D.gradient,y.RGBA),D.version=r.gradientVersion,M=D.texture}m.activeTexture.set(y.TEXTURE0),M.bind(r.stepInterpolant?y.NEAREST:y.LINEAR,y.CLAMP_TO_EDGE)}T.draw(m,y.TRIANGLES,s,t.stencilModeForClipping(x),l,ke.disabled,O,r.id,w.layoutVertexBuffer,w.indexBuffer,w.segments,r.paint,t.transform.zoom,S,w.layoutVertexBuffer2),v=!1}}}}},fill:function(t,n,r,i){var o=r.paint.get("fill-color"),a=r.paint.get("fill-opacity");if(0!==a.constantOr(1)){var s=t.colorModeForRenderPass(),l=r.paint.get("fill-pattern"),u=t.opaquePassEnabledForLayer()&&!l.constantOr(1)&&1===o.constantOr(e.Color.transparent).a&&1===a.constantOr(0)?"opaque":"translucent";if(t.renderPass===u){var c=t.depthModeForSublayer(1,"opaque"===t.renderPass?Te.ReadWrite:Te.ReadOnly);ir(t,n,r,i,c,s,!1)}if("translucent"===t.renderPass&&r.paint.get("fill-antialias")){var p=t.depthModeForSublayer(r.getPaintProperty("fill-outline-color")?2:0,Te.ReadOnly);ir(t,n,r,i,p,s,!0)}}},"fill-extrusion":function(e,t,n,r){var i=n.paint.get("fill-extrusion-opacity");if(0!==i&&"translucent"===e.renderPass){var o=new Te(e.context.gl.LEQUAL,Te.ReadWrite,e.depthRangeFor3D);if(1!==i||n.paint.get("fill-extrusion-pattern").constantOr(1))or(e,t,n,r,o,Pe.disabled,Ce.disabled),or(e,t,n,r,o,e.stencilModeFor3D(),e.colorModeForRenderPass());else{var a=e.colorModeForRenderPass();or(e,t,n,r,o,Pe.disabled,a)}}},hillshade:function(e,t,n,r){if("offscreen"===e.renderPass||"translucent"===e.renderPass){for(var i=e.context,o=e.depthModeForSublayer(0,Te.ReadOnly),a=e.colorModeForRenderPass(),s="translucent"===e.renderPass?e.stencilConfigForOverlap(r):[{},r],l=s[0],u=0,c=s[1];u<c.length;u+=1){var p=c[u],h=t.getTile(p);h.needsHillshadePrepare&&"offscreen"===e.renderPass?sr(e,h,n,o,Pe.disabled,a):"translucent"===e.renderPass&&ar(e,h,n,o,l[p.overscaledZ],a)}i.viewport.set([0,0,e.width,e.height])}},raster:function(e,t,n,r){if("translucent"===e.renderPass&&0!==n.paint.get("raster-opacity")&&r.length)for(var i=e.context,o=i.gl,a=t.getSource(),s=e.useProgram("raster"),l=e.colorModeForRenderPass(),u=a instanceof D?[{},r]:e.stencilConfigForOverlap(r),c=u[0],p=u[1],h=p[p.length-1].overscaledZ,d=!e.options.moving,f=0,m=p;f<m.length;f+=1){var y=m[f],v=e.depthModeForSublayer(y.overscaledZ-h,1===n.paint.get("raster-opacity")?Te.ReadWrite:Te.ReadOnly,o.LESS),g=t.getTile(y),_=e.transform.calculatePosMatrix(y.toUnwrapped(),d);g.registerFadeDuration(n.paint.get("raster-fade-duration"));var x=t.findLoadedParent(y,0),b=lr(g,x,t,n,e.transform),w=void 0,S=void 0,E="nearest"===n.paint.get("raster-resampling")?o.NEAREST:o.LINEAR;i.activeTexture.set(o.TEXTURE0),g.texture.bind(E,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST),i.activeTexture.set(o.TEXTURE1),x?(x.texture.bind(E,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST),w=Math.pow(2,x.tileID.overscaledZ-g.tileID.overscaledZ),S=[g.tileID.canonical.x*w%1,g.tileID.canonical.y*w%1]):g.texture.bind(E,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST);var T=Vn(_,S||[0,0],w||1,b,n);a instanceof D?s.draw(i,o.TRIANGLES,v,Pe.disabled,l,ke.disabled,T,n.id,a.boundsBuffer,e.quadTriangleIndexBuffer,a.boundsSegments):s.draw(i,o.TRIANGLES,v,c[y.overscaledZ],l,ke.disabled,T,n.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments)}},background:function(e,t,n){var r=n.paint.get("background-color"),i=n.paint.get("background-opacity");if(0!==i){var o=e.context,a=o.gl,s=e.transform,l=s.tileSize,u=n.paint.get("background-pattern");if(!e.isPatternMissing(u)){var c=!u&&1===r.a&&1===i&&e.opaquePassEnabledForLayer()?"opaque":"translucent";if(e.renderPass===c){var p=Pe.disabled,h=e.depthModeForSublayer(0,"opaque"===c?Te.ReadWrite:Te.ReadOnly),d=e.colorModeForRenderPass(),f=e.useProgram(u?"backgroundPattern":"background"),m=s.coveringTiles({tileSize:l});u&&(o.activeTexture.set(a.TEXTURE0),e.imageManager.bind(e.context));for(var y=n.getCrossfadeParameters(),v=0,g=m;v<g.length;v+=1){var _=g[v],x=e.transform.calculatePosMatrix(_.toUnwrapped()),b=u?Xn(x,i,e,u,{tileID:_,tileSize:l},y):Kn(x,i,r);f.draw(o,a.TRIANGLES,h,p,d,ke.disabled,b,n.id,e.tileExtentBuffer,e.quadTriangleIndexBuffer,e.tileExtentSegments)}}}}},debug:function(e,t,n){for(var r=0;r<n.length;r++)vr(e,t,n[r])},custom:function(e,t,n){var r=e.context,i=n.implementation;if("offscreen"===e.renderPass){var o=i.prerender;o&&(e.setCustomLayerDefaults(),r.setColorMode(e.colorModeForRenderPass()),o.call(i,r.gl,e.transform.customLayerMatrix()),r.setDirty(),e.setBaseState())}else if("translucent"===e.renderPass){e.setCustomLayerDefaults(),r.setColorMode(e.colorModeForRenderPass()),r.setStencilMode(Pe.disabled);var a="3d"===i.renderingMode?new Te(e.context.gl.LEQUAL,Te.ReadWrite,e.depthRangeFor3D):e.depthModeForSublayer(0,Te.ReadOnly);r.setDepthMode(a),i.render(r.gl,e.transform.customLayerMatrix()),r.setDirty(),e.setBaseState(),r.bindFramebuffer.set(null)}}},_r=function(e,t){this.context=new Ae(e),this.transform=t,this._tileTextures={},this.setup(),this.numSublayers=Ie.maxUnderzooming+Ie.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Nt,this.gpuTimers={}};_r.prototype.resize=function(t,n){if(this.width=t*e.browser.devicePixelRatio,this.height=n*e.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var r=0,i=this.style._order;r<i.length;r+=1)this.style._layers[i[r]].resize()},_r.prototype.setup=function(){var t=this.context,n=new e.StructArrayLayout2i4;n.emplaceBack(0,0),n.emplaceBack(e.EXTENT,0),n.emplaceBack(0,e.EXTENT),n.emplaceBack(e.EXTENT,e.EXTENT),this.tileExtentBuffer=t.createVertexBuffer(n,Wt.members),this.tileExtentSegments=e.SegmentVector.simpleSegment(0,0,4,2);var r=new e.StructArrayLayout2i4;r.emplaceBack(0,0),r.emplaceBack(e.EXTENT,0),r.emplaceBack(0,e.EXTENT),r.emplaceBack(e.EXTENT,e.EXTENT),this.debugBuffer=t.createVertexBuffer(r,Wt.members),this.debugSegments=e.SegmentVector.simpleSegment(0,0,4,5);var i=new e.StructArrayLayout4i8;i.emplaceBack(0,0,0,0),i.emplaceBack(e.EXTENT,0,e.EXTENT,0),i.emplaceBack(0,e.EXTENT,0,e.EXTENT),i.emplaceBack(e.EXTENT,e.EXTENT,e.EXTENT,e.EXTENT),this.rasterBoundsBuffer=t.createVertexBuffer(i,O.members),this.rasterBoundsSegments=e.SegmentVector.simpleSegment(0,0,4,2);var o=new e.StructArrayLayout2i4;o.emplaceBack(0,0),o.emplaceBack(1,0),o.emplaceBack(0,1),o.emplaceBack(1,1),this.viewportBuffer=t.createVertexBuffer(o,Wt.members),this.viewportSegments=e.SegmentVector.simpleSegment(0,0,4,2);var a=new e.StructArrayLayout1ui2;a.emplaceBack(0),a.emplaceBack(1),a.emplaceBack(3),a.emplaceBack(2),a.emplaceBack(0),this.tileBorderIndexBuffer=t.createIndexBuffer(a);var s=new e.StructArrayLayout3ui6;s.emplaceBack(0,1,2),s.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=t.createIndexBuffer(s),this.emptyTexture=new e.Texture(t,{width:1,height:1,data:new Uint8Array([0,0,0,0])},t.gl.RGBA);var l=this.context.gl;this.stencilClearMode=new Pe({func:l.ALWAYS,mask:0},0,255,l.ZERO,l.ZERO,l.ZERO)},_r.prototype.clearStencil=function(){var t=this.context,n=t.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var r=e.create();e.ortho(r,0,this.width,this.height,0,0,1),e.scale(r,r,[n.drawingBufferWidth,n.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(t,n.TRIANGLES,Te.disabled,this.stencilClearMode,Ce.disabled,ke.disabled,jn(r),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},_r.prototype._renderTileClippingMasks=function(e,t){if(this.currentStencilSource!==e.source&&e.isTileClipped()&&t&&t.length){this.currentStencilSource=e.source;var n=this.context,r=n.gl;this.nextStencilID+t.length>256&&this.clearStencil(),n.setColorMode(Ce.disabled),n.setDepthMode(Te.disabled);var i=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var o=0,a=t;o<a.length;o+=1){var s=a[o],l=this._tileClippingMaskIDs[s.key]=this.nextStencilID++;i.draw(n,r.TRIANGLES,Te.disabled,new Pe({func:r.ALWAYS,mask:0},l,255,r.KEEP,r.KEEP,r.REPLACE),Ce.disabled,ke.disabled,jn(s.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},_r.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var e=this.nextStencilID++,t=this.context.gl;return new Pe({func:t.NOTEQUAL,mask:255},e,255,t.KEEP,t.KEEP,t.REPLACE)},_r.prototype.stencilModeForClipping=function(e){var t=this.context.gl;return new Pe({func:t.EQUAL,mask:255},this._tileClippingMaskIDs[e.key],0,t.KEEP,t.KEEP,t.REPLACE)},_r.prototype.stencilConfigForOverlap=function(e){var t,n=this.context.gl,r=e.sort((function(e,t){return t.overscaledZ-e.overscaledZ})),i=r[r.length-1].overscaledZ,o=r[0].overscaledZ-i+1;if(o>1){this.currentStencilSource=void 0,this.nextStencilID+o>256&&this.clearStencil();for(var a={},s=0;s<o;s++)a[s+i]=new Pe({func:n.GEQUAL,mask:255},s+this.nextStencilID,255,n.KEEP,n.KEEP,n.REPLACE);return this.nextStencilID+=o,[a,r]}return[(t={},t[i]=Pe.disabled,t),r]},_r.prototype.colorModeForRenderPass=function(){var t=this.context.gl;return this._showOverdrawInspector?new Ce([t.CONSTANT_COLOR,t.ONE],new e.Color(1/8,1/8,1/8,0),[!0,!0,!0,!0]):"opaque"===this.renderPass?Ce.unblended:Ce.alphaBlended},_r.prototype.depthModeForSublayer=function(e,t,n){if(!this.opaquePassEnabledForLayer())return Te.disabled;var r=1-((1+this.currentLayer)*this.numSublayers+e)*this.depthEpsilon;return new Te(n||this.context.gl.LEQUAL,t,[r,r])},_r.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},_r.prototype.render=function(t,n){var r=this;this.style=t,this.options=n,this.lineAtlas=t.lineAtlas,this.imageManager=t.imageManager,this.glyphManager=t.glyphManager,this.symbolFadeChange=t.placement.symbolFadeChange(e.browser.now()),this.imageManager.beginFrame();var i=this.style._order,o=this.style.sourceCaches;for(var a in o){var s=o[a];s.used&&s.prepare(this.context)}var l,u,c={},p={},h={};for(var d in o){var f=o[d];c[d]=f.getVisibleCoordinates(),p[d]=c[d].slice().reverse(),h[d]=f.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var m=0;m<i.length;m++)if(this.style._layers[i[m]].is3D()){this.opaquePassCutoff=m;break}this.renderPass="offscreen";for(var y=0,v=i;y<v.length;y+=1){var g=this.style._layers[v[y]];if(g.hasOffscreenPass()&&!g.isHidden(this.transform.zoom)){var _=p[g.source];("custom"===g.type||_.length)&&this.renderLayer(this,o[g.source],g,_)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:n.showOverdrawInspector?e.Color.black:e.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=n.showOverdrawInspector,this.depthRangeFor3D=[0,1-(t._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=i.length-1;this.currentLayer>=0;this.currentLayer--){var x=this.style._layers[i[this.currentLayer]],b=o[x.source],w=c[x.source];this._renderTileClippingMasks(x,w),this.renderLayer(this,b,x,w)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<i.length;this.currentLayer++){var S=this.style._layers[i[this.currentLayer]],E=o[S.source],T=("symbol"===S.type?h:p)[S.source];this._renderTileClippingMasks(S,c[S.source]),this.renderLayer(this,E,S,T)}this.options.showTileBoundaries&&(e.values(this.style._layers).forEach((function(e){e.source&&!e.isHidden(r.transform.zoom)&&(e.source!==(u&&u.id)&&(u=r.style.sourceCaches[e.source]),(!l||l.getSource().maxzoom<u.getSource().maxzoom)&&(l=u))})),l&&gr.debug(this,l,l.getVisibleCoordinates())),this.options.showPadding&&function(e){var t=e.transform.padding;fr(e,e.transform.height-(t.top||0),3,ur),fr(e,t.bottom||0,3,cr),mr(e,t.left||0,3,pr),mr(e,e.transform.width-(t.right||0),3,hr);var n=e.transform.centerPoint;!function(e,t,n,r){yr(e,t-1,n-10,2,20,r),yr(e,t-10,n-1,20,2,r)}(e,n.x,e.transform.height-n.y,dr)}(this),this.context.setDefault()},_r.prototype.renderLayer=function(e,t,n,r){n.isHidden(this.transform.zoom)||("background"===n.type||"custom"===n.type||r.length)&&(this.id=n.id,this.gpuTimingStart(n),gr[n.type](e,t,n,r,this.style.placement.variableOffsets),this.gpuTimingEnd())},_r.prototype.gpuTimingStart=function(e){if(this.options.gpuTiming){var t=this.context.extTimerQuery,n=this.gpuTimers[e.id];n||(n=this.gpuTimers[e.id]={calls:0,cpuTime:0,query:t.createQueryEXT()}),n.calls++,t.beginQueryEXT(t.TIME_ELAPSED_EXT,n.query)}},_r.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var e=this.context.extTimerQuery;e.endQueryEXT(e.TIME_ELAPSED_EXT)}},_r.prototype.collectGpuTimers=function(){var e=this.gpuTimers;return this.gpuTimers={},e},_r.prototype.queryGpuTimers=function(e){var t={};for(var n in e){var r=e[n],i=this.context.extTimerQuery,o=i.getQueryObjectEXT(r.query,i.QUERY_RESULT_EXT)/1e6;i.deleteQueryEXT(r.query),t[n]=o}return t},_r.prototype.translatePosMatrix=function(t,n,r,i,o){if(!r[0]&&!r[1])return t;var a=o?"map"===i?this.transform.angle:0:"viewport"===i?-this.transform.angle:0;if(a){var s=Math.sin(a),l=Math.cos(a);r=[r[0]*l-r[1]*s,r[0]*s+r[1]*l]}var u=[o?r[0]:ht(n,r[0],this.transform.zoom),o?r[1]:ht(n,r[1],this.transform.zoom),0],c=new Float32Array(16);return e.translate(c,t,u),c},_r.prototype.saveTileTexture=function(e){var t=this._tileTextures[e.size[0]];t?t.push(e):this._tileTextures[e.size[0]]=[e]},_r.prototype.getTileTexture=function(e){var t=this._tileTextures[e];return t&&t.length>0?t.pop():null},_r.prototype.isPatternMissing=function(e){if(!e)return!1;if(!e.from||!e.to)return!0;var t=this.imageManager.getPattern(e.from.toString()),n=this.imageManager.getPattern(e.to.toString());return!t||!n},_r.prototype.useProgram=function(e,t){this.cache=this.cache||{};var n=""+e+(t?t.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[n]||(this.cache[n]=new wn(this.context,e,_n[e],t,Yn[e],this._showOverdrawInspector)),this.cache[n]},_r.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},_r.prototype.setBaseState=function(){var e=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(e.FUNC_ADD)},_r.prototype.initDebugOverlayCanvas=function(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=e.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new e.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))},_r.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var xr=function(e,t){this.points=e,this.planes=t};xr.fromInvProjectionMatrix=function(t,n,r){var i=Math.pow(2,r),o=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map((function(n){return e.transformMat4([],n,t)})).map((function(t){return e.scale$1([],t,1/t[3]/n*i)})),a=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map((function(t){var n=e.sub([],o[t[0]],o[t[1]]),r=e.sub([],o[t[2]],o[t[1]]),i=e.normalize([],e.cross([],n,r)),a=-e.dot(i,o[t[1]]);return i.concat(a)}));return new xr(o,a)};var br=function(t,n){this.min=t,this.max=n,this.center=e.scale$2([],e.add([],this.min,this.max),.5)};br.prototype.quadrant=function(t){for(var n=[t%2==0,t<2],r=e.clone$2(this.min),i=e.clone$2(this.max),o=0;o<n.length;o++)r[o]=n[o]?this.min[o]:this.center[o],i[o]=n[o]?this.center[o]:this.max[o];return i[2]=this.max[2],new br(r,i)},br.prototype.distanceX=function(e){return Math.max(Math.min(this.max[0],e[0]),this.min[0])-e[0]},br.prototype.distanceY=function(e){return Math.max(Math.min(this.max[1],e[1]),this.min[1])-e[1]},br.prototype.intersects=function(t){for(var n=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],r=!0,i=0;i<t.planes.length;i++){for(var o=t.planes[i],a=0,s=0;s<n.length;s++)a+=e.dot$1(o,n[s])>=0;if(0===a)return 0;a!==n.length&&(r=!1)}if(r)return 2;for(var l=0;l<3;l++){for(var u=Number.MAX_VALUE,c=-Number.MAX_VALUE,p=0;p<t.points.length;p++){var h=t.points[p][l]-this.min[l];u=Math.min(u,h),c=Math.max(c,h)}if(c<0||u>this.max[l]-this.min[l])return 0}return 1};var wr=function(e,t,n,r){if(void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=0),isNaN(e)||e<0||isNaN(t)||t<0||isNaN(n)||n<0||isNaN(r)||r<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=e,this.bottom=t,this.left=n,this.right=r};wr.prototype.interpolate=function(t,n,r){return null!=n.top&&null!=t.top&&(this.top=e.number(t.top,n.top,r)),null!=n.bottom&&null!=t.bottom&&(this.bottom=e.number(t.bottom,n.bottom,r)),null!=n.left&&null!=t.left&&(this.left=e.number(t.left,n.left,r)),null!=n.right&&null!=t.right&&(this.right=e.number(t.right,n.right,r)),this},wr.prototype.getCenter=function(t,n){var r=e.clamp((this.left+t-this.right)/2,0,t),i=e.clamp((this.top+n-this.bottom)/2,0,n);return new e.Point(r,i)},wr.prototype.equals=function(e){return this.top===e.top&&this.bottom===e.bottom&&this.left===e.left&&this.right===e.right},wr.prototype.clone=function(){return new wr(this.top,this.bottom,this.left,this.right)},wr.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var Sr=function(t,n,r,i,o){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===o||o,this._minZoom=t||0,this._maxZoom=n||22,this._minPitch=null==r?0:r,this._maxPitch=null==i?60:i,this.setMaxBounds(),this.width=0,this.height=0,this._center=new e.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new wr,this._posMatrixCache={},this._alignedPosMatrixCache={}},Er={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};Sr.prototype.clone=function(){var e=new Sr(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return e.tileSize=this.tileSize,e.latRange=this.latRange,e.width=this.width,e.height=this.height,e._center=this._center,e.zoom=this.zoom,e.angle=this.angle,e._fov=this._fov,e._pitch=this._pitch,e._unmodified=this._unmodified,e._edgeInsets=this._edgeInsets.clone(),e._calcMatrices(),e},Er.minZoom.get=function(){return this._minZoom},Er.minZoom.set=function(e){this._minZoom!==e&&(this._minZoom=e,this.zoom=Math.max(this.zoom,e))},Er.maxZoom.get=function(){return this._maxZoom},Er.maxZoom.set=function(e){this._maxZoom!==e&&(this._maxZoom=e,this.zoom=Math.min(this.zoom,e))},Er.minPitch.get=function(){return this._minPitch},Er.minPitch.set=function(e){this._minPitch!==e&&(this._minPitch=e,this.pitch=Math.max(this.pitch,e))},Er.maxPitch.get=function(){return this._maxPitch},Er.maxPitch.set=function(e){this._maxPitch!==e&&(this._maxPitch=e,this.pitch=Math.min(this.pitch,e))},Er.renderWorldCopies.get=function(){return this._renderWorldCopies},Er.renderWorldCopies.set=function(e){void 0===e?e=!0:null===e&&(e=!1),this._renderWorldCopies=e},Er.worldSize.get=function(){return this.tileSize*this.scale},Er.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},Er.size.get=function(){return new e.Point(this.width,this.height)},Er.bearing.get=function(){return-this.angle/Math.PI*180},Er.bearing.set=function(t){var n=-e.wrap(t,-180,180)*Math.PI/180;this.angle!==n&&(this._unmodified=!1,this.angle=n,this._calcMatrices(),this.rotationMatrix=e.create$2(),e.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},Er.pitch.get=function(){return this._pitch/Math.PI*180},Er.pitch.set=function(t){var n=e.clamp(t,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==n&&(this._unmodified=!1,this._pitch=n,this._calcMatrices())},Er.fov.get=function(){return this._fov/Math.PI*180},Er.fov.set=function(e){e=Math.max(.01,Math.min(60,e)),this._fov!==e&&(this._unmodified=!1,this._fov=e/180*Math.PI,this._calcMatrices())},Er.zoom.get=function(){return this._zoom},Er.zoom.set=function(e){var t=Math.min(Math.max(e,this.minZoom),this.maxZoom);this._zoom!==t&&(this._unmodified=!1,this._zoom=t,this.scale=this.zoomScale(t),this.tileZoom=Math.floor(t),this.zoomFraction=t-this.tileZoom,this._constrain(),this._calcMatrices())},Er.center.get=function(){return this._center},Er.center.set=function(e){e.lat===this._center.lat&&e.lng===this._center.lng||(this._unmodified=!1,this._center=e,this._constrain(),this._calcMatrices())},Er.padding.get=function(){return this._edgeInsets.toJSON()},Er.padding.set=function(e){this._edgeInsets.equals(e)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,e,1),this._calcMatrices())},Er.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},Sr.prototype.isPaddingEqual=function(e){return this._edgeInsets.equals(e)},Sr.prototype.interpolatePadding=function(e,t,n){this._unmodified=!1,this._edgeInsets.interpolate(e,t,n),this._constrain(),this._calcMatrices()},Sr.prototype.coveringZoomLevel=function(e){var t=(e.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/e.tileSize));return Math.max(0,t)},Sr.prototype.getVisibleUnwrappedCoordinates=function(t){var n=[new e.UnwrappedTileID(0,t)];if(this._renderWorldCopies)for(var r=this.pointCoordinate(new e.Point(0,0)),i=this.pointCoordinate(new e.Point(this.width,0)),o=this.pointCoordinate(new e.Point(this.width,this.height)),a=this.pointCoordinate(new e.Point(0,this.height)),s=Math.floor(Math.min(r.x,i.x,o.x,a.x)),l=Math.floor(Math.max(r.x,i.x,o.x,a.x)),u=s-1;u<=l+1;u++)0!==u&&n.push(new e.UnwrappedTileID(u,t));return n},Sr.prototype.coveringTiles=function(t){var n=this.coveringZoomLevel(t),r=n;if(void 0!==t.minzoom&&n<t.minzoom)return[];void 0!==t.maxzoom&&n>t.maxzoom&&(n=t.maxzoom);var i=e.MercatorCoordinate.fromLngLat(this.center),o=Math.pow(2,n),a=[o*i.x,o*i.y,0],s=xr.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,n),l=t.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(l=n);var u=function(e){return{aabb:new br([e*o,0,0],[(e+1)*o,o,0]),zoom:0,x:0,y:0,wrap:e,fullyVisible:!1}},c=[],p=[],h=n,d=t.reparseOverscaled?r:n;if(this._renderWorldCopies)for(var f=1;f<=3;f++)c.push(u(-f)),c.push(u(f));for(c.push(u(0));c.length>0;){var m=c.pop(),y=m.x,v=m.y,g=m.fullyVisible;if(!g){var _=m.aabb.intersects(s);if(0===_)continue;g=2===_}var x=m.aabb.distanceX(a),b=m.aabb.distanceY(a),w=Math.max(Math.abs(x),Math.abs(b));if(m.zoom===h||w>3+(1<<h-m.zoom)-2&&m.zoom>=l)p.push({tileID:new e.OverscaledTileID(m.zoom===h?d:m.zoom,m.wrap,m.zoom,y,v),distanceSq:e.sqrLen([a[0]-.5-y,a[1]-.5-v])});else for(var S=0;S<4;S++){var E=(y<<1)+S%2,T=(v<<1)+(S>>1);c.push({aabb:m.aabb.quadrant(S),zoom:m.zoom+1,x:E,y:T,wrap:m.wrap,fullyVisible:g})}}return p.sort((function(e,t){return e.distanceSq-t.distanceSq})).map((function(e){return e.tileID}))},Sr.prototype.resize=function(e,t){this.width=e,this.height=t,this.pixelsToGLUnits=[2/e,-2/t],this._constrain(),this._calcMatrices()},Er.unmodified.get=function(){return this._unmodified},Sr.prototype.zoomScale=function(e){return Math.pow(2,e)},Sr.prototype.scaleZoom=function(e){return Math.log(e)/Math.LN2},Sr.prototype.project=function(t){var n=e.clamp(t.lat,-this.maxValidLatitude,this.maxValidLatitude);return new e.Point(e.mercatorXfromLng(t.lng)*this.worldSize,e.mercatorYfromLat(n)*this.worldSize)},Sr.prototype.unproject=function(t){return new e.MercatorCoordinate(t.x/this.worldSize,t.y/this.worldSize).toLngLat()},Er.point.get=function(){return this.project(this.center)},Sr.prototype.setLocationAtPoint=function(t,n){var r=this.pointCoordinate(n),i=this.pointCoordinate(this.centerPoint),o=this.locationCoordinate(t),a=new e.MercatorCoordinate(o.x-(r.x-i.x),o.y-(r.y-i.y));this.center=this.coordinateLocation(a),this._renderWorldCopies&&(this.center=this.center.wrap())},Sr.prototype.locationPoint=function(e){return this.coordinatePoint(this.locationCoordinate(e))},Sr.prototype.pointLocation=function(e){return this.coordinateLocation(this.pointCoordinate(e))},Sr.prototype.locationCoordinate=function(t){return e.MercatorCoordinate.fromLngLat(t)},Sr.prototype.coordinateLocation=function(e){return e.toLngLat()},Sr.prototype.pointCoordinate=function(t){var n=[t.x,t.y,0,1],r=[t.x,t.y,1,1];e.transformMat4(n,n,this.pixelMatrixInverse),e.transformMat4(r,r,this.pixelMatrixInverse);var i=n[3],o=r[3],a=n[1]/i,s=r[1]/o,l=n[2]/i,u=r[2]/o,c=l===u?0:(0-l)/(u-l);return new e.MercatorCoordinate(e.number(n[0]/i,r[0]/o,c)/this.worldSize,e.number(a,s,c)/this.worldSize)},Sr.prototype.coordinatePoint=function(t){var n=[t.x*this.worldSize,t.y*this.worldSize,0,1];return e.transformMat4(n,n,this.pixelMatrix),new e.Point(n[0]/n[3],n[1]/n[3])},Sr.prototype.getBounds=function(){return(new e.LngLatBounds).extend(this.pointLocation(new e.Point(0,0))).extend(this.pointLocation(new e.Point(this.width,0))).extend(this.pointLocation(new e.Point(this.width,this.height))).extend(this.pointLocation(new e.Point(0,this.height)))},Sr.prototype.getMaxBounds=function(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new e.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},Sr.prototype.setMaxBounds=function(e){e?(this.lngRange=[e.getWest(),e.getEast()],this.latRange=[e.getSouth(),e.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},Sr.prototype.calculatePosMatrix=function(t,n){void 0===n&&(n=!1);var r=t.key,i=n?this._alignedPosMatrixCache:this._posMatrixCache;if(i[r])return i[r];var o=t.canonical,a=this.worldSize/this.zoomScale(o.z),s=o.x+Math.pow(2,o.z)*t.wrap,l=e.identity(new Float64Array(16));return e.translate(l,l,[s*a,o.y*a,0]),e.scale(l,l,[a/e.EXTENT,a/e.EXTENT,1]),e.multiply(l,n?this.alignedProjMatrix:this.projMatrix,l),i[r]=new Float32Array(l),i[r]},Sr.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},Sr.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var t,n,r,i,o=-90,a=90,s=-180,l=180,u=this.size,c=this._unmodified;if(this.latRange){var p=this.latRange;o=e.mercatorYfromLat(p[1])*this.worldSize,t=(a=e.mercatorYfromLat(p[0])*this.worldSize)-o<u.y?u.y/(a-o):0}if(this.lngRange){var h=this.lngRange;s=e.mercatorXfromLng(h[0])*this.worldSize,n=(l=e.mercatorXfromLng(h[1])*this.worldSize)-s<u.x?u.x/(l-s):0}var d=this.point,f=Math.max(n||0,t||0);if(f)return this.center=this.unproject(new e.Point(n?(l+s)/2:d.x,t?(a+o)/2:d.y)),this.zoom+=this.scaleZoom(f),this._unmodified=c,void(this._constraining=!1);if(this.latRange){var m=d.y,y=u.y/2;m-y<o&&(i=o+y),m+y>a&&(i=a-y)}if(this.lngRange){var v=d.x,g=u.x/2;v-g<s&&(r=s+g),v+g>l&&(r=l-g)}void 0===r&&void 0===i||(this.center=this.unproject(new e.Point(void 0!==r?r:d.x,void 0!==i?i:d.y))),this._unmodified=c,this._constraining=!1}},Sr.prototype._calcMatrices=function(){if(this.height){var t=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var n=Math.PI/2+this._pitch,r=this._fov*(.5+t.y/this.height),i=Math.sin(r)*this.cameraToCenterDistance/Math.sin(e.clamp(Math.PI-n-r,.01,Math.PI-.01)),o=this.point,a=o.x,s=o.y,l=1.01*(Math.cos(Math.PI/2-this._pitch)*i+this.cameraToCenterDistance),u=this.height/50,c=new Float64Array(16);e.perspective(c,this._fov,this.width/this.height,u,l),c[8]=2*-t.x/this.width,c[9]=2*t.y/this.height,e.scale(c,c,[1,-1,1]),e.translate(c,c,[0,0,-this.cameraToCenterDistance]),e.rotateX(c,c,this._pitch),e.rotateZ(c,c,this.angle),e.translate(c,c,[-a,-s,0]),this.mercatorMatrix=e.scale([],c,[this.worldSize,this.worldSize,this.worldSize]),e.scale(c,c,[1,1,e.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=c,this.invProjMatrix=e.invert([],this.projMatrix);var p=this.width%2/2,h=this.height%2/2,d=Math.cos(this.angle),f=Math.sin(this.angle),m=a-Math.round(a)+d*p+f*h,y=s-Math.round(s)+d*h+f*p,v=new Float64Array(c);if(e.translate(v,v,[m>.5?m-1:m,y>.5?y-1:y,0]),this.alignedProjMatrix=v,c=e.create(),e.scale(c,c,[this.width/2,-this.height/2,1]),e.translate(c,c,[1,-1,0]),this.labelPlaneMatrix=c,c=e.create(),e.scale(c,c,[1,-1,1]),e.translate(c,c,[-1,-1,0]),e.scale(c,c,[2/this.width,2/this.height,1]),this.glCoordMatrix=c,this.pixelMatrix=e.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(c=e.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=c,this._posMatrixCache={},this._alignedPosMatrixCache={}}},Sr.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var t=this.pointCoordinate(new e.Point(0,0)),n=[t.x*this.worldSize,t.y*this.worldSize,0,1];return e.transformMat4(n,n,this.pixelMatrix)[3]/this.cameraToCenterDistance},Sr.prototype.getCameraPoint=function(){var t=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new e.Point(0,t))},Sr.prototype.getCameraQueryGeometry=function(t){var n=this.getCameraPoint();if(1===t.length)return[t[0],n];for(var r=n.x,i=n.y,o=n.x,a=n.y,s=0,l=t;s<l.length;s+=1){var u=l[s];r=Math.min(r,u.x),i=Math.min(i,u.y),o=Math.max(o,u.x),a=Math.max(a,u.y)}return[new e.Point(r,i),new e.Point(o,i),new e.Point(o,a),new e.Point(r,a),new e.Point(r,i)]},Object.defineProperties(Sr.prototype,Er);var Tr=function(t){var n,r,i,o;this._hashName=t&&encodeURIComponent(t),e.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=(n=this._updateHashUnthrottled.bind(this),r=!1,i=null,o=function(){i=null,r&&(n(),i=setTimeout(o,300),r=!1)},function(){return r=!0,i||o(),i})};Tr.prototype.addTo=function(t){return this._map=t,e.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},Tr.prototype.remove=function(){return e.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},Tr.prototype.getHashString=function(t){var n=this._map.getCenter(),r=Math.round(100*this._map.getZoom())/100,i=Math.ceil((r*Math.LN2+Math.log(512/360/.5))/Math.LN10),o=Math.pow(10,i),a=Math.round(n.lng*o)/o,s=Math.round(n.lat*o)/o,l=this._map.getBearing(),u=this._map.getPitch(),c="";if(c+=t?"/"+a+"/"+s+"/"+r:r+"/"+s+"/"+a,(l||u)&&(c+="/"+Math.round(10*l)/10),u&&(c+="/"+Math.round(u)),this._hashName){var p=this._hashName,h=!1,d=e.window.location.hash.slice(1).split("&").map((function(e){var t=e.split("=")[0];return t===p?(h=!0,t+"="+c):e})).filter((function(e){return e}));return h||d.push(p+"="+c),"#"+d.join("&")}return"#"+c},Tr.prototype._getCurrentHash=function(){var t,n=this,r=e.window.location.hash.replace("#","");return this._hashName?(r.split("&").map((function(e){return e.split("=")})).forEach((function(e){e[0]===n._hashName&&(t=e)})),(t&&t[1]||"").split("/")):r.split("/")},Tr.prototype._onHashChange=function(){var e=this._getCurrentHash();if(e.length>=3&&!e.some((function(e){return isNaN(e)}))){var t=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(e[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+e[2],+e[1]],zoom:+e[0],bearing:t,pitch:+(e[4]||0)}),!0}return!1},Tr.prototype._updateHashUnthrottled=function(){var t=e.window.location.href.replace(/(#.+)?$/,this.getHashString());try{e.window.history.replaceState(e.window.history.state,null,t)}catch(e){}};var Pr={linearity:.3,easing:e.bezier(0,0,.3,1)},Cr=e.extend({deceleration:2500,maxSpeed:1400},Pr),kr=e.extend({deceleration:20,maxSpeed:1400},Pr),Ar=e.extend({deceleration:1e3,maxSpeed:360},Pr),Ir=e.extend({deceleration:1e3,maxSpeed:90},Pr),Or=function(e){this._map=e,this.clear()};function Dr(e,t){(!e.duration||e.duration<t.duration)&&(e.duration=t.duration,e.easing=t.easing)}function Mr(t,n,r){var i=r.maxSpeed,o=r.linearity,a=r.deceleration,s=e.clamp(t*o/(n/1e3),-i,i),l=Math.abs(s)/(a*o);return{easing:r.easing,duration:1e3*l,amount:s*(l/2)}}Or.prototype.clear=function(){this._inertiaBuffer=[]},Or.prototype.record=function(t){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:e.browser.now(),settings:t})},Or.prototype._drainInertiaBuffer=function(){for(var t=this._inertiaBuffer,n=e.browser.now();t.length>0&&n-t[0].time>160;)t.shift()},Or.prototype._onMoveEnd=function(t){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var n={zoom:0,bearing:0,pitch:0,pan:new e.Point(0,0),pinchAround:void 0,around:void 0},r=0,i=this._inertiaBuffer;r<i.length;r+=1){var o=i[r].settings;n.zoom+=o.zoomDelta||0,n.bearing+=o.bearingDelta||0,n.pitch+=o.pitchDelta||0,o.panDelta&&n.pan._add(o.panDelta),o.around&&(n.around=o.around),o.pinchAround&&(n.pinchAround=o.pinchAround)}var a=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,s={};if(n.pan.mag()){var l=Mr(n.pan.mag(),a,e.extend({},Cr,t||{}));s.offset=n.pan.mult(l.amount/n.pan.mag()),s.center=this._map.transform.center,Dr(s,l)}if(n.zoom){var u=Mr(n.zoom,a,kr);s.zoom=this._map.transform.zoom+u.amount,Dr(s,u)}if(n.bearing){var c=Mr(n.bearing,a,Ar);s.bearing=this._map.transform.bearing+e.clamp(c.amount,-179,179),Dr(s,c)}if(n.pitch){var p=Mr(n.pitch,a,Ir);s.pitch=this._map.transform.pitch+p.amount,Dr(s,p)}if(s.zoom||s.bearing){var h=void 0===n.pinchAround?n.around:n.pinchAround;s.around=h?this._map.unproject(h):this._map.getCenter()}return this.clear(),e.extend(s,{noMoveStart:!0})}};var jr=function(t){function r(r,i,o,a){void 0===a&&(a={});var s=n.mousePos(i.getCanvasContainer(),o),l=i.unproject(s);t.call(this,r,e.extend({point:s,lngLat:l,originalEvent:o},a)),this._defaultPrevented=!1,this.target=i}t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r;var i={defaultPrevented:{configurable:!0}};return r.prototype.preventDefault=function(){this._defaultPrevented=!0},i.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(r.prototype,i),r}(e.Event),Rr=function(t){function r(r,i,o){var a="touchend"===r?o.changedTouches:o.touches,s=n.touchPos(i.getCanvasContainer(),a),l=s.map((function(e){return i.unproject(e)})),u=s.reduce((function(e,t,n,r){return e.add(t.div(r.length))}),new e.Point(0,0)),c=i.unproject(u);t.call(this,r,{points:s,point:u,lngLats:l,lngLat:c,originalEvent:o}),this._defaultPrevented=!1}t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r;var i={defaultPrevented:{configurable:!0}};return r.prototype.preventDefault=function(){this._defaultPrevented=!0},i.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(r.prototype,i),r}(e.Event),Lr=function(e){function t(t,n,r){e.call(this,t,{originalEvent:r}),this._defaultPrevented=!1}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={defaultPrevented:{configurable:!0}};return t.prototype.preventDefault=function(){this._defaultPrevented=!0},n.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(t.prototype,n),t}(e.Event),zr=function(e,t){this._map=e,this._clickTolerance=t.clickTolerance};zr.prototype.reset=function(){delete this._mousedownPos},zr.prototype.wheel=function(e){return this._firePreventable(new Lr(e.type,this._map,e))},zr.prototype.mousedown=function(e,t){return this._mousedownPos=t,this._firePreventable(new jr(e.type,this._map,e))},zr.prototype.mouseup=function(e){this._map.fire(new jr(e.type,this._map,e))},zr.prototype.click=function(e,t){this._mousedownPos&&this._mousedownPos.dist(t)>=this._clickTolerance||this._map.fire(new jr(e.type,this._map,e))},zr.prototype.dblclick=function(e){return this._firePreventable(new jr(e.type,this._map,e))},zr.prototype.mouseover=function(e){this._map.fire(new jr(e.type,this._map,e))},zr.prototype.mouseout=function(e){this._map.fire(new jr(e.type,this._map,e))},zr.prototype.touchstart=function(e){return this._firePreventable(new Rr(e.type,this._map,e))},zr.prototype.touchmove=function(e){this._map.fire(new Rr(e.type,this._map,e))},zr.prototype.touchend=function(e){this._map.fire(new Rr(e.type,this._map,e))},zr.prototype.touchcancel=function(e){this._map.fire(new Rr(e.type,this._map,e))},zr.prototype._firePreventable=function(e){if(this._map.fire(e),e.defaultPrevented)return{}},zr.prototype.isEnabled=function(){return!0},zr.prototype.isActive=function(){return!1},zr.prototype.enable=function(){},zr.prototype.disable=function(){};var Nr=function(e){this._map=e};Nr.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},Nr.prototype.mousemove=function(e){this._map.fire(new jr(e.type,this._map,e))},Nr.prototype.mousedown=function(){this._delayContextMenu=!0},Nr.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new jr("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},Nr.prototype.contextmenu=function(e){this._delayContextMenu?this._contextMenuEvent=e:this._map.fire(new jr(e.type,this._map,e)),this._map.listens("contextmenu")&&e.preventDefault()},Nr.prototype.isEnabled=function(){return!0},Nr.prototype.isActive=function(){return!1},Nr.prototype.enable=function(){},Nr.prototype.disable=function(){};var Br=function(e,t){this._map=e,this._el=e.getCanvasContainer(),this._container=e.getContainer(),this._clickTolerance=t.clickTolerance||1};function Fr(e,t){for(var n={},r=0;r<e.length;r++)n[e[r].identifier]=t[r];return n}Br.prototype.isEnabled=function(){return!!this._enabled},Br.prototype.isActive=function(){return!!this._active},Br.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},Br.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Br.prototype.mousedown=function(e,t){this.isEnabled()&&e.shiftKey&&0===e.button&&(n.disableDrag(),this._startPos=this._lastPos=t,this._active=!0)},Br.prototype.mousemoveWindow=function(e,t){if(this._active){var r=t;if(!(this._lastPos.equals(r)||!this._box&&r.dist(this._startPos)<this._clickTolerance)){var i=this._startPos;this._lastPos=r,this._box||(this._box=n.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",e));var o=Math.min(i.x,r.x),a=Math.max(i.x,r.x),s=Math.min(i.y,r.y),l=Math.max(i.y,r.y);n.setTransform(this._box,"translate("+o+"px,"+s+"px)"),this._box.style.width=a-o+"px",this._box.style.height=l-s+"px"}}},Br.prototype.mouseupWindow=function(t,r){var i=this;if(this._active&&0===t.button){var o=this._startPos,a=r;if(this.reset(),n.suppressClick(),o.x!==a.x||o.y!==a.y)return this._map.fire(new e.Event("boxzoomend",{originalEvent:t})),{cameraAnimation:function(e){return e.fitScreenCoordinates(o,a,i._map.getBearing(),{linear:!0})}};this._fireEvent("boxzoomcancel",t)}},Br.prototype.keydown=function(e){this._active&&27===e.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",e))},Br.prototype.blur=function(){this.reset()},Br.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(n.remove(this._box),this._box=null),n.enableDrag(),delete this._startPos,delete this._lastPos},Br.prototype._fireEvent=function(t,n){return this._map.fire(new e.Event(t,{originalEvent:n}))};var Ur=function(e){this.reset(),this.numTouches=e.numTouches};Ur.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},Ur.prototype.touchstart=function(t,n,r){(this.centroid||r.length>this.numTouches)&&(this.aborted=!0),this.aborted||(void 0===this.startTime&&(this.startTime=t.timeStamp),r.length===this.numTouches&&(this.centroid=function(t){for(var n=new e.Point(0,0),r=0,i=t;r<i.length;r+=1)n._add(i[r]);return n.div(t.length)}(n),this.touches=Fr(r,n)))},Ur.prototype.touchmove=function(e,t,n){if(!this.aborted&&this.centroid){var r=Fr(n,t);for(var i in this.touches){var o=r[i];(!o||o.dist(this.touches[i])>30)&&(this.aborted=!0)}}},Ur.prototype.touchend=function(e,t,n){if((!this.centroid||e.timeStamp-this.startTime>500)&&(this.aborted=!0),0===n.length){var r=!this.aborted&&this.centroid;if(this.reset(),r)return r}};var Vr=function(e){this.singleTap=new Ur(e),this.numTaps=e.numTaps,this.reset()};Vr.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},Vr.prototype.touchstart=function(e,t,n){this.singleTap.touchstart(e,t,n)},Vr.prototype.touchmove=function(e,t,n){this.singleTap.touchmove(e,t,n)},Vr.prototype.touchend=function(e,t,n){var r=this.singleTap.touchend(e,t,n);if(r){var i=e.timeStamp-this.lastTime<500,o=!this.lastTap||this.lastTap.dist(r)<30;if(i&&o||this.reset(),this.count++,this.lastTime=e.timeStamp,this.lastTap=r,this.count===this.numTaps)return this.reset(),r}};var qr=function(){this._zoomIn=new Vr({numTouches:1,numTaps:2}),this._zoomOut=new Vr({numTouches:2,numTaps:1}),this.reset()};qr.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},qr.prototype.touchstart=function(e,t,n){this._zoomIn.touchstart(e,t,n),this._zoomOut.touchstart(e,t,n)},qr.prototype.touchmove=function(e,t,n){this._zoomIn.touchmove(e,t,n),this._zoomOut.touchmove(e,t,n)},qr.prototype.touchend=function(e,t,n){var r=this,i=this._zoomIn.touchend(e,t,n),o=this._zoomOut.touchend(e,t,n);return i?(this._active=!0,e.preventDefault(),setTimeout((function(){return r.reset()}),0),{cameraAnimation:function(t){return t.easeTo({duration:300,zoom:t.getZoom()+1,around:t.unproject(i)},{originalEvent:e})}}):o?(this._active=!0,e.preventDefault(),setTimeout((function(){return r.reset()}),0),{cameraAnimation:function(t){return t.easeTo({duration:300,zoom:t.getZoom()-1,around:t.unproject(o)},{originalEvent:e})}}):void 0},qr.prototype.touchcancel=function(){this.reset()},qr.prototype.enable=function(){this._enabled=!0},qr.prototype.disable=function(){this._enabled=!1,this.reset()},qr.prototype.isEnabled=function(){return this._enabled},qr.prototype.isActive=function(){return this._active};var Wr={0:1,2:2},Hr=function(e){this.reset(),this._clickTolerance=e.clickTolerance||1};Hr.prototype.blur=function(){this.reset()},Hr.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},Hr.prototype._correctButton=function(e,t){return!1},Hr.prototype._move=function(e,t){return{}},Hr.prototype.mousedown=function(e,t){if(!this._lastPoint){var r=n.mouseButton(e);this._correctButton(e,r)&&(this._lastPoint=t,this._eventButton=r)}},Hr.prototype.mousemoveWindow=function(e,t){var n=this._lastPoint;if(n)if(e.preventDefault(),function(e,t){var n=Wr[t];return void 0===e.buttons||(e.buttons&n)!==n}(e,this._eventButton))this.reset();else if(this._moved||!(t.dist(n)<this._clickTolerance))return this._moved=!0,this._lastPoint=t,this._move(n,t)},Hr.prototype.mouseupWindow=function(e){this._lastPoint&&n.mouseButton(e)===this._eventButton&&(this._moved&&n.suppressClick(),this.reset())},Hr.prototype.enable=function(){this._enabled=!0},Hr.prototype.disable=function(){this._enabled=!1,this.reset()},Hr.prototype.isEnabled=function(){return this._enabled},Hr.prototype.isActive=function(){return this._active};var Gr=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.mousedown=function(t,n){e.prototype.mousedown.call(this,t,n),this._lastPoint&&(this._active=!0)},t.prototype._correctButton=function(e,t){return 0===t&&!e.ctrlKey},t.prototype._move=function(e,t){return{around:t,panDelta:t.sub(e)}},t}(Hr),Zr=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._correctButton=function(e,t){return 0===t&&e.ctrlKey||2===t},t.prototype._move=function(e,t){var n=.8*(t.x-e.x);if(n)return this._active=!0,{bearingDelta:n}},t.prototype.contextmenu=function(e){e.preventDefault()},t}(Hr),Kr=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._correctButton=function(e,t){return 0===t&&e.ctrlKey||2===t},t.prototype._move=function(e,t){var n=-.5*(t.y-e.y);if(n)return this._active=!0,{pitchDelta:n}},t.prototype.contextmenu=function(e){e.preventDefault()},t}(Hr),Xr=function(e){this._minTouches=1,this._clickTolerance=e.clickTolerance||1,this.reset()};Xr.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new e.Point(0,0)},Xr.prototype.touchstart=function(e,t,n){return this._calculateTransform(e,t,n)},Xr.prototype.touchmove=function(e,t,n){if(this._active&&!(n.length<this._minTouches))return e.preventDefault(),this._calculateTransform(e,t,n)},Xr.prototype.touchend=function(e,t,n){this._calculateTransform(e,t,n),this._active&&n.length<this._minTouches&&this.reset()},Xr.prototype.touchcancel=function(){this.reset()},Xr.prototype._calculateTransform=function(t,n,r){r.length>0&&(this._active=!0);var i=Fr(r,n),o=new e.Point(0,0),a=new e.Point(0,0),s=0;for(var l in i){var u=i[l],c=this._touches[l];c&&(o._add(u),a._add(u.sub(c)),s++,i[l]=u)}if(this._touches=i,!(s<this._minTouches)&&a.mag()){var p=a.div(s);if(this._sum._add(p),!(this._sum.mag()<this._clickTolerance))return{around:o.div(s),panDelta:p}}},Xr.prototype.enable=function(){this._enabled=!0},Xr.prototype.disable=function(){this._enabled=!1,this.reset()},Xr.prototype.isEnabled=function(){return this._enabled},Xr.prototype.isActive=function(){return this._active};var Yr=function(){this.reset()};function $r(e,t,n){for(var r=0;r<e.length;r++)if(e[r].identifier===n)return t[r]}function Jr(e,t){return Math.log(e/t)/Math.LN2}Yr.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},Yr.prototype._start=function(e){},Yr.prototype._move=function(e,t,n){return{}},Yr.prototype.touchstart=function(e,t,n){this._firstTwoTouches||n.length<2||(this._firstTwoTouches=[n[0].identifier,n[1].identifier],this._start([t[0],t[1]]))},Yr.prototype.touchmove=function(e,t,n){if(this._firstTwoTouches){e.preventDefault();var r=this._firstTwoTouches,i=r[1],o=$r(n,t,r[0]),a=$r(n,t,i);if(o&&a){var s=this._aroundCenter?null:o.add(a).div(2);return this._move([o,a],s,e)}}},Yr.prototype.touchend=function(e,t,r){if(this._firstTwoTouches){var i=this._firstTwoTouches,o=i[1],a=$r(r,t,i[0]),s=$r(r,t,o);a&&s||(this._active&&n.suppressClick(),this.reset())}},Yr.prototype.touchcancel=function(){this.reset()},Yr.prototype.enable=function(e){this._enabled=!0,this._aroundCenter=!!e&&"center"===e.around},Yr.prototype.disable=function(){this._enabled=!1,this.reset()},Yr.prototype.isEnabled=function(){return this._enabled},Yr.prototype.isActive=function(){return this._active};var Qr=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.reset=function(){e.prototype.reset.call(this),delete this._distance,delete this._startDistance},t.prototype._start=function(e){this._startDistance=this._distance=e[0].dist(e[1])},t.prototype._move=function(e,t){var n=this._distance;if(this._distance=e[0].dist(e[1]),this._active||!(Math.abs(Jr(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Jr(this._distance,n),pinchAround:t}},t}(Yr);function ei(e,t){return 180*e.angleWith(t)/Math.PI}var ti=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.reset=function(){e.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},t.prototype._start=function(e){this._startVector=this._vector=e[0].sub(e[1]),this._minDiameter=e[0].dist(e[1])},t.prototype._move=function(e,t){var n=this._vector;if(this._vector=e[0].sub(e[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:ei(this._vector,n),pinchAround:t}},t.prototype._isBelowThreshold=function(e){this._minDiameter=Math.min(this._minDiameter,e.mag());var t=25/(Math.PI*this._minDiameter)*360,n=ei(e,this._startVector);return Math.abs(n)<t},t}(Yr);function ni(e){return Math.abs(e.y)>Math.abs(e.x)}var ri=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.reset=function(){e.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},t.prototype._start=function(e){this._lastPoints=e,ni(e[0].sub(e[1]))&&(this._valid=!1)},t.prototype._move=function(e,t,n){var r=e[0].sub(this._lastPoints[0]),i=e[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(r,i,n.timeStamp),this._valid)return this._lastPoints=e,this._active=!0,{pitchDelta:(r.y+i.y)/2*-.5}},t.prototype.gestureBeginsVertically=function(e,t,n){if(void 0!==this._valid)return this._valid;var r=e.mag()>=2,i=t.mag()>=2;if(r||i){if(!r||!i)return void 0===this._firstMove&&(this._firstMove=n),n-this._firstMove<100&&void 0;var o=e.y>0==t.y>0;return ni(e)&&ni(t)&&o}},t}(Yr),ii={panStep:100,bearingStep:15,pitchStep:10},oi=function(){var e=ii;this._panStep=e.panStep,this._bearingStep=e.bearingStep,this._pitchStep=e.pitchStep,this._rotationDisabled=!1};function ai(e){return e*(2-e)}oi.prototype.blur=function(){this.reset()},oi.prototype.reset=function(){this._active=!1},oi.prototype.keydown=function(e){var t=this;if(!(e.altKey||e.ctrlKey||e.metaKey)){var n=0,r=0,i=0,o=0,a=0;switch(e.keyCode){case 61:case 107:case 171:case 187:n=1;break;case 189:case 109:case 173:n=-1;break;case 37:e.shiftKey?r=-1:(e.preventDefault(),o=-1);break;case 39:e.shiftKey?r=1:(e.preventDefault(),o=1);break;case 38:e.shiftKey?i=1:(e.preventDefault(),a=-1);break;case 40:e.shiftKey?i=-1:(e.preventDefault(),a=1);break;default:return}return this._rotationDisabled&&(r=0,i=0),{cameraAnimation:function(s){var l=s.getZoom();s.easeTo({duration:300,easeId:"keyboardHandler",easing:ai,zoom:n?Math.round(l)+n*(e.shiftKey?2:1):l,bearing:s.getBearing()+r*t._bearingStep,pitch:s.getPitch()+i*t._pitchStep,offset:[-o*t._panStep,-a*t._panStep],center:s.getCenter()},{originalEvent:e})}}}},oi.prototype.enable=function(){this._enabled=!0},oi.prototype.disable=function(){this._enabled=!1,this.reset()},oi.prototype.isEnabled=function(){return this._enabled},oi.prototype.isActive=function(){return this._active},oi.prototype.disableRotation=function(){this._rotationDisabled=!0},oi.prototype.enableRotation=function(){this._rotationDisabled=!1};var si=function(t,n){this._map=t,this._el=t.getCanvasContainer(),this._handler=n,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=1/450,e.bindAll(["_onTimeout"],this)};si.prototype.setZoomRate=function(e){this._defaultZoomRate=e},si.prototype.setWheelZoomRate=function(e){this._wheelZoomRate=e},si.prototype.isEnabled=function(){return!!this._enabled},si.prototype.isActive=function(){return!!this._active||void 0!==this._finishTimeout},si.prototype.isZooming=function(){return!!this._zooming},si.prototype.enable=function(e){this.isEnabled()||(this._enabled=!0,this._aroundCenter=e&&"center"===e.around)},si.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},si.prototype.wheel=function(t){if(this.isEnabled()){var n=t.deltaMode===e.window.WheelEvent.DOM_DELTA_LINE?40*t.deltaY:t.deltaY,r=e.browser.now(),i=r-(this._lastWheelEventTime||0);this._lastWheelEventTime=r,0!==n&&n%4.000244140625==0?this._type="wheel":0!==n&&Math.abs(n)<4?this._type="trackpad":i>400?(this._type=null,this._lastValue=n,this._timeout=setTimeout(this._onTimeout,40,t)):this._type||(this._type=Math.abs(i*n)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,n+=this._lastValue)),t.shiftKey&&n&&(n/=4),this._type&&(this._lastWheelEvent=t,this._delta-=n,this._active||this._start(t)),t.preventDefault()}},si.prototype._onTimeout=function(e){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(e)},si.prototype._start=function(t){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var r=n.mousePos(this._el,t);this._around=e.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(r)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},si.prototype.renderFrame=function(){var t=this;if(this._frameId&&(this._frameId=null,this.isActive())){var n=this._map.transform;if(0!==this._delta){var r="wheel"===this._type&&Math.abs(this._delta)>4.000244140625?this._wheelZoomRate:this._defaultZoomRate,i=2/(1+Math.exp(-Math.abs(this._delta*r)));this._delta<0&&0!==i&&(i=1/i);var o="number"==typeof this._targetZoom?n.zoomScale(this._targetZoom):n.scale;this._targetZoom=Math.min(n.maxZoom,Math.max(n.minZoom,n.scaleZoom(o*i))),"wheel"===this._type&&(this._startZoom=n.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var a,s="number"==typeof this._targetZoom?this._targetZoom:n.zoom,l=this._startZoom,u=this._easing,c=!1;if("wheel"===this._type&&l&&u){var p=Math.min((e.browser.now()-this._lastWheelEventTime)/200,1),h=u(p);a=e.number(l,s,h),p<1?this._frameId||(this._frameId=!0):c=!0}else a=s,c=!0;return this._active=!0,c&&(this._active=!1,this._finishTimeout=setTimeout((function(){t._zooming=!1,t._handler._triggerRenderFrame(),delete t._targetZoom,delete t._finishTimeout}),200)),{noInertia:!0,needsRenderFrame:!c,zoomDelta:a-n.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},si.prototype._smoothOutEasing=function(t){var n=e.ease;if(this._prevEase){var r=this._prevEase,i=(e.browser.now()-r.start)/r.duration,o=r.easing(i+.01)-r.easing(i),a=.27/Math.sqrt(o*o+1e-4)*.01,s=Math.sqrt(.0729-a*a);n=e.bezier(a,s,.25,1)}return this._prevEase={start:e.browser.now(),duration:t,easing:n},n},si.prototype.blur=function(){this.reset()},si.prototype.reset=function(){this._active=!1};var li=function(e,t){this._clickZoom=e,this._tapZoom=t};li.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},li.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},li.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},li.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var ui=function(){this.reset()};ui.prototype.reset=function(){this._active=!1},ui.prototype.blur=function(){this.reset()},ui.prototype.dblclick=function(e,t){return e.preventDefault(),{cameraAnimation:function(n){n.easeTo({duration:300,zoom:n.getZoom()+(e.shiftKey?-1:1),around:n.unproject(t)},{originalEvent:e})}}},ui.prototype.enable=function(){this._enabled=!0},ui.prototype.disable=function(){this._enabled=!1,this.reset()},ui.prototype.isEnabled=function(){return this._enabled},ui.prototype.isActive=function(){return this._active};var ci=function(){this._tap=new Vr({numTouches:1,numTaps:1}),this.reset()};ci.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},ci.prototype.touchstart=function(e,t,n){this._swipePoint||(this._tapTime&&e.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?n.length>0&&(this._swipePoint=t[0],this._swipeTouch=n[0].identifier):this._tap.touchstart(e,t,n))},ci.prototype.touchmove=function(e,t,n){if(this._tapTime){if(this._swipePoint){if(n[0].identifier!==this._swipeTouch)return;var r=t[0],i=r.y-this._swipePoint.y;return this._swipePoint=r,e.preventDefault(),this._active=!0,{zoomDelta:i/128}}}else this._tap.touchmove(e,t,n)},ci.prototype.touchend=function(e,t,n){this._tapTime?this._swipePoint&&0===n.length&&this.reset():this._tap.touchend(e,t,n)&&(this._tapTime=e.timeStamp)},ci.prototype.touchcancel=function(){this.reset()},ci.prototype.enable=function(){this._enabled=!0},ci.prototype.disable=function(){this._enabled=!1,this.reset()},ci.prototype.isEnabled=function(){return this._enabled},ci.prototype.isActive=function(){return this._active};var pi=function(e,t,n){this._el=e,this._mousePan=t,this._touchPan=n};pi.prototype.enable=function(e){this._inertiaOptions=e||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},pi.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},pi.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},pi.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var hi=function(e,t,n){this._pitchWithRotate=e.pitchWithRotate,this._mouseRotate=t,this._mousePitch=n};hi.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},hi.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},hi.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},hi.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var di=function(e,t,n,r){this._el=e,this._touchZoom=t,this._touchRotate=n,this._tapDragZoom=r,this._rotationDisabled=!1,this._enabled=!0};di.prototype.enable=function(e){this._touchZoom.enable(e),this._rotationDisabled||this._touchRotate.enable(e),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},di.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},di.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},di.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},di.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},di.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var fi=function(e){return e.zoom||e.drag||e.pitch||e.rotate},mi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t}(e.Event);function yi(e){return e.panDelta&&e.panDelta.mag()||e.zoomDelta||e.bearingDelta||e.pitchDelta}var vi=function(t,r){this._map=t,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Or(t),this._bearingSnap=r.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(r),e.bindAll(["handleEvent","handleWindowEvent"],this);var i=this._el;this._listeners=[[i,"touchstart",{passive:!0}],[i,"touchmove",{passive:!1}],[i,"touchend",void 0],[i,"touchcancel",void 0],[i,"mousedown",void 0],[i,"mousemove",void 0],[i,"mouseup",void 0],[e.window.document,"mousemove",{capture:!0}],[e.window.document,"mouseup",void 0],[i,"mouseover",void 0],[i,"mouseout",void 0],[i,"dblclick",void 0],[i,"click",void 0],[i,"keydown",{capture:!1}],[i,"keyup",void 0],[i,"wheel",{passive:!1}],[i,"contextmenu",void 0],[e.window,"blur",void 0]];for(var o=0,a=this._listeners;o<a.length;o+=1){var s=a[o],l=s[0];n.addEventListener(l,s[1],l===e.window.document?this.handleWindowEvent:this.handleEvent,s[2])}};vi.prototype.destroy=function(){for(var t=0,r=this._listeners;t<r.length;t+=1){var i=r[t],o=i[0];n.removeEventListener(o,i[1],o===e.window.document?this.handleWindowEvent:this.handleEvent,i[2])}},vi.prototype._addDefaultHandlers=function(e){var t=this._map,n=t.getCanvasContainer();this._add("mapEvent",new zr(t,e));var r=t.boxZoom=new Br(t,e);this._add("boxZoom",r);var i=new qr,o=new ui;t.doubleClickZoom=new li(o,i),this._add("tapZoom",i),this._add("clickZoom",o);var a=new ci;this._add("tapDragZoom",a);var s=t.touchPitch=new ri;this._add("touchPitch",s);var l=new Zr(e),u=new Kr(e);t.dragRotate=new hi(e,l,u),this._add("mouseRotate",l,["mousePitch"]),this._add("mousePitch",u,["mouseRotate"]);var c=new Gr(e),p=new Xr(e);t.dragPan=new pi(n,c,p),this._add("mousePan",c),this._add("touchPan",p,["touchZoom","touchRotate"]);var h=new ti,d=new Qr;t.touchZoomRotate=new di(n,d,h,a),this._add("touchRotate",h,["touchPan","touchZoom"]),this._add("touchZoom",d,["touchPan","touchRotate"]);var f=t.scrollZoom=new si(t,this);this._add("scrollZoom",f,["mousePan"]);var m=t.keyboard=new oi;this._add("keyboard",m),this._add("blockableMapEvent",new Nr(t));for(var y=0,v=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];y<v.length;y+=1){var g=v[y];e.interactive&&e[g]&&t[g].enable(e[g])}},vi.prototype._add=function(e,t,n){this._handlers.push({handlerName:e,handler:t,allowed:n}),this._handlersById[e]=t},vi.prototype.stop=function(e){if(!this._updatingCamera){for(var t=0,n=this._handlers;t<n.length;t+=1)n[t].handler.reset();this._inertia.clear(),this._fireEvents({},{},e),this._changes=[]}},vi.prototype.isActive=function(){for(var e=0,t=this._handlers;e<t.length;e+=1)if(t[e].handler.isActive())return!0;return!1},vi.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},vi.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},vi.prototype.isMoving=function(){return Boolean(fi(this._eventsInProgress))||this.isZooming()},vi.prototype._blockedByActive=function(e,t,n){for(var r in e)if(r!==n&&(!t||t.indexOf(r)<0))return!0;return!1},vi.prototype.handleWindowEvent=function(e){this.handleEvent(e,e.type+"Window")},vi.prototype._getMapTouches=function(e){for(var t=[],n=0,r=e;n<r.length;n+=1){var i=r[n];this._el.contains(i.target)&&t.push(i)}return t},vi.prototype.handleEvent=function(e,t){this._updatingCamera=!0;for(var r="renderFrame"===e.type?void 0:e,i={needsRenderFrame:!1},o={},a={},s=e.touches?this._getMapTouches(e.touches):void 0,l=s?n.touchPos(this._el,s):n.mousePos(this._el,e),u=0,c=this._handlers;u<c.length;u+=1){var p=c[u],h=p.handlerName,d=p.handler,f=p.allowed;if(d.isEnabled()){var m=void 0;this._blockedByActive(a,f,h)?d.reset():d[t||e.type]&&(m=d[t||e.type](e,l,s),this.mergeHandlerResult(i,o,m,h,r),m&&m.needsRenderFrame&&this._triggerRenderFrame()),(m||d.isActive())&&(a[h]=d)}}var y={};for(var v in this._previousActiveHandlers)a[v]||(y[v]=r);this._previousActiveHandlers=a,(Object.keys(y).length||yi(i))&&(this._changes.push([i,o,y]),this._triggerRenderFrame()),(Object.keys(a).length||yi(i))&&this._map._stop(!0),this._updatingCamera=!1;var g=i.cameraAnimation;g&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],g(this._map))},vi.prototype.mergeHandlerResult=function(t,n,r,i,o){if(r){e.extend(t,r);var a={handlerName:i,originalEvent:r.originalEvent||o};void 0!==r.zoomDelta&&(n.zoom=a),void 0!==r.panDelta&&(n.drag=a),void 0!==r.pitchDelta&&(n.pitch=a),void 0!==r.bearingDelta&&(n.rotate=a)}},vi.prototype._applyChanges=function(){for(var t={},n={},r={},i=0,o=this._changes;i<o.length;i+=1){var a=o[i],s=a[0],l=a[1],u=a[2];s.panDelta&&(t.panDelta=(t.panDelta||new e.Point(0,0))._add(s.panDelta)),s.zoomDelta&&(t.zoomDelta=(t.zoomDelta||0)+s.zoomDelta),s.bearingDelta&&(t.bearingDelta=(t.bearingDelta||0)+s.bearingDelta),s.pitchDelta&&(t.pitchDelta=(t.pitchDelta||0)+s.pitchDelta),void 0!==s.around&&(t.around=s.around),void 0!==s.pinchAround&&(t.pinchAround=s.pinchAround),s.noInertia&&(t.noInertia=s.noInertia),e.extend(n,l),e.extend(r,u)}this._updateMapTransform(t,n,r),this._changes=[]},vi.prototype._updateMapTransform=function(e,t,n){var r=this._map,i=r.transform;if(!yi(e))return this._fireEvents(t,n,!0);var o=e.panDelta,a=e.zoomDelta,s=e.bearingDelta,l=e.pitchDelta,u=e.around,c=e.pinchAround;void 0!==c&&(u=c),r._stop(!0),u=u||r.transform.centerPoint;var p=i.pointLocation(o?u.sub(o):u);s&&(i.bearing+=s),l&&(i.pitch+=l),a&&(i.zoom+=a),i.setLocationAtPoint(p,u),this._map._update(),e.noInertia||this._inertia.record(e),this._fireEvents(t,n,!0)},vi.prototype._fireEvents=function(t,n,r){var i=this,o=fi(this._eventsInProgress),a=fi(t),s={};for(var l in t)this._eventsInProgress[l]||(s[l+"start"]=t[l].originalEvent),this._eventsInProgress[l]=t[l];for(var u in!o&&a&&this._fireEvent("movestart",a.originalEvent),s)this._fireEvent(u,s[u]);for(var c in a&&this._fireEvent("move",a.originalEvent),t)this._fireEvent(c,t[c].originalEvent);var p,h={};for(var d in this._eventsInProgress){var f=this._eventsInProgress[d],m=f.handlerName,y=f.originalEvent;this._handlersById[m].isActive()||(delete this._eventsInProgress[d],h[d+"end"]=p=n[m]||y)}for(var v in h)this._fireEvent(v,h[v]);var g=fi(this._eventsInProgress);if(r&&(o||a)&&!g){this._updatingCamera=!0;var _=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),x=function(e){return 0!==e&&-i._bearingSnap<e&&e<i._bearingSnap};_?(x(_.bearing||this._map.getBearing())&&(_.bearing=0),this._map.easeTo(_,{originalEvent:p})):(this._map.fire(new e.Event("moveend",{originalEvent:p})),x(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}},vi.prototype._fireEvent=function(t,n){this._map.fire(new e.Event(t,n?{originalEvent:n}:{}))},vi.prototype._requestFrame=function(){var e=this;return this._map.triggerRepaint(),this._map._renderTaskQueue.add((function(t){delete e._frameId,e.handleEvent(new mi("renderFrame",{timeStamp:t})),e._applyChanges()}))},vi.prototype._triggerRenderFrame=function(){void 0===this._frameId&&(this._frameId=this._requestFrame())};var gi=function(t){function n(n,r){t.call(this),this._moving=!1,this._zooming=!1,this.transform=n,this._bearingSnap=r.bearingSnap,e.bindAll(["_renderFrameCallback"],this)}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.getCenter=function(){return new e.LngLat(this.transform.center.lng,this.transform.center.lat)},n.prototype.setCenter=function(e,t){return this.jumpTo({center:e},t)},n.prototype.panBy=function(t,n,r){return t=e.Point.convert(t).mult(-1),this.panTo(this.transform.center,e.extend({offset:t},n),r)},n.prototype.panTo=function(t,n,r){return this.easeTo(e.extend({center:t},n),r)},n.prototype.getZoom=function(){return this.transform.zoom},n.prototype.setZoom=function(e,t){return this.jumpTo({zoom:e},t),this},n.prototype.zoomTo=function(t,n,r){return this.easeTo(e.extend({zoom:t},n),r)},n.prototype.zoomIn=function(e,t){return this.zoomTo(this.getZoom()+1,e,t),this},n.prototype.zoomOut=function(e,t){return this.zoomTo(this.getZoom()-1,e,t),this},n.prototype.getBearing=function(){return this.transform.bearing},n.prototype.setBearing=function(e,t){return this.jumpTo({bearing:e},t),this},n.prototype.getPadding=function(){return this.transform.padding},n.prototype.setPadding=function(e,t){return this.jumpTo({padding:e},t),this},n.prototype.rotateTo=function(t,n,r){return this.easeTo(e.extend({bearing:t},n),r)},n.prototype.resetNorth=function(t,n){return this.rotateTo(0,e.extend({duration:1e3},t),n),this},n.prototype.resetNorthPitch=function(t,n){return this.easeTo(e.extend({bearing:0,pitch:0,duration:1e3},t),n),this},n.prototype.snapToNorth=function(e,t){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(e,t):this},n.prototype.getPitch=function(){return this.transform.pitch},n.prototype.setPitch=function(e,t){return this.jumpTo({pitch:e},t),this},n.prototype.cameraForBounds=function(t,n){t=e.LngLatBounds.convert(t);var r=n&&n.bearing||0;return this._cameraForBoxAndBearing(t.getNorthWest(),t.getSouthEast(),r,n)},n.prototype._cameraForBoxAndBearing=function(t,n,r,i){var o={top:0,bottom:0,right:0,left:0};if("number"==typeof(i=e.extend({padding:o,offset:[0,0],maxZoom:this.transform.maxZoom},i)).padding){var a=i.padding;i.padding={top:a,bottom:a,right:a,left:a}}i.padding=e.extend(o,i.padding);var s=this.transform,l=s.padding,u=s.project(e.LngLat.convert(t)),c=s.project(e.LngLat.convert(n)),p=u.rotate(-r*Math.PI/180),h=c.rotate(-r*Math.PI/180),d=new e.Point(Math.max(p.x,h.x),Math.max(p.y,h.y)),f=new e.Point(Math.min(p.x,h.x),Math.min(p.y,h.y)),m=d.sub(f),y=(s.width-(l.left+l.right+i.padding.left+i.padding.right))/m.x,v=(s.height-(l.top+l.bottom+i.padding.top+i.padding.bottom))/m.y;if(!(v<0||y<0)){var g=Math.min(s.scaleZoom(s.scale*Math.min(y,v)),i.maxZoom),_="number"==typeof i.offset.x?new e.Point(i.offset.x,i.offset.y):e.Point.convert(i.offset),x=new e.Point((i.padding.left-i.padding.right)/2,(i.padding.top-i.padding.bottom)/2).rotate(r*Math.PI/180),b=_.add(x).mult(s.scale/s.zoomScale(g));return{center:s.unproject(u.add(c).div(2).sub(b)),zoom:g,bearing:r}}e.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")},n.prototype.fitBounds=function(e,t,n){return this._fitInternal(this.cameraForBounds(e,t),t,n)},n.prototype.fitScreenCoordinates=function(t,n,r,i,o){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(e.Point.convert(t)),this.transform.pointLocation(e.Point.convert(n)),r,i),i,o)},n.prototype._fitInternal=function(t,n,r){return t?(delete(n=e.extend(t,n)).padding,n.linear?this.easeTo(n,r):this.flyTo(n,r)):this},n.prototype.jumpTo=function(t,n){this.stop();var r=this.transform,i=!1,o=!1,a=!1;return"zoom"in t&&r.zoom!==+t.zoom&&(i=!0,r.zoom=+t.zoom),void 0!==t.center&&(r.center=e.LngLat.convert(t.center)),"bearing"in t&&r.bearing!==+t.bearing&&(o=!0,r.bearing=+t.bearing),"pitch"in t&&r.pitch!==+t.pitch&&(a=!0,r.pitch=+t.pitch),null==t.padding||r.isPaddingEqual(t.padding)||(r.padding=t.padding),this.fire(new e.Event("movestart",n)).fire(new e.Event("move",n)),i&&this.fire(new e.Event("zoomstart",n)).fire(new e.Event("zoom",n)).fire(new e.Event("zoomend",n)),o&&this.fire(new e.Event("rotatestart",n)).fire(new e.Event("rotate",n)).fire(new e.Event("rotateend",n)),a&&this.fire(new e.Event("pitchstart",n)).fire(new e.Event("pitch",n)).fire(new e.Event("pitchend",n)),this.fire(new e.Event("moveend",n))},n.prototype.easeTo=function(t,n){var r=this;this._stop(!1,t.easeId),(!1===(t=e.extend({offset:[0,0],duration:500,easing:e.ease},t)).animate||!t.essential&&e.browser.prefersReducedMotion)&&(t.duration=0);var i=this.transform,o=this.getZoom(),a=this.getBearing(),s=this.getPitch(),l=this.getPadding(),u="zoom"in t?+t.zoom:o,c="bearing"in t?this._normalizeBearing(t.bearing,a):a,p="pitch"in t?+t.pitch:s,h="padding"in t?t.padding:i.padding,d=e.Point.convert(t.offset),f=i.centerPoint.add(d),m=i.pointLocation(f),y=e.LngLat.convert(t.center||m);this._normalizeCenter(y);var v,g,_=i.project(m),x=i.project(y).sub(_),b=i.zoomScale(u-o);t.around&&(v=e.LngLat.convert(t.around),g=i.locationPoint(v));var w={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||u!==o,this._rotating=this._rotating||a!==c,this._pitching=this._pitching||p!==s,this._padding=!i.isPaddingEqual(h),this._easeId=t.easeId,this._prepareEase(n,t.noMoveStart,w),this._ease((function(t){if(r._zooming&&(i.zoom=e.number(o,u,t)),r._rotating&&(i.bearing=e.number(a,c,t)),r._pitching&&(i.pitch=e.number(s,p,t)),r._padding&&(i.interpolatePadding(l,h,t),f=i.centerPoint.add(d)),v)i.setLocationAtPoint(v,g);else{var m=i.zoomScale(i.zoom-o),y=u>o?Math.min(2,b):Math.max(.5,b),w=Math.pow(y,1-t),S=i.unproject(_.add(x.mult(t*w)).mult(m));i.setLocationAtPoint(i.renderWorldCopies?S.wrap():S,f)}r._fireMoveEvents(n)}),(function(e){r._afterEase(n,e)}),t),this},n.prototype._prepareEase=function(t,n,r){void 0===r&&(r={}),this._moving=!0,n||r.moving||this.fire(new e.Event("movestart",t)),this._zooming&&!r.zooming&&this.fire(new e.Event("zoomstart",t)),this._rotating&&!r.rotating&&this.fire(new e.Event("rotatestart",t)),this._pitching&&!r.pitching&&this.fire(new e.Event("pitchstart",t))},n.prototype._fireMoveEvents=function(t){this.fire(new e.Event("move",t)),this._zooming&&this.fire(new e.Event("zoom",t)),this._rotating&&this.fire(new e.Event("rotate",t)),this._pitching&&this.fire(new e.Event("pitch",t))},n.prototype._afterEase=function(t,n){if(!this._easeId||!n||this._easeId!==n){delete this._easeId;var r=this._zooming,i=this._rotating,o=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,r&&this.fire(new e.Event("zoomend",t)),i&&this.fire(new e.Event("rotateend",t)),o&&this.fire(new e.Event("pitchend",t)),this.fire(new e.Event("moveend",t))}},n.prototype.flyTo=function(t,n){var r=this;if(!t.essential&&e.browser.prefersReducedMotion){var i=e.pick(t,["center","zoom","bearing","pitch","around"]);return this.jumpTo(i,n)}this.stop(),t=e.extend({offset:[0,0],speed:1.2,curve:1.42,easing:e.ease},t);var o=this.transform,a=this.getZoom(),s=this.getBearing(),l=this.getPitch(),u=this.getPadding(),c="zoom"in t?e.clamp(+t.zoom,o.minZoom,o.maxZoom):a,p="bearing"in t?this._normalizeBearing(t.bearing,s):s,h="pitch"in t?+t.pitch:l,d="padding"in t?t.padding:o.padding,f=o.zoomScale(c-a),m=e.Point.convert(t.offset),y=o.centerPoint.add(m),v=o.pointLocation(y),g=e.LngLat.convert(t.center||v);this._normalizeCenter(g);var _=o.project(v),x=o.project(g).sub(_),b=t.curve,w=Math.max(o.width,o.height),S=w/f,E=x.mag();if("minZoom"in t){var T=e.clamp(Math.min(t.minZoom,a,c),o.minZoom,o.maxZoom),P=w/o.zoomScale(T-a);b=Math.sqrt(P/E*2)}var C=b*b;function k(e){var t=(S*S-w*w+(e?-1:1)*C*C*E*E)/(2*(e?S:w)*C*E);return Math.log(Math.sqrt(t*t+1)-t)}function A(e){return(Math.exp(e)-Math.exp(-e))/2}function I(e){return(Math.exp(e)+Math.exp(-e))/2}var O=k(0),D=function(e){return I(O)/I(O+b*e)},M=function(e){return w*((I(O)*(A(t=O+b*e)/I(t))-A(O))/C)/E;var t},j=(k(1)-O)/b;if(Math.abs(E)<1e-6||!isFinite(j)){if(Math.abs(w-S)<1e-6)return this.easeTo(t,n);var R=S<w?-1:1;j=Math.abs(Math.log(S/w))/b,M=function(){return 0},D=function(e){return Math.exp(R*b*e)}}return t.duration="duration"in t?+t.duration:1e3*j/("screenSpeed"in t?+t.screenSpeed/b:+t.speed),t.maxDuration&&t.duration>t.maxDuration&&(t.duration=0),this._zooming=!0,this._rotating=s!==p,this._pitching=h!==l,this._padding=!o.isPaddingEqual(d),this._prepareEase(n,!1),this._ease((function(t){var i=t*j,f=1/D(i);o.zoom=1===t?c:a+o.scaleZoom(f),r._rotating&&(o.bearing=e.number(s,p,t)),r._pitching&&(o.pitch=e.number(l,h,t)),r._padding&&(o.interpolatePadding(u,d,t),y=o.centerPoint.add(m));var v=1===t?g:o.unproject(_.add(x.mult(M(i))).mult(f));o.setLocationAtPoint(o.renderWorldCopies?v.wrap():v,y),r._fireMoveEvents(n)}),(function(){return r._afterEase(n)}),t),this},n.prototype.isEasing=function(){return!!this._easeFrameId},n.prototype.stop=function(){return this._stop()},n.prototype._stop=function(e,t){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var n=this._onEaseEnd;delete this._onEaseEnd,n.call(this,t)}if(!e){var r=this.handlers;r&&r.stop(!1)}return this},n.prototype._ease=function(t,n,r){!1===r.animate||0===r.duration?(t(1),n()):(this._easeStart=e.browser.now(),this._easeOptions=r,this._onEaseFrame=t,this._onEaseEnd=n,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},n.prototype._renderFrameCallback=function(){var t=Math.min((e.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(t)),t<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},n.prototype._normalizeBearing=function(t,n){t=e.wrap(t,-180,180);var r=Math.abs(t-n);return Math.abs(t-360-n)<r&&(t-=360),Math.abs(t+360-n)<r&&(t+=360),t},n.prototype._normalizeCenter=function(e){var t=this.transform;if(t.renderWorldCopies&&!t.lngRange){var n=e.lng-t.center.lng;e.lng+=n>180?-360:n<-180?360:0}},n}(e.Evented),_i=function(t){void 0===t&&(t={}),this.options=t,e.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)};_i.prototype.getDefaultPosition=function(){return"bottom-right"},_i.prototype.onAdd=function(e){var t=this.options&&this.options.compact;return this._map=e,this._container=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=n.create("button","mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=n.create("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),t&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===t&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},_i.prototype.onRemove=function(){n.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},_i.prototype._setElementTitle=function(e,t){var n=this._map._getUIString("AttributionControl."+t);e.title=n,e.setAttribute("aria-label",n)},_i.prototype._toggleAttribution=function(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","true"))},_i.prototype._updateEditLink=function(){var t=this._editLink;t||(t=this._editLink=this._container.querySelector(".mapbox-improve-map"));var n=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||e.config.ACCESS_TOKEN}];if(t){var r=n.reduce((function(e,t,r){return t.value&&(e+=t.key+"="+t.value+(r<n.length-1?"&":"")),e}),"?");t.href=e.config.FEEDBACK_URL+"/"+r+(this._map._hash?this._map._hash.getHashString(!0):""),t.rel="noopener nofollow",this._setElementTitle(t,"MapFeedback")}},_i.prototype._updateData=function(e){!e||"metadata"!==e.sourceDataType&&"visibility"!==e.sourceDataType&&"style"!==e.dataType||(this._updateAttributions(),this._updateEditLink())},_i.prototype._updateAttributions=function(){if(this._map.style){var e=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?e=e.concat(this.options.customAttribution.map((function(e){return"string"!=typeof e?"":e}))):"string"==typeof this.options.customAttribution&&e.push(this.options.customAttribution)),this._map.style.stylesheet){var t=this._map.style.stylesheet;this.styleOwner=t.owner,this.styleId=t.id}var n=this._map.style.sourceCaches;for(var r in n){var i=n[r];if(i.used){var o=i.getSource();o.attribution&&e.indexOf(o.attribution)<0&&e.push(o.attribution)}}e.sort((function(e,t){return e.length-t.length}));var a=(e=e.filter((function(t,n){for(var r=n+1;r<e.length;r++)if(e[r].indexOf(t)>=0)return!1;return!0}))).join(" | ");a!==this._attribHTML&&(this._attribHTML=a,e.length?(this._innerContainer.innerHTML=a,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},_i.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")};var xi=function(){e.bindAll(["_updateLogo"],this),e.bindAll(["_updateCompact"],this)};xi.prototype.onAdd=function(e){this._map=e,this._container=n.create("div","mapboxgl-ctrl");var t=n.create("a","mapboxgl-ctrl-logo");return t.target="_blank",t.rel="noopener nofollow",t.href="https://www.mapbox.com/",t.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),t.setAttribute("rel","noopener nofollow"),this._container.appendChild(t),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},xi.prototype.onRemove=function(){n.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},xi.prototype.getDefaultPosition=function(){return"bottom-left"},xi.prototype._updateLogo=function(e){e&&"metadata"!==e.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")},xi.prototype._logoRequired=function(){if(this._map.style){var e=this._map.style.sourceCaches;for(var t in e)if(e[t].getSource().mapbox_logo)return!0;return!1}},xi.prototype._updateCompact=function(){var e=this._container.children;if(e.length){var t=e[0];this._map.getCanvasContainer().offsetWidth<250?t.classList.add("mapboxgl-compact"):t.classList.remove("mapboxgl-compact")}};var bi=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};bi.prototype.add=function(e){var t=++this._id;return this._queue.push({callback:e,id:t,cancelled:!1}),t},bi.prototype.remove=function(e){for(var t=this._currentlyRunning,n=0,r=t?this._queue.concat(t):this._queue;n<r.length;n+=1){var i=r[n];if(i.id===e)return void(i.cancelled=!0)}},bi.prototype.run=function(e){void 0===e&&(e=0);var t=this._currentlyRunning=this._queue;this._queue=[];for(var n=0,r=t;n<r.length;n+=1){var i=r[n];if(!i.cancelled&&(i.callback(e),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},bi.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var wi={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},Si=e.window.HTMLImageElement,Ei=e.window.HTMLElement,Ti=e.window.ImageBitmap,Pi={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},Ci=function(r){function i(t){var n=this;if(null!=(t=e.extend({},Pi,t)).minZoom&&null!=t.maxZoom&&t.minZoom>t.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=t.minPitch&&null!=t.maxPitch&&t.minPitch>t.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=t.minPitch&&t.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=t.maxPitch&&t.maxPitch>60)throw new Error("maxPitch must be less than or equal to 60");var i=new Sr(t.minZoom,t.maxZoom,t.minPitch,t.maxPitch,t.renderWorldCopies);if(r.call(this,i,t),this._interactive=t.interactive,this._maxTileCacheSize=t.maxTileCacheSize,this._failIfMajorPerformanceCaveat=t.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=t.preserveDrawingBuffer,this._antialias=t.antialias,this._trackResize=t.trackResize,this._bearingSnap=t.bearingSnap,this._refreshExpiredTiles=t.refreshExpiredTiles,this._fadeDuration=t.fadeDuration,this._crossSourceCollisions=t.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=t.collectResourceTiming,this._renderTaskQueue=new bi,this._controls=[],this._mapId=e.uniqueId(),this._locale=e.extend({},wi,t.locale),this._clickTolerance=t.clickTolerance,this._requestManager=new e.RequestManager(t.transformRequest,t.accessToken),"string"==typeof t.container){if(this._container=e.window.document.getElementById(t.container),!this._container)throw new Error("Container '"+t.container+"' not found.")}else{if(!(t.container instanceof Ei))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=t.container}if(t.maxBounds&&this.setMaxBounds(t.maxBounds),e.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",(function(){return n._update(!1)})),this.on("moveend",(function(){return n._update(!1)})),this.on("zoom",(function(){return n._update(!0)})),void 0!==e.window&&(e.window.addEventListener("online",this._onWindowOnline,!1),e.window.addEventListener("resize",this._onWindowResize,!1),e.window.addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new vi(this,t),this._hash=t.hash&&new Tr("string"==typeof t.hash&&t.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:t.center,zoom:t.zoom,bearing:t.bearing,pitch:t.pitch}),t.bounds&&(this.resize(),this.fitBounds(t.bounds,e.extend({},t.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=t.localIdeographFontFamily,t.style&&this.setStyle(t.style,{localIdeographFontFamily:t.localIdeographFontFamily}),t.attributionControl&&this.addControl(new _i({customAttribution:t.customAttribution})),this.addControl(new xi,t.logoPosition),this.on("style.load",(function(){n.transform.unmodified&&n.jumpTo(n.style.stylesheet)})),this.on("data",(function(t){n._update("style"===t.dataType),n.fire(new e.Event(t.dataType+"data",t))})),this.on("dataloading",(function(t){n.fire(new e.Event(t.dataType+"dataloading",t))}))}r&&(i.__proto__=r),(i.prototype=Object.create(r&&r.prototype)).constructor=i;var o={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return i.prototype._getMapId=function(){return this._mapId},i.prototype.addControl=function(t,n){if(void 0===n&&(n=t.getDefaultPosition?t.getDefaultPosition():"top-right"),!t||!t.onAdd)return this.fire(new e.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var r=t.onAdd(this);this._controls.push(t);var i=this._controlPositions[n];return-1!==n.indexOf("bottom")?i.insertBefore(r,i.firstChild):i.appendChild(r),this},i.prototype.removeControl=function(t){if(!t||!t.onRemove)return this.fire(new e.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var n=this._controls.indexOf(t);return n>-1&&this._controls.splice(n,1),t.onRemove(this),this},i.prototype.hasControl=function(e){return this._controls.indexOf(e)>-1},i.prototype.resize=function(t){var n=this._containerDimensions(),r=n[0],i=n[1];if(r===this.transform.width&&i===this.transform.height)return this;this._resizeCanvas(r,i),this.transform.resize(r,i),this.painter.resize(r,i);var o=!this._moving;return o&&this.fire(new e.Event("movestart",t)).fire(new e.Event("move",t)),this.fire(new e.Event("resize",t)),o&&this.fire(new e.Event("moveend",t)),this},i.prototype.getBounds=function(){return this.transform.getBounds()},i.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},i.prototype.setMaxBounds=function(t){return this.transform.setMaxBounds(e.LngLatBounds.convert(t)),this._update()},i.prototype.setMinZoom=function(e){if((e=null==e?-2:e)>=-2&&e<=this.transform.maxZoom)return this.transform.minZoom=e,this._update(),this.getZoom()<e&&this.setZoom(e),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")},i.prototype.getMinZoom=function(){return this.transform.minZoom},i.prototype.setMaxZoom=function(e){if((e=null==e?22:e)>=this.transform.minZoom)return this.transform.maxZoom=e,this._update(),this.getZoom()>e&&this.setZoom(e),this;throw new Error("maxZoom must be greater than the current minZoom")},i.prototype.getMaxZoom=function(){return this.transform.maxZoom},i.prototype.setMinPitch=function(e){if((e=null==e?0:e)<0)throw new Error("minPitch must be greater than or equal to 0");if(e>=0&&e<=this.transform.maxPitch)return this.transform.minPitch=e,this._update(),this.getPitch()<e&&this.setPitch(e),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")},i.prototype.getMinPitch=function(){return this.transform.minPitch},i.prototype.setMaxPitch=function(e){if((e=null==e?60:e)>60)throw new Error("maxPitch must be less than or equal to 60");if(e>=this.transform.minPitch)return this.transform.maxPitch=e,this._update(),this.getPitch()>e&&this.setPitch(e),this;throw new Error("maxPitch must be greater than the current minPitch")},i.prototype.getMaxPitch=function(){return this.transform.maxPitch},i.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},i.prototype.setRenderWorldCopies=function(e){return this.transform.renderWorldCopies=e,this._update()},i.prototype.project=function(t){return this.transform.locationPoint(e.LngLat.convert(t))},i.prototype.unproject=function(t){return this.transform.pointLocation(e.Point.convert(t))},i.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},i.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},i.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},i.prototype._createDelegatedListener=function(e,t,n){var r,i=this;if("mouseenter"===e||"mouseover"===e){var o=!1;return{layer:t,listener:n,delegates:{mousemove:function(r){var a=i.getLayer(t)?i.queryRenderedFeatures(r.point,{layers:[t]}):[];a.length?o||(o=!0,n.call(i,new jr(e,i,r.originalEvent,{features:a}))):o=!1},mouseout:function(){o=!1}}}}if("mouseleave"===e||"mouseout"===e){var a=!1;return{layer:t,listener:n,delegates:{mousemove:function(r){(i.getLayer(t)?i.queryRenderedFeatures(r.point,{layers:[t]}):[]).length?a=!0:a&&(a=!1,n.call(i,new jr(e,i,r.originalEvent)))},mouseout:function(t){a&&(a=!1,n.call(i,new jr(e,i,t.originalEvent)))}}}}return{layer:t,listener:n,delegates:(r={},r[e]=function(e){var r=i.getLayer(t)?i.queryRenderedFeatures(e.point,{layers:[t]}):[];r.length&&(e.features=r,n.call(i,e),delete e.features)},r)}},i.prototype.on=function(e,t,n){if(void 0===n)return r.prototype.on.call(this,e,t);var i=this._createDelegatedListener(e,t,n);for(var o in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[e]=this._delegatedListeners[e]||[],this._delegatedListeners[e].push(i),i.delegates)this.on(o,i.delegates[o]);return this},i.prototype.once=function(e,t,n){if(void 0===n)return r.prototype.once.call(this,e,t);var i=this._createDelegatedListener(e,t,n);for(var o in i.delegates)this.once(o,i.delegates[o]);return this},i.prototype.off=function(e,t,n){var i=this;return void 0===n?r.prototype.off.call(this,e,t):(this._delegatedListeners&&this._delegatedListeners[e]&&function(r){for(var o=r[e],a=0;a<o.length;a++){var s=o[a];if(s.layer===t&&s.listener===n){for(var l in s.delegates)i.off(l,s.delegates[l]);return o.splice(a,1),i}}}(this._delegatedListeners),this)},i.prototype.queryRenderedFeatures=function(t,n){if(!this.style)return[];var r;if(void 0!==n||void 0===t||t instanceof e.Point||Array.isArray(t)||(n=t,t=void 0),n=n||{},(t=t||[[0,0],[this.transform.width,this.transform.height]])instanceof e.Point||"number"==typeof t[0])r=[e.Point.convert(t)];else{var i=e.Point.convert(t[0]),o=e.Point.convert(t[1]);r=[i,new e.Point(o.x,i.y),o,new e.Point(i.x,o.y),i]}return this.style.queryRenderedFeatures(r,n,this.transform)},i.prototype.querySourceFeatures=function(e,t){return this.style.querySourceFeatures(e,t)},i.prototype.setStyle=function(t,n){return!1!==(n=e.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},n)).diff&&n.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&t?(this._diffStyle(t,n),this):(this._localIdeographFontFamily=n.localIdeographFontFamily,this._updateStyle(t,n))},i.prototype._getUIString=function(e){var t=this._locale[e];if(null==t)throw new Error("Missing UI string '"+e+"'");return t},i.prototype._updateStyle=function(e,t){return this.style&&(this.style.setEventedParent(null),this.style._remove()),e?(this.style=new qt(this,t||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof e?this.style.loadURL(e):this.style.loadJSON(e),this):(delete this.style,this)},i.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new qt(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},i.prototype._diffStyle=function(t,n){var r=this;if("string"==typeof t){var i=this._requestManager.normalizeStyleURL(t),o=this._requestManager.transformRequest(i,e.ResourceType.Style);e.getJSON(o,(function(t,i){t?r.fire(new e.ErrorEvent(t)):i&&r._updateDiff(i,n)}))}else"object"==typeof t&&this._updateDiff(t,n)},i.prototype._updateDiff=function(t,n){try{this.style.setState(t)&&this._update(!0)}catch(r){e.warnOnce("Unable to perform style diff: "+(r.message||r.error||r)+".  Rebuilding the style from scratch."),this._updateStyle(t,n)}},i.prototype.getStyle=function(){if(this.style)return this.style.serialize()},i.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():e.warnOnce("There is no style added to the map.")},i.prototype.addSource=function(e,t){return this._lazyInitEmptyStyle(),this.style.addSource(e,t),this._update(!0)},i.prototype.isSourceLoaded=function(t){var n=this.style&&this.style.sourceCaches[t];if(void 0!==n)return n.loaded();this.fire(new e.ErrorEvent(new Error("There is no source with ID '"+t+"'")))},i.prototype.areTilesLoaded=function(){var e=this.style&&this.style.sourceCaches;for(var t in e){var n=e[t]._tiles;for(var r in n){var i=n[r];if("loaded"!==i.state&&"errored"!==i.state)return!1}}return!0},i.prototype.addSourceType=function(e,t,n){return this._lazyInitEmptyStyle(),this.style.addSourceType(e,t,n)},i.prototype.removeSource=function(e){return this.style.removeSource(e),this._update(!0)},i.prototype.getSource=function(e){return this.style.getSource(e)},i.prototype.addImage=function(t,n,r){void 0===r&&(r={});var i=r.pixelRatio;void 0===i&&(i=1);var o=r.sdf;void 0===o&&(o=!1);var a=r.stretchX,s=r.stretchY,l=r.content;if(this._lazyInitEmptyStyle(),n instanceof Si||Ti&&n instanceof Ti){var u=e.browser.getImageData(n);this.style.addImage(t,{data:new e.RGBAImage({width:u.width,height:u.height},u.data),pixelRatio:i,stretchX:a,stretchY:s,content:l,sdf:o,version:0})}else{if(void 0===n.width||void 0===n.height)return this.fire(new e.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var c=n;this.style.addImage(t,{data:new e.RGBAImage({width:n.width,height:n.height},new Uint8Array(n.data)),pixelRatio:i,stretchX:a,stretchY:s,content:l,sdf:o,version:0,userImage:c}),c.onAdd&&c.onAdd(this,t)}},i.prototype.updateImage=function(t,n){var r=this.style.getImage(t);if(!r)return this.fire(new e.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var i=n instanceof Si||Ti&&n instanceof Ti?e.browser.getImageData(n):n,o=i.width,a=i.height,s=i.data;return void 0===o||void 0===a?this.fire(new e.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`"))):o!==r.data.width||a!==r.data.height?this.fire(new e.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image"))):(r.data.replace(s,!(n instanceof Si||Ti&&n instanceof Ti)),void this.style.updateImage(t,r))},i.prototype.hasImage=function(t){return t?!!this.style.getImage(t):(this.fire(new e.ErrorEvent(new Error("Missing required image id"))),!1)},i.prototype.removeImage=function(e){this.style.removeImage(e)},i.prototype.loadImage=function(t,n){e.getImage(this._requestManager.transformRequest(t,e.ResourceType.Image),n)},i.prototype.listImages=function(){return this.style.listImages()},i.prototype.addLayer=function(e,t){return this._lazyInitEmptyStyle(),this.style.addLayer(e,t),this._update(!0)},i.prototype.moveLayer=function(e,t){return this.style.moveLayer(e,t),this._update(!0)},i.prototype.removeLayer=function(e){return this.style.removeLayer(e),this._update(!0)},i.prototype.getLayer=function(e){return this.style.getLayer(e)},i.prototype.setLayerZoomRange=function(e,t,n){return this.style.setLayerZoomRange(e,t,n),this._update(!0)},i.prototype.setFilter=function(e,t,n){return void 0===n&&(n={}),this.style.setFilter(e,t,n),this._update(!0)},i.prototype.getFilter=function(e){return this.style.getFilter(e)},i.prototype.setPaintProperty=function(e,t,n,r){return void 0===r&&(r={}),this.style.setPaintProperty(e,t,n,r),this._update(!0)},i.prototype.getPaintProperty=function(e,t){return this.style.getPaintProperty(e,t)},i.prototype.setLayoutProperty=function(e,t,n,r){return void 0===r&&(r={}),this.style.setLayoutProperty(e,t,n,r),this._update(!0)},i.prototype.getLayoutProperty=function(e,t){return this.style.getLayoutProperty(e,t)},i.prototype.setLight=function(e,t){return void 0===t&&(t={}),this._lazyInitEmptyStyle(),this.style.setLight(e,t),this._update(!0)},i.prototype.getLight=function(){return this.style.getLight()},i.prototype.setFeatureState=function(e,t){return this.style.setFeatureState(e,t),this._update()},i.prototype.removeFeatureState=function(e,t){return this.style.removeFeatureState(e,t),this._update()},i.prototype.getFeatureState=function(e){return this.style.getFeatureState(e)},i.prototype.getContainer=function(){return this._container},i.prototype.getCanvasContainer=function(){return this._canvasContainer},i.prototype.getCanvas=function(){return this._canvas},i.prototype._containerDimensions=function(){var e=0,t=0;return this._container&&(e=this._container.clientWidth||400,t=this._container.clientHeight||300),[e,t]},i.prototype._detectMissingCSS=function(){"rgb(250, 128, 114)"!==e.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&e.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},i.prototype._setupContainer=function(){var e=this._container;e.classList.add("mapboxgl-map"),(this._missingCSSCanary=n.create("div","mapboxgl-canary",e)).style.visibility="hidden",this._detectMissingCSS();var t=this._canvasContainer=n.create("div","mapboxgl-canvas-container",e);this._interactive&&t.classList.add("mapboxgl-interactive"),this._canvas=n.create("canvas","mapboxgl-canvas",t),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");var r=this._containerDimensions();this._resizeCanvas(r[0],r[1]);var i=this._controlContainer=n.create("div","mapboxgl-control-container",e),o=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach((function(e){o[e]=n.create("div","mapboxgl-ctrl-"+e,i)})),this._container.addEventListener("scroll",this._onMapScroll,!1)},i.prototype._resizeCanvas=function(t,n){var r=e.browser.devicePixelRatio||1;this._canvas.width=r*t,this._canvas.height=r*n,this._canvas.style.width=t+"px",this._canvas.style.height=n+"px"},i.prototype._setupPainter=function(){var n=e.extend({},t.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),r=this._canvas.getContext("webgl",n)||this._canvas.getContext("experimental-webgl",n);r?(this.painter=new _r(r,this.transform),e.webpSupported.testSupport(r)):this.fire(new e.ErrorEvent(new Error("Failed to initialize WebGL")))},i.prototype._contextLost=function(t){t.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new e.Event("webglcontextlost",{originalEvent:t}))},i.prototype._contextRestored=function(t){this._setupPainter(),this.resize(),this._update(),this.fire(new e.Event("webglcontextrestored",{originalEvent:t}))},i.prototype._onMapScroll=function(e){if(e.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},i.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},i.prototype._update=function(e){return this.style?(this._styleDirty=this._styleDirty||e,this._sourcesDirty=!0,this.triggerRepaint(),this):this},i.prototype._requestRenderFrame=function(e){return this._update(),this._renderTaskQueue.add(e)},i.prototype._cancelRenderFrame=function(e){this._renderTaskQueue.remove(e)},i.prototype._render=function(t){var n,r=this,i=0,o=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(n=o.createQueryEXT(),o.beginQueryEXT(o.TIME_ELAPSED_EXT,n),i=e.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(t),!this._removed){var a=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var s=this.transform.zoom,l=e.browser.now();this.style.zoomHistory.update(s,l);var u=new e.EvaluationParameters(s,{now:l,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),c=u.crossFadingFactor();1===c&&c===this._crossFadingFactor||(a=!0,this._crossFadingFactor=c),this.style.update(u)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new e.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new e.Event("load"))),this.style&&(this.style.hasTransitions()||a)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var p=e.browser.now()-i;o.endQueryEXT(o.TIME_ELAPSED_EXT,n),setTimeout((function(){var t=o.getQueryObjectEXT(n,o.QUERY_RESULT_EXT)/1e6;o.deleteQueryEXT(n),r.fire(new e.Event("gpu-timing-frame",{cpuTime:p,gpuTime:t}))}),50)}if(this.listens("gpu-timing-layer")){var h=this.painter.collectGpuTimers();setTimeout((function(){var t=r.painter.queryGpuTimers(h);r.fire(new e.Event("gpu-timing-layer",{layerTimes:t}))}),50)}var d=this._sourcesDirty||this._styleDirty||this._placementDirty;return d||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new e.Event("idle")),!this._loaded||this._fullyLoaded||d||(this._fullyLoaded=!0),this}},i.prototype.remove=function(){this._hash&&this._hash.remove();for(var t=0,n=this._controls;t<n.length;t+=1)n[t].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),void 0!==e.window&&(e.window.removeEventListener("resize",this._onWindowResize,!1),e.window.removeEventListener("orientationchange",this._onWindowResize,!1),e.window.removeEventListener("online",this._onWindowOnline,!1));var r=this.painter.context.gl.getExtension("WEBGL_lose_context");r&&r.loseContext(),ki(this._canvasContainer),ki(this._controlContainer),ki(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new e.Event("remove"))},i.prototype.triggerRepaint=function(){var t=this;this.style&&!this._frame&&(this._frame=e.browser.frame((function(e){t._frame=null,t._render(e)})))},i.prototype._onWindowOnline=function(){this._update()},i.prototype._onWindowResize=function(e){this._trackResize&&this.resize({originalEvent:e})._update()},o.showTileBoundaries.get=function(){return!!this._showTileBoundaries},o.showTileBoundaries.set=function(e){this._showTileBoundaries!==e&&(this._showTileBoundaries=e,this._update())},o.showPadding.get=function(){return!!this._showPadding},o.showPadding.set=function(e){this._showPadding!==e&&(this._showPadding=e,this._update())},o.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},o.showCollisionBoxes.set=function(e){this._showCollisionBoxes!==e&&(this._showCollisionBoxes=e,e?this.style._generateCollisionBoxes():this._update())},o.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},o.showOverdrawInspector.set=function(e){this._showOverdrawInspector!==e&&(this._showOverdrawInspector=e,this._update())},o.repaint.get=function(){return!!this._repaint},o.repaint.set=function(e){this._repaint!==e&&(this._repaint=e,this.triggerRepaint())},o.vertices.get=function(){return!!this._vertices},o.vertices.set=function(e){this._vertices=e,this._update()},i.prototype._setCacheLimits=function(t,n){e.setCacheLimits(t,n)},o.version.get=function(){return e.version},Object.defineProperties(i.prototype,o),i}(gi);function ki(e){e.parentNode&&e.parentNode.removeChild(e)}var Ai={showCompass:!0,showZoom:!0,visualizePitch:!1},Ii=function(t){var r=this;this.options=e.extend({},Ai,t),this._container=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",(function(e){return e.preventDefault()})),this.options.showZoom&&(e.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",(function(e){return r._map.zoomIn({},{originalEvent:e})})),n.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",(function(e){return r._map.zoomOut({},{originalEvent:e})})),n.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(e.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",(function(e){r.options.visualizePitch?r._map.resetNorthPitch({},{originalEvent:e}):r._map.resetNorth({},{originalEvent:e})})),this._compassIcon=n.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};Ii.prototype._updateZoomButtons=function(){var e=this._map.getZoom(),t=e===this._map.getMaxZoom(),n=e===this._map.getMinZoom();this._zoomInButton.disabled=t,this._zoomOutButton.disabled=n,this._zoomInButton.setAttribute("aria-disabled",t.toString()),this._zoomOutButton.setAttribute("aria-disabled",n.toString())},Ii.prototype._rotateCompassArrow=function(){var e=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=e},Ii.prototype.onAdd=function(e){return this._map=e,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Oi(this._map,this._compass,this.options.visualizePitch)),this._container},Ii.prototype.onRemove=function(){n.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},Ii.prototype._createButton=function(e,t){var r=n.create("button",e,this._container);return r.type="button",r.addEventListener("click",t),r},Ii.prototype._setButtonTitle=function(e,t){var n=this._map._getUIString("NavigationControl."+t);e.title=n,e.setAttribute("aria-label",n)};var Oi=function(t,r,i){void 0===i&&(i=!1),this._clickTolerance=10,this.element=r,this.mouseRotate=new Zr({clickTolerance:t.dragRotate._mouseRotate._clickTolerance}),this.map=t,i&&(this.mousePitch=new Kr({clickTolerance:t.dragRotate._mousePitch._clickTolerance})),e.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),n.addEventListener(r,"mousedown",this.mousedown),n.addEventListener(r,"touchstart",this.touchstart,{passive:!1}),n.addEventListener(r,"touchmove",this.touchmove),n.addEventListener(r,"touchend",this.touchend),n.addEventListener(r,"touchcancel",this.reset)};function Di(t,n,r){if(t=new e.LngLat(t.lng,t.lat),n){var i=new e.LngLat(t.lng-360,t.lat),o=new e.LngLat(t.lng+360,t.lat),a=r.locationPoint(t).distSqr(n);r.locationPoint(i).distSqr(n)<a?t=i:r.locationPoint(o).distSqr(n)<a&&(t=o)}for(;Math.abs(t.lng-r.center.lng)>180;){var s=r.locationPoint(t);if(s.x>=0&&s.y>=0&&s.x<=r.width&&s.y<=r.height)break;t.lng>r.center.lng?t.lng-=360:t.lng+=360}return t}Oi.prototype.down=function(e,t){this.mouseRotate.mousedown(e,t),this.mousePitch&&this.mousePitch.mousedown(e,t),n.disableDrag()},Oi.prototype.move=function(e,t){var n=this.map,r=this.mouseRotate.mousemoveWindow(e,t);if(r&&r.bearingDelta&&n.setBearing(n.getBearing()+r.bearingDelta),this.mousePitch){var i=this.mousePitch.mousemoveWindow(e,t);i&&i.pitchDelta&&n.setPitch(n.getPitch()+i.pitchDelta)}},Oi.prototype.off=function(){var e=this.element;n.removeEventListener(e,"mousedown",this.mousedown),n.removeEventListener(e,"touchstart",this.touchstart,{passive:!1}),n.removeEventListener(e,"touchmove",this.touchmove),n.removeEventListener(e,"touchend",this.touchend),n.removeEventListener(e,"touchcancel",this.reset),this.offTemp()},Oi.prototype.offTemp=function(){n.enableDrag(),n.removeEventListener(e.window,"mousemove",this.mousemove),n.removeEventListener(e.window,"mouseup",this.mouseup)},Oi.prototype.mousedown=function(t){this.down(e.extend({},t,{ctrlKey:!0,preventDefault:function(){return t.preventDefault()}}),n.mousePos(this.element,t)),n.addEventListener(e.window,"mousemove",this.mousemove),n.addEventListener(e.window,"mouseup",this.mouseup)},Oi.prototype.mousemove=function(e){this.move(e,n.mousePos(this.element,e))},Oi.prototype.mouseup=function(e){this.mouseRotate.mouseupWindow(e),this.mousePitch&&this.mousePitch.mouseupWindow(e),this.offTemp()},Oi.prototype.touchstart=function(e){1!==e.targetTouches.length?this.reset():(this._startPos=this._lastPos=n.touchPos(this.element,e.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return e.preventDefault()}},this._startPos))},Oi.prototype.touchmove=function(e){1!==e.targetTouches.length?this.reset():(this._lastPos=n.touchPos(this.element,e.targetTouches)[0],this.move({preventDefault:function(){return e.preventDefault()}},this._lastPos))},Oi.prototype.touchend=function(e){0===e.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},Oi.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};var Mi={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function ji(e,t,n){var r=e.classList;for(var i in Mi)r.remove("mapboxgl-"+n+"-anchor-"+i);r.add("mapboxgl-"+n+"-anchor-"+t)}var Ri,Li=function(t){function r(r,i){if(t.call(this),(r instanceof e.window.HTMLElement||i)&&(r=e.extend({element:r},i)),e.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=r&&r.anchor||"center",this._color=r&&r.color||"#3FB1CE",this._scale=r&&r.scale||1,this._draggable=r&&r.draggable||!1,this._clickTolerance=r&&r.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=r&&r.rotation||0,this._rotationAlignment=r&&r.rotationAlignment||"auto",this._pitchAlignment=r&&r.pitchAlignment&&"auto"!==r.pitchAlignment?r.pitchAlignment:this._rotationAlignment,r&&r.element)this._element=r.element,this._offset=e.Point.convert(r&&r.offset||[0,0]);else{this._defaultMarker=!0,this._element=n.create("div"),this._element.setAttribute("aria-label","Map marker");var o=n.createNS("http://www.w3.org/2000/svg","svg");o.setAttributeNS(null,"display","block"),o.setAttributeNS(null,"height","41px"),o.setAttributeNS(null,"width","27px"),o.setAttributeNS(null,"viewBox","0 0 27 41");var a=n.createNS("http://www.w3.org/2000/svg","g");a.setAttributeNS(null,"stroke","none"),a.setAttributeNS(null,"stroke-width","1"),a.setAttributeNS(null,"fill","none"),a.setAttributeNS(null,"fill-rule","evenodd");var s=n.createNS("http://www.w3.org/2000/svg","g");s.setAttributeNS(null,"fill-rule","nonzero");var l=n.createNS("http://www.w3.org/2000/svg","g");l.setAttributeNS(null,"transform","translate(3.0, 29.0)"),l.setAttributeNS(null,"fill","#000000");for(var u=0,c=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];u<c.length;u+=1){var p=c[u],h=n.createNS("http://www.w3.org/2000/svg","ellipse");h.setAttributeNS(null,"opacity","0.04"),h.setAttributeNS(null,"cx","10.5"),h.setAttributeNS(null,"cy","5.80029008"),h.setAttributeNS(null,"rx",p.rx),h.setAttributeNS(null,"ry",p.ry),l.appendChild(h)}var d=n.createNS("http://www.w3.org/2000/svg","g");d.setAttributeNS(null,"fill",this._color);var f=n.createNS("http://www.w3.org/2000/svg","path");f.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),d.appendChild(f);var m=n.createNS("http://www.w3.org/2000/svg","g");m.setAttributeNS(null,"opacity","0.25"),m.setAttributeNS(null,"fill","#000000");var y=n.createNS("http://www.w3.org/2000/svg","path");y.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),m.appendChild(y);var v=n.createNS("http://www.w3.org/2000/svg","g");v.setAttributeNS(null,"transform","translate(6.0, 7.0)"),v.setAttributeNS(null,"fill","#FFFFFF");var g=n.createNS("http://www.w3.org/2000/svg","g");g.setAttributeNS(null,"transform","translate(8.0, 8.0)");var _=n.createNS("http://www.w3.org/2000/svg","circle");_.setAttributeNS(null,"fill","#000000"),_.setAttributeNS(null,"opacity","0.25"),_.setAttributeNS(null,"cx","5.5"),_.setAttributeNS(null,"cy","5.5"),_.setAttributeNS(null,"r","5.4999962");var x=n.createNS("http://www.w3.org/2000/svg","circle");x.setAttributeNS(null,"fill","#FFFFFF"),x.setAttributeNS(null,"cx","5.5"),x.setAttributeNS(null,"cy","5.5"),x.setAttributeNS(null,"r","5.4999962"),g.appendChild(_),g.appendChild(x),s.appendChild(l),s.appendChild(d),s.appendChild(m),s.appendChild(v),s.appendChild(g),o.appendChild(s),o.setAttributeNS(null,"height",41*this._scale+"px"),o.setAttributeNS(null,"width",27*this._scale+"px"),this._element.appendChild(o),this._offset=e.Point.convert(r&&r.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",(function(e){e.preventDefault()})),this._element.addEventListener("mousedown",(function(e){e.preventDefault()})),ji(this._element,this._anchor,"marker"),this._popup=null}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.addTo=function(e){return this.remove(),this._map=e,e.getCanvasContainer().appendChild(this._element),e.on("move",this._update),e.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},r.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),n.remove(this._element),this._popup&&this._popup.remove(),this},r.prototype.getLngLat=function(){return this._lngLat},r.prototype.setLngLat=function(t){return this._lngLat=e.LngLat.convert(t),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},r.prototype.getElement=function(){return this._element},r.prototype.setPopup=function(e){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),e){if(!("offset"in e.options)){var t=Math.sqrt(Math.pow(13.5,2)/2);e.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[t,-1*(24.6+t)],"bottom-right":[-t,-1*(24.6+t)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=e,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},r.prototype._onKeyPress=function(e){var t=e.code,n=e.charCode||e.keyCode;"Space"!==t&&"Enter"!==t&&32!==n&&13!==n||this.togglePopup()},r.prototype._onMapClick=function(e){var t=e.originalEvent.target,n=this._element;this._popup&&(t===n||n.contains(t))&&this.togglePopup()},r.prototype.getPopup=function(){return this._popup},r.prototype.togglePopup=function(){var e=this._popup;return e?(e.isOpen()?e.remove():e.addTo(this._map),this):this},r.prototype._update=function(e){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=Di(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var t="";"viewport"===this._rotationAlignment||"auto"===this._rotationAlignment?t="rotateZ("+this._rotation+"deg)":"map"===this._rotationAlignment&&(t="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var r="";"viewport"===this._pitchAlignment||"auto"===this._pitchAlignment?r="rotateX(0deg)":"map"===this._pitchAlignment&&(r="rotateX("+this._map.getPitch()+"deg)"),e&&"moveend"!==e.type||(this._pos=this._pos.round()),n.setTransform(this._element,Mi[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+r+" "+t)}},r.prototype.getOffset=function(){return this._offset},r.prototype.setOffset=function(t){return this._offset=e.Point.convert(t),this._update(),this},r.prototype._onMove=function(t){if(!this._isDragging){var n=this._clickTolerance||this._map._clickTolerance;this._isDragging=t.point.dist(this._pointerdownPos)>=n}this._isDragging&&(this._pos=t.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new e.Event("dragstart"))),this.fire(new e.Event("drag")))},r.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new e.Event("dragend")),this._state="inactive"},r.prototype._addDragHandler=function(e){this._element.contains(e.originalEvent.target)&&(e.preventDefault(),this._positionDelta=e.point.sub(this._pos).add(this._offset),this._pointerdownPos=e.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},r.prototype.setDraggable=function(e){return this._draggable=!!e,this._map&&(e?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},r.prototype.isDraggable=function(){return this._draggable},r.prototype.setRotation=function(e){return this._rotation=e||0,this._update(),this},r.prototype.getRotation=function(){return this._rotation},r.prototype.setRotationAlignment=function(e){return this._rotationAlignment=e||"auto",this._update(),this},r.prototype.getRotationAlignment=function(){return this._rotationAlignment},r.prototype.setPitchAlignment=function(e){return this._pitchAlignment=e&&"auto"!==e?e:this._rotationAlignment,this._update(),this},r.prototype.getPitchAlignment=function(){return this._pitchAlignment},r}(e.Evented),zi={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},Ni=0,Bi=!1,Fi=function(t){function r(n){t.call(this),this.options=e.extend({},zi,n),e.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.onAdd=function(t){var r;return this._map=t,this._container=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),r=this._setupUI,void 0!==Ri?r(Ri):void 0!==e.window.navigator.permissions?e.window.navigator.permissions.query({name:"geolocation"}).then((function(e){r(Ri="denied"!==e.state)})):r(Ri=!!e.window.navigator.geolocation),this._container},r.prototype.onRemove=function(){void 0!==this._geolocationWatchID&&(e.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),n.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Ni=0,Bi=!1},r.prototype._isOutOfMapMaxBounds=function(e){var t=this._map.getMaxBounds(),n=e.coords;return t&&(n.longitude<t.getWest()||n.longitude>t.getEast()||n.latitude<t.getSouth()||n.latitude>t.getNorth())},r.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}},r.prototype._onSuccess=function(t){if(this._map){if(this._isOutOfMapMaxBounds(t))return this._setErrorState(),this.fire(new e.Event("outofmaxbounds",t)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=t,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(t),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(t),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new e.Event("geolocate",t)),this._finish()}},r.prototype._updateCamera=function(t){var n=new e.LngLat(t.coords.longitude,t.coords.latitude),r=t.coords.accuracy,i=this._map.getBearing(),o=e.extend({bearing:i},this.options.fitBoundsOptions);this._map.fitBounds(n.toBounds(r),o,{geolocateSource:!0})},r.prototype._updateMarker=function(t){if(t){var n=new e.LngLat(t.coords.longitude,t.coords.latitude);this._accuracyCircleMarker.setLngLat(n).addTo(this._map),this._userLocationDotMarker.setLngLat(n).addTo(this._map),this._accuracy=t.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},r.prototype._updateCircleRadius=function(){var e=this._map._container.clientHeight/2,t=this._map.unproject([0,e]),n=this._map.unproject([1,e]),r=t.distanceTo(n),i=Math.ceil(2*this._accuracy/r);this._circleElement.style.width=i+"px",this._circleElement.style.height=i+"px"},r.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},r.prototype._onError=function(t){if(this._map){if(this.options.trackUserLocation)if(1===t.code){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var n=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=n,this._geolocateButton.setAttribute("aria-label",n),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===t.code&&Bi)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new e.Event("error",t)),this._finish()}},r.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},r.prototype._setupUI=function(t){var r=this;if(this._container.addEventListener("contextmenu",(function(e){return e.preventDefault()})),this._geolocateButton=n.create("button","mapboxgl-ctrl-geolocate",this._container),n.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",!1===t){e.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var i=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=i,this._geolocateButton.setAttribute("aria-label",i)}else{var o=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=o,this._geolocateButton.setAttribute("aria-label",o)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=n.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new Li(this._dotElement),this._circleElement=n.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Li({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",(function(t){t.geolocateSource||"ACTIVE_LOCK"!==r._watchState||t.originalEvent&&"resize"===t.originalEvent.type||(r._watchState="BACKGROUND",r._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),r._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),r.fire(new e.Event("trackuserlocationend")))}))},r.prototype.trigger=function(){if(!this._setup)return e.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new e.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Ni--,Bi=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new e.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new e.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){var t;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),++Ni>1?(t={maximumAge:6e5,timeout:0},Bi=!0):(t=this.options.positionOptions,Bi=!1),this._geolocationWatchID=e.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,t)}}else e.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},r.prototype._clearWatch=function(){e.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},r}(e.Evented),Ui={maxWidth:100,unit:"metric"},Vi=function(t){this.options=e.extend({},Ui,t),e.bindAll(["_onMove","setUnit"],this)};function qi(e,t,n){var r=n&&n.maxWidth||100,i=e._container.clientHeight/2,o=e.unproject([0,i]),a=e.unproject([r,i]),s=o.distanceTo(a);if(n&&"imperial"===n.unit){var l=3.2808*s;l>5280?Wi(t,r,l/5280,e._getUIString("ScaleControl.Miles")):Wi(t,r,l,e._getUIString("ScaleControl.Feet"))}else n&&"nautical"===n.unit?Wi(t,r,s/1852,e._getUIString("ScaleControl.NauticalMiles")):s>=1e3?Wi(t,r,s/1e3,e._getUIString("ScaleControl.Kilometers")):Wi(t,r,s,e._getUIString("ScaleControl.Meters"))}function Wi(e,t,n,r){var i,o,a,s=(i=n,(o=Math.pow(10,(""+Math.floor(i)).length-1))*(a=(a=i/o)>=10?10:a>=5?5:a>=3?3:a>=2?2:a>=1?1:function(e){var t=Math.pow(10,Math.ceil(-Math.log(e)/Math.LN10));return Math.round(e*t)/t}(a)));e.style.width=t*(s/n)+"px",e.innerHTML=s+"&nbsp;"+r}Vi.prototype.getDefaultPosition=function(){return"bottom-left"},Vi.prototype._onMove=function(){qi(this._map,this._container,this.options)},Vi.prototype.onAdd=function(e){return this._map=e,this._container=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",e.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},Vi.prototype.onRemove=function(){n.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},Vi.prototype.setUnit=function(e){this.options.unit=e,qi(this._map,this._container,this.options)};var Hi=function(t){this._fullscreen=!1,t&&t.container&&(t.container instanceof e.window.HTMLElement?this._container=t.container:e.warnOnce("Full screen control 'container' must be a DOM element.")),e.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in e.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in e.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in e.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in e.window.document&&(this._fullscreenchange="MSFullscreenChange")};Hi.prototype.onAdd=function(t){return this._map=t,this._container||(this._container=this._map.getContainer()),this._controlContainer=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",e.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},Hi.prototype.onRemove=function(){n.remove(this._controlContainer),this._map=null,e.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},Hi.prototype._checkFullscreenSupport=function(){return!!(e.window.document.fullscreenEnabled||e.window.document.mozFullScreenEnabled||e.window.document.msFullscreenEnabled||e.window.document.webkitFullscreenEnabled)},Hi.prototype._setupUI=function(){var t=this._fullscreenButton=n.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);n.create("span","mapboxgl-ctrl-icon",t).setAttribute("aria-hidden",!0),t.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),e.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},Hi.prototype._updateTitle=function(){var e=this._getTitle();this._fullscreenButton.setAttribute("aria-label",e),this._fullscreenButton.title=e},Hi.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},Hi.prototype._isFullscreen=function(){return this._fullscreen},Hi.prototype._changeIcon=function(){(e.window.document.fullscreenElement||e.window.document.mozFullScreenElement||e.window.document.webkitFullscreenElement||e.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},Hi.prototype._onClickFullscreen=function(){this._isFullscreen()?e.window.document.exitFullscreen?e.window.document.exitFullscreen():e.window.document.mozCancelFullScreen?e.window.document.mozCancelFullScreen():e.window.document.msExitFullscreen?e.window.document.msExitFullscreen():e.window.document.webkitCancelFullScreen&&e.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var Gi={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},Zi=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", "),Ki=function(t){function r(n){t.call(this),this.options=e.extend(Object.create(Gi),n),e.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.addTo=function(t){return this._map&&this.remove(),this._map=t,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new e.Event("open")),this},r.prototype.isOpen=function(){return!!this._map},r.prototype.remove=function(){return this._content&&n.remove(this._content),this._container&&(n.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new e.Event("close")),this},r.prototype.getLngLat=function(){return this._lngLat},r.prototype.setLngLat=function(t){return this._lngLat=e.LngLat.convert(t),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},r.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},r.prototype.getElement=function(){return this._container},r.prototype.setText=function(t){return this.setDOMContent(e.window.document.createTextNode(t))},r.prototype.setHTML=function(t){var n,r=e.window.document.createDocumentFragment(),i=e.window.document.createElement("body");for(i.innerHTML=t;n=i.firstChild;)r.appendChild(n);return this.setDOMContent(r)},r.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},r.prototype.setMaxWidth=function(e){return this.options.maxWidth=e,this._update(),this},r.prototype.setDOMContent=function(e){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=n.create("div","mapboxgl-popup-content",this._container);return this._content.appendChild(e),this._createCloseButton(),this._update(),this._focusFirstElement(),this},r.prototype.addClassName=function(e){this._container&&this._container.classList.add(e)},r.prototype.removeClassName=function(e){this._container&&this._container.classList.remove(e)},r.prototype.setOffset=function(e){return this.options.offset=e,this._update(),this},r.prototype.toggleClassName=function(e){if(this._container)return this._container.classList.toggle(e)},r.prototype._createCloseButton=function(){this.options.closeButton&&(this._closeButton=n.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},r.prototype._onMouseUp=function(e){this._update(e.point)},r.prototype._onMouseMove=function(e){this._update(e.point)},r.prototype._onDrag=function(e){this._update(e.point)},r.prototype._update=function(t){var r=this;if(this._map&&(this._lngLat||this._trackPointer)&&this._content&&(this._container||(this._container=n.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=n.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach((function(e){return r._container.classList.add(e)})),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Di(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||t)){var i=this._pos=this._trackPointer&&t?t:this._map.project(this._lngLat),o=this.options.anchor,a=function t(n){if(n){if("number"==typeof n){var r=Math.round(Math.sqrt(.5*Math.pow(n,2)));return{center:new e.Point(0,0),top:new e.Point(0,n),"top-left":new e.Point(r,r),"top-right":new e.Point(-r,r),bottom:new e.Point(0,-n),"bottom-left":new e.Point(r,-r),"bottom-right":new e.Point(-r,-r),left:new e.Point(n,0),right:new e.Point(-n,0)}}if(n instanceof e.Point||Array.isArray(n)){var i=e.Point.convert(n);return{center:i,top:i,"top-left":i,"top-right":i,bottom:i,"bottom-left":i,"bottom-right":i,left:i,right:i}}return{center:e.Point.convert(n.center||[0,0]),top:e.Point.convert(n.top||[0,0]),"top-left":e.Point.convert(n["top-left"]||[0,0]),"top-right":e.Point.convert(n["top-right"]||[0,0]),bottom:e.Point.convert(n.bottom||[0,0]),"bottom-left":e.Point.convert(n["bottom-left"]||[0,0]),"bottom-right":e.Point.convert(n["bottom-right"]||[0,0]),left:e.Point.convert(n.left||[0,0]),right:e.Point.convert(n.right||[0,0])}}return t(new e.Point(0,0))}(this.options.offset);if(!o){var s,l=this._container.offsetWidth,u=this._container.offsetHeight;s=i.y+a.bottom.y<u?["top"]:i.y>this._map.transform.height-u?["bottom"]:[],i.x<l/2?s.push("left"):i.x>this._map.transform.width-l/2&&s.push("right"),o=0===s.length?"bottom":s.join("-")}var c=i.add(a[o]).round();n.setTransform(this._container,Mi[o]+" translate("+c.x+"px,"+c.y+"px)"),ji(this._container,o,"popup")}},r.prototype._focusFirstElement=function(){if(this.options.focusAfterOpen&&this._container){var e=this._container.querySelector(Zi);e&&e.focus()}},r.prototype._onClose=function(){this.remove()},r}(e.Evented),Xi={version:e.version,supported:t,setRTLTextPlugin:e.setRTLTextPlugin,getRTLTextPluginStatus:e.getRTLTextPluginStatus,Map:Ci,NavigationControl:Ii,GeolocateControl:Fi,AttributionControl:_i,ScaleControl:Vi,FullscreenControl:Hi,Popup:Ki,Marker:Li,Style:qt,LngLat:e.LngLat,LngLatBounds:e.LngLatBounds,Point:e.Point,MercatorCoordinate:e.MercatorCoordinate,Evented:e.Evented,config:e.config,prewarm:function(){Ne().acquire(je)},clearPrewarmedResources:function(){var e=Le;e&&(e.isPreloaded()&&1===e.numActive()?(e.release(je),Le=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return e.config.ACCESS_TOKEN},set accessToken(t){e.config.ACCESS_TOKEN=t},get baseApiUrl(){return e.config.API_URL},set baseApiUrl(t){e.config.API_URL=t},get workerCount(){return Re.workerCount},set workerCount(e){Re.workerCount=e},get maxParallelImageRequests(){return e.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(t){e.config.MAX_PARALLEL_IMAGE_REQUESTS=t},clearStorage:function(t){e.clearTileCache(t)},workerUrl:""};return Xi})),n}()},6533:e=>{var t="undefined"!==typeof window?window:self;e.exports=t.crypto||t.msCrypto},2469:(e,t,n)=>{e.exports=function(e){if(!e)return Math.random;var t=Math.pow(2,32),n=new Uint32Array(1);return function(){return e.getRandomValues(n)[0]/t}}(n(6533))},3573:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,o.default)((function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=null;return t.forEach((function(e){if(null==i){var t=e.apply(void 0,n);null!=t&&(i=t)}})),i}))};var r,i=n(6054),o=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},6054:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,r,i,o,a){var s=i||"<<anonymous>>",l=a||r;if(null==n[r])return t?new Error("Required "+o+" `"+l+"` was not specified in `"+s+"`."):null;for(var u=arguments.length,c=Array(u>6?u-6:0),p=6;p<u;p++)c[p-6]=arguments[p];return e.apply(void 0,[n,r,s,o,l].concat(c))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n},e.exports=t.default},888:(e,t,n)=>{"use strict";var r=n(9047);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},2007:(e,t,n)=>{e.exports=n(888)()},9047:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},6222:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultProps=void 0;var r=n(1899);t.defaultProps={activeIndex:0,animationDuration:400,animationEasingFunction:"ease",animationType:r.AnimationType.SLIDE,autoHeight:!1,autoWidth:!1,autoPlay:!1,autoPlayControls:!1,autoPlayDirection:r.AutoplayDirection.LTR,autoPlayInterval:400,autoPlayStrategy:r.AutoPlayStrategy.DEFAULT,children:void 0,controlsStrategy:r.ControlsStrategy.DEFAULT,disableButtonsControls:!1,disableDotsControls:!1,disableSlideInfo:!0,infinite:!1,innerWidth:void 0,items:void 0,keyboardNavigation:!1,mouseTracking:!1,syncStateOnPropsUpdate:!0,name:"",paddingLeft:0,paddingRight:0,responsive:void 0,swipeDelta:20,swipeExtraPadding:200,ssrSilentMode:!0,touchTracking:!0,touchMoveDefaultEvents:!0,onInitialized:function(){},onResized:function(){},onUpdated:function(){},onResizeEvent:void 0,onSlideChange:function(){},onSlideChanged:function(){}}},1052:(e,t,n)=>{"use strict";var r=function(){var e=function(t,n){return(e=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&("get"in i?t.__esModule:!i.writable&&!i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]},a=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return a(t,e),t},l=function(e,t,n,r){return new(n=n||Promise)((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},u=function(e,t){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){var l=[a,s];if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&l[0]?r.return:l[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,l[1])).done)return i;switch(r=0,(l=i?[2&l[0],i.value]:l)[0]){case 0:case 1:i=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(i=0<(i=o.trys).length&&i[i.length-1])&&(6===l[0]||2===l[0])){o=0;continue}if(3===l[0]&&(!i||l[1]>i[0]&&l[1]<i[3]))o.label=l[1];else if(6===l[0]&&o.label<i[1])o.label=i[1],i=l;else{if(!(i&&o.label<i[2])){i[2]&&o.ops.pop(),o.trys.pop();continue}o.label=i[2],o.ops.push(l)}}l=t.call(e,o)}catch(s){l=[6,s],r=0}finally{n=i=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}},c=function(e){return e&&e.__esModule?e:{default:e}},p=(Object.defineProperty(t,"__esModule",{value:!0}),c(n(2791))),h=c(n(5510)),d=n(6222),f=s(n(3050)),m=s(n(4419)),y=n(1899),v=(function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)}(n(1899),t),function(e){function t(t){var n=e.call(this,t)||this;return n.swipeListener=null,n._handleKeyboardEvents=function(e){switch(e.code){case"Space":return n.props.autoPlay&&n._handlePlayPauseToggle();case"ArrowLeft":return n.slidePrev(e);case"ArrowRight":return n.slideNext(e)}},n._handleBeforeSlideEnd=function(e){return l(n,void 0,void 0,(function(){var t,n,r;return u(this,(function(i){switch(i.label){case 0:return n=this.state,r=n.activeIndex,t=n.itemsCount,n=n.fadeoutAnimationProcessing,m.shouldRecalculateSlideIndex(r,t)?(r=m.getUpdateSlidePositionIndex(r,t),[4,this._handleUpdateSlidePosition(r)]):[3,2];case 1:return i.sent(),[3,4];case 2:return n?[4,this.setState({fadeoutAnimationIndex:null,fadeoutAnimationPosition:null,fadeoutAnimationProcessing:!1})]:[3,4];case 3:i.sent(),i.label=4;case 4:return this._handleSlideChanged(e),[2]}}))}))},n._handleMouseEnter=function(){var e=n.props.autoPlayStrategy;m.shouldCancelAutoPlayOnHover(e)&&n.state.isAutoPlaying&&(n.isHovered=!0,n._handlePause())},n._handleMouseLeave=function(){n.state.isAutoPlaying&&(n.isHovered=!1,n._handlePlay())},n._handlePause=function(){n._clearAutoPlayTimeout()},n._handlePlayPauseToggle=function(){return l(n,void 0,void 0,(function(){var e;return u(this,(function(t){switch(t.label){case 0:return e=this.state.isAutoPlaying,this.hasUserAction=!0,[4,this.setState({isAutoPlaying:!e,isAutoPlayCanceledOnAction:!0})];case 1:return t.sent(),e?this._handlePause():this._handlePlay(),[2]}}))}))},n._setRootComponentRef=function(e){return n.rootElement=e},n._setStageComponentRef=function(e){return n.stageComponent=e},n._renderStageItem=function(e,t){var r=m.getRenderStageItemStyles(t,n.state),i=m.getRenderStageItemClasses(t,n.state);return p.default.createElement(f.StageItem,{styles:r,className:i,key:"stage-item-".concat(t),item:e})},n._renderSlideInfo=function(){var e=n.props.renderSlideInfo,t=(r=n.state).activeIndex,r=r.itemsCount;return p.default.createElement(f.SlideInfo,{itemsCount:r,activeIndex:t,renderSlideInfo:e})},n.state=m.calculateInitialState(t,null),n.isHovered=!1,n.isAnimationDisabled=!1,n.isTouchMoveProcessStarted=!1,n.cancelTouchAnimations=!1,n.hasUserAction=!1,n.rootElement=null,n.rootComponentDimensions={},n.stageComponent=null,n.startTouchmovePosition=void 0,n.slideTo=n.slideTo.bind(n),n.slidePrev=n.slidePrev.bind(n),n.slideNext=n.slideNext.bind(n),n._handleTouchmove=n._handleTouchmove.bind(n),n._handleTouchend=n._handleTouchend.bind(n),n._handleDotClick=n._handleDotClick.bind(n),n._handleResize=n._handleResize.bind(n),t=m.debounce(n._handleResize,100),n._handleResizeDebounced=t[0],n._cancelResizeDebounced=t[1],n}return r(t,e),t.prototype.componentDidMount=function(){return l(this,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return[4,this._setInitialState()];case 1:return e.sent(),this._addEventListeners(),this._setupSwipeHandlers(),this.props.autoPlay&&this._handlePlay(),[2]}}))}))},t.prototype.componentDidUpdate=function(e){var t=(f=this.props).activeIndex,n=f.animationDuration,r=f.autoWidth,i=f.children,o=f.infinite,a=f.items,s=f.paddingLeft,l=f.paddingRight,u=f.responsive,c=f.swipeExtraPadding,p=f.mouseTracking,h=f.swipeDelta,d=f.touchTracking,f=f.touchMoveDefaultEvents;i&&e.children!==i||e.autoWidth!==r||e.infinite!==o||e.items!==a||e.paddingLeft!==s||e.paddingRight!==l||e.responsive!==u||e.swipeExtraPadding!==c?this._updateComponent():(e.animationDuration!==n&&this.setState({animationDuration:n}),e.activeIndex!==t&&this.slideTo(t,y.EventType.UPDATE)),e.swipeDelta===h&&e.mouseTracking===p&&e.touchTracking===d&&e.touchMoveDefaultEvents===f||this._updateSwipeProps(),this.props.keyboardNavigation!==e.keyboardNavigation&&this._updateEventListeners()},t.prototype.componentWillUnmount=function(){this._cancelResizeDebounced(),this._cancelTimeoutAnimations(),this._removeEventListeners()},Object.defineProperty(t.prototype,"eventObject",{get:function(){var e=(t=this.state).itemsInSlide,t=t.activeIndex,n=(r=m.getSlideItemInfo(this.state)).isNextSlideDisabled,r=r.isPrevSlideDisabled;return{item:t,slide:m.getActiveSlideIndex(n,this.state),itemsInSlide:e,isNextSlideDisabled:n,isPrevSlideDisabled:r,type:y.EventType.ACTION}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isFadeoutAnimationAllowed",{get:function(){var e=this.state.itemsInSlide,t=(i=this.props).animationType,n=i.paddingLeft,r=i.paddingRight,i=i.autoWidth;return 1===e&&t===y.AnimationType.FADEOUT&&!(n||r||i)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"touchmovePosition",{get:function(){return void 0!==this.startTouchmovePosition?this.startTouchmovePosition:this.state.translate3d},enumerable:!1,configurable:!0}),t.prototype.slideTo=function(e,t){var n,r,i;void 0===e&&(e=0),this._handlePause(),this.isFadeoutAnimationAllowed?(n=m.getUpdateSlidePositionIndex(e,this.state.itemsCount),r=m.getFadeoutAnimationPosition(n,this.state),i=m.getFadeoutAnimationIndex(this.state),this._handleSlideTo({activeIndex:n,fadeoutAnimationIndex:i,fadeoutAnimationPosition:r,eventType:t})):this._handleSlideTo({activeIndex:e,eventType:t})},t.prototype.slidePrev=function(e){this._handlePause(),e&&e.isTrusted&&(this.hasUserAction=!0);var t,n;e=this.state.activeIndex-1;this.isFadeoutAnimationAllowed?(t=-this.state.stageWidth,n=m.getFadeoutAnimationIndex(this.state),this._handleSlideTo({activeIndex:e,fadeoutAnimationIndex:n,fadeoutAnimationPosition:t})):this._handleSlideTo({activeIndex:e})},t.prototype.slideNext=function(e){this._handlePause(),e&&e.isTrusted&&(this.hasUserAction=!0);var t,n;e=this.state.activeIndex+1;this.isFadeoutAnimationAllowed?(t=this.state.stageWidth,n=m.getFadeoutAnimationIndex(this.state),this._handleSlideTo({activeIndex:e,fadeoutAnimationIndex:n,fadeoutAnimationPosition:t})):this._handleSlideTo({activeIndex:e})},t.prototype._addEventListeners=function(){window.addEventListener("resize",this._handleResizeDebounced),this.props.keyboardNavigation&&window.addEventListener("keyup",this._handleKeyboardEvents)},t.prototype._removeEventListeners=function(){this.swipeListener&&this.swipeListener.destroy(),window.removeEventListener("resize",this._handleResizeDebounced),window.removeEventListener("keyup",this._handleKeyboardEvents)},t.prototype._updateEventListeners=function(){this.props.keyboardNavigation?window.addEventListener("keyup",this._handleKeyboardEvents):window.removeEventListener("keyup",this._handleKeyboardEvents)},t.prototype._handleResize=function(e){return l(this,void 0,void 0,(function(){var t,n,r;return u(this,(function(o){switch(o.label){case 0:return n=this.props.onResizeEvent,r=m.getElementDimensions(this.rootElement),(n||m.shouldHandleResizeEvent)(e,this.rootComponentDimensions,r)?(this._cancelTimeoutAnimations(),this.rootComponentDimensions=r,n=this.state,r=n.itemsCount,t=n.isAutoPlaying,n=m.getUpdateSlidePositionIndex(this.state.activeIndex,r),r=m.calculateInitialState(i(i({},this.props),{activeIndex:n}),this.stageComponent),n=m.getTranslate3dProperty(r.activeIndex,r),r=i(i({},r),{translate3d:n,isAutoPlaying:t}),m.animate(this.stageComponent,{position:-n}),[4,this.setState(r)]):[3,2];case 1:o.sent(),this._handleResized(),this.isAnimationDisabled=!1,t&&this._handlePlay(),o.label=2;case 2:return[2]}}))}))},t.prototype._handleTouchmove=function(e,t){var n=t.absY,r=t.absX,i=t.deltaX,o=(t=this.props.swipeDelta,(u=this.state).swipeShiftValue),a=u.swipeLimitMin,s=u.swipeLimitMax,l=u.infinite,u=u.fadeoutAnimationProcessing;if(this.hasUserAction=!0,!(u||!this.isTouchMoveProcessStarted&&m.isVerticalTouchmoveDetected(r,n,t))){this.isTouchMoveProcessStarted||(this._cancelTimeoutAnimations(),this._setTouchmovePosition(),this.isAnimationDisabled=!0,this.isTouchMoveProcessStarted=!0,this._handleSlideChange());var c=m.getTouchmoveTranslatePosition(i,this.touchmovePosition);if(!1===l)return a<c||c<-s?void 0:void m.animate(this.stageComponent,{position:c});if(m.shouldRecalculateSwipePosition(c,a,s))try{!function e(){m.getIsLeftDirection(i)?c+=o:c+=-o,m.shouldRecalculateSwipePosition(c,a,s)&&e()}()}catch(e){m.debug(e)}m.animate(this.stageComponent,{position:c})}},t.prototype._handleTouchend=function(e,t){var n,r,i;t=t.deltaX;this._clearTouchmovePosition(),this.isTouchMoveProcessStarted&&(this.isTouchMoveProcessStarted=!1,n=this.state.animationDuration,r=this.props.animationEasingFunction,i=m.getTranslateXProperty(this.stageComponent),t=m.getSwipeTouchendPosition(this.state,t,i),m.animate(this.stageComponent,{position:t,animationDuration:n,animationEasingFunction:r}),this._handleBeforeTouchEnd(t))},t.prototype._handleBeforeTouchEnd=function(e){var t=this,n=this.state.animationDuration;this.touchEndTimeoutId=window.setTimeout((function(){return l(t,void 0,void 0,(function(){var t,n,r,i=this;return u(this,(function(o){switch(o.label){case 0:return t=m.getSwipeTouchendIndex(e,this.state),n=m.getTranslate3dProperty(t,this.state),m.animate(this.stageComponent,{position:-n}),r=m.getTransitionProperty(),[4,this.setState({activeIndex:t,translate3d:n,transition:r})];case 1:return o.sent(),requestAnimationFrame((function(){return i._handleSlideChanged()})),[2]}}))}))}),n)},t.prototype._handleSlideTo=function(e){var t,n=void 0===(t=e.activeIndex)?0:t,r=void 0===(t=e.fadeoutAnimationIndex)?null:t,i=void 0===(t=e.fadeoutAnimationPosition)?null:t,o=e.eventType;return l(this,void 0,void 0,(function(){var e,t,a,s,l=this;return u(this,(function(u){switch(u.label){case 0:return t=this.props,a=t.infinite,t=t.animationEasingFunction,e=this.state,s=e.itemsCount,e=e.animationDuration,this.isAnimationDisabled||this.state.activeIndex===n||!a&&m.shouldCancelSlideAnimation(n,s)?[2]:(this.isAnimationDisabled=!0,this._cancelTimeoutAnimations(),this._handleSlideChange(o),a=!1,s=m.getTranslate3dProperty(n,this.state),t=null!==r&&null!==i?(a=!0,m.getTransitionProperty()):m.getTransitionProperty({animationDuration:e,animationEasingFunction:t}),[4,this.setState({activeIndex:n,transition:t,translate3d:s,animationDuration:e,fadeoutAnimationIndex:r,fadeoutAnimationPosition:i,fadeoutAnimationProcessing:a})]);case 1:return u.sent(),this.slideEndTimeoutId=window.setTimeout((function(){return l._handleBeforeSlideEnd(o)}),e),[2]}}))}))},t.prototype._handleUpdateSlidePosition=function(e){return l(this,void 0,void 0,(function(){var t,n,r;return u(this,(function(i){switch(i.label){case 0:return t=this.state.animationDuration,n=m.getTranslate3dProperty(e,this.state),r=m.getTransitionProperty({animationDuration:0}),[4,this.setState({activeIndex:e,translate3d:n,transition:r,animationDuration:t,fadeoutAnimationIndex:null,fadeoutAnimationPosition:null,fadeoutAnimationProcessing:!1})];case 1:return i.sent(),[2]}}))}))},t.prototype._handleUpdated=function(){this.props.onUpdated&&this.props.onUpdated(i(i({},this.eventObject),{type:y.EventType.UPDATE}))},t.prototype._handleResized=function(){this.props.onResized&&this.props.onResized(i(i({},this.eventObject),{type:y.EventType.RESIZE}))},t.prototype._handleSlideChange=function(e){this.props.onSlideChange&&(e=e?i(i({},this.eventObject),{type:e}):this.eventObject,this.props.onSlideChange(e))},t.prototype._handleSlideChanged=function(e){return l(this,void 0,void 0,(function(){var t,n,r,o;return u(this,(function(a){switch(a.label){case 0:return n=this.state,t=n.isAutoPlaying,n=n.isAutoPlayCanceledOnAction,r=this.props,o=r.autoPlayStrategy,r=r.onSlideChanged,m.shouldCancelAutoPlayOnAction(o)&&this.hasUserAction&&!n?[4,this.setState({isAutoPlayCanceledOnAction:!0,isAutoPlaying:!1})]:[3,2];case 1:return a.sent(),[3,3];case 2:t&&this._handlePlay(),a.label=3;case 3:return this.isAnimationDisabled=!1,r&&(o=e?i(i({},this.eventObject),{type:e}):this.eventObject,r(o)),e===y.EventType.UPDATE&&this._handleUpdated(),[2]}}))}))},t.prototype._handleDotClick=function(e){this.hasUserAction=!0,this.slideTo(e)},t.prototype._handlePlay=function(){this._setAutoPlayInterval()},t.prototype._cancelTimeoutAnimations=function(){this._clearAutoPlayTimeout(),this._clearSlideEndTimeout(),this.clearTouchendTimeout()},t.prototype._clearAutoPlayTimeout=function(){window.clearTimeout(this.autoPlayTimeoutId),this.autoPlayTimeoutId=void 0},t.prototype._clearSlideEndTimeout=function(){clearTimeout(this.slideEndTimeoutId),this.slideEndTimeoutId=void 0},t.prototype.clearTouchendTimeout=function(){clearTimeout(this.touchEndTimeoutId),this.touchEndTimeoutId=void 0},t.prototype._clearTouchmovePosition=function(){this.startTouchmovePosition=void 0},t.prototype._setTouchmovePosition=function(){var e=m.getTranslateXProperty(this.stageComponent);this.startTouchmovePosition=-e},t.prototype._setInitialState=function(){return l(this,void 0,void 0,(function(){var e;return u(this,(function(t){switch(t.label){case 0:return e=m.calculateInitialState(this.props,this.stageComponent),this.rootComponentDimensions=m.getElementDimensions(this.rootElement),[4,this.setState(e)];case 1:return t.sent(),this.props.onInitialized&&this.props.onInitialized(i(i({},this.eventObject),{type:y.EventType.INIT})),[2]}}))}))},t.prototype._setAutoPlayInterval=function(){var e=this,t=(n=this.props).autoPlayDirection,n=n.autoPlayInterval;this.autoPlayTimeoutId=window.setTimeout((function(){e.isHovered||(t===y.AutoplayDirection.RTL?e.slidePrev():e.slideNext())}),n)},t.prototype._setupSwipeHandlers=function(){this.swipeListener=new h.default({element:this.rootElement,delta:this.props.swipeDelta,onSwiping:this._handleTouchmove,onSwiped:this._handleTouchend,rotationAngle:5,mouseTrackingEnabled:this.props.mouseTracking,touchTrackingEnabled:this.props.touchTracking,preventDefaultTouchmoveEvent:!this.props.touchMoveDefaultEvents,preventTrackingOnMouseleave:!0}),this.swipeListener.init()},t.prototype._updateComponent=function(){var e=this,t=(this.props.syncStateOnPropsUpdate?this.state:this.props).activeIndex,n=i(i({},this.props),{activeIndex:t});this._cancelTimeoutAnimations(),this.isAnimationDisabled=!1,this.state.isAutoPlaying&&this._handlePlay(),this.setState({clones:m.createClones(n)}),requestAnimationFrame((function(){e.setState(m.calculateInitialState(n,e.stageComponent),(function(){return e._handleUpdated()}))}))},t.prototype._updateSwipeProps=function(){this.swipeListener&&this.swipeListener.update({delta:this.props.swipeDelta,mouseTrackingEnabled:this.props.mouseTracking,touchTrackingEnabled:this.props.touchTracking,preventDefaultTouchmoveEvent:!this.props.touchMoveDefaultEvents})},t.prototype._renderDotsNavigation=function(){var e=(t=this.props).renderDotsItem,t=t.controlsStrategy;return p.default.createElement(f.DotsNavigation,{state:this.state,onClick:this._handleDotClick,renderDotsItem:e,controlsStrategy:t})},t.prototype._renderPrevButton=function(){var e=this.props.renderPrevButton,t=m.getSlideItemInfo(this.state).isPrevSlideDisabled;return p.default.createElement(f.PrevNextButton,{name:"prev",onClick:this.slidePrev,isDisabled:t,renderPrevButton:e})},t.prototype._renderNextButton=function(){var e=this.props.renderNextButton,t=m.getSlideItemInfo(this.state).isNextSlideDisabled;return p.default.createElement(f.PrevNextButton,{name:"next",onClick:this.slideNext,isDisabled:t,renderNextButton:e})},t.prototype._renderPlayPauseButton=function(){var e=this.props.renderPlayPauseButton,t=this.state.isAutoPlaying;return p.default.createElement(f.PlayPauseButton,{isPlaying:t,onClick:this._handlePlayPauseToggle,renderPlayPauseButton:e})},t.prototype.render=function(){var e=(r=this.state).translate3d,t=r.clones,n=r.transition,r=r.canUseDom,i=m.shouldDisableDots(this.props,this.state),o=m.shouldDisableButtons(this.props,this.state),a=m.getRenderWrapperStyles(this.props,this.state,this.stageComponent);e=m.getRenderStageStyles({translate3d:e},{transition:n}),n=this.props.ssrSilentMode||r?"":y.Modifiers.SSR,r=m.concatClassnames(y.Classnames.ROOT,n);return p.default.createElement("div",{className:r},p.default.createElement("div",{ref:this._setRootComponentRef},p.default.createElement("div",{style:a,className:y.Classnames.WRAPPER,onMouseEnter:this._handleMouseEnter,onMouseLeave:this._handleMouseLeave},p.default.createElement("ul",{style:e,className:y.Classnames.STAGE,ref:this._setStageComponentRef},t.map(this._renderStageItem)))),i?null:this._renderDotsNavigation(),o?null:this._renderPrevButton(),o?null:this._renderNextButton(),this.props.disableSlideInfo?null:this._renderSlideInfo(),this.props.autoPlayControls?this._renderPlayPauseButton():null)},t.defaultProps=d.defaultProps,t}(p.default.PureComponent));t.default=v},1899:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.Modifiers=t.Classnames=t.AutoplayDirection=t.ControlsStrategy=t.AutoPlayStrategy=t.AnimationType=t.EventType=void 0,(n=t.EventType||(t.EventType={})).ACTION="action",n.INIT="init",n.RESIZE="resize",n.UPDATE="update",function(e){e.FADEOUT="fadeout",e.SLIDE="slide"}(t.AnimationType||(t.AnimationType={})),function(e){e.DEFAULT="default",e.ALL="all",e.ACTION="action",e.NONE="none"}(t.AutoPlayStrategy||(t.AutoPlayStrategy={})),function(e){e.DEFAULT="default",e.ALTERNATE="alternate",e.RESPONSIVE="responsive"}(t.ControlsStrategy||(t.ControlsStrategy={})),function(e){e.RTL="rtl",e.LTR="ltr"}(t.AutoplayDirection||(t.AutoplayDirection={})),function(e){e.ANIMATED="animated animated-out fadeOut",e.ROOT="alice-carousel",e.WRAPPER="alice-carousel__wrapper",e.STAGE="alice-carousel__stage",e.STAGE_ITEM="alice-carousel__stage-item",e.DOTS="alice-carousel__dots",e.DOTS_ITEM="alice-carousel__dots-item",e.PLAY_BTN="alice-carousel__play-btn",e.PLAY_BTN_ITEM="alice-carousel__play-btn-item",e.PLAY_BTN_WRAPPER="alice-carousel__play-btn-wrapper",e.SLIDE_INFO="alice-carousel__slide-info",e.SLIDE_INFO_ITEM="alice-carousel__slide-info-item",e.BUTTON_PREV="alice-carousel__prev-btn",e.BUTTON_PREV_WRAPPER="alice-carousel__prev-btn-wrapper",e.BUTTON_PREV_ITEM="alice-carousel__prev-btn-item",e.BUTTON_NEXT="alice-carousel__next-btn",e.BUTTON_NEXT_WRAPPER="alice-carousel__next-btn-wrapper",e.BUTTON_NEXT_ITEM="alice-carousel__next-btn-item"}(t.Classnames||(t.Classnames={})),function(e){e.ACTIVE="__active",e.INACTIVE="__inactive",e.CLONED="__cloned",e.CUSTOM="__custom",e.PAUSE="__pause",e.SEPARATOR="__separator",e.SSR="__ssr",e.TARGET="__target"}(t.Modifiers||(t.Modifiers={}))},347:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isClonedItem=t.isTargetItem=t.isActiveItem=t.getRenderStageItemClasses=void 0;var r=n(1899),i=n(3034),o=n(5226),a=(t.getRenderStageItemClasses=function(e,n){void 0===e&&(e=0);var o=n.fadeoutAnimationIndex,a=(0,t.isActiveItem)(e,n)?r.Modifiers.ACTIVE:"",s=(0,t.isClonedItem)(e,n)?r.Modifiers.CLONED:"";n=(0,t.isTargetItem)(e,n)?r.Modifiers.TARGET:"",e=e===o?r.Classnames.ANIMATED:"";return(0,i.concatClassnames)(r.Classnames.STAGE_ITEM,a,s,n,e)},function(e,t){void 0===e&&(e=0);var n=t.activeIndex,r=t.itemsInSlide,i=t.itemsOffset,a=t.infinite,s=(t=t.autoWidth,(0,o.getShiftIndex)(r,i));return t&&a?e-s===n+i:(t=n+s,a?t<=e&&e<t+r:n<=e&&e<t)}),s=(t.isActiveItem=a,function(e,t){void 0===e&&(e=0);var n=t.activeIndex,r=t.itemsInSlide,i=t.itemsOffset,a=t.infinite;t=t.autoWidth,r=(0,o.getShiftIndex)(r,i);return a?t&&a?e-r===n+i:e===n+r:e===n}),l=(t.isTargetItem=s,function(e,t){void 0===e&&(e=0);var n=t.itemsInSlide,r=t.itemsOffset,i=t.itemsCount,a=t.infinite;t=t.autoWidth;return!!a&&(t&&a?e<n||i-1+n<e:e<(t=(0,o.getShiftIndex)(n,r))||i-1+t<e)});t.isClonedItem=l},3034:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateInitialState=t.getIsStageContentPartial=t.concatClassnames=void 0;var r=n(7806),i=n(5226),o=(t.concatClassnames=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.filter(Boolean).join(" ")},function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=0),!(e=void 0!==e&&e)&&n<=t}),a=(t.getIsStageContentPartial=o,function(e,t,n){void 0===n&&(n=(0,r.canUseDOM)());var o,a,s=void 0===(s=e.animationDuration)?0:s,l=void 0!==(l=e.infinite)&&l,u=void 0!==(u=e.autoPlay)&&u,c=void 0!==(c=e.autoWidth)&&c,p=(0,r.createClones)(e),h=(0,r.getTransitionProperty)(),d=(0,r.getItemsCount)(e),f=(0,r.getItemsOffset)(e),m=(0,r.getItemsInSlide)(d,e),y=(0,i.getStartIndex)(e.activeIndex,d),v=(y=(0,i.getActiveIndex)({startIndex:y,itemsCount:d,infinite:l}),(0,r.getElementDimensions)(t).width),g=(t=(c?(o=(t=(0,r.createAutowidthTransformationSet)(t,v,l)).coords,a=t.content,t):(o=(t=(0,r.createDefaultTransformationSet)(p,v,m,l)).coords,a=t.content,t)).partial,(0,i.getItemCoords)(-m,o).position),_=(0,i.getSwipeLimitMin)({itemsOffset:f,transformationSet:o},e),x=(e=(0,i.getSwipeLimitMax)({itemsCount:d,itemsOffset:f,itemsInSlide:m,transformationSet:o},e),(0,i.getSwipeShiftValue)(d,o));return{activeIndex:y,autoWidth:c,animationDuration:s,clones:p,infinite:l,itemsCount:d,itemsInSlide:m,itemsOffset:f,translate3d:(0,r.getTranslate3dProperty)(y,{itemsInSlide:m,itemsOffset:f,transformationSet:o,autoWidth:c,infinite:l}),stageWidth:v,stageContentWidth:a,initialStageHeight:0,isStageContentPartial:t,isAutoPlaying:u,isAutoPlayCanceledOnAction:!1,transformationSet:o,transition:h,fadeoutAnimationIndex:null,fadeoutAnimationPosition:null,fadeoutAnimationProcessing:!1,swipeLimitMin:_,swipeLimitMax:e,swipeAllowedPositionMax:g,swipeShiftValue:x,canUseDom:n}});t.calculateInitialState=a},7432:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shouldCancelAutoPlayOnHover=t.shouldCancelAutoPlayOnAction=t.getItemIndexForDotNavigation=t.checkIsTheLastDotIndex=t.getDotsNavigationLength=t.hasDotForEachSlide=t.isStrategy=t.shouldDisableButtons=t.shouldDisableDots=t.shouldDisableControls=void 0;var r=n(1899);function i(e,n){e=(e||{}).controlsStrategy;var i=(n=n||{}).itemsInSlide,o=n.itemsCount;n=n.autoWidth;if((0,t.isStrategy)(e,r.ControlsStrategy.RESPONSIVE))return!n&&i===o}t.shouldDisableControls=i,t.shouldDisableDots=function(e,t){return e.disableDotsControls||i(e,t)},t.shouldDisableButtons=function(e,t){return e.disableButtonsControls||!e.infinite&&i(e,t)};var o=(t.isStrategy=function(e,t){return void 0===e&&(e=""),void 0===t&&(t=""),Boolean(e&&e.includes(t))},function(e,n){return e||(0,t.isStrategy)(n,r.ControlsStrategy.ALTERNATE)}),a=(t.hasDotForEachSlide=o,function(e,t,n){return void 0===e&&(e=0),void 0===t&&(t=1),(n=void 0!==n&&n)?e:0!==Number(t)&&Math.ceil(e/t)||0}),s=(t.getDotsNavigationLength=a,function(e,t,n){return!t&&e===n-1}),l=(t.checkIsTheLastDotIndex=s,function(e,t,n,r){return(t?n-r:e*r)||0}),u=(t.getItemIndexForDotNavigation=l,function(e){return(e=void 0===e?"":e)===r.AutoPlayStrategy.ACTION||e===r.AutoPlayStrategy.ALL}),c=(t.shouldCancelAutoPlayOnAction=u,function(e){return(e=void 0===e?"":e)===r.AutoPlayStrategy.DEFAULT||e===r.AutoPlayStrategy.ALL});t.shouldCancelAutoPlayOnHover=c},6842:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.debug=void 0,t.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]}},7806:(e,t,n)=>{"use strict";var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=(Object.defineProperty(t,"__esModule",{value:!0}),t.getItemsInSlide=t.canUseDOM=t.getTransformMatrix=t.getTranslateXProperty=t.getTouchmoveTranslatePosition=t.getTranslate3dProperty=t.getRenderStageItemStyles=t.getRenderStageStyles=t.getTransitionProperty=t.getRenderWrapperStyles=t.animate=t.shouldHandleResizeEvent=t.getElementFirstChild=t.getElementCursor=t.getAutoheightProperty=t.getElementDimensions=t.getItemWidth=t.createDefaultTransformationSet=t.createAutowidthTransformationSet=t.isElement=t.createClones=t.getItemsOffset=t.getItemsCount=t.getSlides=void 0,n(9158)),o=n(5226),a=(t.getSlides=function(e){var t=e.children;e=e.items;return t?t.length?t:[t]:void 0===e?[]:e},function(e){return(0,t.getSlides)(e).length}),s=(t.getItemsCount=a,function(e){var t=e.infinite,n=e.paddingRight;e=e.paddingLeft;return t&&(e||n)?1:0}),l=(t.getItemsOffset=s,function(e){var n,r,i,o,a=(0,t.getSlides)(e);return e.infinite?(n=(0,t.getItemsCount)(e),o=(0,t.getItemsOffset)(e),e=(0,t.getItemsInSlide)(n,e),i=Math.min(e,n)+o,r=a.slice(0,i),i=a.slice(-i),o&&e===n&&(o=a[0],e=a.slice(-1)[0],i.unshift(e),r.push(o)),i.concat(a,r)):a}),u=(t.createClones=l,function(e){try{return e instanceof Element||e instanceof HTMLDocument}catch(e){return!1}}),c=(t.isElement=u,function(e,n,r){void 0===n&&(n=0),void 0===r&&(r=!1);var o=0,a=!0,s=[];return(0,t.isElement)(e)&&(s=Array.from((null==e?void 0:e.children)||[]).reduce((function(e,t,r){var i=0,s=e[r=r-1];t=d(null==t?void 0:t.firstChild).width;return a=(o+=t=void 0===t?0:t)<=n,s&&(i=0==r?s.width:s.width+s.position),e.push({position:i,width:t}),e}),[]),r||(s=a?(0,i.mapPartialCoords)(s):(e=o-n,(0,i.mapPositionCoords)(s,e)))),{coords:s,content:o,partial:a}}),p=(t.createAutowidthTransformationSet=c,function(e,n,r,o){void 0===o&&(o=!1);var a=0,s=!0,l=[],u=(0,t.getItemWidth)(n,r);return l=e.reduce((function(e,t,r){var i=0;r=e[r-1];return s=(a+=u)<=n,r&&(i=u+r.position||0),e.push({width:u,position:i}),e}),[]),{coords:l=o?l:s?(0,i.mapPartialCoords)(l):(r=a-n,(0,i.mapPositionCoords)(l,r)),content:a,partial:s}}),h=(t.createDefaultTransformationSet=p,function(e,t){return 0<t?e/t:e});function d(e){return e&&e.getBoundingClientRect?{width:(e=e.getBoundingClientRect()).width,height:e.height}:{width:0,height:0}}t.getItemWidth=h,t.getElementDimensions=d;var f=(t.getAutoheightProperty=function(e,n,r){n=(0,t.getElementCursor)(n,r),r=(0,t.getElementFirstChild)(e,n);if((0,t.isElement)(r))return e=window.getComputedStyle(r),n=parseFloat(e.marginTop),e=parseFloat(e.marginBottom),Math.ceil(r.offsetHeight+n+e)},function(e,n){var r=n.activeIndex;n=n.itemsInSlide;return e.infinite?r+n+(0,t.getItemsOffset)(e):r}),m=(t.getElementCursor=f,function(e,t){return(e=e&&e.children||[])[t]&&e[t].firstChild||null});t.getElementFirstChild=m,t.shouldHandleResizeEvent=function(e,t,n){return(t=void 0===t?{}:t).width!==(n=void 0===n?{}:n).width},t.animate=function(e,n){var r=void 0===(r=(n=n||{}).position)?0:r,i=void 0===(i=n.animationDuration)?0:i;return n=void 0===(n=n.animationEasingFunction)?"ease":n,e&&(0,t.isElement)(e)&&(e.style.transition="transform ".concat(i,"ms ").concat(n," 0ms"),e.style.transform="translate3d(".concat(r,"px, 0, 0)")),e};var y=(t.getRenderWrapperStyles=function(e,n,r){var i=(s=e||{}).paddingLeft,o=s.paddingRight,a=s.autoHeight,s=s.animationDuration;return{height:a=a?(0,t.getAutoheightProperty)(r,e,n):void 0,transition:a?"height ".concat(s,"ms"):void 0,paddingLeft:"".concat(i,"px"),paddingRight:"".concat(o,"px")}},function(e){var t=(e=e||{}).animationDuration;e=void 0===(e=e.animationEasingFunction)?"ease":e;return"transform ".concat(void 0===t?0:t,"ms ").concat(e," 0ms")}),v=(t.getTransitionProperty=y,function(e,t){return e=(e||{}).translate3d,e="translate3d(".concat(-(void 0===e?0:e),"px, 0, 0)"),r(r({},t),{transform:e})}),g=(t.getRenderStageStyles=v,function(e,t){var n=t.transformationSet,r=t.fadeoutAnimationIndex,i=t.fadeoutAnimationPosition,o=t.fadeoutAnimationProcessing;t=t.animationDuration,n=(n[e]||{}).width;return o&&r===e?{transform:"translateX(".concat(i,"px)"),animationDuration:"".concat(t,"ms"),width:"".concat(n,"px")}:{width:n}}),_=(t.getRenderStageItemStyles=g,function(e,t){var n=e,r=t.infinite,i=t.itemsOffset,a=t.itemsInSlide;return((void 0===(t=t.transformationSet)?[]:t)[n=r?e+(0,o.getShiftIndex)(void 0===a?0:a,void 0===i?0:i):n]||{}).position||0}),x=(t.getTranslate3dProperty=_,function(e,t){return-(t-Math.floor(e))});function b(e){return e&&(0,t.isElement)(e)&&window.getComputedStyle(e).transform.match(/(-?[0-9.]+)/g)||[]}t.getTouchmoveTranslatePosition=x,t.getTranslateXProperty=function(e){return e=(e=b(e))&&e[4]||"",Number(e)},t.getTransformMatrix=b;var w=(t.canUseDOM=function(){var e;try{return Boolean(null==(e=null===window||void 0===window?void 0:window.document)?void 0:e.createElement)}catch(e){return!1}},function(e,n){var r,i=1,o=n.responsive,a=n.autoWidth,s=n.infinite;n=n.innerWidth;return void 0!==a&&a?void 0!==s&&s?e:i:(o&&(a=Object.keys(o)).length&&(n||(0,t.canUseDOM)())&&(r=void 0===n?window.innerWidth:n,a.forEach((function(t){var n;Number(t)<=r&&(n=(t=o[t]).items,t=t.itemsFit,i="contain"===(void 0===t?"fill":t)?n:Math.min(n,e))}))),i||1)});t.getItemsInSlide=w},4419:(e,t,n)=>{"use strict";var r=Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&("get"in i?t.__esModule:!i.writable&&!i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]},i=function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(3034),t),i(n(7806),t),i(n(347),t),i(n(1617),t),i(n(5226),t),i(n(6842),t),i(n(8674),t),i(n(7432),t),i(n(9158),t)},9158:(e,t)=>{"use strict";var n=function(){return(n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},r=(Object.defineProperty(t,"__esModule",{value:!0}),t.mapPositionCoords=t.mapPartialCoords=void 0,function(e){return e.map((function(e){return{width:e.width,position:0}}))}),i=(t.mapPartialCoords=r,function(e,t){return void 0===t&&(t=0),e.map((function(e){return e.position>t?n(n({},e),{position:t}):e}))});t.mapPositionCoords=i},5226:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isVerticalTouchmoveDetected=t.getFadeoutAnimationPosition=t.getFadeoutAnimationIndex=t.getSwipeTouchendIndex=t.getSwipeTouchendPosition=t.getSwipeTransformationCursor=t.getTransformationItemIndex=t.getSwipeShiftValue=t.getItemCoords=t.getIsLeftDirection=t.shouldRecalculateSwipePosition=t.getSwipeLimitMax=t.getSwipeLimitMin=t.shouldCancelSlideAnimation=t.shouldRecalculateSlideIndex=t.getUpdateSlidePositionIndex=t.getActiveIndex=t.getStartIndex=t.getShiftIndex=void 0;var n=(t.getShiftIndex=function(e,t){return(e=void 0===e?0:e)+(void 0===t?0:t)},function(e,t){if(void 0===e&&(e=0),t=void 0===t?0:t){if(t<=e)return t-1;if(0<e)return e}return 0}),r=(t.getStartIndex=n,function(e){var n=void 0===(n=e.startIndex)?0:n,r=e.itemsCount;return void 0!==(e=e.infinite)&&e?n:(0,t.getStartIndex)(n,void 0===r?0:r)}),i=(t.getActiveIndex=r,function(e,t){return e<0?t-1:t<=e?0:e}),o=(t.getUpdateSlidePositionIndex=i,function(e,t){return e<0||t<=e}),a=(t.shouldRecalculateSlideIndex=o,function(e,t){return e<0||t<=e}),s=(t.shouldCancelSlideAnimation=a,function(e,t){var n=e.itemsOffset,r=(e=void 0===(e=e.transformationSet)?[]:e,t.infinite);t=t.swipeExtraPadding;return r?(e[void 0===n?0:n]||{}).position:(r=(e[0]||{}).width,Math.min(void 0===t?0:t,void 0===r?0:r))}),l=(t.getSwipeLimitMin=s,function(e,n){var r=n.infinite,i=(n=void 0===(n=n.swipeExtraPadding)?0:n,e.itemsCount),o=e.itemsOffset,a=void 0===(a=e.itemsInSlide)?1:a;e=void 0===(e=e.transformationSet)?[]:e;return r?(e[(void 0===i?1:i)+(0,t.getShiftIndex)(a,void 0===o?0:o)]||{}).position||0:(0,t.getItemCoords)(-a,e).position+n}),u=(t.getSwipeLimitMax=l,function(e,t,n){return-t<=e||Math.abs(e)>=n}),c=(t.shouldRecalculateSwipePosition=u,function(e){return(e=void 0===e?0:e)<0}),p=(t.getIsLeftDirection=c,function(e,t){return(t=void 0===t?[]:t).slice(e=void 0===e?0:e)[0]||{position:0,width:0}}),h=(t.getItemCoords=p,function(e,n){return void 0===e&&(e=0),void 0===n&&(n=[]),(0,t.getItemCoords)(e,n).position}),d=(t.getSwipeShiftValue=h,function(e,t){return void 0===t&&(t=0),(e=void 0===e?[]:e).findIndex((function(e){return e.position>=Math.abs(t)}))}),f=(t.getTransformationItemIndex=d,function(e,n,r){return void 0===e&&(e=[]),void 0===n&&(n=0),void 0===r&&(r=0),e=(0,t.getTransformationItemIndex)(e,n),(0,t.getIsLeftDirection)(r)?e:e-1}),m=(t.getSwipeTransformationCursor=f,function(e,n,r){void 0===r&&(r=0);var i=e.infinite,o=e.autoWidth,a=e.isStageContentPartial,s=e.swipeAllowedPositionMax;e=e.transformationSet,r=(0,t.getSwipeTransformationCursor)(e,r,n),n=(0,t.getItemCoords)(r,e).position;if(!i){if(o&&a)return 0;if(s<n)return-s}return-n}),y=(t.getSwipeTouchendPosition=m,function(e,n){var r=n.transformationSet,i=n.itemsInSlide,o=n.itemsOffset,a=n.itemsCount,s=n.infinite,l=n.isStageContentPartial,u=n.activeIndex;n=n.translate3d;return s||!l&&n!==Math.abs(e)?(l=(0,t.getTransformationItemIndex)(r,e),s?l<(n=(0,t.getShiftIndex)(i,o))?a-i-o+l:n+a<=l?l-(n+a):l-n:l):u}),v=(t.getSwipeTouchendIndex=y,function(e){var t=e.infinite,n=e.activeIndex;e=e.itemsInSlide;return t?n+e:n}),g=(t.getFadeoutAnimationIndex=v,function(e,t){var n=t.activeIndex;t=t.stageWidth;return e<n?(n-e)*-t||0:(e-n)*t||0}),_=(t.getFadeoutAnimationPosition=g,function(e,t,n){return e<(n=void 0===n?0:n)||e<.1*t});t.isVerticalTouchmoveDetected=_},8674:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSlideItemInfo=t.getSlideInfo=t.getSlideIndexForMultipleItems=t.getSlideIndexForNonMultipleItems=t.getActiveSlideDotsLength=t.getActiveSlideIndex=void 0;var n=(t.getActiveSlideIndex=function(e,n){var r=(n=n||{}).activeIndex,i=n.itemsInSlide;n=n.itemsCount,r+=i;return 1===i?(0,t.getSlideIndexForNonMultipleItems)(r,i,n):(0,t.getSlideIndexForMultipleItems)(r,i,n,e)},function(e,t){var n;return void 0===t&&(t=1),(e=void 0===e?0:e)&&t?(n=Math.floor(e/t),e%t==0?n-1:n):0}),r=(t.getActiveSlideDotsLength=n,function(e,t,n){return e<t?n-t:n<e?0:e-1}),i=(t.getSlideIndexForNonMultipleItems=r,function(e,n,r,i){var o=(0,t.getActiveSlideDotsLength)(r,n);return e===r+n?0:i||e<n&&0!==e?o:0===e?r%n==0?o:o-1:0<n?Math.floor(e/n)-1:0}),o=(t.getSlideIndexForMultipleItems=i,function(e,t){return void 0===t&&(t=0),(e=(e=void 0===e?0:e)+1)<1?e=t:t<e&&(e=1),{item:e,itemsCount:t}}),a=(t.getSlideInfo=o,function(e){var t=(e=e||{}).itemsInSlide,n=e.activeIndex,r=e.infinite,i=e.itemsCount;return e.isStageContentPartial?{isPrevSlideDisabled:!0,isNextSlideDisabled:!0}:{isPrevSlideDisabled:!1===r&&0===n,isNextSlideDisabled:!1===r&&i-t<=n}});t.getSlideItemInfo=a},1617:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.debounce=void 0,t.debounce=function(e,t){function n(){r&&(clearTimeout(r),r=void 0)}void 0===t&&(t=0);var r=void 0;return[function(){for(var i=this,o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];n(),r=window.setTimeout((function(){e.apply(i,o),r=void 0}),t)},n]}},4156:(e,t,n)=>{"use strict";var r,i=(Object.defineProperty(t,"__esModule",{value:!0}),t.DotsNavigation=void 0,(r=n(2791))&&r.__esModule?r:{default:r}),o=n(1899),a=n(4419);t.DotsNavigation=function(e){var t=e.state,n=e.onClick,r=e.onMouseEnter,s=e.onMouseLeave,l=e.controlsStrategy,u=e.renderDotsItem,c=t.itemsCount,p=t.itemsInSlide,h=t.infinite,d=(e=t.autoWidth,t.activeIndex),f=(0,a.getSlideItemInfo)(t).isNextSlideDisabled,m=(0,a.hasDotForEachSlide)(e,l),y=(0,a.getDotsNavigationLength)(c,p,m);return i.default.createElement("ul",{className:o.Classnames.DOTS},Array.from({length:c}).map((function(e,l){var v,g,_;if(l<y)return g=(0,a.checkIsTheLastDotIndex)(l,Boolean(h),y),v=(0,a.getItemIndexForDotNavigation)(l,g,c,p),g=(0,a.getActiveSlideIndex)(f,t),m&&((g=d)<0?g=c-1:c<=d&&(g=0),v=l),g=g===l?o.Modifiers.ACTIVE:"",_=u?o.Modifiers.CUSTOM:"",_=(0,a.concatClassnames)(o.Classnames.DOTS_ITEM,g,_),i.default.createElement("li",{key:"dot-item-".concat(l),onMouseEnter:r,onMouseLeave:s,onClick:function(){return n(v)},className:_},u&&u({isActive:Boolean(g),activeIndex:l}))})))}},5167:(e,t,n)=>{"use strict";var r,i=(Object.defineProperty(t,"__esModule",{value:!0}),t.PlayPauseButton=void 0,(r=n(2791))&&r.__esModule?r:{default:r}),o=n(1899),a=n(4419);t.PlayPauseButton=function(e){var t=e.isPlaying,n=e.onClick;return"function"==typeof(e=e.renderPlayPauseButton)?i.default.createElement("div",{className:o.Classnames.PLAY_BTN,onClick:n},e({isPlaying:t})):(e=t?o.Modifiers.PAUSE:"",t=(0,a.concatClassnames)(o.Classnames.PLAY_BTN_ITEM,e),i.default.createElement("div",{className:o.Classnames.PLAY_BTN},i.default.createElement("div",{className:o.Classnames.PLAY_BTN_WRAPPER},i.default.createElement("div",{onClick:n,className:t}))))}},9735:(e,t,n)=>{"use strict";var r,i=(Object.defineProperty(t,"__esModule",{value:!0}),t.PrevNextButton=void 0,(r=n(2791))&&r.__esModule?r:{default:r}),o=n(1899),a=n(4419);t.PrevNextButton=function(e){var t,n=e.name,r=e.isDisabled,s=e.onClick,l=e.renderPrevButton;e=e.renderNextButton;return"function"==typeof l?i.default.createElement("div",{className:o.Classnames.BUTTON_PREV,onClick:s},l({isDisabled:r})):"function"==typeof e?i.default.createElement("div",{className:o.Classnames.BUTTON_NEXT,onClick:s},e({isDisabled:r})):(e=(l="prev"===n)?"<":">",n=l?o.Classnames.BUTTON_PREV:o.Classnames.BUTTON_NEXT,t=l?o.Classnames.BUTTON_PREV_WRAPPER:o.Classnames.BUTTON_NEXT_WRAPPER,l=l?o.Classnames.BUTTON_PREV_ITEM:o.Classnames.BUTTON_NEXT_ITEM,r=r?o.Modifiers.INACTIVE:"",l=(0,a.concatClassnames)(l,r),i.default.createElement("div",{className:n},i.default.createElement("div",{className:t},i.default.createElement("p",{className:l,onClick:function(e){return s(e)}},i.default.createElement("span",{"data-area":e})))))}},3798:(e,t,n)=>{"use strict";var r,i=(Object.defineProperty(t,"__esModule",{value:!0}),t.SlideInfo=void 0,(r=n(2791))&&r.__esModule?r:{default:r}),o=n(1899),a=n(4419);t.SlideInfo=function(e){var t=e.activeIndex,n=e.itemsCount;e=e.renderSlideInfo,t=(0,a.getSlideInfo)(t,n).item;return"function"==typeof e?i.default.createElement("div",{className:o.Classnames.SLIDE_INFO},e({item:t,itemsCount:n})):(e=(0,a.concatClassnames)(o.Classnames.SLIDE_INFO_ITEM,o.Modifiers.SEPARATOR),i.default.createElement("div",{className:o.Classnames.SLIDE_INFO},i.default.createElement("span",{className:o.Classnames.SLIDE_INFO_ITEM},t),i.default.createElement("span",{className:e},"/"),i.default.createElement("span",{className:o.Classnames.SLIDE_INFO_ITEM},n)))}},3833:(e,t,n)=>{"use strict";var r,i=(Object.defineProperty(t,"__esModule",{value:!0}),t.StageItem=void 0,(r=n(2791))&&r.__esModule?r:{default:r});t.StageItem=function(e){var t=e.item,n=e.className;e=e.styles;return i.default.createElement("li",{style:e,className:n},t)}},3050:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PrevNextButton=t.PlayPauseButton=t.DotsNavigation=t.StageItem=t.SlideInfo=void 0;var r=n(3798),i=(Object.defineProperty(t,"SlideInfo",{enumerable:!0,get:function(){return r.SlideInfo}}),n(3833)),o=(Object.defineProperty(t,"StageItem",{enumerable:!0,get:function(){return i.StageItem}}),n(4156)),a=(Object.defineProperty(t,"DotsNavigation",{enumerable:!0,get:function(){return o.DotsNavigation}}),n(5167)),s=(Object.defineProperty(t,"PlayPauseButton",{enumerable:!0,get:function(){return a.PlayPauseButton}}),n(9735));Object.defineProperty(t,"PrevNextButton",{enumerable:!0,get:function(){return s.PrevNextButton}})},835:(e,t,n)=>{"use strict";var r=n(2791),i=n(7340);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function u(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?r.useLayoutEffect:r.useEffect;function d(e){var t=r.useRef(e);return h((function(){t.current=e})),r.useCallback((function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.current.apply(void 0,n)}),[])}var f=["ref","startOnMount","enableReinitialize","delay","onEnd","onStart","onPauseResume","onReset","onUpdate"],m={decimal:".",separator:",",delay:null,prefix:"",suffix:"",duration:2,start:0,decimals:0,startOnMount:!0,enableReinitialize:!0,useEasing:!0,useGrouping:!0,useIndianSeparators:!1},y=function(e){var t=Object.fromEntries(Object.entries(e).filter((function(e){return void 0!==c(e,2)[1]}))),n=r.useMemo((function(){return a(a({},m),t)}),[e]),o=n.ref,s=n.startOnMount,l=n.enableReinitialize,p=n.delay,h=n.onEnd,y=n.onStart,v=n.onPauseResume,g=n.onReset,_=n.onUpdate,x=u(n,f),b=r.useRef(),w=r.useRef(),S=r.useRef(!1),E=d((function(){return function(e,t){var n=t.decimal,r=t.decimals,o=t.duration,a=t.easingFn,s=t.end,l=t.formattingFn,u=t.numerals,c=t.prefix,p=t.separator,h=t.start,d=t.suffix,f=t.useEasing,m=t.useGrouping,y=t.useIndianSeparators,v=t.enableScrollSpy,g=t.scrollSpyDelay,_=t.scrollSpyOnce,x=t.plugin;return new i.CountUp(e,s,{startVal:h,duration:o,decimal:n,decimalPlaces:r,easingFn:a,formattingFn:l,numerals:u,separator:p,prefix:c,suffix:d,plugin:x,useEasing:f,useIndianSeparators:y,useGrouping:m,enableScrollSpy:v,scrollSpyDelay:g,scrollSpyOnce:_})}("string"===typeof o?o:o.current,x)})),T=d((function(e){var t=b.current;if(t&&!e)return t;var n=E();return b.current=n,n})),P=d((function(){var e=function(){return T(!0).start((function(){null===h||void 0===h||h({pauseResume:C,reset:k,start:I,update:A})}))};p&&p>0?w.current=setTimeout(e,1e3*p):e(),null===y||void 0===y||y({pauseResume:C,reset:k,update:A})})),C=d((function(){T().pauseResume(),null===v||void 0===v||v({reset:k,start:I,update:A})})),k=d((function(){T().el&&(w.current&&clearTimeout(w.current),T().reset(),null===g||void 0===g||g({pauseResume:C,start:I,update:A}))})),A=d((function(e){T().update(e),null===_||void 0===_||_({pauseResume:C,reset:k,start:I})})),I=d((function(){k(),P()})),O=d((function(e){s&&(e&&k(),P())}));return r.useEffect((function(){S.current?l&&O(!0):(S.current=!0,O())}),[l,S,O,p,e.start,e.suffix,e.prefix,e.duration,e.separator,e.decimals,e.decimal,e.formattingFn]),r.useEffect((function(){return function(){k()}}),[k]),{start:I,pauseResume:C,reset:k,update:A,getCountUp:T}},v=["className","redraw","containerProps","children","style"];t.ZP=function(e){var t=e.className,n=e.redraw,i=e.containerProps,o=e.children,s=e.style,c=u(e,v),p=r.useRef(null),h=r.useRef(!1),f=y(a(a({},c),{},{ref:p,startOnMount:"function"!==typeof o||0===e.delay,enableReinitialize:!1})),m=f.start,g=f.reset,_=f.update,x=f.pauseResume,b=f.getCountUp,w=d((function(){m()})),S=d((function(t){e.preserveValue||g(),_(t)})),E=d((function(){"function"!==typeof e.children||p.current instanceof Element?b():console.error('Couldn\'t find attached element to hook the CountUp instance into! Try to attach "containerRef" from the render prop to a an Element, eg. <span ref={containerRef} />.')}));r.useEffect((function(){E()}),[E]),r.useEffect((function(){h.current&&S(e.end)}),[e.end,S]);var T=n&&e;return r.useEffect((function(){n&&h.current&&w()}),[w,n,T]),r.useEffect((function(){!n&&h.current&&w()}),[w,n,e.start,e.suffix,e.prefix,e.duration,e.separator,e.decimals,e.decimal,e.className,e.formattingFn]),r.useEffect((function(){h.current=!0}),[]),"function"===typeof o?o({countUpRef:p,start:m,reset:g,update:_,pauseResume:x,getCountUp:b}):r.createElement("span",l({className:t,ref:p,style:s},i),"undefined"!==typeof e.start?b().formattingFn(e.start):"")}},4463:(e,t,n)=>{"use strict";var r=n(2791),i=n(5296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),p=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},f={};function m(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function _(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!p.call(f,e)||!p.call(d,e)&&(h.test(e)?f[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,g);y[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,g);y[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,g);y[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),w=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),C=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var M=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var j=Symbol.iterator;function R(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=j&&e[j]||e["@@iterator"])?e:null}var L,z=Object.assign;function N(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var B=!1;function F(e,t){if(!e||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=s);break}}}finally{B=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?N(e):""}function U(e){switch(e.tag){case 5:return N(e.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 2:case 15:return e=F(e.type,!1);case 11:return e=F(e.type.render,!1);case 1:return e=F(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case w:return"Portal";case T:return"Profiler";case E:return"StrictMode";case A:return"Suspense";case I:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case P:return(e._context.displayName||"Context")+".Provider";case k:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Z(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return z({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&_(e,"checked",t,!1)}function J(e,t){$(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Q(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return z({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function oe(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,pe=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function ye(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ve=z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function _e(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,Se=null,Ee=null;function Te(e){if(e=_i(e)){if("function"!==typeof we)throw Error(o(280));var t=e.stateNode;t&&(t=bi(t),we(e.stateNode,e.type,t))}}function Pe(e){Se?Ee?Ee.push(e):Ee=[e]:Se=e}function Ce(){if(Se){var e=Se,t=Ee;if(Ee=Se=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function ke(e,t){return e(t)}function Ae(){}var Ie=!1;function Oe(e,t,n){if(Ie)return e(t,n);Ie=!0;try{return ke(e,t,n)}finally{Ie=!1,(null!==Se||null!==Ee)&&(Ae(),Ce())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=bi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Me=!1;if(c)try{var je={};Object.defineProperty(je,"passive",{get:function(){Me=!0}}),window.addEventListener("test",je,je),window.removeEventListener("test",je,je)}catch(ce){Me=!1}function Re(e,t,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Le=!1,ze=null,Ne=!1,Be=null,Fe={onError:function(e){Le=!0,ze=e}};function Ue(e,t,n,r,i,o,a,s,l){Le=!1,ze=null,Re.apply(Fe,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Ve(e)!==e)throw Error(o(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return We(i),e;if(a===r)return We(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Ze=i.unstable_scheduleCallback,Ke=i.unstable_cancelCallback,Xe=i.unstable_shouldYield,Ye=i.unstable_requestPaint,$e=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Qe=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function pt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=pt(s):0!==(o&=a)&&(r=pt(o))}else 0!==(a=n&~i)?r=pt(a):0!==o&&(r=pt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function yt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var _t=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var bt,wt,St,Et,Tt,Pt=!1,Ct=[],kt=null,At=null,It=null,Ot=new Map,Dt=new Map,Mt=[],jt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rt(e,t){switch(e){case"focusin":case"focusout":kt=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Lt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=_i(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function zt(e){var t=gi(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Tt(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Nt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=_i(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);xe=r,n.target.dispatchEvent(r),xe=null,t.shift()}return!0}function Bt(e,t,n){Nt(e)&&n.delete(t)}function Ft(){Pt=!1,null!==kt&&Nt(kt)&&(kt=null),null!==At&&Nt(At)&&(At=null),null!==It&&Nt(It)&&(It=null),Ot.forEach(Bt),Dt.forEach(Bt)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,Pt||(Pt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ft)))}function Vt(e){function t(t){return Ut(t,e)}if(0<Ct.length){Ut(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==kt&&Ut(kt,e),null!==At&&Ut(At,e),null!==It&&Ut(It,e),Ot.forEach(t),Dt.forEach(t),n=0;n<Mt.length;n++)(r=Mt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Mt.length&&null===(n=Mt[0]).blockedOn;)zt(n),null===n.blockedOn&&Mt.shift()}var qt=x.ReactCurrentBatchConfig,Wt=!0;function Ht(e,t,n,r){var i=_t,o=qt.transition;qt.transition=null;try{_t=1,Zt(e,t,n,r)}finally{_t=i,qt.transition=o}}function Gt(e,t,n,r){var i=_t,o=qt.transition;qt.transition=null;try{_t=4,Zt(e,t,n,r)}finally{_t=i,qt.transition=o}}function Zt(e,t,n,r){if(Wt){var i=Xt(e,t,n,r);if(null===i)Wr(e,t,r,Kt,n),Rt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return kt=Lt(kt,e,t,n,r,i),!0;case"dragenter":return At=Lt(At,e,t,n,r,i),!0;case"mouseover":return It=Lt(It,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ot.set(o,Lt(Ot.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Dt.set(o,Lt(Dt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Rt(e,r),4&t&&-1<jt.indexOf(e)){for(;null!==i;){var o=_i(i);if(null!==o&&bt(o),null===(o=Xt(e,t,n,r))&&Wr(e,t,r,Kt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Kt=null;function Xt(e,t,n,r){if(Kt=null,null!==(e=gi(e=be(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Qe:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Jt=null,Qt=null;function en(){if(Qt)return Qt;var e,t,n=Jt,r=n.length,i="value"in $t?$t.value:$t.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Qt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return z(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=on(un),pn=z({},un,{view:0,detail:0}),hn=on(pn),dn=z({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),fn=on(dn),mn=on(z({},dn,{dataTransfer:0})),yn=on(z({},pn,{relatedTarget:0})),vn=on(z({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=z({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=on(gn),xn=on(z({},un,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Tn(){return En}var Pn=z({},pn,{key:function(e){if(e.key){var t=bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=on(Pn),kn=on(z({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=on(z({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),In=on(z({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=z({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=on(On),Mn=[9,13,27,32],jn=c&&"CompositionEvent"in window,Rn=null;c&&"documentMode"in document&&(Rn=document.documentMode);var Ln=c&&"TextEvent"in window&&!Rn,zn=c&&(!jn||Rn&&8<Rn&&11>=Rn),Nn=String.fromCharCode(32),Bn=!1;function Fn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Hn(e,t,n,r){Pe(r),0<(t=Gr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Zn=null;function Kn(e){Nr(e,0)}function Xn(e){if(Z(xi(e)))return e}function Yn(e,t){if("change"===e)return t}var $n=!1;if(c){var Jn;if(c){var Qn="oninput"in document;if(!Qn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Qn="function"===typeof er.oninput}Jn=Qn}else Jn=!1;$n=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Zn=Gn=null)}function nr(e){if("value"===e.propertyName&&Xn(Zn)){var t=[];Hn(t,Zn,e,be(e)),Oe(Kn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Zn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Zn)}function or(e,t){if("click"===e)return Xn(t)}function ar(e,t){if("input"===e||"change"===e)return Xn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!p.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function pr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?pr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&pr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=cr(n,o);var a=cr(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=c&&"documentMode"in document&&11>=document.documentMode,yr=null,vr=null,gr=null,_r=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_r||null==yr||yr!==K(r)||("selectionStart"in(r=yr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&lr(gr,r)||(gr=r,0<(r=Gr(vr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}function br(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:br("Animation","AnimationEnd"),animationiteration:br("Animation","AnimationIteration"),animationstart:br("Animation","AnimationStart"),transitionend:br("Transition","TransitionEnd")},Sr={},Er={};function Tr(e){if(Sr[e])return Sr[e];if(!wr[e])return e;var t,n=wr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return Sr[e]=n[t];return e}c&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);var Pr=Tr("animationend"),Cr=Tr("animationiteration"),kr=Tr("animationstart"),Ar=Tr("transitionend"),Ir=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Ir.set(e,t),l(t,[e])}for(var Mr=0;Mr<Or.length;Mr++){var jr=Or[Mr];Dr(jr.toLowerCase(),"on"+(jr[0].toUpperCase()+jr.slice(1)))}Dr(Pr,"onAnimationEnd"),Dr(Cr,"onAnimationIteration"),Dr(kr,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Ar,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rr));function zr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,l,u){if(Ue.apply(this,arguments),Le){if(!Le)throw Error(o(198));var c=ze;Le=!1,ze=null,Ne||(Ne=!0,Be=c)}}(r,t,void 0,e),e.currentTarget=null}function Nr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;zr(i,s,u),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;zr(i,s,u),o=l}}}if(Ne)throw e=Be,Ne=!1,Be=null,e}function Br(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Fr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[Ur]){e[Ur]=!0,a.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Fr(t,!1,e),Fr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,Fr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Yt(t)){case 1:var i=Ht;break;case 4:i=Gt;break;default:i=Zt}n=i.bind(null,t,n,e),i=void 0,!Me||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=gi(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue e}s=s.parentNode}}r=r.return}Oe((function(){var r=o,i=be(n),a=[];e:{var s=Ir.get(e);if(void 0!==s){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Cn;break;case"focusin":u="focus",l=yn;break;case"focusout":u="blur",l=yn;break;case"beforeblur":case"afterblur":l=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=An;break;case Pr:case Cr:case kr:l=vn;break;case Ar:l=In;break;case"scroll":l=hn;break;case"wheel":l=Dn;break;case"copy":case"cut":case"paste":l=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=kn}var c=0!==(4&t),p=!c&&"scroll"===e,h=c?null!==s?s+"Capture":null:s;c=[];for(var d,f=r;null!==f;){var m=(d=f).stateNode;if(5===d.tag&&null!==m&&(d=m,null!==h&&(null!=(m=De(f,h))&&c.push(Hr(f,m,d)))),p)break;f=f.return}0<c.length&&(s=new l(s,u,null,n,i),a.push({event:s,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===xe||!(u=n.relatedTarget||n.fromElement)||!gi(u)&&!u[fi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?gi(u):null)&&(u!==(p=Ve(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=fn,m="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(c=kn,m="onPointerLeave",h="onPointerEnter",f="pointer"),p=null==l?s:xi(l),d=null==u?s:xi(u),(s=new c(m,f+"leave",l,n,i)).target=p,s.relatedTarget=d,m=null,gi(i)===r&&((c=new c(h,f+"enter",u,n,i)).target=d,c.relatedTarget=p,m=c),p=m,l&&u)e:{for(h=u,f=0,d=c=l;d;d=Zr(d))f++;for(d=0,m=h;m;m=Zr(m))d++;for(;0<f-d;)c=Zr(c),f--;for(;0<d-f;)h=Zr(h),d--;for(;f--;){if(c===h||null!==h&&c===h.alternate)break e;c=Zr(c),h=Zr(h)}c=null}else c=null;null!==l&&Kr(a,s,l,c,!1),null!==u&&null!==p&&Kr(a,p,u,c,!0)}if("select"===(l=(s=r?xi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var y=Yn;else if(Wn(s))if($n)y=ar;else{y=ir;var v=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(y=or);switch(y&&(y=y(e,r))?Hn(a,y,n,i):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ee(s,"number",s.value)),v=r?xi(r):window,e){case"focusin":(Wn(v)||"true"===v.contentEditable)&&(yr=v,vr=r,gr=null);break;case"focusout":gr=vr=yr=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,xr(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":xr(a,n,i)}var g;if(jn)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Vn?Fn(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(zn&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==_?"onCompositionEnd"===_&&Vn&&(g=en()):(Jt="value"in($t=i)?$t.value:$t.textContent,Vn=!0)),0<(v=Gr(r,_)).length&&(_=new xn(_,e,null,n,i),a.push({event:_,listeners:v}),g?_.data=g:null!==(g=Un(n))&&(_.data=g))),(g=Ln?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(Bn=!0,Nn);case"textInput":return(e=t.data)===Nn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!jn&&Fn(e,t)?(e=en(),Qt=Jt=$t=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=g))}Nr(a,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=De(e,n))&&r.unshift(Hr(e,o,i)),null!=(o=De(e,t))&&r.push(Hr(e,o,i))),e=e.return}return r}function Zr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==u&&(s=u,i?null!=(l=De(n,o))&&a.unshift(Hr(n,l,s)):i||null!=(l=De(n,o))&&a.push(Hr(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Xr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Xr,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(o(425))}function Qr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Vt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Vt(t)}function ui(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var pi=Math.random().toString(36).slice(2),hi="__reactFiber$"+pi,di="__reactProps$"+pi,fi="__reactContainer$"+pi,mi="__reactEvents$"+pi,yi="__reactListeners$"+pi,vi="__reactHandles$"+pi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[hi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function _i(e){return!(e=e[hi]||e[fi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function bi(e){return e[di]||null}var wi=[],Si=-1;function Ei(e){return{current:e}}function Ti(e){0>Si||(e.current=wi[Si],wi[Si]=null,Si--)}function Pi(e,t){Si++,wi[Si]=e.current,e.current=t}var Ci={},ki=Ei(Ci),Ai=Ei(!1),Ii=Ci;function Oi(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Di(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Mi(){Ti(Ai),Ti(ki)}function ji(e,t,n){if(ki.current!==Ci)throw Error(o(168));Pi(ki,t),Pi(Ai,n)}function Ri(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,q(e)||"Unknown",i));return z({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Ii=ki.current,Pi(ki,e),Pi(Ai,Ai.current),!0}function zi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Ri(e,t,Ii),r.__reactInternalMemoizedMergedChildContext=e,Ti(Ai),Ti(ki),Pi(ki,e)):Ti(Ai),Pi(Ai,n)}var Ni=null,Bi=!1,Fi=!1;function Ui(e){null===Ni?Ni=[e]:Ni.push(e)}function Vi(){if(!Fi&&null!==Ni){Fi=!0;var e=0,t=_t;try{var n=Ni;for(_t=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ni=null,Bi=!1}catch(i){throw null!==Ni&&(Ni=Ni.slice(e+1)),Ze(Qe,Vi),i}finally{_t=t,Fi=!1}}return null}var qi=[],Wi=0,Hi=null,Gi=0,Zi=[],Ki=0,Xi=null,Yi=1,$i="";function Ji(e,t){qi[Wi++]=Gi,qi[Wi++]=Hi,Hi=e,Gi=t}function Qi(e,t,n){Zi[Ki++]=Yi,Zi[Ki++]=$i,Zi[Ki++]=Xi,Xi=e;var r=Yi;e=$i;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Yi=1<<32-at(t)+i|n<<i|r,$i=o+e}else Yi=1<<o|n<<i|r,$i=e}function eo(e){null!==e.return&&(Ji(e,1),Qi(e,1,0))}function to(e){for(;e===Hi;)Hi=qi[--Wi],qi[Wi]=null,Gi=qi[--Wi],qi[Wi]=null;for(;e===Xi;)Xi=Zi[--Ki],Zi[Ki]=null,$i=Zi[--Ki],Zi[Ki]=null,Yi=Zi[--Ki],Zi[Ki]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=Du(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ui(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Xi?{id:Yi,overflow:$i}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Du(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function uo(e){if(io){var t=ro;if(t){var n=t;if(!so(e,t)){if(lo(e))throw Error(o(418));t=ui(n.nextSibling);var r=no;t&&so(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function co(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function po(e){if(e!==no)return!1;if(!io)return co(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw ho(),Error(o(418));for(;t;)ao(e,t),t=ui(t.nextSibling)}if(co(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ui(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ui(e.stateNode.nextSibling):null;return!0}function ho(){for(var e=ro;e;)e=ui(e.nextSibling)}function fo(){ro=no=null,io=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var yo=x.ReactCurrentBatchConfig;function vo(e,t){if(e&&e.defaultProps){for(var n in t=z({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var go=Ei(null),_o=null,xo=null,bo=null;function wo(){bo=xo=_o=null}function So(e){var t=go.current;Ti(go),e._currentValue=t}function Eo(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function To(e,t){_o=e,bo=xo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(xs=!0),e.firstContext=null)}function Po(e){var t=e._currentValue;if(bo!==e)if(e={context:e,memoizedValue:t,next:null},null===xo){if(null===_o)throw Error(o(308));xo=e,_o.dependencies={lanes:0,firstContext:e}}else xo=xo.next=e;return t}var Co=null;function ko(e){null===Co?Co=[e]:Co.push(e)}function Ao(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,ko(t)):(n.next=i.next,i.next=n),t.interleaved=n,Io(e,r)}function Io(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Oo=!1;function Do(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function jo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ro(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Al)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Io(e,n)}return null===(i=r.interleaved)?(t.next=t,ko(r)):(t.next=i.next,i.next=t),r.interleaved=t,Io(e,n)}function Lo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function zo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function No(e,t,n,r){var i=e.updateQueue;Oo=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,u=l.next;l.next=null,null===a?o=u:a.next=u,a=l;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==a&&(null===s?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(null!==o){var p=i.baseState;for(a=0,c=u=l=null,s=o;;){var h=s.lane,d=s.eventTime;if((r&h)===h){null!==c&&(c=c.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var f=e,m=s;switch(h=t,d=n,m.tag){case 1:if("function"===typeof(f=m.payload)){p=f.call(d,p,h);break e}p=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(h="function"===typeof(f=m.payload)?f.call(d,p,h):f)||void 0===h)break e;p=z({},p,h);break e;case 2:Oo=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else d={eventTime:d,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=d,l=p):c=c.next=d,a|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===c&&(l=p),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);zl|=a,e.lanes=a,e.memoizedState=p}}function Bo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Fo=(new r.Component).refs;function Uo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:z({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Vo={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tu(),i=nu(e),o=jo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Ro(e,o,i))&&(ru(t,e,i,r),Lo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tu(),i=nu(e),o=jo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Ro(e,o,i))&&(ru(t,e,i,r),Lo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tu(),r=nu(e),i=jo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ro(e,i,r))&&(ru(t,e,r,n),Lo(t,e,r))}};function qo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,o))}function Wo(e,t,n){var r=!1,i=Ci,o=t.contextType;return"object"===typeof o&&null!==o?o=Po(o):(i=Di(t)?Ii:ki.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oi(e,i):Ci),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Vo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Ho(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Vo.enqueueReplaceState(t,t.state,null)}function Go(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Fo,Do(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Po(o):(o=Di(t)?Ii:ki.current,i.context=Oi(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(Uo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Vo.enqueueReplaceState(i,i.state,null),No(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Zo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===Fo&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ko(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Xo(e){return(0,e._init)(e._payload)}function Yo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=ju(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Nu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var o=n.type;return o===S?p(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===D&&Xo(o)===t.type)?((r=i(t,n.props)).ref=Zo(e,t,n),r.return=e,r):((r=Ru(n.type,n.key,n.props,null,e.mode,r)).ref=Zo(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Bu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function p(e,t,n,r,o){return null===t||7!==t.tag?((t=Lu(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Nu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case b:return(n=Ru(t.type,t.key,t.props,null,e.mode,n)).ref=Zo(e,null,t),n.return=e,n;case w:return(t=Bu(t,e.mode,n)).return=e,t;case D:return h(e,(0,t._init)(t._payload),n)}if(te(t)||R(t))return(t=Lu(t,e.mode,n,null)).return=e,t;Ko(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case b:return n.key===i?u(e,t,n,r):null;case w:return n.key===i?c(e,t,n,r):null;case D:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||R(n))return null!==i?null:p(e,t,n,r,null);Ko(e,n)}return null}function f(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case b:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return f(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||R(r))return p(t,e=e.get(n)||null,r,i,null);Ko(t,r)}return null}function m(i,o,s,l){for(var u=null,c=null,p=o,m=o=0,y=null;null!==p&&m<s.length;m++){p.index>m?(y=p,p=null):y=p.sibling;var v=d(i,p,s[m],l);if(null===v){null===p&&(p=y);break}e&&p&&null===v.alternate&&t(i,p),o=a(v,o,m),null===c?u=v:c.sibling=v,c=v,p=y}if(m===s.length)return n(i,p),io&&Ji(i,m),u;if(null===p){for(;m<s.length;m++)null!==(p=h(i,s[m],l))&&(o=a(p,o,m),null===c?u=p:c.sibling=p,c=p);return io&&Ji(i,m),u}for(p=r(i,p);m<s.length;m++)null!==(y=f(p,i,m,s[m],l))&&(e&&null!==y.alternate&&p.delete(null===y.key?m:y.key),o=a(y,o,m),null===c?u=y:c.sibling=y,c=y);return e&&p.forEach((function(e){return t(i,e)})),io&&Ji(i,m),u}function y(i,s,l,u){var c=R(l);if("function"!==typeof c)throw Error(o(150));if(null==(l=c.call(l)))throw Error(o(151));for(var p=c=null,m=s,y=s=0,v=null,g=l.next();null!==m&&!g.done;y++,g=l.next()){m.index>y?(v=m,m=null):v=m.sibling;var _=d(i,m,g.value,u);if(null===_){null===m&&(m=v);break}e&&m&&null===_.alternate&&t(i,m),s=a(_,s,y),null===p?c=_:p.sibling=_,p=_,m=v}if(g.done)return n(i,m),io&&Ji(i,y),c;if(null===m){for(;!g.done;y++,g=l.next())null!==(g=h(i,g.value,u))&&(s=a(g,s,y),null===p?c=g:p.sibling=g,p=g);return io&&Ji(i,y),c}for(m=r(i,m);!g.done;y++,g=l.next())null!==(g=f(m,i,y,g.value,u))&&(e&&null!==g.alternate&&m.delete(null===g.key?y:g.key),s=a(g,s,y),null===p?c=g:p.sibling=g,p=g);return e&&m.forEach((function(e){return t(i,e)})),io&&Ji(i,y),c}return function e(r,o,a,l){if("object"===typeof a&&null!==a&&a.type===S&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case b:e:{for(var u=a.key,c=o;null!==c;){if(c.key===u){if((u=a.type)===S){if(7===c.tag){n(r,c.sibling),(o=i(c,a.props.children)).return=r,r=o;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===D&&Xo(u)===c.type){n(r,c.sibling),(o=i(c,a.props)).ref=Zo(r,c,a),o.return=r,r=o;break e}n(r,c);break}t(r,c),c=c.sibling}a.type===S?((o=Lu(a.props.children,r.mode,l,a.key)).return=r,r=o):((l=Ru(a.type,a.key,a.props,null,r.mode,l)).ref=Zo(r,o,a),l.return=r,r=l)}return s(r);case w:e:{for(c=a.key;null!==o;){if(o.key===c){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Bu(a,r.mode,l)).return=r,r=o}return s(r);case D:return e(r,o,(c=a._init)(a._payload),l)}if(te(a))return m(r,o,a,l);if(R(a))return y(r,o,a,l);Ko(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Nu(a,r.mode,l)).return=r,r=o),s(r)):n(r,o)}}var $o=Yo(!0),Jo=Yo(!1),Qo={},ea=Ei(Qo),ta=Ei(Qo),na=Ei(Qo);function ra(e){if(e===Qo)throw Error(o(174));return e}function ia(e,t){switch(Pi(na,t),Pi(ta,e),Pi(ea,Qo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ti(ea),Pi(ea,t)}function oa(){Ti(ea),Ti(ta),Ti(na)}function aa(e){ra(na.current);var t=ra(ea.current),n=le(t,e.type);t!==n&&(Pi(ta,e),Pi(ea,n))}function sa(e){ta.current===e&&(Ti(ea),Ti(ta))}var la=Ei(0);function ua(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ca=[];function pa(){for(var e=0;e<ca.length;e++)ca[e]._workInProgressVersionPrimary=null;ca.length=0}var ha=x.ReactCurrentDispatcher,da=x.ReactCurrentBatchConfig,fa=0,ma=null,ya=null,va=null,ga=!1,_a=!1,xa=0,ba=0;function wa(){throw Error(o(321))}function Sa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Ea(e,t,n,r,i,a){if(fa=a,ma=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ha.current=null===e||null===e.memoizedState?ss:ls,e=n(r,i),_a){a=0;do{if(_a=!1,xa=0,25<=a)throw Error(o(301));a+=1,va=ya=null,t.updateQueue=null,ha.current=us,e=n(r,i)}while(_a)}if(ha.current=as,t=null!==ya&&null!==ya.next,fa=0,va=ya=ma=null,ga=!1,t)throw Error(o(300));return e}function Ta(){var e=0!==xa;return xa=0,e}function Pa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===va?ma.memoizedState=va=e:va=va.next=e,va}function Ca(){if(null===ya){var e=ma.alternate;e=null!==e?e.memoizedState:null}else e=ya.next;var t=null===va?ma.memoizedState:va.next;if(null!==t)va=t,ya=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ya=e).memoizedState,baseState:ya.baseState,baseQueue:ya.baseQueue,queue:ya.queue,next:null},null===va?ma.memoizedState=va=e:va=va.next=e}return va}function ka(e,t){return"function"===typeof t?t(e):t}function Aa(e){var t=Ca(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ya,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=s=null,u=null,c=a;do{var p=c.lane;if((fa&p)===p)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:p,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=h,s=r):u=u.next=h,ma.lanes|=p,zl|=p}c=c.next}while(null!==c&&c!==a);null===u?s=r:u.next=l,sr(r,t.memoizedState)||(xs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,ma.lanes|=a,zl|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ia(e){var t=Ca(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(xs=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Oa(){}function Da(e,t){var n=ma,r=Ca(),i=t(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,xs=!0),r=r.queue,Wa(Ra.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==va&&1&va.memoizedState.tag){if(n.flags|=2048,Ba(9,ja.bind(null,n,r,i,t),void 0,null),null===Il)throw Error(o(349));0!==(30&fa)||Ma(n,t,i)}return i}function Ma(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ma.updateQueue)?(t={lastEffect:null,stores:null},ma.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function ja(e,t,n,r){t.value=n,t.getSnapshot=r,La(t)&&za(e)}function Ra(e,t,n){return n((function(){La(t)&&za(e)}))}function La(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function za(e){var t=Io(e,1);null!==t&&ru(t,e,1,-1)}function Na(e){var t=Pa();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,ma,e),[t.memoizedState,e]}function Ba(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ma.updateQueue)?(t={lastEffect:null,stores:null},ma.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Fa(){return Ca().memoizedState}function Ua(e,t,n,r){var i=Pa();ma.flags|=e,i.memoizedState=Ba(1|t,n,void 0,void 0===r?null:r)}function Va(e,t,n,r){var i=Ca();r=void 0===r?null:r;var o=void 0;if(null!==ya){var a=ya.memoizedState;if(o=a.destroy,null!==r&&Sa(r,a.deps))return void(i.memoizedState=Ba(t,n,o,r))}ma.flags|=e,i.memoizedState=Ba(1|t,n,o,r)}function qa(e,t){return Ua(8390656,8,e,t)}function Wa(e,t){return Va(2048,8,e,t)}function Ha(e,t){return Va(4,2,e,t)}function Ga(e,t){return Va(4,4,e,t)}function Za(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ka(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Va(4,4,Za.bind(null,t,e),n)}function Xa(){}function Ya(e,t){var n=Ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Sa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $a(e,t){var n=Ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Sa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ja(e,t,n){return 0===(21&fa)?(e.baseState&&(e.baseState=!1,xs=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),ma.lanes|=n,zl|=n,e.baseState=!0),t)}function Qa(e,t){var n=_t;_t=0!==n&&4>n?n:4,e(!0);var r=da.transition;da.transition={};try{e(!1),t()}finally{_t=n,da.transition=r}}function es(){return Ca().memoizedState}function ts(e,t,n){var r=nu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Ao(e,t,n,r))){ru(n,e,r,tu()),os(n,t,r)}}function ns(e,t,n){var r=nu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var l=t.interleaved;return null===l?(i.next=i,ko(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(u){}null!==(n=Ao(e,t,i,r))&&(ru(n,e,r,i=tu()),os(n,t,r))}}function rs(e){var t=e.alternate;return e===ma||null!==t&&t===ma}function is(e,t){_a=ga=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function os(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var as={readContext:Po,useCallback:wa,useContext:wa,useEffect:wa,useImperativeHandle:wa,useInsertionEffect:wa,useLayoutEffect:wa,useMemo:wa,useReducer:wa,useRef:wa,useState:wa,useDebugValue:wa,useDeferredValue:wa,useTransition:wa,useMutableSource:wa,useSyncExternalStore:wa,useId:wa,unstable_isNewReconciler:!1},ss={readContext:Po,useCallback:function(e,t){return Pa().memoizedState=[e,void 0===t?null:t],e},useContext:Po,useEffect:qa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ua(4194308,4,Za.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ua(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ua(4,2,e,t)},useMemo:function(e,t){var n=Pa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Pa();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,ma,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Pa().memoizedState=e},useState:Na,useDebugValue:Xa,useDeferredValue:function(e){return Pa().memoizedState=e},useTransition:function(){var e=Na(!1),t=e[0];return e=Qa.bind(null,e[1]),Pa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ma,i=Pa();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Il)throw Error(o(349));0!==(30&fa)||Ma(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,qa(Ra.bind(null,r,a,e),[e]),r.flags|=2048,Ba(9,ja.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Pa(),t=Il.identifierPrefix;if(io){var n=$i;t=":"+t+"R"+(n=(Yi&~(1<<32-at(Yi)-1)).toString(32)+n),0<(n=xa++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ba++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ls={readContext:Po,useCallback:Ya,useContext:Po,useEffect:Wa,useImperativeHandle:Ka,useInsertionEffect:Ha,useLayoutEffect:Ga,useMemo:$a,useReducer:Aa,useRef:Fa,useState:function(){return Aa(ka)},useDebugValue:Xa,useDeferredValue:function(e){return Ja(Ca(),ya.memoizedState,e)},useTransition:function(){return[Aa(ka)[0],Ca().memoizedState]},useMutableSource:Oa,useSyncExternalStore:Da,useId:es,unstable_isNewReconciler:!1},us={readContext:Po,useCallback:Ya,useContext:Po,useEffect:Wa,useImperativeHandle:Ka,useInsertionEffect:Ha,useLayoutEffect:Ga,useMemo:$a,useReducer:Ia,useRef:Fa,useState:function(){return Ia(ka)},useDebugValue:Xa,useDeferredValue:function(e){var t=Ca();return null===ya?t.memoizedState=e:Ja(t,ya.memoizedState,e)},useTransition:function(){return[Ia(ka)[0],Ca().memoizedState]},useMutableSource:Oa,useSyncExternalStore:Da,useId:es,unstable_isNewReconciler:!1};function cs(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function ps(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=jo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,Gl=r),hs(0,t)},n}function ms(e,t,n){(n=jo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===Zl?Zl=new Set([this]):Zl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ys(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Pu.bind(null,e,t,n),t.then(e,e))}function vs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=jo(-1,1)).tag=2,Ro(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var _s=x.ReactCurrentOwner,xs=!1;function bs(e,t,n,r){t.child=null===e?Jo(t,null,n,r):$o(t,e.child,n,r)}function ws(e,t,n,r,i){n=n.render;var o=t.ref;return To(t,i),r=Ea(e,t,n,r,o,i),n=Ta(),null===e||xs?(io&&n&&eo(t),t.flags|=1,bs(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function Ss(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Mu(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ru(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Es(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Hs(e,t,i)}return t.flags|=1,(e=ju(o,r)).ref=t.ref,e.return=t,t.child=e}function Es(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(xs=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Hs(e,t,i);0!==(131072&e.flags)&&(xs=!0)}}return Cs(e,t,n,r,i)}function Ts(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pi(jl,Ml),Ml|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Pi(jl,Ml),Ml|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Pi(jl,Ml),Ml|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Pi(jl,Ml),Ml|=r;return bs(e,t,i,n),t.child}function Ps(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cs(e,t,n,r,i){var o=Di(n)?Ii:ki.current;return o=Oi(t,o),To(t,i),n=Ea(e,t,n,r,o,i),r=Ta(),null===e||xs?(io&&r&&eo(t),t.flags|=1,bs(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function ks(e,t,n,r,i){if(Di(n)){var o=!0;Li(t)}else o=!1;if(To(t,i),null===t.stateNode)Ws(e,t),Wo(t,n,r),Go(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=n.contextType;"object"===typeof u&&null!==u?u=Po(u):u=Oi(t,u=Di(n)?Ii:ki.current);var c=n.getDerivedStateFromProps,p="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;p||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==u)&&Ho(t,a,r,u),Oo=!1;var h=t.memoizedState;a.state=h,No(t,r,a,i),l=t.memoizedState,s!==r||h!==l||Ai.current||Oo?("function"===typeof c&&(Uo(t,n,c,r),l=t.memoizedState),(s=Oo||qo(t,n,s,r,h,l,u))?(p||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Mo(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:vo(t.type,s),a.props=u,p=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Po(l):l=Oi(t,l=Di(n)?Ii:ki.current);var d=n.getDerivedStateFromProps;(c="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==p||h!==l)&&Ho(t,a,r,l),Oo=!1,h=t.memoizedState,a.state=h,No(t,r,a,i);var f=t.memoizedState;s!==p||h!==f||Ai.current||Oo?("function"===typeof d&&(Uo(t,n,d,r),f=t.memoizedState),(u=Oo||qo(t,n,u,r,h,f,l)||!1)?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=l,r=u):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return As(e,t,n,r,o,i)}function As(e,t,n,r,i,o){Ps(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&zi(t,n,!1),Hs(e,t,o);r=t.stateNode,_s.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=$o(t,e.child,null,o),t.child=$o(t,null,s,o)):bs(e,t,s,o),t.memoizedState=r.state,i&&zi(t,n,!0),t.child}function Is(e){var t=e.stateNode;t.pendingContext?ji(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ji(0,t.context,!1),ia(e,t.containerInfo)}function Os(e,t,n,r,i){return fo(),mo(i),t.flags|=256,bs(e,t,n,r),t.child}var Ds,Ms,js,Rs,Ls={dehydrated:null,treeContext:null,retryLane:0};function zs(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ns(e,t,n){var r,i=t.pendingProps,a=la.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Pi(la,1&a),null===e)return uo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,s?(i=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=zu(l,i,0,null),e=Lu(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=zs(n),t.memoizedState=Ls,e):Bs(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,Fs(e,t,s,r=ps(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=zu({mode:"visible",children:r.children},i,0,null),(a=Lu(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&$o(t,e.child,null,s),t.child.memoizedState=zs(s),t.memoizedState=Ls,a);if(0===(1&t.mode))return Fs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Fs(e,t,s,r=ps(a=Error(o(419)),r,void 0))}if(l=0!==(s&e.childLanes),xs||l){if(null!==(r=Il)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Io(e,i),ru(r,e,i,-1))}return yu(),Fs(e,t,s,r=ps(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=ku.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=ui(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Zi[Ki++]=Yi,Zi[Ki++]=$i,Zi[Ki++]=Xi,Yi=e.id,$i=e.overflow,Xi=t),t=Bs(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(s){s=i.fallback,l=t.mode,r=(a=e.child).sibling;var u={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=u,t.deletions=null):(i=ju(a,u)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=ju(r,s):(s=Lu(s,l,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,l=null===(l=e.child.memoizedState)?zs(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Ls,i}return e=(s=e.child).sibling,i=ju(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Bs(e,t){return(t=zu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fs(e,t,n,r){return null!==r&&mo(r),$o(t,e.child,null,n),(e=Bs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Us(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Eo(e.return,t,n)}function Vs(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function qs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(bs(e,t,r.children,n),0!==(2&(r=la.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Us(e,n,t);else if(19===e.tag)Us(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Pi(la,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ua(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Vs(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ua(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Vs(t,!0,n,null,o);break;case"together":Vs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ws(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),zl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=ju(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=ju(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Gs(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Zs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ks(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zs(t),null;case 1:case 17:return Di(t.type)&&Mi(),Zs(t),null;case 3:return r=t.stateNode,oa(),Ti(Ai),Ti(ki),pa(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(po(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(su(oo),oo=null))),Ms(e,t),Zs(t),null;case 5:sa(t);var i=ra(na.current);if(n=t.type,null!==e&&null!=t.stateNode)js(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Zs(t),null}if(e=ra(ea.current),po(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hi]=t,r[di]=a,e=0!==(1&t.mode),n){case"dialog":Br("cancel",r),Br("close",r);break;case"iframe":case"object":case"embed":Br("load",r);break;case"video":case"audio":for(i=0;i<Rr.length;i++)Br(Rr[i],r);break;case"source":Br("error",r);break;case"img":case"image":case"link":Br("error",r),Br("load",r);break;case"details":Br("toggle",r);break;case"input":Y(r,a),Br("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Br("invalid",r);break;case"textarea":ie(r,a),Br("invalid",r)}for(var l in ge(n,a),i=null,a)if(a.hasOwnProperty(l)){var u=a[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,u,e),i=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,u,e),i=["children",""+u]):s.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Br("scroll",r)}switch(n){case"input":G(r),Q(r,a,!0);break;case"textarea":G(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Qr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[di]=r,Ds(e,t,!1,!1),t.stateNode=e;e:{switch(l=_e(n,r),n){case"dialog":Br("cancel",e),Br("close",e),i=r;break;case"iframe":case"object":case"embed":Br("load",e),i=r;break;case"video":case"audio":for(i=0;i<Rr.length;i++)Br(Rr[i],e);i=r;break;case"source":Br("error",e),i=r;break;case"img":case"image":case"link":Br("error",e),Br("load",e),i=r;break;case"details":Br("toggle",e),i=r;break;case"input":Y(e,r),i=X(e,r),Br("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=z({},r,{value:void 0}),Br("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Br("invalid",e)}for(a in ge(n,i),u=i)if(u.hasOwnProperty(a)){var c=u[a];"style"===a?ye(e,c):"dangerouslySetInnerHTML"===a?null!=(c=c?c.__html:void 0)&&pe(e,c):"children"===a?"string"===typeof c?("textarea"!==n||""!==c)&&he(e,c):"number"===typeof c&&he(e,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=c&&"onScroll"===a&&Br("scroll",e):null!=c&&_(e,a,c,l))}switch(n){case"input":G(e),Q(e,r,!1);break;case"textarea":G(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Qr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Zs(t),null;case 6:if(e&&null!=t.stateNode)Rs(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=ra(na.current),ra(ea.current),po(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Zs(t),null;case 13:if(Ti(la),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))ho(),fo(),t.flags|=98560,a=!1;else if(a=po(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[hi]=t}else fo(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Zs(t),a=!1}else null!==oo&&(su(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&la.current)?0===Rl&&(Rl=3):yu())),null!==t.updateQueue&&(t.flags|=4),Zs(t),null);case 4:return oa(),Ms(e,t),null===e&&Vr(t.stateNode.containerInfo),Zs(t),null;case 10:return So(t.type._context),Zs(t),null;case 19:if(Ti(la),null===(a=t.memoizedState))return Zs(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Gs(a,!1);else{if(0!==Rl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ua(e))){for(t.flags|=128,Gs(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Pi(la,1&la.current|2),t.child}e=e.sibling}null!==a.tail&&$e()>ql&&(t.flags|=128,r=!0,Gs(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ua(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Gs(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!io)return Zs(t),null}else 2*$e()-a.renderingStartTime>ql&&1073741824!==n&&(t.flags|=128,r=!0,Gs(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=$e(),t.sibling=null,n=la.current,Pi(la,r?1&n|2:1&n),t):(Zs(t),null);case 22:case 23:return hu(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ml)&&(Zs(t),6&t.subtreeFlags&&(t.flags|=8192)):Zs(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Xs(e,t){switch(to(t),t.tag){case 1:return Di(t.type)&&Mi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return oa(),Ti(Ai),Ti(ki),pa(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return sa(t),null;case 13:if(Ti(la),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));fo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ti(la),null;case 4:return oa(),null;case 10:return So(t.type._context),null;case 22:case 23:return hu(),null;default:return null}}Ds=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ms=function(){},js=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ra(ea.current);var o,a=null;switch(n){case"input":i=X(e,i),r=X(e,r),a=[];break;case"select":i=z({},i,{value:void 0}),r=z({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Qr)}for(c in ge(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var l=i[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(a||(a=[]),a.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(a=a||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(a=a||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Br("scroll",e),a||l===u||(a=[])):(a=a||[]).push(c,u))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}},Rs=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ys=!1,$s=!1,Js="function"===typeof WeakSet?WeakSet:Set,Qs=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Tu(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){Tu(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&tl(t,n,o)}i=i.next}while(i!==r)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ol(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[mi],delete t[yi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Qr));else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var pl=null,hl=!1;function dl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:$s||el(n,t);case 6:var r=pl,i=hl;pl=null,dl(e,t,n),hl=i,null!==(pl=r)&&(hl?(e=pl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):pl.removeChild(n.stateNode));break;case 18:null!==pl&&(hl?(e=pl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Vt(e)):li(pl,n.stateNode));break;case 4:r=pl,i=hl,pl=n.stateNode.containerInfo,hl=!0,dl(e,t,n),pl=r,hl=i;break;case 0:case 11:case 14:case 15:if(!$s&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&tl(n,t,a),i=i.next}while(i!==r)}dl(e,t,n);break;case 1:if(!$s&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Tu(n,t,s)}dl(e,t,n);break;case 21:dl(e,t,n);break;case 22:1&n.mode?($s=(r=$s)||null!==n.memoizedState,dl(e,t,n),$s=r):dl(e,t,n);break;default:dl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Js),t.forEach((function(t){var r=Au.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function yl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:pl=l.stateNode,hl=!1;break e;case 3:case 4:pl=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===pl)throw Error(o(160));fl(a,s,i),pl=null,hl=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(c){Tu(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(yl(t,e),gl(e),4&r){try{rl(3,e,e.return),il(3,e)}catch(y){Tu(e,e.return,y)}try{rl(5,e,e.return)}catch(y){Tu(e,e.return,y)}}break;case 1:yl(t,e),gl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(yl(t,e),gl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(y){Tu(e,e.return,y)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===a.type&&null!=a.name&&$(i,a),_e(l,s);var c=_e(l,a);for(s=0;s<u.length;s+=2){var p=u[s],h=u[s+1];"style"===p?ye(i,h):"dangerouslySetInnerHTML"===p?pe(i,h):"children"===p?he(i,h):_(i,p,h,c)}switch(l){case"input":J(i,a);break;case"textarea":oe(i,a);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var f=a.value;null!=f?ne(i,!!a.multiple,f,!1):d!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[di]=a}catch(y){Tu(e,e.return,y)}}break;case 6:if(yl(t,e),gl(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(y){Tu(e,e.return,y)}}break;case 3:if(yl(t,e),gl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(y){Tu(e,e.return,y)}break;case 4:default:yl(t,e),gl(e);break;case 13:yl(t,e),gl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Vl=$e())),4&r&&ml(e);break;case 22:if(p=null!==n&&null!==n.memoizedState,1&e.mode?($s=(c=$s)||p,yl(t,e),$s=c):yl(t,e),gl(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!p&&0!==(1&e.mode))for(Qs=e,p=e.child;null!==p;){for(h=Qs=p;null!==Qs;){switch(f=(d=Qs).child,d.tag){case 0:case 11:case 14:case 15:rl(4,d,d.return);break;case 1:el(d,d.return);var m=d.stateNode;if("function"===typeof m.componentWillUnmount){r=d,n=d.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(y){Tu(r,n,y)}}break;case 5:el(d,d.return);break;case 22:if(null!==d.memoizedState){wl(h);continue}}null!==f?(f.return=d,Qs=f):wl(h)}p=p.sibling}e:for(p=null,h=e;;){if(5===h.tag){if(null===p){p=h;try{i=h.stateNode,c?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,s=void 0!==(u=h.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=me("display",s))}catch(y){Tu(e,e.return,y)}}}else if(6===h.tag){if(null===p)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(y){Tu(e,e.return,y)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;p===h&&(p=null),h=h.return}p===h&&(p=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:yl(t,e),gl(e),4&r&&ml(e);case 21:}}function gl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cl(e,ll(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;ul(e,ll(e),a);break;default:throw Error(o(161))}}catch(s){Tu(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function _l(e,t,n){Qs=e,xl(e,t,n)}function xl(e,t,n){for(var r=0!==(1&e.mode);null!==Qs;){var i=Qs,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Ys;if(!a){var s=i.alternate,l=null!==s&&null!==s.memoizedState||$s;s=Ys;var u=$s;if(Ys=a,($s=l)&&!u)for(Qs=i;null!==Qs;)l=(a=Qs).child,22===a.tag&&null!==a.memoizedState?Sl(i):null!==l?(l.return=a,Qs=l):Sl(i);for(;null!==o;)Qs=o,xl(o,t,n),o=o.sibling;Qs=i,Ys=s,$s=u}bl(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Qs=o):bl(e)}}function bl(e){for(;null!==Qs;){var t=Qs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$s||il(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$s)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:vo(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Bo(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Bo(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var p=c.memoizedState;if(null!==p){var h=p.dehydrated;null!==h&&Vt(h)}}}break;default:throw Error(o(163))}$s||512&t.flags&&ol(t)}catch(d){Tu(t,t.return,d)}}if(t===e){Qs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Qs=n;break}Qs=t.return}}function wl(e){for(;null!==Qs;){var t=Qs;if(t===e){Qs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Qs=n;break}Qs=t.return}}function Sl(e){for(;null!==Qs;){var t=Qs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){Tu(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Tu(t,i,l)}}var o=t.return;try{ol(t)}catch(l){Tu(t,o,l)}break;case 5:var a=t.return;try{ol(t)}catch(l){Tu(t,a,l)}}}catch(l){Tu(t,t.return,l)}if(t===e){Qs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Qs=s;break}Qs=t.return}}var El,Tl=Math.ceil,Pl=x.ReactCurrentDispatcher,Cl=x.ReactCurrentOwner,kl=x.ReactCurrentBatchConfig,Al=0,Il=null,Ol=null,Dl=0,Ml=0,jl=Ei(0),Rl=0,Ll=null,zl=0,Nl=0,Bl=0,Fl=null,Ul=null,Vl=0,ql=1/0,Wl=null,Hl=!1,Gl=null,Zl=null,Kl=!1,Xl=null,Yl=0,$l=0,Jl=null,Ql=-1,eu=0;function tu(){return 0!==(6&Al)?$e():-1!==Ql?Ql:Ql=$e()}function nu(e){return 0===(1&e.mode)?1:0!==(2&Al)&&0!==Dl?Dl&-Dl:null!==yo.transition?(0===eu&&(eu=mt()),eu):0!==(e=_t)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function ru(e,t,n,r){if(50<$l)throw $l=0,Jl=null,Error(o(185));vt(e,n,r),0!==(2&Al)&&e===Il||(e===Il&&(0===(2&Al)&&(Nl|=n),4===Rl&&lu(e,Dl)),iu(e,r),1===n&&0===Al&&0===(1&t.mode)&&(ql=$e()+500,Bi&&Vi()))}function iu(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,l=i[a];-1===l?0!==(s&n)&&0===(s&r)||(i[a]=dt(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=ht(e,e===Il?Dl:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){Bi=!0,Ui(e)}(uu.bind(null,e)):Ui(uu.bind(null,e)),ai((function(){0===(6&Al)&&Vi()})),n=null;else{switch(xt(r)){case 1:n=Qe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Iu(n,ou.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ou(e,t){if(Ql=-1,eu=0,0!==(6&Al))throw Error(o(327));var n=e.callbackNode;if(Su()&&e.callbackNode!==n)return null;var r=ht(e,e===Il?Dl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vu(e,r);else{t=r;var i=Al;Al|=2;var a=mu();for(Il===e&&Dl===t||(Wl=null,ql=$e()+500,du(e,t));;)try{_u();break}catch(l){fu(e,l)}wo(),Pl.current=a,Al=i,null!==Ol?t=0:(Il=null,Dl=0,t=Rl)}if(0!==t){if(2===t&&(0!==(i=ft(e))&&(r=i,t=au(e,i))),1===t)throw n=Ll,du(e,0),lu(e,r),iu(e,$e()),n;if(6===t)lu(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vu(e,r))&&(0!==(a=ft(e))&&(r=a,t=au(e,a))),1===t))throw n=Ll,du(e,0),lu(e,r),iu(e,$e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:wu(e,Ul,Wl);break;case 3:if(lu(e,r),(130023424&r)===r&&10<(t=Vl+500-$e())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wu.bind(null,e,Ul,Wl),t);break}wu(e,Ul,Wl);break;case 4:if(lu(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Tl(r/1960))-r)){e.timeoutHandle=ri(wu.bind(null,e,Ul,Wl),r);break}wu(e,Ul,Wl);break;default:throw Error(o(329))}}}return iu(e,$e()),e.callbackNode===n?ou.bind(null,e):null}function au(e,t){var n=Fl;return e.current.memoizedState.isDehydrated&&(du(e,t).flags|=256),2!==(e=vu(e,t))&&(t=Ul,Ul=n,null!==t&&su(t)),e}function su(e){null===Ul?Ul=e:Ul.push.apply(Ul,e)}function lu(e,t){for(t&=~Bl,t&=~Nl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function uu(e){if(0!==(6&Al))throw Error(o(327));Su();var t=ht(e,0);if(0===(1&t))return iu(e,$e()),null;var n=vu(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=au(e,r))}if(1===n)throw n=Ll,du(e,0),lu(e,t),iu(e,$e()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wu(e,Ul,Wl),iu(e,$e()),null}function cu(e,t){var n=Al;Al|=1;try{return e(t)}finally{0===(Al=n)&&(ql=$e()+500,Bi&&Vi())}}function pu(e){null!==Xl&&0===Xl.tag&&0===(6&Al)&&Su();var t=Al;Al|=1;var n=kl.transition,r=_t;try{if(kl.transition=null,_t=1,e)return e()}finally{_t=r,kl.transition=n,0===(6&(Al=t))&&Vi()}}function hu(){Ml=jl.current,Ti(jl)}function du(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ol)for(n=Ol.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Mi();break;case 3:oa(),Ti(Ai),Ti(ki),pa();break;case 5:sa(r);break;case 4:oa();break;case 13:case 19:Ti(la);break;case 10:So(r.type._context);break;case 22:case 23:hu()}n=n.return}if(Il=e,Ol=e=ju(e.current,null),Dl=Ml=t,Rl=0,Ll=null,Bl=Nl=zl=0,Ul=Fl=null,null!==Co){for(t=0;t<Co.length;t++)if(null!==(r=(n=Co[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}Co=null}return e}function fu(e,t){for(;;){var n=Ol;try{if(wo(),ha.current=as,ga){for(var r=ma.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ga=!1}if(fa=0,va=ya=ma=null,_a=!1,xa=0,Cl.current=null,null===n||null===n.return){Rl=1,Ll=t,Ol=null;break}e:{var a=e,s=n.return,l=n,u=t;if(t=Dl,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,p=l,h=p.tag;if(0===(1&p.mode)&&(0===h||11===h||15===h)){var d=p.alternate;d?(p.updateQueue=d.updateQueue,p.memoizedState=d.memoizedState,p.lanes=d.lanes):(p.updateQueue=null,p.memoizedState=null)}var f=vs(s);if(null!==f){f.flags&=-257,gs(f,s,l,0,t),1&f.mode&&ys(a,c,t),u=c;var m=(t=f).updateQueue;if(null===m){var y=new Set;y.add(u),t.updateQueue=y}else m.add(u);break e}if(0===(1&t)){ys(a,c,t),yu();break e}u=Error(o(426))}else if(io&&1&l.mode){var v=vs(s);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),gs(v,s,l,0,t),mo(cs(u,l));break e}}a=u=cs(u,l),4!==Rl&&(Rl=2),null===Fl?Fl=[a]:Fl.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,zo(a,fs(0,u,t));break e;case 1:l=u;var g=a.type,_=a.stateNode;if(0===(128&a.flags)&&("function"===typeof g.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Zl||!Zl.has(_)))){a.flags|=65536,t&=-t,a.lanes|=t,zo(a,ms(a,l,t));break e}}a=a.return}while(null!==a)}bu(n)}catch(x){t=x,Ol===n&&null!==n&&(Ol=n=n.return);continue}break}}function mu(){var e=Pl.current;return Pl.current=as,null===e?as:e}function yu(){0!==Rl&&3!==Rl&&2!==Rl||(Rl=4),null===Il||0===(268435455&zl)&&0===(268435455&Nl)||lu(Il,Dl)}function vu(e,t){var n=Al;Al|=2;var r=mu();for(Il===e&&Dl===t||(Wl=null,du(e,t));;)try{gu();break}catch(i){fu(e,i)}if(wo(),Al=n,Pl.current=r,null!==Ol)throw Error(o(261));return Il=null,Dl=0,Rl}function gu(){for(;null!==Ol;)xu(Ol)}function _u(){for(;null!==Ol&&!Xe();)xu(Ol)}function xu(e){var t=El(e.alternate,e,Ml);e.memoizedProps=e.pendingProps,null===t?bu(e):Ol=t,Cl.current=null}function bu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ks(n,t,Ml)))return void(Ol=n)}else{if(null!==(n=Xs(n,t)))return n.flags&=32767,void(Ol=n);if(null===e)return Rl=6,void(Ol=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ol=t);Ol=t=e}while(null!==t);0===Rl&&(Rl=5)}function wu(e,t,n){var r=_t,i=kl.transition;try{kl.transition=null,_t=1,function(e,t,n,r){do{Su()}while(null!==Xl);if(0!==(6&Al))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===Il&&(Ol=Il=null,Dl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,Iu(tt,(function(){return Su(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=kl.transition,kl.transition=null;var s=_t;_t=1;var l=Al;Al|=4,Cl.current=null,function(e,t){if(ei=Wt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(b){n=null;break e}var s=0,l=-1,u=-1,c=0,p=0,h=e,d=null;t:for(;;){for(var f;h!==n||0!==i&&3!==h.nodeType||(l=s+i),h!==a||0!==r&&3!==h.nodeType||(u=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(f=h.firstChild);)d=h,h=f;for(;;){if(h===e)break t;if(d===n&&++c===i&&(l=s),d===a&&++p===r&&(u=s),null!==(f=h.nextSibling))break;d=(h=d).parentNode}h=f}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Qs=t;null!==Qs;)if(e=(t=Qs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Qs=e;else for(;null!==Qs;){t=Qs;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var y=m.memoizedProps,v=m.memoizedState,g=t.stateNode,_=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:vo(t.type,y),v);g.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(o(163))}}catch(b){Tu(t,t.return,b)}if(null!==(e=t.sibling)){e.return=t.return,Qs=e;break}Qs=t.return}m=nl,nl=!1}(e,n),vl(n,e),fr(ti),Wt=!!ei,ti=ei=null,e.current=n,_l(n,e,i),Ye(),Al=l,_t=s,kl.transition=a}else e.current=n;if(Kl&&(Kl=!1,Xl=e,Yl=i),a=e.pendingLanes,0===a&&(Zl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),iu(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hl)throw Hl=!1,e=Gl,Gl=null,e;0!==(1&Yl)&&0!==e.tag&&Su(),a=e.pendingLanes,0!==(1&a)?e===Jl?$l++:($l=0,Jl=e):$l=0,Vi()}(e,t,n,r)}finally{kl.transition=i,_t=r}return null}function Su(){if(null!==Xl){var e=xt(Yl),t=kl.transition,n=_t;try{if(kl.transition=null,_t=16>e?16:e,null===Xl)var r=!1;else{if(e=Xl,Xl=null,Yl=0,0!==(6&Al))throw Error(o(331));var i=Al;for(Al|=4,Qs=e.current;null!==Qs;){var a=Qs,s=a.child;if(0!==(16&Qs.flags)){var l=a.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Qs=c;null!==Qs;){var p=Qs;switch(p.tag){case 0:case 11:case 15:rl(8,p,a)}var h=p.child;if(null!==h)h.return=p,Qs=h;else for(;null!==Qs;){var d=(p=Qs).sibling,f=p.return;if(al(p),p===c){Qs=null;break}if(null!==d){d.return=f,Qs=d;break}Qs=f}}}var m=a.alternate;if(null!==m){var y=m.child;if(null!==y){m.child=null;do{var v=y.sibling;y.sibling=null,y=v}while(null!==y)}}Qs=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Qs=s;else e:for(;null!==Qs;){if(0!==(2048&(a=Qs).flags))switch(a.tag){case 0:case 11:case 15:rl(9,a,a.return)}var g=a.sibling;if(null!==g){g.return=a.return,Qs=g;break e}Qs=a.return}}var _=e.current;for(Qs=_;null!==Qs;){var x=(s=Qs).child;if(0!==(2064&s.subtreeFlags)&&null!==x)x.return=s,Qs=x;else e:for(s=_;null!==Qs;){if(0!==(2048&(l=Qs).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(w){Tu(l,l.return,w)}if(l===s){Qs=null;break e}var b=l.sibling;if(null!==b){b.return=l.return,Qs=b;break e}Qs=l.return}}if(Al=i,Vi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(w){}r=!0}return r}finally{_t=n,kl.transition=t}}return!1}function Eu(e,t,n){e=Ro(e,t=fs(0,t=cs(n,t),1),1),t=tu(),null!==e&&(vt(e,1,t),iu(e,t))}function Tu(e,t,n){if(3===e.tag)Eu(e,e,n);else for(;null!==t;){if(3===t.tag){Eu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Zl||!Zl.has(r))){t=Ro(t,e=ms(t,e=cs(n,e),1),1),e=tu(),null!==t&&(vt(t,1,e),iu(t,e));break}}t=t.return}}function Pu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tu(),e.pingedLanes|=e.suspendedLanes&n,Il===e&&(Dl&n)===n&&(4===Rl||3===Rl&&(130023424&Dl)===Dl&&500>$e()-Vl?du(e,0):Bl|=n),iu(e,t)}function Cu(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=tu();null!==(e=Io(e,t))&&(vt(e,t,n),iu(e,n))}function ku(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cu(e,n)}function Au(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Cu(e,n)}function Iu(e,t){return Ze(e,t)}function Ou(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Du(e,t,n,r){return new Ou(e,t,n,r)}function Mu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function ju(e,t){var n=e.alternate;return null===n?((n=Du(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ru(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Mu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return Lu(n.children,i,a,t);case E:s=8,i|=8;break;case T:return(e=Du(12,n,t,2|i)).elementType=T,e.lanes=a,e;case A:return(e=Du(13,n,t,i)).elementType=A,e.lanes=a,e;case I:return(e=Du(19,n,t,i)).elementType=I,e.lanes=a,e;case M:return zu(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case P:s=10;break e;case C:s=9;break e;case k:s=11;break e;case O:s=14;break e;case D:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Du(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Lu(e,t,n,r){return(e=Du(7,e,r,t)).lanes=n,e}function zu(e,t,n,r){return(e=Du(22,e,r,t)).elementType=M,e.lanes=n,e.stateNode={isHidden:!1},e}function Nu(e,t,n){return(e=Du(6,e,null,t)).lanes=n,e}function Bu(e,t,n){return(t=Du(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fu(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yt(0),this.expirationTimes=yt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uu(e,t,n,r,i,o,a,s,l){return e=new Fu(e,t,n,s,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Du(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Do(o),e}function Vu(e){if(!e)return Ci;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Di(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Di(n))return Ri(e,n,t)}return t}function qu(e,t,n,r,i,o,a,s,l){return(e=Uu(n,r,!0,e,0,o,0,s,l)).context=Vu(null),n=e.current,(o=jo(r=tu(),i=nu(n))).callback=void 0!==t&&null!==t?t:null,Ro(n,o,i),e.current.lanes=i,vt(e,i,r),iu(e,r),e}function Wu(e,t,n,r){var i=t.current,o=tu(),a=nu(i);return n=Vu(n),null===t.context?t.context=n:t.pendingContext=n,(t=jo(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ro(i,t,a))&&(ru(e,i,a,o),Lo(e,i,a)),a}function Hu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Zu(e,t){Gu(e,t),(e=e.alternate)&&Gu(e,t)}El=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)xs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return xs=!1,function(e,t,n){switch(t.tag){case 3:Is(t),fo();break;case 5:aa(t);break;case 1:Di(t.type)&&Li(t);break;case 4:ia(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Pi(go,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Pi(la,1&la.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ns(e,t,n):(Pi(la,1&la.current),null!==(e=Hs(e,t,n))?e.sibling:null);Pi(la,1&la.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Pi(la,la.current),r)break;return null;case 22:case 23:return t.lanes=0,Ts(e,t,n)}return Hs(e,t,n)}(e,t,n);xs=0!==(131072&e.flags)}else xs=!1,io&&0!==(1048576&t.flags)&&Qi(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ws(e,t),e=t.pendingProps;var i=Oi(t,ki.current);To(t,n),i=Ea(null,t,r,e,i,n);var a=Ta();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Di(r)?(a=!0,Li(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Do(t),i.updater=Vo,t.stateNode=i,i._reactInternals=t,Go(t,r,e,n),t=As(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),bs(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ws(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Mu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===k)return 11;if(e===O)return 14}return 2}(r),e=vo(r,e),i){case 0:t=Cs(null,t,r,e,n);break e;case 1:t=ks(null,t,r,e,n);break e;case 11:t=ws(null,t,r,e,n);break e;case 14:t=Ss(null,t,r,vo(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 1:return r=t.type,i=t.pendingProps,ks(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 3:e:{if(Is(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Mo(e,t),No(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Os(e,t,r,n,i=cs(Error(o(423)),t));break e}if(r!==i){t=Os(e,t,r,n,i=cs(Error(o(424)),t));break e}for(ro=ui(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Jo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fo(),r===i){t=Hs(e,t,n);break e}bs(e,t,r,n)}t=t.child}return t;case 5:return aa(t),null===e&&uo(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(t.flags|=32),Ps(e,t),bs(e,t,s,n),t.child;case 6:return null===e&&uo(t),null;case 13:return Ns(e,t,n);case 4:return ia(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$o(t,null,r,n):bs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ws(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 7:return bs(e,t,t.pendingProps,n),t.child;case 8:case 12:return bs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Pi(go,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Ai.current){t=Hs(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===a.tag){(u=jo(-1,n&-n)).tag=2;var c=a.updateQueue;if(null!==c){var p=(c=c.shared).pending;null===p?u.next=u:(u.next=p.next,p.next=u),c.pending=u}}a.lanes|=n,null!==(u=a.alternate)&&(u.lanes|=n),Eo(a.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Eo(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}bs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,To(t,n),r=r(i=Po(i)),t.flags|=1,bs(e,t,r,n),t.child;case 14:return i=vo(r=t.type,t.pendingProps),Ss(e,t,r,i=vo(r.type,i),n);case 15:return Es(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:vo(r,i),Ws(e,t),t.tag=1,Di(r)?(e=!0,Li(t)):e=!1,To(t,n),Wo(t,r,i),Go(t,r,i,n),As(null,t,r,!0,e,n);case 19:return qs(e,t,n);case 22:return Ts(e,t,n)}throw Error(o(156,t.tag))};var Ku="function"===typeof reportError?reportError:function(e){console.error(e)};function Xu(e){this._internalRoot=e}function Yu(e){this._internalRoot=e}function $u(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Ju(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Qu(){}function ec(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=Hu(a);s.call(e)}}Wu(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Hu(a);o.call(e)}}var a=qu(t,r,e,0,null,!1,0,"",Qu);return e._reactRootContainer=a,e[fi]=a.current,Vr(8===e.nodeType?e.parentNode:e),pu(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Hu(l);s.call(e)}}var l=Uu(e,0,!1,null,0,!1,0,"",Qu);return e._reactRootContainer=l,e[fi]=l.current,Vr(8===e.nodeType?e.parentNode:e),pu((function(){Wu(t,l,n,r)})),l}(n,t,e,i,r);return Hu(a)}Yu.prototype.render=Xu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Wu(e,t,null,null)},Yu.prototype.unmount=Xu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;pu((function(){Wu(null,e,null,null)})),t[fi]=null}},Yu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mt.length&&0!==t&&t<Mt[n].priority;n++);Mt.splice(n,0,e),0===n&&zt(e)}},bt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=pt(t.pendingLanes);0!==n&&(gt(t,1|n),iu(t,$e()),0===(6&Al)&&(ql=$e()+500,Vi()))}break;case 13:pu((function(){var t=Io(e,1);if(null!==t){var n=tu();ru(t,e,1,n)}})),Zu(e,1)}},wt=function(e){if(13===e.tag){var t=Io(e,134217728);if(null!==t)ru(t,e,134217728,tu());Zu(e,134217728)}},St=function(e){if(13===e.tag){var t=nu(e),n=Io(e,t);if(null!==n)ru(n,e,t,tu());Zu(e,t)}},Et=function(){return _t},Tt=function(e,t){var n=_t;try{return _t=e,t()}finally{_t=n}},we=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=bi(r);if(!i)throw Error(o(90));Z(r),J(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},ke=cu,Ae=pu;var tc={usingClientEntryPoint:!1,Events:[_i,xi,bi,Pe,Ce,cu]},nc={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{it=ic.inject(rc),ot=ic}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$u(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!$u(e))throw Error(o(299));var n=!1,r="",i=Ku;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uu(e,1,!1,null,0,n,0,r,i),e[fi]=t.current,Vr(8===e.nodeType?e.parentNode:e),new Xu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return pu(e)},t.hydrate=function(e,t,n){if(!Ju(t))throw Error(o(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!$u(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Ku;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=qu(t,null,e,1,null!=n?n:null,i,0,a,s),e[fi]=t.current,Vr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yu(t)},t.render=function(e,t,n){if(!Ju(t))throw Error(o(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Ju(e))throw Error(o(40));return!!e._reactRootContainer&&(pu((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[fi]=null}))})),!0)},t.unstable_batchedUpdates=cu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ju(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:(e,t,n)=>{"use strict";var r=n(4164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4164:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},1965:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(2791)),i=s(n(2007)),o=n(1087),a=["children","onClick","replace","to","state","activeClassName","className","activeStyle","style","isActive"];function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function h(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var d=function(e){var t=e.children,n=e.onClick,i=e.replace,s=e.to,l=e.state,c=e.activeClassName,d=e.className,f=e.activeStyle,m=e.style,y=e.isActive,v=h(e,a),g="object"===p(s)?s.pathname||"":s,_=(0,o.useNavigate)(),x=(0,o.useHref)("string"===typeof s?{pathname:s}:s),b=(0,o.useMatch)(g),w=(0,o.useLocation)(),S=r.default.Children.only(t),E=!!(y?"function"===typeof y?y(b,w):y:b);return r.default.cloneElement(S,u(u({},v),{},{className:[d,S.props.className,E?c:null].join(" ").trim(),style:E?u(u({},m),f):m,href:x,onClick:function(e){t.props.onClick&&t.props.onClick(e),n&&n(e),e.defaultPrevented||0!==e.button||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),_(s,{replace:i,state:l}))}}))};d.propTypes={children:i.default.element.isRequired,onClick:i.default.func,replace:i.default.bool,to:i.default.oneOfType([i.default.string,i.default.object]).isRequired,state:i.default.object,className:i.default.string,activeClassName:i.default.string,style:i.default.objectOf(i.default.oneOfType([i.default.string,i.default.number])),activeStyle:i.default.objectOf(i.default.oneOfType([i.default.string,i.default.number])),isActive:i.default.oneOfType([i.default.func,i.default.bool])},d.defaultProps={replace:!1,activeClassName:"active",onClick:null,className:null,style:null,activeStyle:null,isActive:null};var f=d;t.default=f},1564:(e,t,n)=>{"use strict";Object.defineProperty(t,"J",{enumerable:!0,get:function(){return i.default}});var r,i=(r=n(1965))&&r.__esModule?r:{default:r}},1087:(e,t,n)=>{"use strict";var r,i;n.r(t),n.d(t,{AbortedDeferredError:()=>l.X3,Await:()=>s.KP,BrowserRouter:()=>j,Form:()=>U,HashRouter:()=>R,Link:()=>B,MemoryRouter:()=>s.VA,NavLink:()=>F,Navigate:()=>s.Fg,NavigationType:()=>l.aU,Outlet:()=>s.j3,Route:()=>s.AW,Router:()=>s.F0,RouterProvider:()=>D,Routes:()=>s.Z5,ScrollRestoration:()=>V,UNSAFE_DataRouterContext:()=>s.w3,UNSAFE_DataRouterStateContext:()=>s.FR,UNSAFE_FetchersContext:()=>C,UNSAFE_LocationContext:()=>s.gd,UNSAFE_NavigationContext:()=>s.Us,UNSAFE_RouteContext:()=>s.pW,UNSAFE_ViewTransitionContext:()=>P,UNSAFE_useRouteId:()=>s.Yi,UNSAFE_useScrollRestoration:()=>re,createBrowserRouter:()=>w,createHashRouter:()=>S,createMemoryRouter:()=>s.bi,createPath:()=>l.Ep,createRoutesFromChildren:()=>s.is,createRoutesFromElements:()=>s.i7,createSearchParams:()=>f,defer:()=>l.PQ,generatePath:()=>l.Gn,isRouteErrorResponse:()=>l.WK,json:()=>l.AV,matchPath:()=>l.LX,matchRoutes:()=>l.fp,parsePath:()=>l.cP,redirect:()=>l.uX,redirectDocument:()=>l.fZ,renderMatches:()=>s.Oe,resolvePath:()=>l.i3,unstable_HistoryRouter:()=>L,unstable_usePrompt:()=>oe,unstable_useViewTransitionState:()=>ae,useActionData:()=>s.nA,useAsyncError:()=>s.iG,useAsyncValue:()=>s.qv,useBeforeUnload:()=>ie,useBlocker:()=>s._Z,useFetcher:()=>Q,useFetchers:()=>ee,useFormAction:()=>J,useHref:()=>s.oQ,useInRouterContext:()=>s.GV,useLinkClickHandler:()=>Z,useLoaderData:()=>s.f_,useLocation:()=>s.TH,useMatch:()=>s.bS,useMatches:()=>s.SN,useNavigate:()=>s.s0,useNavigation:()=>s.HJ,useNavigationType:()=>s.ur,useOutlet:()=>s.pC,useOutletContext:()=>s.bx,useParams:()=>s.UO,useResolvedPath:()=>s.WU,useRevalidator:()=>s.xW,useRouteError:()=>s.lk,useRouteLoaderData:()=>s.V4,useRoutes:()=>s.V$,useSearchParams:()=>K,useSubmit:()=>$});var o=n(2791),a=n(4164),s=n(7689),l=n(8278);function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function c(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}const p="get",h="application/x-www-form-urlencoded";function d(e){return null!=e&&"string"===typeof e.tagName}function f(e){return void 0===e&&(e=""),new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce(((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map((e=>[n,e])):[[n,r]])}),[]))}let m=null;const y=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function v(e){return null==e||y.has(e)?e:null}function g(e,t){let n,r,i,o,a;if(d(s=e)&&"form"===s.tagName.toLowerCase()){let a=e.getAttribute("action");r=a?(0,l.Zn)(a,t):null,n=e.getAttribute("method")||p,i=v(e.getAttribute("enctype"))||h,o=new FormData(e)}else if(function(e){return d(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return d(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let a=e.form;if(null==a)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let s=e.getAttribute("formaction")||a.getAttribute("action");if(r=s?(0,l.Zn)(s,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||p,i=v(e.getAttribute("formenctype"))||v(a.getAttribute("enctype"))||h,o=new FormData(a,e),!function(){if(null===m)try{new FormData(document.createElement("form"),0),m=!1}catch(e){m=!0}return m}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?t+".":"";o.append(e+"x","0"),o.append(e+"y","0")}else t&&o.append(t,r)}}else{if(d(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=p,r=null,i=h,a=e}var s;return o&&"text/plain"===i&&(a=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:a}}const _=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],x=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],b=["fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","unstable_viewTransition"];function w(e,t){return(0,l.p7)({basename:null==t?void 0:t.basename,future:u({},null==t?void 0:t.future,{v7_prependBasename:!0}),history:(0,l.lX)({window:null==t?void 0:t.window}),hydrationData:(null==t?void 0:t.hydrationData)||E(),routes:e,mapRouteProperties:s.us,window:null==t?void 0:t.window}).initialize()}function S(e,t){return(0,l.p7)({basename:null==t?void 0:t.basename,future:u({},null==t?void 0:t.future,{v7_prependBasename:!0}),history:(0,l.q_)({window:null==t?void 0:t.window}),hydrationData:(null==t?void 0:t.hydrationData)||E(),routes:e,mapRouteProperties:s.us,window:null==t?void 0:t.window}).initialize()}function E(){var e;let t=null==(e=window)?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=u({},t,{errors:T(t.errors)})),t}function T(e){if(!e)return null;let t=Object.entries(e),n={};for(let[i,o]of t)if(o&&"RouteErrorResponse"===o.__type)n[i]=new l.OF(o.status,o.statusText,o.data,!0===o.internal);else if(o&&"Error"===o.__type){if(o.__subType){let e=window[o.__subType];if("function"===typeof e)try{let t=new e(o.message);t.stack="",n[i]=t}catch(r){}}if(null==n[i]){let e=new Error(o.message);e.stack="",n[i]=e}}else n[i]=o;return n}const P=o.createContext({isTransitioning:!1});const C=o.createContext(new Map);const k=(r||(r=n.t(o,2))).startTransition,A=(i||(i=n.t(a,2))).flushSync;function I(e){A?A(e):e()}class O{constructor(){this.status="pending",this.promise=new Promise(((e,t)=>{this.resolve=t=>{"pending"===this.status&&(this.status="resolved",e(t))},this.reject=e=>{"pending"===this.status&&(this.status="rejected",t(e))}}))}}function D(e){let{fallbackElement:t,router:n,future:r}=e,[i,a]=o.useState(n.state),[l,u]=o.useState(),[c,p]=o.useState({isTransitioning:!1}),[h,d]=o.useState(),[f,m]=o.useState(),[y,v]=o.useState(),g=o.useRef(new Map),{v7_startTransition:_}=r||{},x=o.useCallback((e=>{_?function(e){k?k(e):e()}(e):e()}),[_]),b=o.useCallback(((e,t)=>{let{deletedFetchers:r,unstable_flushSync:i,unstable_viewTransitionOpts:o}=t;r.forEach((e=>g.current.delete(e))),e.fetchers.forEach(((e,t)=>{void 0!==e.data&&g.current.set(t,e.data)}));let s=null==n.window||"function"!==typeof n.window.document.startViewTransition;if(o&&!s){if(i){I((()=>{f&&(h&&h.resolve(),f.skipTransition()),p({isTransitioning:!0,flushSync:!0,currentLocation:o.currentLocation,nextLocation:o.nextLocation})}));let t=n.window.document.startViewTransition((()=>{I((()=>a(e)))}));return t.finished.finally((()=>{I((()=>{d(void 0),m(void 0),u(void 0),p({isTransitioning:!1})}))})),void I((()=>m(t)))}f?(h&&h.resolve(),f.skipTransition(),v({state:e,currentLocation:o.currentLocation,nextLocation:o.nextLocation})):(u(e),p({isTransitioning:!0,flushSync:!1,currentLocation:o.currentLocation,nextLocation:o.nextLocation}))}else i?I((()=>a(e))):x((()=>a(e)))}),[n.window,f,h,g,x]);o.useLayoutEffect((()=>n.subscribe(b)),[n,b]),o.useEffect((()=>{c.isTransitioning&&!c.flushSync&&d(new O)}),[c]),o.useEffect((()=>{if(h&&l&&n.window){let e=l,t=h.promise,r=n.window.document.startViewTransition((async()=>{x((()=>a(e))),await t}));r.finished.finally((()=>{d(void 0),m(void 0),u(void 0),p({isTransitioning:!1})})),m(r)}}),[x,l,h,n.window]),o.useEffect((()=>{h&&l&&i.location.key===l.location.key&&h.resolve()}),[h,f,i.location,l]),o.useEffect((()=>{!c.isTransitioning&&y&&(u(y.state),p({isTransitioning:!0,flushSync:!1,currentLocation:y.currentLocation,nextLocation:y.nextLocation}),v(void 0))}),[c.isTransitioning,y]),o.useEffect((()=>{}),[]);let w=o.useMemo((()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:e=>n.navigate(e),push:(e,t,r)=>n.navigate(e,{state:t,preventScrollReset:null==r?void 0:r.preventScrollReset}),replace:(e,t,r)=>n.navigate(e,{replace:!0,state:t,preventScrollReset:null==r?void 0:r.preventScrollReset})})),[n]),S=n.basename||"/",E=o.useMemo((()=>({router:n,navigator:w,static:!1,basename:S})),[n,w,S]);return o.createElement(o.Fragment,null,o.createElement(s.w3.Provider,{value:E},o.createElement(s.FR.Provider,{value:i},o.createElement(C.Provider,{value:g.current},o.createElement(P.Provider,{value:c},o.createElement(s.F0,{basename:S,location:i.location,navigationType:i.historyAction,navigator:w,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},i.initialized||n.future.v7_partialHydration?o.createElement(M,{routes:n.routes,future:n.future,state:i}):t))))),null)}function M(e){let{routes:t,future:n,state:r}=e;return(0,s.DY)(t,void 0,r,n)}function j(e){let{basename:t,children:n,future:r,window:i}=e,a=o.useRef();null==a.current&&(a.current=(0,l.lX)({window:i,v5Compat:!0}));let u=a.current,[c,p]=o.useState({action:u.action,location:u.location}),{v7_startTransition:h}=r||{},d=o.useCallback((e=>{h&&k?k((()=>p(e))):p(e)}),[p,h]);return o.useLayoutEffect((()=>u.listen(d)),[u,d]),o.createElement(s.F0,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:u,future:r})}function R(e){let{basename:t,children:n,future:r,window:i}=e,a=o.useRef();null==a.current&&(a.current=(0,l.q_)({window:i,v5Compat:!0}));let u=a.current,[c,p]=o.useState({action:u.action,location:u.location}),{v7_startTransition:h}=r||{},d=o.useCallback((e=>{h&&k?k((()=>p(e))):p(e)}),[p,h]);return o.useLayoutEffect((()=>u.listen(d)),[u,d]),o.createElement(s.F0,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:u,future:r})}function L(e){let{basename:t,children:n,future:r,history:i}=e,[a,l]=o.useState({action:i.action,location:i.location}),{v7_startTransition:u}=r||{},c=o.useCallback((e=>{u&&k?k((()=>l(e))):l(e)}),[l,u]);return o.useLayoutEffect((()=>i.listen(c)),[i,c]),o.createElement(s.F0,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:i,future:r})}const z="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,N=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,B=o.forwardRef((function(e,t){let n,{onClick:r,relative:i,reloadDocument:a,replace:p,state:h,target:d,to:f,preventScrollReset:m,unstable_viewTransition:y}=e,v=c(e,_),{basename:g}=o.useContext(s.Us),x=!1;if("string"===typeof f&&N.test(f)&&(n=f,z))try{let e=new URL(window.location.href),t=f.startsWith("//")?new URL(e.protocol+f):new URL(f),n=(0,l.Zn)(t.pathname,g);t.origin===e.origin&&null!=n?f=n+t.search+t.hash:x=!0}catch(S){}let b=(0,s.oQ)(f,{relative:i}),w=Z(f,{replace:p,state:h,target:d,preventScrollReset:m,relative:i,unstable_viewTransition:y});return o.createElement("a",u({},v,{href:n||b,onClick:x||a?r:function(e){r&&r(e),e.defaultPrevented||w(e)},ref:t,target:d}))}));const F=o.forwardRef((function(e,t){let{"aria-current":n="page",caseSensitive:r=!1,className:i="",end:a=!1,style:l,to:p,unstable_viewTransition:h,children:d}=e,f=c(e,x),m=(0,s.WU)(p,{relative:f.relative}),y=(0,s.TH)(),v=o.useContext(s.FR),{navigator:g}=o.useContext(s.Us),_=null!=v&&ae(m)&&!0===h,b=g.encodeLocation?g.encodeLocation(m).pathname:m.pathname,w=y.pathname,S=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;r||(w=w.toLowerCase(),S=S?S.toLowerCase():null,b=b.toLowerCase());const E="/"!==b&&b.endsWith("/")?b.length-1:b.length;let T,P=w===b||!a&&w.startsWith(b)&&"/"===w.charAt(E),C=null!=S&&(S===b||!a&&S.startsWith(b)&&"/"===S.charAt(b.length)),k={isActive:P,isPending:C,isTransitioning:_},A=P?n:void 0;T="function"===typeof i?i(k):[i,P?"active":null,C?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let I="function"===typeof l?l(k):l;return o.createElement(B,u({},f,{"aria-current":A,className:T,ref:t,style:I,to:p,unstable_viewTransition:h}),"function"===typeof d?d(k):d)}));const U=o.forwardRef(((e,t)=>{let{fetcherKey:n,navigate:r,reloadDocument:i,replace:a,state:s,method:l=p,action:h,onSubmit:d,relative:f,preventScrollReset:m,unstable_viewTransition:y}=e,v=c(e,b),g=$(),_=J(h,{relative:f}),x="get"===l.toLowerCase()?"get":"post";return o.createElement("form",u({ref:t,method:x,action:_,onSubmit:i?d:e=>{if(d&&d(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,i=(null==t?void 0:t.getAttribute("formmethod"))||l;g(t||e.currentTarget,{fetcherKey:n,method:i,navigate:r,replace:a,state:s,relative:f,preventScrollReset:m,unstable_viewTransition:y})}},v))}));function V(e){let{getKey:t,storageKey:n}=e;return re({getKey:t,storageKey:n}),null}var q,W;function H(e){let t=o.useContext(s.w3);return t||(0,l.J0)(!1),t}function G(e){let t=o.useContext(s.FR);return t||(0,l.J0)(!1),t}function Z(e,t){let{target:n,replace:r,state:i,preventScrollReset:a,relative:u,unstable_viewTransition:c}=void 0===t?{}:t,p=(0,s.s0)(),h=(0,s.TH)(),d=(0,s.WU)(e,{relative:u});return o.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:(0,l.Ep)(h)===(0,l.Ep)(d);p(e,{replace:n,state:i,preventScrollReset:a,relative:u,unstable_viewTransition:c})}}),[h,p,d,r,i,n,e,a,u,c])}function K(e){let t=o.useRef(f(e)),n=o.useRef(!1),r=(0,s.TH)(),i=o.useMemo((()=>function(e,t){let n=f(e);return t&&t.forEach(((e,r)=>{n.has(r)||t.getAll(r).forEach((e=>{n.append(r,e)}))})),n}(r.search,n.current?null:t.current)),[r.search]),a=(0,s.s0)(),l=o.useCallback(((e,t)=>{const r=f("function"===typeof e?e(i):e);n.current=!0,a("?"+r,t)}),[a,i]);return[i,l]}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(q||(q={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(W||(W={}));let X=0,Y=()=>"__"+String(++X)+"__";function $(){let{router:e}=H(q.UseSubmit),{basename:t}=o.useContext(s.Us),n=(0,s.Yi)();return o.useCallback((function(r,i){void 0===i&&(i={}),function(){if("undefined"===typeof document)throw new Error("You are calling submit during the server render. Try calling submit within a `useEffect` or callback instead.")}();let{action:o,method:a,encType:s,formData:l,body:u}=g(r,t);if(!1===i.navigate){let t=i.fetcherKey||Y();e.fetch(t,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||a,formEncType:i.encType||s,unstable_flushSync:i.unstable_flushSync})}else e.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||a,formEncType:i.encType||s,replace:i.replace,state:i.state,fromRouteId:n,unstable_flushSync:i.unstable_flushSync,unstable_viewTransition:i.unstable_viewTransition})}),[e,t,n])}function J(e,t){let{relative:n}=void 0===t?{}:t,{basename:r}=o.useContext(s.Us),i=o.useContext(s.pW);i||(0,l.J0)(!1);let[a]=i.matches.slice(-1),c=u({},(0,s.WU)(e||".",{relative:n})),p=(0,s.TH)();if(null==e){c.search=p.search;let e=new URLSearchParams(c.search);e.has("index")&&""===e.get("index")&&(e.delete("index"),c.search=e.toString()?"?"+e.toString():"")}return e&&"."!==e||!a.route.index||(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),"/"!==r&&(c.pathname="/"===c.pathname?r:(0,l.RQ)([r,c.pathname])),(0,l.Ep)(c)}function Q(e){var t;let{key:n}=void 0===e?{}:e,{router:r}=H(q.UseFetcher),i=G(W.UseFetcher),a=o.useContext(C),c=o.useContext(s.pW),p=null==(t=c.matches[c.matches.length-1])?void 0:t.route.id;a||(0,l.J0)(!1),c||(0,l.J0)(!1),null==p&&(0,l.J0)(!1);let[h,d]=o.useState(n||"");n&&n!==h?d(n):h||d(Y()),o.useEffect((()=>(r.getFetcher(h),()=>{r.deleteFetcher(h)})),[r,h]);let f=o.useCallback(((e,t)=>{p||(0,l.J0)(!1),r.fetch(h,p,e,t)}),[h,p,r]),m=$(),y=o.useCallback(((e,t)=>{m(e,u({},t,{navigate:!1,fetcherKey:h}))}),[h,m]),v=o.useMemo((()=>o.forwardRef(((e,t)=>o.createElement(U,u({},e,{navigate:!1,fetcherKey:h,ref:t}))))),[h]),g=i.fetchers.get(h)||l.ov,_=a.get(h);return o.useMemo((()=>u({Form:v,submit:y,load:f},g,{data:_})),[v,y,f,g,_])}function ee(){let e=G(W.UseFetchers);return Array.from(e.fetchers.entries()).map((e=>{let[t,n]=e;return u({},n,{key:t})}))}const te="react-router-scroll-positions";let ne={};function re(e){let{getKey:t,storageKey:n}=void 0===e?{}:e,{router:r}=H(q.UseScrollRestoration),{restoreScrollPosition:i,preventScrollReset:a}=G(W.UseScrollRestoration),{basename:c}=o.useContext(s.Us),p=(0,s.TH)(),h=(0,s.SN)(),d=(0,s.HJ)();o.useEffect((()=>(window.history.scrollRestoration="manual",()=>{window.history.scrollRestoration="auto"})),[]),function(e,t){let{capture:n}=t||{};o.useEffect((()=>{let t=null!=n?{capture:n}:void 0;return window.addEventListener("pagehide",e,t),()=>{window.removeEventListener("pagehide",e,t)}}),[e,n])}(o.useCallback((()=>{if("idle"===d.state){let e=(t?t(p,h):null)||p.key;ne[e]=window.scrollY}try{sessionStorage.setItem(n||te,JSON.stringify(ne))}catch(e){}window.history.scrollRestoration="auto"}),[n,t,d.state,p,h])),"undefined"!==typeof document&&(o.useLayoutEffect((()=>{try{let e=sessionStorage.getItem(n||te);e&&(ne=JSON.parse(e))}catch(e){}}),[n]),o.useLayoutEffect((()=>{let e=t&&"/"!==c?(e,n)=>t(u({},e,{pathname:(0,l.Zn)(e.pathname,c)||e.pathname}),n):t,n=null==r?void 0:r.enableScrollRestoration(ne,(()=>window.scrollY),e);return()=>n&&n()}),[r,c,t]),o.useLayoutEffect((()=>{if(!1!==i)if("number"!==typeof i){if(p.hash){let e=document.getElementById(decodeURIComponent(p.hash.slice(1)));if(e)return void e.scrollIntoView()}!0!==a&&window.scrollTo(0,0)}else window.scrollTo(0,i)}),[p,i,a]))}function ie(e,t){let{capture:n}=t||{};o.useEffect((()=>{let t=null!=n?{capture:n}:void 0;return window.addEventListener("beforeunload",e,t),()=>{window.removeEventListener("beforeunload",e,t)}}),[e,n])}function oe(e){let{when:t,message:n}=e,r=(0,s._Z)(t);o.useEffect((()=>{if("blocked"===r.state){window.confirm(n)?setTimeout(r.proceed,0):r.reset()}}),[r,n]),o.useEffect((()=>{"blocked"!==r.state||t||r.reset()}),[r,t])}function ae(e,t){void 0===t&&(t={});let n=o.useContext(P);null==n&&(0,l.J0)(!1);let{basename:r}=H(q.useViewTransitionState),i=(0,s.WU)(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=(0,l.Zn)(n.currentLocation.pathname,r)||n.currentLocation.pathname,u=(0,l.Zn)(n.nextLocation.pathname,r)||n.nextLocation.pathname;return null!=(0,l.LX)(i.pathname,u)||null!=(0,l.LX)(i.pathname,a)}},7689:(e,t,n)=>{"use strict";var r;n.d(t,{AW:()=>te,DY:()=>C,F0:()=>ne,FR:()=>l,Fg:()=>Q,GV:()=>m,HJ:()=>B,KP:()=>ie,Oe:()=>ce,SN:()=>U,TH:()=>y,UO:()=>E,Us:()=>c,V$:()=>P,V4:()=>q,VA:()=>J,WU:()=>T,Yi:()=>N,Z5:()=>re,_Z:()=>X,bS:()=>g,bi:()=>he,bx:()=>w,f_:()=>V,gd:()=>p,i7:()=>ue,iG:()=>Z,is:()=>ue,j3:()=>ee,lk:()=>H,nA:()=>W,oQ:()=>f,pC:()=>S,pW:()=>h,qv:()=>G,s0:()=>x,ur:()=>v,us:()=>pe,w3:()=>s,xW:()=>F});var i=n(2791),o=n(8278);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}const s=i.createContext(null);const l=i.createContext(null);const u=i.createContext(null);const c=i.createContext(null);const p=i.createContext(null);const h=i.createContext({outlet:null,matches:[],isDataRoute:!1});const d=i.createContext(null);function f(e,t){let{relative:n}=void 0===t?{}:t;m()||(0,o.J0)(!1);let{basename:r,navigator:a}=i.useContext(c),{hash:s,pathname:l,search:u}=T(e,{relative:n}),p=l;return"/"!==r&&(p="/"===l?r:(0,o.RQ)([r,l])),a.createHref({pathname:p,search:u,hash:s})}function m(){return null!=i.useContext(p)}function y(){return m()||(0,o.J0)(!1),i.useContext(p).location}function v(){return i.useContext(p).navigationType}function g(e){m()||(0,o.J0)(!1);let{pathname:t}=y();return i.useMemo((()=>(0,o.LX)(e,t)),[t,e])}function _(e){i.useContext(c).static||i.useLayoutEffect(e)}function x(){let{isDataRoute:e}=i.useContext(h);return e?function(){let{router:e}=R(M.UseNavigateStable),t=z(j.UseNavigateStable),n=i.useRef(!1);return _((()=>{n.current=!0})),i.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,a({fromRouteId:t},i)))}),[e,t])}():function(){m()||(0,o.J0)(!1);let e=i.useContext(s),{basename:t,future:n,navigator:r}=i.useContext(c),{matches:a}=i.useContext(h),{pathname:l}=y(),u=JSON.stringify((0,o.cm)(a,n.v7_relativeSplatPath)),p=i.useRef(!1);return _((()=>{p.current=!0})),i.useCallback((function(n,i){if(void 0===i&&(i={}),!p.current)return;if("number"===typeof n)return void r.go(n);let a=(0,o.pC)(n,JSON.parse(u),l,"path"===i.relative);null==e&&"/"!==t&&(a.pathname="/"===a.pathname?t:(0,o.RQ)([t,a.pathname])),(i.replace?r.replace:r.push)(a,i.state,i)}),[t,r,u,l,e])}()}const b=i.createContext(null);function w(){return i.useContext(b)}function S(e){let t=i.useContext(h).outlet;return t?i.createElement(b.Provider,{value:e},t):t}function E(){let{matches:e}=i.useContext(h),t=e[e.length-1];return t?t.params:{}}function T(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=i.useContext(c),{matches:a}=i.useContext(h),{pathname:s}=y(),l=JSON.stringify((0,o.cm)(a,r.v7_relativeSplatPath));return i.useMemo((()=>(0,o.pC)(e,JSON.parse(l),s,"path"===n)),[e,l,s,n])}function P(e,t){return C(e,t)}function C(e,t,n,r){m()||(0,o.J0)(!1);let{navigator:s}=i.useContext(c),{matches:l}=i.useContext(h),u=l[l.length-1],d=u?u.params:{},f=(u&&u.pathname,u?u.pathnameBase:"/");u&&u.route;let v,g=y();if(t){var _;let e="string"===typeof t?(0,o.cP)(t):t;"/"===f||(null==(_=e.pathname)?void 0:_.startsWith(f))||(0,o.J0)(!1),v=e}else v=g;let x=v.pathname||"/",b="/"===f?x:x.slice(f.length)||"/",w=(0,o.fp)(e,{pathname:b});let S=D(w&&w.map((e=>Object.assign({},e,{params:Object.assign({},d,e.params),pathname:(0,o.RQ)([f,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?f:(0,o.RQ)([f,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),l,n,r);return t&&S?i.createElement(p.Provider,{value:{location:a({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:o.aU.Pop}},S):S}function k(){let e=H(),t=(0,o.WK)(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:a},n):null,null)}const A=i.createElement(k,null);class I extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(h.Provider,{value:this.props.routeContext},i.createElement(d.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function O(e){let{routeContext:t,match:n,children:r}=e,o=i.useContext(s);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(h.Provider,{value:t},r)}function D(e,t,n,r){var a;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var s;if(null==(s=n)||!s.errors)return null;e=n.matches}let l=e,u=null==(a=n)?void 0:a.errors;if(null!=u){let e=l.findIndex((e=>e.route.id&&(null==u?void 0:u[e.route.id])));e>=0||(0,o.J0)(!1),l=l.slice(0,Math.min(l.length,e+1))}let c=!1,p=-1;if(n&&r&&r.v7_partialHydration)for(let i=0;i<l.length;i++){let e=l[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(p=i),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){c=!0,l=p>=0?l.slice(0,p+1):[l[0]];break}}}return l.reduceRight(((e,r,o)=>{let a,s=!1,h=null,d=null;var f;n&&(a=u&&r.route.id?u[r.route.id]:void 0,h=r.route.errorElement||A,c&&(p<0&&0===o?(f="route-fallback",!1||Y[f]||(Y[f]=!0),s=!0,d=null):p===o&&(s=!0,d=r.route.hydrateFallbackElement||null)));let m=t.concat(l.slice(0,o+1)),y=()=>{let t;return t=a?h:s?d:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(O,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===o)?i.createElement(I,{location:n.location,revalidation:n.revalidation,component:h,error:a,children:y(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):y()}),null)}var M=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(M||{}),j=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(j||{});function R(e){let t=i.useContext(s);return t||(0,o.J0)(!1),t}function L(e){let t=i.useContext(l);return t||(0,o.J0)(!1),t}function z(e){let t=function(e){let t=i.useContext(h);return t||(0,o.J0)(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||(0,o.J0)(!1),n.route.id}function N(){return z(j.UseRouteId)}function B(){return L(j.UseNavigation).navigation}function F(){let e=R(M.UseRevalidator),t=L(j.UseRevalidator);return i.useMemo((()=>({revalidate:e.router.revalidate,state:t.revalidation})),[e.router.revalidate,t.revalidation])}function U(){let{matches:e,loaderData:t}=L(j.UseMatches);return i.useMemo((()=>e.map((e=>(0,o.WS)(e,t)))),[e,t])}function V(){let e=L(j.UseLoaderData),t=z(j.UseLoaderData);if(!e.errors||null==e.errors[t])return e.loaderData[t];console.error("You cannot `useLoaderData` in an errorElement (routeId: "+t+")")}function q(e){return L(j.UseRouteLoaderData).loaderData[e]}function W(){let e=L(j.UseActionData),t=z(j.UseLoaderData);return e.actionData?e.actionData[t]:void 0}function H(){var e;let t=i.useContext(d),n=L(j.UseRouteError),r=z(j.UseRouteError);return void 0!==t?t:null==(e=n.errors)?void 0:e[r]}function G(){let e=i.useContext(u);return null==e?void 0:e._data}function Z(){let e=i.useContext(u);return null==e?void 0:e._error}let K=0;function X(e){let{router:t,basename:n}=R(M.UseBlocker),r=L(j.UseBlocker),[s,l]=i.useState(""),u=i.useCallback((t=>{if("function"!==typeof e)return!!e;if("/"===n)return e(t);let{currentLocation:r,nextLocation:i,historyAction:s}=t;return e({currentLocation:a({},r,{pathname:(0,o.Zn)(r.pathname,n)||r.pathname}),nextLocation:a({},i,{pathname:(0,o.Zn)(i.pathname,n)||i.pathname}),historyAction:s})}),[n,e]);return i.useEffect((()=>{let e=String(++K);return l(e),()=>t.deleteBlocker(e)}),[t]),i.useEffect((()=>{""!==s&&t.getBlocker(s,u)}),[t,s,u]),s&&r.blockers.has(s)?r.blockers.get(s):o.qp}const Y={};const $=(r||(r=n.t(i,2))).startTransition;function J(e){let{basename:t,children:n,initialEntries:r,initialIndex:a,future:s}=e,l=i.useRef();null==l.current&&(l.current=(0,o.PP)({initialEntries:r,initialIndex:a,v5Compat:!0}));let u=l.current,[c,p]=i.useState({action:u.action,location:u.location}),{v7_startTransition:h}=s||{},d=i.useCallback((e=>{h&&$?$((()=>p(e))):p(e)}),[p,h]);return i.useLayoutEffect((()=>u.listen(d)),[u,d]),i.createElement(ne,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:u,future:s})}function Q(e){let{to:t,replace:n,state:r,relative:a}=e;m()||(0,o.J0)(!1);let{future:s,static:l}=i.useContext(c),{matches:u}=i.useContext(h),{pathname:p}=y(),d=x(),f=(0,o.pC)(t,(0,o.cm)(u,s.v7_relativeSplatPath),p,"path"===a),v=JSON.stringify(f);return i.useEffect((()=>d(JSON.parse(v),{replace:n,state:r,relative:a})),[d,v,a,n,r]),null}function ee(e){return S(e.context)}function te(e){(0,o.J0)(!1)}function ne(e){let{basename:t="/",children:n=null,location:r,navigationType:s=o.aU.Pop,navigator:l,static:u=!1,future:h}=e;m()&&(0,o.J0)(!1);let d=t.replace(/^\/*/,"/"),f=i.useMemo((()=>({basename:d,navigator:l,static:u,future:a({v7_relativeSplatPath:!1},h)})),[d,h,l,u]);"string"===typeof r&&(r=(0,o.cP)(r));let{pathname:y="/",search:v="",hash:g="",state:_=null,key:x="default"}=r,b=i.useMemo((()=>{let e=(0,o.Zn)(y,d);return null==e?null:{location:{pathname:e,search:v,hash:g,state:_,key:x},navigationType:s}}),[d,y,v,g,_,x,s]);return null==b?null:i.createElement(c.Provider,{value:f},i.createElement(p.Provider,{children:n,value:b}))}function re(e){let{children:t,location:n}=e;return P(ue(t),n)}function ie(e){let{children:t,errorElement:n,resolve:r}=e;return i.createElement(se,{resolve:r,errorElement:n},i.createElement(le,null,t))}var oe=function(e){return e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error",e}(oe||{});const ae=new Promise((()=>{}));class se extends i.Component{constructor(e){super(e),this.state={error:null}}static getDerivedStateFromError(e){return{error:e}}componentDidCatch(e,t){console.error("<Await> caught the following error during render",e,t)}render(){let{children:e,errorElement:t,resolve:n}=this.props,r=null,a=oe.pending;if(n instanceof Promise)if(this.state.error){a=oe.error;let e=this.state.error;r=Promise.reject().catch((()=>{})),Object.defineProperty(r,"_tracked",{get:()=>!0}),Object.defineProperty(r,"_error",{get:()=>e})}else n._tracked?(r=n,a=void 0!==r._error?oe.error:void 0!==r._data?oe.success:oe.pending):(a=oe.pending,Object.defineProperty(n,"_tracked",{get:()=>!0}),r=n.then((e=>Object.defineProperty(n,"_data",{get:()=>e})),(e=>Object.defineProperty(n,"_error",{get:()=>e}))));else a=oe.success,r=Promise.resolve(),Object.defineProperty(r,"_tracked",{get:()=>!0}),Object.defineProperty(r,"_data",{get:()=>n});if(a===oe.error&&r._error instanceof o.X3)throw ae;if(a===oe.error&&!t)throw r._error;if(a===oe.error)return i.createElement(u.Provider,{value:r,children:t});if(a===oe.success)return i.createElement(u.Provider,{value:r,children:e});throw r}}function le(e){let{children:t}=e,n=G(),r="function"===typeof t?t(n):t;return i.createElement(i.Fragment,null,r)}function ue(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,((e,r)=>{if(!i.isValidElement(e))return;let a=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,ue(e.props.children,a));e.type!==te&&(0,o.J0)(!1),e.props.index&&e.props.children&&(0,o.J0)(!1);let s={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=ue(e.props.children,a)),n.push(s)})),n}function ce(e){return D(e)}function pe(e){let t={hasErrorBoundary:null!=e.ErrorBoundary||null!=e.errorElement};return e.Component&&Object.assign(t,{element:i.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:i.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:i.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}function he(e,t){return(0,o.p7)({basename:null==t?void 0:t.basename,future:a({},null==t?void 0:t.future,{v7_prependBasename:!0}),history:(0,o.PP)({initialEntries:null==t?void 0:t.initialEntries,initialIndex:null==t?void 0:t.initialIndex}),hydrationData:null==t?void 0:t.hydrationData,routes:e,mapRouteProperties:pe}).initialize()}},3491:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var a=i.apply(null,n);a&&e.push(a)}}else if("object"===o)if(n.toString===Object.prototype.toString)for(var s in n)r.call(n,s)&&n[s]&&e.push(s);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},4796:(e,t,n)=>{var r=n(3139),i=n(6009);e.exports=function(e){if(r(e))return e;throw TypeError(i(e)+" is not a function")}},4038:(e,t,n)=>{"use strict";var r=n(6516).charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},4685:(e,t,n)=>{var r=n(9806);e.exports=function(e){if(r(e))return e;throw TypeError(String(e)+" is not an object")}},7093:(e,t,n)=>{var r=n(4125),i=n(9035),o=n(1575),a=function(e){return function(t,n,a){var s,l=r(t),u=o(l),c=i(a,u);if(e&&n!=n){for(;u>c;)if((s=l[c++])!=s)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===n)return e||c||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},3723:e=>{var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},9447:(e,t,n)=>{var r=n(7846),i=n(3139),o=n(3723),a=n(6027)("toStringTag"),s="Arguments"==o(function(){return arguments}());e.exports=r?o:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(n){}}(t=Object(e),a))?n:s?o(t):"Object"==(r=o(t))&&i(t.callee)?"Arguments":r}},996:(e,t,n)=>{var r=n(7708),i=n(3509),o=n(2568),a=n(8817);e.exports=function(e,t){for(var n=i(t),s=a.f,l=o.f,u=0;u<n.length;u++){var c=n[u];r(e,c)||s(e,c,l(t,c))}}},4341:(e,t,n)=>{var r=n(7207),i=n(8817),o=n(4793);e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},4793:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},7207:(e,t,n)=>{var r=n(3207);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},8755:(e,t,n)=>{var r=n(8357),i=n(9806),o=r.document,a=i(o)&&i(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},3352:(e,t,n)=>{var r=n(8351);e.exports=r("navigator","userAgent")||""},2845:(e,t,n)=>{var r,i,o=n(8357),a=n(3352),s=o.process,l=o.Deno,u=s&&s.versions||l&&l.version,c=u&&u.v8;c?i=(r=c.split("."))[0]<4?1:r[0]+r[1]:a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(i=r[1]),e.exports=i&&+i},5920:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},9215:(e,t,n)=>{var r=n(8357),i=n(2568).f,o=n(4341),a=n(3562),s=n(4691),l=n(996),u=n(7908);e.exports=function(e,t){var n,c,p,h,d,f=e.target,m=e.global,y=e.stat;if(n=m?r:y?r[f]||s(f,{}):(r[f]||{}).prototype)for(c in t){if(h=t[c],p=e.noTargetGet?(d=i(n,c))&&d.value:n[c],!u(m?c:f+(y?".":"#")+c,e.forced)&&void 0!==p){if(typeof h===typeof p)continue;l(h,p)}(e.sham||p&&p.sham)&&o(h,"sham",!0),a(n,c,h,e)}}},3207:e=>{e.exports=function(e){try{return!!e()}catch(t){return!0}}},5809:(e,t,n)=>{"use strict";n(8931);var r=n(3562),i=n(9915),o=n(3207),a=n(6027),s=n(4341),l=a("species"),u=RegExp.prototype;e.exports=function(e,t,n,c){var p=a(e),h=!o((function(){var t={};return t[p]=function(){return 7},7!=""[e](t)})),d=h&&!o((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[l]=function(){return n},n.flags="",n[p]=/./[p]),n.exec=function(){return t=!0,null},n[p](""),!t}));if(!h||!d||n){var f=/./[p],m=t(p,""[e],(function(e,t,n,r,o){var a=t.exec;return a===i||a===u.exec?h&&!o?{done:!0,value:f.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}));r(String.prototype,e,m[0]),r(u,p,m[1])}c&&s(u[p],"sham",!0)}},2520:(e,t,n)=>{var r=n(7207),i=n(7708),o=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,s=i(o,"name"),l=s&&"something"===function(){}.name,u=s&&(!r||r&&a(o,"name").configurable);e.exports={EXISTS:s,PROPER:l,CONFIGURABLE:u}},8351:(e,t,n)=>{var r=n(8357),i=n(3139);e.exports=function(e,t){return arguments.length<2?(n=r[e],i(n)?n:void 0):r[e]&&r[e][t];var n}},5645:(e,t,n)=>{var r=n(4796);e.exports=function(e,t){var n=e[t];return null==n?void 0:r(n)}},744:(e,t,n)=>{var r=n(5120),i=Math.floor,o="".replace,a=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,s=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,l,u,c){var p=n+e.length,h=l.length,d=s;return void 0!==u&&(u=r(u),d=a),o.call(c,d,(function(r,o){var a;switch(o.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,n);case"'":return t.slice(p);case"<":a=u[o.slice(1,-1)];break;default:var s=+o;if(0===s)return r;if(s>h){var c=i(s/10);return 0===c?r:c<=h?void 0===l[c-1]?o.charAt(1):l[c-1]+o.charAt(1):r}a=l[s-1]}return void 0===a?"":a}))}},8357:(e,t,n)=>{var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},7708:(e,t,n)=>{var r=n(5120),i={}.hasOwnProperty;e.exports=Object.hasOwn||function(e,t){return i.call(r(e),t)}},679:e=>{e.exports={}},662:(e,t,n)=>{var r=n(8351);e.exports=r("document","documentElement")},1096:(e,t,n)=>{var r=n(7207),i=n(3207),o=n(8755);e.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},5522:(e,t,n)=>{var r=n(3207),i=n(3723),o="".split;e.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?o.call(e,""):Object(e)}:Object},1520:(e,t,n)=>{var r=n(3139),i=n(3526),o=Function.toString;r(i.inspectSource)||(i.inspectSource=function(e){return o.call(e)}),e.exports=i.inspectSource},9858:(e,t,n)=>{var r,i,o,a=n(3585),s=n(8357),l=n(9806),u=n(4341),c=n(7708),p=n(3526),h=n(9555),d=n(679),f="Object already initialized",m=s.WeakMap;if(a||p.state){var y=p.state||(p.state=new m),v=y.get,g=y.has,_=y.set;r=function(e,t){if(g.call(y,e))throw new TypeError(f);return t.facade=e,_.call(y,e,t),t},i=function(e){return v.call(y,e)||{}},o=function(e){return g.call(y,e)}}else{var x=h("state");d[x]=!0,r=function(e,t){if(c(e,x))throw new TypeError(f);return t.facade=e,u(e,x,t),t},i=function(e){return c(e,x)?e[x]:{}},o=function(e){return c(e,x)}}e.exports={set:r,get:i,has:o,enforce:function(e){return o(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!l(t)||(n=i(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},3139:e=>{e.exports=function(e){return"function"===typeof e}},7908:(e,t,n)=>{var r=n(3207),i=n(3139),o=/#|\.prototype\./,a=function(e,t){var n=l[s(e)];return n==c||n!=u&&(i(t)?r(t):!!t)},s=a.normalize=function(e){return String(e).replace(o,".").toLowerCase()},l=a.data={},u=a.NATIVE="N",c=a.POLYFILL="P";e.exports=a},9806:(e,t,n)=>{var r=n(3139);e.exports=function(e){return"object"===typeof e?null!==e:r(e)}},7246:e=>{e.exports=!1},6767:(e,t,n)=>{var r=n(3139),i=n(8351),o=n(7570);e.exports=o?function(e){return"symbol"==typeof e}:function(e){var t=i("Symbol");return r(t)&&Object(e)instanceof t}},1575:(e,t,n)=>{var r=n(7937);e.exports=function(e){return r(e.length)}},604:(e,t,n)=>{var r=n(2845),i=n(3207);e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},3585:(e,t,n)=>{var r=n(8357),i=n(3139),o=n(1520),a=r.WeakMap;e.exports=i(a)&&/native code/.test(o(a))},725:(e,t,n)=>{var r,i=n(4685),o=n(6500),a=n(5920),s=n(679),l=n(662),u=n(8755),c=n(9555),p="prototype",h="script",d=c("IE_PROTO"),f=function(){},m=function(e){return"<"+h+">"+e+"</"+h+">"},y=function(e){e.write(m("")),e.close();var t=e.parentWindow.Object;return e=null,t},v=function(){try{r=new ActiveXObject("htmlfile")}catch(t){}v="undefined"!=typeof document?document.domain&&r?y(r):function(){var e,t=u("iframe"),n="java"+h+":";return t.style.display="none",l.appendChild(t),t.src=String(n),(e=t.contentWindow.document).open(),e.write(m("document.F=Object")),e.close(),e.F}():y(r);for(var e=a.length;e--;)delete v[p][a[e]];return v()};s[d]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(f[p]=i(e),n=new f,f[p]=null,n[d]=e):n=v(),void 0===t?n:o(n,t)}},6500:(e,t,n)=>{var r=n(7207),i=n(8817),o=n(4685),a=n(8024);e.exports=r?Object.defineProperties:function(e,t){o(e);for(var n,r=a(t),s=r.length,l=0;s>l;)i.f(e,n=r[l++],t[n]);return e}},8817:(e,t,n)=>{var r=n(7207),i=n(1096),o=n(4685),a=n(1600),s=Object.defineProperty;t.f=r?s:function(e,t,n){if(o(e),t=a(t),o(n),i)try{return s(e,t,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},2568:(e,t,n)=>{var r=n(7207),i=n(3506),o=n(4793),a=n(4125),s=n(1600),l=n(7708),u=n(1096),c=Object.getOwnPropertyDescriptor;t.f=r?c:function(e,t){if(e=a(e),t=s(t),u)try{return c(e,t)}catch(n){}if(l(e,t))return o(!i.f.call(e,t),e[t])}},1918:(e,t,n)=>{var r=n(324),i=n(5920).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},4593:(e,t)=>{t.f=Object.getOwnPropertySymbols},324:(e,t,n)=>{var r=n(7708),i=n(4125),o=n(7093).indexOf,a=n(679);e.exports=function(e,t){var n,s=i(e),l=0,u=[];for(n in s)!r(a,n)&&r(s,n)&&u.push(n);for(;t.length>l;)r(s,n=t[l++])&&(~o(u,n)||u.push(n));return u}},8024:(e,t,n)=>{var r=n(324),i=n(5920);e.exports=Object.keys||function(e){return r(e,i)}},3506:(e,t)=>{"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);t.f=i?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},501:(e,t,n)=>{var r=n(3139),i=n(9806);e.exports=function(e,t){var n,o;if("string"===t&&r(n=e.toString)&&!i(o=n.call(e)))return o;if(r(n=e.valueOf)&&!i(o=n.call(e)))return o;if("string"!==t&&r(n=e.toString)&&!i(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},3509:(e,t,n)=>{var r=n(8351),i=n(1918),o=n(4593),a=n(4685);e.exports=r("Reflect","ownKeys")||function(e){var t=i.f(a(e)),n=o.f;return n?t.concat(n(e)):t}},3562:(e,t,n)=>{var r=n(8357),i=n(3139),o=n(7708),a=n(4341),s=n(4691),l=n(1520),u=n(9858),c=n(2520).CONFIGURABLE,p=u.get,h=u.enforce,d=String(String).split("String");(e.exports=function(e,t,n,l){var u,p=!!l&&!!l.unsafe,f=!!l&&!!l.enumerable,m=!!l&&!!l.noTargetGet,y=l&&void 0!==l.name?l.name:t;i(n)&&("Symbol("===String(y).slice(0,7)&&(y="["+String(y).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!o(n,"name")||c&&n.name!==y)&&a(n,"name",y),(u=h(n)).source||(u.source=d.join("string"==typeof y?y:""))),e!==r?(p?!m&&e[t]&&(f=!0):delete e[t],f?e[t]=n:a(e,t,n)):f?e[t]=n:s(t,n)})(Function.prototype,"toString",(function(){return i(this)&&p(this).source||l(this)}))},2927:(e,t,n)=>{var r=n(4685),i=n(3139),o=n(3723),a=n(9915);e.exports=function(e,t){var n=e.exec;if(i(n)){var s=n.call(e,t);return null!==s&&r(s),s}if("RegExp"===o(e))return a.call(e,t);throw TypeError("RegExp#exec called on incompatible receiver")}},9915:(e,t,n)=>{"use strict";var r=n(1391),i=n(4166),o=n(6489),a=n(5274),s=n(725),l=n(9858).get,u=n(6280),c=n(4552),p=RegExp.prototype.exec,h=a("native-string-replace",String.prototype.replace),d=p,f=function(){var e=/a/,t=/b*/g;return p.call(e,"a"),p.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),m=o.UNSUPPORTED_Y||o.BROKEN_CARET,y=void 0!==/()??/.exec("")[1];(f||y||m||u||c)&&(d=function(e){var t,n,o,a,u,c,v,g=this,_=l(g),x=r(e),b=_.raw;if(b)return b.lastIndex=g.lastIndex,t=d.call(b,x),g.lastIndex=b.lastIndex,t;var w=_.groups,S=m&&g.sticky,E=i.call(g),T=g.source,P=0,C=x;if(S&&(-1===(E=E.replace("y","")).indexOf("g")&&(E+="g"),C=x.slice(g.lastIndex),g.lastIndex>0&&(!g.multiline||g.multiline&&"\n"!==x.charAt(g.lastIndex-1))&&(T="(?: "+T+")",C=" "+C,P++),n=new RegExp("^(?:"+T+")",E)),y&&(n=new RegExp("^"+T+"$(?!\\s)",E)),f&&(o=g.lastIndex),a=p.call(S?n:g,C),S?a?(a.input=a.input.slice(P),a[0]=a[0].slice(P),a.index=g.lastIndex,g.lastIndex+=a[0].length):g.lastIndex=0:f&&a&&(g.lastIndex=g.global?a.index+a[0].length:o),y&&a&&a.length>1&&h.call(a[0],n,(function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(a[u]=void 0)})),a&&w)for(a.groups=c=s(null),u=0;u<w.length;u++)c[(v=w[u])[0]]=a[v[1]];return a}),e.exports=d},4166:(e,t,n)=>{"use strict";var r=n(4685);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},6489:(e,t,n)=>{var r=n(3207),i=n(8357).RegExp;t.UNSUPPORTED_Y=r((function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=r((function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},6280:(e,t,n)=>{var r=n(3207),i=n(8357).RegExp;e.exports=r((function(){var e=i(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},4552:(e,t,n)=>{var r=n(3207),i=n(8357).RegExp;e.exports=r((function(){var e=i("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},6523:e=>{e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on "+e);return e}},4691:(e,t,n)=>{var r=n(8357);e.exports=function(e,t){try{Object.defineProperty(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},9555:(e,t,n)=>{var r=n(5274),i=n(1764),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},3526:(e,t,n)=>{var r=n(8357),i=n(4691),o="__core-js_shared__",a=r[o]||i(o,{});e.exports=a},5274:(e,t,n)=>{var r=n(7246),i=n(3526);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.18.3",mode:r?"pure":"global",copyright:"\xa9 2021 Denis Pushkarev (zloirock.ru)"})},6516:(e,t,n)=>{var r=n(2374),i=n(1391),o=n(6523),a=function(e){return function(t,n){var a,s,l=i(o(t)),u=r(n),c=l.length;return u<0||u>=c?e?"":void 0:(a=l.charCodeAt(u))<55296||a>56319||u+1===c||(s=l.charCodeAt(u+1))<56320||s>57343?e?l.charAt(u):a:e?l.slice(u,u+2):s-56320+(a-55296<<10)+65536}};e.exports={codeAt:a(!1),charAt:a(!0)}},9035:(e,t,n)=>{var r=n(2374),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},4125:(e,t,n)=>{var r=n(5522),i=n(6523);e.exports=function(e){return r(i(e))}},2374:e=>{var t=Math.ceil,n=Math.floor;e.exports=function(e){var r=+e;return r!==r||0===r?0:(r>0?n:t)(r)}},7937:(e,t,n)=>{var r=n(2374),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},5120:(e,t,n)=>{var r=n(6523);e.exports=function(e){return Object(r(e))}},4462:(e,t,n)=>{var r=n(9806),i=n(6767),o=n(5645),a=n(501),s=n(6027)("toPrimitive");e.exports=function(e,t){if(!r(e)||i(e))return e;var n,l=o(e,s);if(l){if(void 0===t&&(t="default"),n=l.call(e,t),!r(n)||i(n))return n;throw TypeError("Can't convert object to primitive value")}return void 0===t&&(t="number"),a(e,t)}},1600:(e,t,n)=>{var r=n(4462),i=n(6767);e.exports=function(e){var t=r(e,"string");return i(t)?t:String(t)}},7846:(e,t,n)=>{var r={};r[n(6027)("toStringTag")]="z",e.exports="[object z]"===String(r)},1391:(e,t,n)=>{var r=n(9447);e.exports=function(e){if("Symbol"===r(e))throw TypeError("Cannot convert a Symbol value to a string");return String(e)}},6009:e=>{e.exports=function(e){try{return String(e)}catch(t){return"Object"}}},1764:e=>{var t=0,n=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++t+n).toString(36)}},7570:(e,t,n)=>{var r=n(604);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},6027:(e,t,n)=>{var r=n(8357),i=n(5274),o=n(7708),a=n(1764),s=n(604),l=n(7570),u=i("wks"),c=r.Symbol,p=l?c:c&&c.withoutSetter||a;e.exports=function(e){return o(u,e)&&(s||"string"==typeof u[e])||(s&&o(c,e)?u[e]=c[e]:u[e]=p("Symbol."+e)),u[e]}},8931:(e,t,n)=>{"use strict";var r=n(9215),i=n(9915);r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},6628:(e,t,n)=>{"use strict";var r=n(5809),i=n(3207),o=n(4685),a=n(3139),s=n(2374),l=n(7937),u=n(1391),c=n(6523),p=n(4038),h=n(5645),d=n(744),f=n(2927),m=n(6027)("replace"),y=Math.max,v=Math.min,g="$0"==="a".replace(/./,"$0"),_=!!/./[m]&&""===/./[m]("a","$0");r("replace",(function(e,t,n){var r=_?"$":"$0";return[function(e,n){var r=c(this),i=void 0==e?void 0:h(e,m);return i?i.call(e,r,n):t.call(u(r),e,n)},function(e,i){var c=o(this),h=u(e);if("string"===typeof i&&-1===i.indexOf(r)&&-1===i.indexOf("$<")){var m=n(t,c,h,i);if(m.done)return m.value}var g=a(i);g||(i=u(i));var _=c.global;if(_){var x=c.unicode;c.lastIndex=0}for(var b=[];;){var w=f(c,h);if(null===w)break;if(b.push(w),!_)break;""===u(w[0])&&(c.lastIndex=p(h,l(c.lastIndex),x))}for(var S,E="",T=0,P=0;P<b.length;P++){w=b[P];for(var C=u(w[0]),k=y(v(s(w.index),h.length),0),A=[],I=1;I<w.length;I++)A.push(void 0===(S=w[I])?S:String(S));var O=w.groups;if(g){var D=[C].concat(A,k,h);void 0!==O&&D.push(O);var M=u(i.apply(void 0,D))}else M=d(C,h,k,A,O,i);k>=T&&(E+=h.slice(T,k)+M,T=k+C.length)}return E+h.slice(T)}]}),!!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!g||_)},7261:(e,t,n)=>{"use strict";var r=n(5141);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},2980:(e,t,n)=>{e.exports=n(7261)()},5141:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},6374:(e,t,n)=>{"use strict";var r=n(2791),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,o={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:c,props:o,_owner:s.current}}t.Fragment=o,t.jsx=u,t.jsxs=u},9117:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,y={};function v(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||f}function g(){}function _(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||f}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=v.prototype;var x=_.prototype=new g;x.constructor=_,m(x,v.prototype),x.isPureReactComponent=!0;var b=Array.isArray,w=Object.prototype.hasOwnProperty,S={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)w.call(t,i)&&!E.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:S.current}}function P(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function k(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===o?"."+k(l,0):o,b(a)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),A(a,t,i,"",(function(e){return e}))):null!=a&&(P(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(C,"$&/")+"/")+e)),t.push(a)),1;if(l=0,o=""===o?".":o+":",b(e))for(var u=0;u<e.length;u++){var c=o+k(s=e[u],u);l+=A(s,t,i,c,a)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(s=e.next()).done;)l+=A(s=s.value,t,i,c=o+k(s,u++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function I(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},M={transition:null},j={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:M,ReactCurrentOwner:S};t.Children={map:I,forEach:function(e,t,n){I(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return I(e,(function(){t++})),t},toArray:function(e){return I(e,(function(e){return e}))||[]},only:function(e){if(!P(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=_,t.StrictMode=o,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=S.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)w.call(t,u)&&!E.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=P,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:p,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=M.transition;M.transition={};try{e()}finally{M.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.2.0"},2791:(e,t,n)=>{"use strict";e.exports=n(9117)},184:(e,t,n)=>{"use strict";e.exports=n(6374)},3315:(e,t,n)=>{"use strict";t.__esModule=!0,t.default=function(e){var t=(0,i.default)(e);return{getItem:function(e){return new Promise((function(n,r){n(t.getItem(e))}))},setItem:function(e,n){return new Promise((function(r,i){r(t.setItem(e,n))}))},removeItem:function(e){return new Promise((function(n,r){n(t.removeItem(e))}))}}};var r,i=(r=n(2900))&&r.__esModule?r:{default:r}},2900:(e,t)=>{"use strict";function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(){}t.__esModule=!0,t.default=function(e){var t="".concat(e,"Storage");return function(e){if("object"!==("undefined"===typeof self?"undefined":n(self))||!(e in self))return!1;try{var t=self[e],r="redux-persist ".concat(e," test");t.setItem(r,"test"),t.getItem(r),t.removeItem(r)}catch(i){return!1}return!0}(t)?self[t]:i};var i={getItem:r,setItem:r,removeItem:r}},5752:(e,t,n)=>{"use strict";var r;t.Z=void 0;var i=(0,((r=n(3315))&&r.__esModule?r:{default:r}).default)("local");t.Z=i},6813:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(0>o(l,n))u<i&&0>o(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[s]=n,r=s);else{if(!(u<i&&0>o(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],p=1,h=null,d=3,f=!1,m=!1,y=!1,v="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,_="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function b(e){if(y=!1,x(e),!m)if(null!==r(u))m=!0,M(w);else{var t=r(c);null!==t&&j(b,t.startTime-e)}}function w(e,n){m=!1,y&&(y=!1,g(P),P=-1),f=!0;var o=d;try{for(x(n),h=r(u);null!==h&&(!(h.expirationTime>n)||e&&!A());){var a=h.callback;if("function"===typeof a){h.callback=null,d=h.priorityLevel;var s=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(u)&&i(u),x(n)}else i(u);h=r(u)}if(null!==h)var l=!0;else{var p=r(c);null!==p&&j(b,p.startTime-n),l=!1}return l}finally{h=null,d=o,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,E=!1,T=null,P=-1,C=5,k=-1;function A(){return!(t.unstable_now()-k<C)}function I(){if(null!==T){var e=t.unstable_now();k=e;var n=!0;try{n=T(!0,e)}finally{n?S():(E=!1,T=null)}}else E=!1}if("function"===typeof _)S=function(){_(I)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,D=O.port2;O.port1.onmessage=I,S=function(){D.postMessage(null)}}else S=function(){v(I,0)};function M(e){T=e,E||(E=!0,S())}function j(e,n){P=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,M(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:p++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(c,e),null===r(u)&&e===r(c)&&(y?(g(P),P=-1):y=!0,j(b,o-a))):(e.sortIndex=s,n(u,e),m||f||(m=!0,M(w))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},5296:(e,t,n)=>{"use strict";e.exports=n(6813)},8637:(e,t,n)=>{"use strict";var r=n(2791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=r.useSyncExternalStore,a=r.useRef,s=r.useEffect,l=r.useMemo,u=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,c){var p=a(null);if(null===p.current){var h={hasValue:!1,value:null};p.current=h}else h=p.current;p=l((function(){function e(e){if(!s){if(s=!0,o=e,e=r(e),void 0!==c&&h.hasValue){var t=h.value;if(c(t,e))return a=t}return a=e}if(t=a,i(o,e))return t;var n=r(e);return void 0!==c&&c(t,n)?t:(o=e,a=n)}var o,a,s=!1,l=void 0===n?null:n;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]}),[t,n,r,c]);var d=o(e,p[0],p[1]);return s((function(){h.hasValue=!0,h.value=d}),[d]),u(d),d}},7995:(e,t,n)=>{"use strict";e.exports=n(8637)},5510:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0});var i={};t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=o?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(i,a,l):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(n(7678)),a=n(123);function s(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,"state",void 0),u(this,"props",void 0),this.state=o.getInitialState(),this.props=o.getInitialProps(t),this.handleSwipeStart=this.handleSwipeStart.bind(this),this.handleSwipeMove=this.handleSwipeMove.bind(this),this.handleSwipeEnd=this.handleSwipeEnd.bind(this),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.handleMouseLeave=this.handleMouseLeave.bind(this)}var t,n,r;return t=e,n=[{key:"init",value:function(){this.setupTouchListeners(),this.setupMouseListeners()}},{key:"update",value:function(e){var t=this.props,n=Object.assign({},t,e);if(t.element!==n.element||t.target!==n.target)return this.destroy(),this.props=n,void this.init();this.props=n,t.mouseTrackingEnabled===n.mouseTrackingEnabled&&t.preventTrackingOnMouseleave===n.preventTrackingOnMouseleave||(this.cleanupMouseListeners(),n.mouseTrackingEnabled?this.setupMouseListeners():this.cleanupMouseListeners()),t.touchTrackingEnabled!==n.touchTrackingEnabled&&(this.cleanupTouchListeners(),n.touchTrackingEnabled?this.setupTouchListeners():this.cleanupTouchListeners())}},{key:"destroy",value:function(){this.cleanupMouseListeners(),this.cleanupTouchListeners(),this.state=o.getInitialState(),this.props=o.getInitialProps()}},{key:"setupTouchListeners",value:function(){var e=this.props,t=e.element,n=e.target,r=e.touchTrackingEnabled;if(t&&r){var i=n||t,a=o.checkIsPassiveSupported(),s=o.getOptions(a);i.addEventListener("touchstart",this.handleSwipeStart,s),i.addEventListener("touchmove",this.handleSwipeMove,s),i.addEventListener("touchend",this.handleSwipeEnd,s)}}},{key:"cleanupTouchListeners",value:function(){var e=this.props,t=e.element,n=e.target||t;n&&(n.removeEventListener("touchstart",this.handleSwipeStart),n.removeEventListener("touchmove",this.handleSwipeMove),n.removeEventListener("touchend",this.handleSwipeEnd))}},{key:"setupMouseListeners",value:function(){var e=this.props,t=e.element,n=e.mouseTrackingEnabled,r=e.preventTrackingOnMouseleave;n&&t&&(t.addEventListener("mousedown",this.handleMouseDown),t.addEventListener("mousemove",this.handleMouseMove),t.addEventListener("mouseup",this.handleMouseUp),r&&t.addEventListener("mouseleave",this.handleMouseLeave))}},{key:"cleanupMouseListeners",value:function(){var e=this.props.element;e&&(e.removeEventListener("mousedown",this.handleMouseDown),e.removeEventListener("mousemove",this.handleMouseMove),e.removeEventListener("mouseup",this.handleMouseUp),e.removeEventListener("mouseleave",this.handleMouseLeave))}},{key:"getEventData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{directionDelta:0},n=this.props.rotationAngle,r=t.directionDelta,i=o.calculateMovingPosition(e),a=o.rotateByAngle(i,n);return o.calculatePosition(this.state,{rotatePosition:a,directionDelta:r})}},{key:"handleSwipeStart",value:function(e){if(!o.checkIsMoreThanSingleTouches(e)){var t=this.props.rotationAngle,n=o.calculateMovingPosition(e),r=o.rotateByAngle(n,t),i=r.x,a=r.y;this.state=o.getInitialState({isSwiping:!1,start:Date.now(),x:i,y:a})}}},{key:"handleSwipeMove",value:function(e){var t=this.state,n=t.x,r=t.y,i=t.isSwiping;if(n&&r&&!o.checkIsMoreThanSingleTouches(e)){var a=this.props.directionDelta||0,s=this.getEventData(e,{directionDelta:a}),l=s.absX,u=s.absY,c=s.deltaX,p=s.deltaY,h=s.directionX,d=s.directionY,f=s.duration,m=s.velocity,y=this.props,v=y.delta,g=y.preventDefaultTouchmoveEvent,_=y.onSwipeStart,x=y.onSwiping;e.cancelable&&g&&e.preventDefault(),l<Number(v)&&u<Number(v)&&!i||(_&&!i&&_(e,{deltaX:c,deltaY:p,absX:l,absY:u,directionX:h,directionY:d,duration:f,velocity:m}),this.state.isSwiping=!0,x&&x(e,{deltaX:c,deltaY:p,absX:l,absY:u,directionX:h,directionY:d,duration:f,velocity:m}))}}},{key:"handleSwipeEnd",value:function(e){var t=this.props,n=t.onSwiped,r=t.onTap;if(this.state.isSwiping){var i=this.props.directionDelta||0,a=this.getEventData(e,{directionDelta:i});n&&n(e,a)}else{var s=this.getEventData(e);r&&r(e,s)}this.state=o.getInitialState()}},{key:"handleMouseDown",value:function(e){var t=this.props.target;t?t===e.target&&this.handleSwipeStart(e):this.handleSwipeStart(e)}},{key:"handleMouseMove",value:function(e){this.handleSwipeMove(e)}},{key:"handleMouseUp",value:function(e){var t=this.state.isSwiping,n=this.props.target;n?(n===e.target||t)&&this.handleSwipeEnd(e):this.handleSwipeEnd(e)}},{key:"handleMouseLeave",value:function(e){this.state.isSwiping&&this.handleSwipeEnd(e)}}],r=[{key:"isTouchEventsSupported",value:function(){return o.checkIsTouchEventsSupported()}}],n&&l(t.prototype,n),r&&l(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.default=c},123:(e,t)=>{"use strict";var n,r,i;Object.defineProperty(t,"__esModule",{value:!0}),t.TraceDirectionKey=t.Direction=t.Axis=void 0,t.TraceDirectionKey=n,function(e){e.NEGATIVE="NEGATIVE",e.POSITIVE="POSITIVE",e.NONE="NONE"}(n||(t.TraceDirectionKey=n={})),t.Direction=r,function(e){e.TOP="TOP",e.LEFT="LEFT",e.RIGHT="RIGHT",e.BOTTOM="BOTTOM",e.NONE="NONE"}(r||(t.Direction=r={})),t.Axis=i,function(e){e.X="x",e.Y="y"}(i||(t.Axis=i={}))},6634:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateDirection=function(e){var t,n=r.TraceDirectionKey.NEGATIVE,i=r.TraceDirectionKey.POSITIVE,o=e[e.length-1],a=e[e.length-2]||0;if(e.every((function(e){return 0===e})))return r.TraceDirectionKey.NONE;t=o>a?i:n,0===o&&(t=a<0?i:n);return t};var r=n(123)},3876:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateDirectionDelta=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e.length-1,o=r.TraceDirectionKey.NONE;n>=0;n--){var a=e[n],s=(0,i.getDirectionKey)(a),l=(0,i.getDirectionValue)(a[s]),u=e[n-1]||{},c=(0,i.getDirectionKey)(u),p=(0,i.getDirectionValue)(u[c]);if((0,i.getDifference)(l,p)>=t){o=s;break}o=c}return o};var r=n(123),i=n(6536)},1695:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateDuration=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e?t-e:0}},3159:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateMovingPosition=function(e){if("changedTouches"in e){var t=e.changedTouches&&e.changedTouches[0];return{x:t&&t.clientX,y:t&&t.clientY}}return{x:e.clientX,y:e.clientY}}},579:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculatePosition=function(e,t){var n=e.start,l=e.x,u=e.y,c=e.traceX,p=e.traceY,h=t.rotatePosition,d=t.directionDelta,f=h.x-l,m=u-h.y,y=Math.abs(f),v=Math.abs(m);(0,r.updateTrace)(c,f),(0,r.updateTrace)(p,m);var g=(0,i.resolveDirection)(c,s.Axis.X,d),_=(0,i.resolveDirection)(p,s.Axis.Y,d),x=(0,o.calculateDuration)(n,Date.now()),b=(0,a.calculateVelocity)(y,v,x);return{absX:y,absY:v,deltaX:f,deltaY:m,directionX:g,directionY:_,duration:x,positionX:h.x,positionY:h.y,velocity:b}};var r=n(4935),i=n(9408),o=n(1695),a=n(6284),s=n(123)},5243:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateTraceDirections=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[],n=r.TraceDirectionKey.POSITIVE,o=r.TraceDirectionKey.NEGATIVE,a=0,s=[],l=r.TraceDirectionKey.NONE;a<e.length;a++){var u=e[a],c=e[a-1];if(s.length){var p=u>c?n:o;l===r.TraceDirectionKey.NONE&&(l=p),p===l?s.push(u):(t.push(i({},l,s.slice())),(s=[]).push(u),l=p)}else 0!==u&&(l=u>0?n:o),s.push(u)}s.length&&t.push(i({},l,s));return t};var r=n(123);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},6284:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateVelocity=function(e,t,n){return Math.sqrt(e*e+t*t)/(n||1)}},8234:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkIsMoreThanSingleTouches=void 0;t.checkIsMoreThanSingleTouches=function(e){return Boolean(e.touches&&e.touches.length>1)}},3058:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkIsPassiveSupported=function(e){if("boolean"===typeof e)return e;var t={isPassiveSupported:e};try{var n=(0,r.createOptions)(t);window.addEventListener("checkIsPassiveSupported",i,n),window.removeEventListener("checkIsPassiveSupported",i,n)}catch(o){}return t.isPassiveSupported},t.noop=void 0;var r=n(4720);var i=function(){};t.noop=i},7215:(e,t)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.checkIsTouchEventsSupported=void 0;t.checkIsTouchEventsSupported=function(){return"object"===("undefined"===typeof window?"undefined":n(window))&&("ontouchstart"in window||Boolean(window.navigator.maxTouchPoints))}},6536:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveAxisDirection=t.getDirectionValue=t.getDirectionKey=t.getDifference=void 0;var r=n(123);t.getDirectionKey=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};switch(Object.keys(e).toString()){case r.TraceDirectionKey.POSITIVE:return r.TraceDirectionKey.POSITIVE;case r.TraceDirectionKey.NEGATIVE:return r.TraceDirectionKey.NEGATIVE;default:return r.TraceDirectionKey.NONE}};t.getDirectionValue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e[e.length-1]||0};t.getDifference=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Math.abs(e-t)};t.resolveAxisDirection=function(e,t){var n=r.Direction.LEFT,i=r.Direction.RIGHT,o=r.Direction.NONE;return e===r.Axis.Y&&(n=r.Direction.BOTTOM,i=r.Direction.TOP),t===r.TraceDirectionKey.NEGATIVE&&(o=n),t===r.TraceDirectionKey.POSITIVE&&(o=i),o}},4720:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createOptions=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.defineProperty(e,"passive",{get:function(){return this.isPassiveSupported=!0,!0},enumerable:!0}),e}},7733:(e,t)=>{"use strict";function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.getInitialProps=void 0;t.getInitialProps=function(){return function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(Object(i),!0).forEach((function(t){r(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({element:null,target:null,delta:10,directionDelta:0,rotationAngle:0,mouseTrackingEnabled:!1,touchTrackingEnabled:!0,preventDefaultTouchmoveEvent:!1,preventTrackingOnMouseleave:!1},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}},1531:(e,t)=>{"use strict";function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.getInitialState=void 0;t.getInitialState=function(){return function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(Object(i),!0).forEach((function(t){r(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({x:0,y:0,start:0,isSwiping:!1,traceX:[],traceY:[]},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}},5862:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOptions=function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0])return{passive:!1};return{}}},7678:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6634);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}}))}));var i=n(3876);Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))}));var o=n(1695);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}));var a=n(3159);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var s=n(579);Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===s[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}}))}));var l=n(5243);Object.keys(l).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===l[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}}))}));var u=n(6284);Object.keys(u).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===u[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}}))}));var c=n(8234);Object.keys(c).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===c[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}}))}));var p=n(3058);Object.keys(p).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===p[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return p[e]}}))}));var h=n(7215);Object.keys(h).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===h[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return h[e]}}))}));var d=n(6536);Object.keys(d).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===d[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return d[e]}}))}));var f=n(4720);Object.keys(f).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===f[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return f[e]}}))}));var m=n(1531);Object.keys(m).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===m[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return m[e]}}))}));var y=n(7733);Object.keys(y).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===y[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return y[e]}}))}));var v=n(5862);Object.keys(v).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===v[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return v[e]}}))}));var g=n(9408);Object.keys(g).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===g[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return g[e]}}))}));var _=n(5987);Object.keys(_).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===_[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return _[e]}}))}));var x=n(4935);Object.keys(x).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===x[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return x[e]}}))}))},9408:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveDirection=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.Axis.X,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(n){var l=(0,i.calculateTraceDirections)(e),u=(0,o.calculateDirectionDelta)(l,n);return(0,a.resolveAxisDirection)(t,u)}var c=(0,r.calculateDirection)(e);return(0,a.resolveAxisDirection)(t,c)};var r=n(6634),i=n(5243),o=n(3876),a=n(6536),s=n(123)},5987:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.rotateByAngle=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(0===t)return e;var n=e.x,r=e.y,i=Math.PI/180*t,o=n*Math.cos(i)+r*Math.sin(i),a=r*Math.cos(i)-n*Math.sin(i);return{x:o,y:a}}},4935:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateTrace=function(e,t){e[e.length-1]!==t&&e.push(t);return e}},2391:e=>{"use strict";var t=function(){};e.exports=t},9437:(e,t,n)=>{"use strict";function r(){return new Worker(n.p+"static/js/mapbox-gl-csp-worker.5420cf1d.worker.js")}n.d(t,{Z:()=>r})},8309:(e,t,n)=>{e.exports=n(5916)},586:(e,t,n)=>{e.exports=n(4877)},9022:(e,t,n)=>{e.exports=n(7457)},4418:(e,t,n)=>{e.exports=n(536)},86:(e,t,n)=>{e.exports=n(3129)},1882:(e,t,n)=>{e.exports=n(5822)},9940:(e,t,n)=>{e.exports=n(7234)},3482:(e,t,n)=>{e.exports=n(2271)},9747:(e,t,n)=>{e.exports=n(290)},6718:(e,t,n)=>{e.exports=n(7043)},2102:(e,t,n)=>{e.exports=n(4887)},6870:(e,t,n)=>{e.exports=n(3668)},222:(e,t,n)=>{e.exports=n(4726)},8222:(e,t,n)=>{e.exports=n(2564)},7293:(e,t,n)=>{e.exports=n(4625)},7198:(e,t,n)=>{e.exports=n(4478)},1418:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=a(e,o(n)))}return e}function o(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=a(t,n));return t}function a(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},5689:(e,t,n)=>{"use strict";var r=n(4830);e.exports=r},9779:(e,t,n)=>{"use strict";var r=n(5916);e.exports=r},5888:(e,t,n)=>{"use strict";var r=n(7228);e.exports=r},1426:(e,t,n)=>{"use strict";var r=n(6486);e.exports=r},6869:(e,t,n)=>{"use strict";var r=n(5376);e.exports=r},495:(e,t,n)=>{"use strict";var r=n(7043);e.exports=r},7646:(e,t,n)=>{"use strict";var r=n(3877);n(2956),n(8290),n(9792),n(3377),e.exports=r},4834:(e,t,n)=>{"use strict";var r=n(2714);e.exports=r},6932:(e,t,n)=>{"use strict";var r=n(6565);e.exports=r},8675:(e,t,n)=>{"use strict";n(512),n(4614);var r=n(6134);e.exports=r.Array.from},3641:(e,t,n)=>{"use strict";n(8575);var r=n(6134);e.exports=r.Array.isArray},3740:(e,t,n)=>{"use strict";n(107);var r=n(7670);e.exports=r("Array","concat")},4445:(e,t,n)=>{"use strict";n(4573);var r=n(7670);e.exports=r("Array","filter")},8022:(e,t,n)=>{"use strict";n(2685);var r=n(7670);e.exports=r("Array","forEach")},3436:(e,t,n)=>{"use strict";n(6105);var r=n(7670);e.exports=r("Array","indexOf")},6455:(e,t,n)=>{"use strict";n(5064);var r=n(7670);e.exports=r("Array","push")},2299:(e,t,n)=>{"use strict";n(8205);var r=n(7670);e.exports=r("Array","slice")},8541:(e,t,n)=>{"use strict";n(7677);var r=n(7670);e.exports=r("Array","splice")},9608:(e,t,n)=>{"use strict";n(9694);var r=n(6134);e.exports=r.Date.now},7599:(e,t,n)=>{"use strict";n(9928),n(512);var r=n(9972);e.exports=r},4751:(e,t,n)=>{"use strict";var r=n(442),i=n(3740),o=Array.prototype;e.exports=function(e){var t=e.concat;return e===o||r(o,e)&&t===o.concat?i:t}},7169:(e,t,n)=>{"use strict";var r=n(442),i=n(4445),o=Array.prototype;e.exports=function(e){var t=e.filter;return e===o||r(o,e)&&t===o.filter?i:t}},5783:(e,t,n)=>{"use strict";var r=n(442),i=n(3436),o=Array.prototype;e.exports=function(e){var t=e.indexOf;return e===o||r(o,e)&&t===o.indexOf?i:t}},4467:(e,t,n)=>{"use strict";var r=n(442),i=n(6455),o=Array.prototype;e.exports=function(e){var t=e.push;return e===o||r(o,e)&&t===o.push?i:t}},690:(e,t,n)=>{"use strict";var r=n(442),i=n(2299),o=Array.prototype;e.exports=function(e){var t=e.slice;return e===o||r(o,e)&&t===o.slice?i:t}},6045:(e,t,n)=>{"use strict";var r=n(442),i=n(8541),o=Array.prototype;e.exports=function(e){var t=e.splice;return e===o||r(o,e)&&t===o.splice?i:t}},542:(e,t,n)=>{"use strict";n(699);var r=n(6134);e.exports=r.Math.sign},1102:(e,t,n)=>{"use strict";n(3196);var r=n(6134).Object,i=e.exports=function(e,t){return r.defineProperties(e,t)};r.defineProperties.sham&&(i.sham=!0)},5:(e,t,n)=>{"use strict";n(8040);var r=n(6134).Object,i=e.exports=function(e,t,n){return r.defineProperty(e,t,n)};r.defineProperty.sham&&(i.sham=!0)},3732:(e,t,n)=>{"use strict";n(1111);var r=n(6134).Object,i=e.exports=function(e,t){return r.getOwnPropertyDescriptor(e,t)};r.getOwnPropertyDescriptor.sham&&(i.sham=!0)},1938:(e,t,n)=>{"use strict";n(4099);var r=n(6134);e.exports=r.Object.getOwnPropertyDescriptors},7347:(e,t,n)=>{"use strict";n(6978);var r=n(6134);e.exports=r.Object.getOwnPropertySymbols},1409:(e,t,n)=>{"use strict";n(2764);var r=n(6134);e.exports=r.Object.keys},1224:(e,t,n)=>{"use strict";n(107),n(9226),n(6978),n(1978),n(2821),n(382),n(3976),n(4361),n(8169),n(4360),n(3066),n(1977),n(7615),n(4119),n(6707),n(8664),n(6387),n(2025),n(2617),n(7973);var r=n(6134);e.exports=r.Symbol},8880:(e,t,n)=>{"use strict";n(9928),n(9226),n(512),n(4361);var r=n(8314);e.exports=r.f("iterator")},7731:(e,t,n)=>{"use strict";n(199),n(6707);var r=n(8314);e.exports=r.f("toPrimitive")},5571:(e,t,n)=>{"use strict";var r=n(5689);e.exports=r},9658:(e,t,n)=>{"use strict";var r=n(9779);e.exports=r},378:(e,t,n)=>{"use strict";var r=n(5888);e.exports=r},2583:(e,t,n)=>{"use strict";var r=n(1426);e.exports=r},6751:(e,t,n)=>{"use strict";var r=n(6869);e.exports=r},2367:(e,t,n)=>{"use strict";var r=n(495);e.exports=r},7226:(e,t,n)=>{"use strict";var r=n(7646);n(4261),n(3992),n(2790),n(3694),n(8744),n(4961),n(3618),n(8345),n(4611),e.exports=r},8977:(e,t,n)=>{"use strict";var r=n(4834);e.exports=r},2945:(e,t,n)=>{"use strict";var r=n(6932);e.exports=r},1580:(e,t,n)=>{"use strict";var r=n(9007),i=n(2934),o=TypeError;e.exports=function(e){if(r(e))return e;throw new o(i(e)+" is not a function")}},5033:(e,t,n)=>{"use strict";var r=n(161),i=String,o=TypeError;e.exports=function(e){if(r(e))return e;throw new o("Can't set "+i(e)+" as a prototype")}},1132:e=>{"use strict";e.exports=function(){}},878:(e,t,n)=>{"use strict";var r=n(9837),i=String,o=TypeError;e.exports=function(e){if(r(e))return e;throw new o(i(e)+" is not an object")}},8245:(e,t,n)=>{"use strict";var r=n(6370).forEach,i=n(8864)("forEach");e.exports=i?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},5760:(e,t,n)=>{"use strict";var r=n(7381),i=n(4547),o=n(7494),a=n(9590),s=n(3342),l=n(176),u=n(8567),c=n(343),p=n(1934),h=n(9972),d=Array;e.exports=function(e){var t=o(e),n=l(this),f=arguments.length,m=f>1?arguments[1]:void 0,y=void 0!==m;y&&(m=r(m,f>2?arguments[2]:void 0));var v,g,_,x,b,w,S=h(t),E=0;if(!S||this===d&&s(S))for(v=u(t),g=n?new this(v):d(v);v>E;E++)w=y?m(t[E],E):t[E],c(g,E,w);else for(b=(x=p(t,S)).next,g=n?new this:[];!(_=i(b,x)).done;E++)w=y?a(x,m,[_.value,E],!0):_.value,c(g,E,w);return g.length=E,g}},4570:(e,t,n)=>{"use strict";var r=n(7133),i=n(1231),o=n(8567),a=function(e){return function(t,n,a){var s,l=r(t),u=o(l),c=i(a,u);if(e&&n!==n){for(;u>c;)if((s=l[c++])!==s)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===n)return e||c||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},6370:(e,t,n)=>{"use strict";var r=n(7381),i=n(2561),o=n(665),a=n(7494),s=n(8567),l=n(275),u=i([].push),c=function(e){var t=1===e,n=2===e,i=3===e,c=4===e,p=6===e,h=7===e,d=5===e||p;return function(f,m,y,v){for(var g,_,x=a(f),b=o(x),w=s(b),S=r(m,y),E=0,T=v||l,P=t?T(f,w):n||h?T(f,0):void 0;w>E;E++)if((d||E in b)&&(_=S(g=b[E],E,x),e))if(t)P[E]=_;else if(_)switch(e){case 3:return!0;case 5:return g;case 6:return E;case 2:u(P,g)}else switch(e){case 4:return!1;case 7:u(P,g)}return p?-1:i||c?c:P}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterReject:c(7)}},8963:(e,t,n)=>{"use strict";var r=n(791),i=n(8062),o=n(9145),a=i("species");e.exports=function(e){return o>=51||!r((function(){var t=[];return(t.constructor={})[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},8864:(e,t,n)=>{"use strict";var r=n(791);e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){return 1},1)}))}},857:(e,t,n)=>{"use strict";var r=n(4307),i=n(2689),o=TypeError,a=Object.getOwnPropertyDescriptor,s=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=s?function(e,t){if(i(e)&&!a(e,"length").writable)throw new o("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},7233:(e,t,n)=>{"use strict";var r=n(2561);e.exports=r([].slice)},2083:(e,t,n)=>{"use strict";var r=n(2689),i=n(176),o=n(9837),a=n(8062)("species"),s=Array;e.exports=function(e){var t;return r(e)&&(t=e.constructor,(i(t)&&(t===s||r(t.prototype))||o(t)&&null===(t=t[a]))&&(t=void 0)),void 0===t?s:t}},275:(e,t,n)=>{"use strict";var r=n(2083);e.exports=function(e,t){return new(r(e))(0===t?0:t)}},9590:(e,t,n)=>{"use strict";var r=n(878),i=n(2998);e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(a){i(e,"throw",a)}}},8091:(e,t,n)=>{"use strict";var r=n(8062)("iterator"),i=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){i=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(s){}e.exports=function(e,t){try{if(!t&&!i)return!1}catch(s){return!1}var n=!1;try{var o={};o[r]=function(){return{next:function(){return{done:n=!0}}}},e(o)}catch(s){}return n}},9322:(e,t,n)=>{"use strict";var r=n(2561),i=r({}.toString),o=r("".slice);e.exports=function(e){return o(i(e),8,-1)}},5971:(e,t,n)=>{"use strict";var r=n(8550),i=n(9007),o=n(9322),a=n(8062)("toStringTag"),s=Object,l="Arguments"===o(function(){return arguments}());e.exports=r?o:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(n){}}(t=s(e),a))?n:l?o(t):"Object"===(r=o(t))&&i(t.callee)?"Arguments":r}},4688:(e,t,n)=>{"use strict";var r=n(791);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},3060:e=>{"use strict";e.exports=function(e,t){return{value:e,done:t}}},5996:(e,t,n)=>{"use strict";var r=n(4307),i=n(2802),o=n(4718);e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},4718:e=>{"use strict";e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},343:(e,t,n)=>{"use strict";var r=n(8130),i=n(2802),o=n(4718);e.exports=function(e,t,n){var a=r(t);a in e?i.f(e,a,o(0,n)):e[a]=n}},8446:(e,t,n)=>{"use strict";var r=n(2802);e.exports=function(e,t,n){return r.f(e,t,n)}},4637:(e,t,n)=>{"use strict";var r=n(5996);e.exports=function(e,t,n,i){return i&&i.enumerable?e[t]=n:r(e,t,n),e}},8727:(e,t,n)=>{"use strict";var r=n(5090),i=Object.defineProperty;e.exports=function(e,t){try{i(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},6299:(e,t,n)=>{"use strict";var r=n(2934),i=TypeError;e.exports=function(e,t){if(!delete e[t])throw new i("Cannot delete property "+r(t)+" of "+r(e))}},4307:(e,t,n)=>{"use strict";var r=n(791);e.exports=!r((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4831:(e,t,n)=>{"use strict";var r=n(5090),i=n(9837),o=r.document,a=i(o)&&i(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},549:e=>{"use strict";var t=TypeError;e.exports=function(e){if(e>9007199254740991)throw t("Maximum allowed index exceeded");return e}},9046:e=>{"use strict";e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},3278:e=>{"use strict";e.exports="function"==typeof Bun&&Bun&&"string"==typeof Bun.version},1062:e=>{"use strict";e.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},9145:(e,t,n)=>{"use strict";var r,i,o=n(5090),a=n(1062),s=o.process,l=o.Deno,u=s&&s.versions||l&&l.version,c=u&&u.v8;c&&(i=(r=c.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(i=+r[1]),e.exports=i},5257:e=>{"use strict";e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},6879:(e,t,n)=>{"use strict";var r=n(5090),i=n(5547),o=n(7470),a=n(9007),s=n(5781).f,l=n(4692),u=n(6134),c=n(7381),p=n(5996),h=n(3700),d=function(e){var t=function(n,r,o){if(this instanceof t){switch(arguments.length){case 0:return new e;case 1:return new e(n);case 2:return new e(n,r)}return new e(n,r,o)}return i(e,this,arguments)};return t.prototype=e.prototype,t};e.exports=function(e,t){var n,i,f,m,y,v,g,_,x,b=e.target,w=e.global,S=e.stat,E=e.proto,T=w?r:S?r[b]:(r[b]||{}).prototype,P=w?u:u[b]||p(u,b,{})[b],C=P.prototype;for(m in t)i=!(n=l(w?m:b+(S?".":"#")+m,e.forced))&&T&&h(T,m),v=P[m],i&&(g=e.dontCallGetSet?(x=s(T,m))&&x.value:T[m]),y=i&&g?g:t[m],i&&typeof v==typeof y||(_=e.bind&&i?c(y,r):e.wrap&&i?d(y):E&&a(y)?o(y):y,(e.sham||y&&y.sham||v&&v.sham)&&p(_,"sham",!0),p(P,m,_),E&&(h(u,f=b+"Prototype")||p(u,f,{}),p(u[f],m,y),e.real&&C&&(n||!C[m])&&p(C,m,y)))}},791:e=>{"use strict";e.exports=function(e){try{return!!e()}catch(t){return!0}}},5547:(e,t,n)=>{"use strict";var r=n(7878),i=Function.prototype,o=i.apply,a=i.call;e.exports="object"==typeof Reflect&&Reflect.apply||(r?a.bind(o):function(){return a.apply(o,arguments)})},7381:(e,t,n)=>{"use strict";var r=n(7470),i=n(1580),o=n(7878),a=r(r.bind);e.exports=function(e,t){return i(e),void 0===t?e:o?a(e,t):function(){return e.apply(t,arguments)}}},7878:(e,t,n)=>{"use strict";var r=n(791);e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},4547:(e,t,n)=>{"use strict";var r=n(7878),i=Function.prototype.call;e.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},7870:(e,t,n)=>{"use strict";var r=n(4307),i=n(3700),o=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,s=i(o,"name"),l=s&&"something"===function(){}.name,u=s&&(!r||r&&a(o,"name").configurable);e.exports={EXISTS:s,PROPER:l,CONFIGURABLE:u}},6044:(e,t,n)=>{"use strict";var r=n(2561),i=n(1580);e.exports=function(e,t,n){try{return r(i(Object.getOwnPropertyDescriptor(e,t)[n]))}catch(o){}}},7470:(e,t,n)=>{"use strict";var r=n(9322),i=n(2561);e.exports=function(e){if("Function"===r(e))return i(e)}},2561:(e,t,n)=>{"use strict";var r=n(7878),i=Function.prototype,o=i.call,a=r&&i.bind.bind(o,o);e.exports=r?a:function(e){return function(){return o.apply(e,arguments)}}},7670:(e,t,n)=>{"use strict";var r=n(5090),i=n(6134);e.exports=function(e,t){var n=i[e+"Prototype"],o=n&&n[t];if(o)return o;var a=r[e],s=a&&a.prototype;return s&&s[t]}},2066:(e,t,n)=>{"use strict";var r=n(6134),i=n(5090),o=n(9007),a=function(e){return o(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?a(r[e])||a(i[e]):r[e]&&r[e][t]||i[e]&&i[e][t]}},9972:(e,t,n)=>{"use strict";var r=n(5971),i=n(2534),o=n(6171),a=n(3734),s=n(8062)("iterator");e.exports=function(e){if(!o(e))return i(e,s)||i(e,"@@iterator")||a[r(e)]}},1934:(e,t,n)=>{"use strict";var r=n(4547),i=n(1580),o=n(878),a=n(2934),s=n(9972),l=TypeError;e.exports=function(e,t){var n=arguments.length<2?s(e):t;if(i(n))return o(r(n,e));throw new l(a(e)+" is not iterable")}},6425:(e,t,n)=>{"use strict";var r=n(2561),i=n(2689),o=n(9007),a=n(9322),s=n(8447),l=r([].push);e.exports=function(e){if(o(e))return e;if(i(e)){for(var t=e.length,n=[],r=0;r<t;r++){var u=e[r];"string"==typeof u?l(n,u):"number"!=typeof u&&"Number"!==a(u)&&"String"!==a(u)||l(n,s(u))}var c=n.length,p=!0;return function(e,t){if(p)return p=!1,t;if(i(this))return t;for(var r=0;r<c;r++)if(n[r]===e)return t}}}},2534:(e,t,n)=>{"use strict";var r=n(1580),i=n(6171);e.exports=function(e,t){var n=e[t];return i(n)?void 0:r(n)}},5090:function(e,t,n){"use strict";var r=function(e){return e&&e.Math===Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||r("object"==typeof this&&this)||function(){return this}()||Function("return this")()},3700:(e,t,n)=>{"use strict";var r=n(2561),i=n(7494),o=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return o(i(e),t)}},7799:e=>{"use strict";e.exports={}},1350:(e,t,n)=>{"use strict";var r=n(2066);e.exports=r("document","documentElement")},1748:(e,t,n)=>{"use strict";var r=n(4307),i=n(791),o=n(4831);e.exports=!r&&!i((function(){return 7!==Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},665:(e,t,n)=>{"use strict";var r=n(2561),i=n(791),o=n(9322),a=Object,s=r("".split);e.exports=i((function(){return!a("z").propertyIsEnumerable(0)}))?function(e){return"String"===o(e)?s(e,""):a(e)}:a},9897:(e,t,n)=>{"use strict";var r=n(2561),i=n(9007),o=n(1713),a=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(e){return a(e)}),e.exports=o.inspectSource},2069:(e,t,n)=>{"use strict";var r,i,o,a=n(7090),s=n(5090),l=n(9837),u=n(5996),c=n(3700),p=n(1713),h=n(4143),d=n(7799),f="Object already initialized",m=s.TypeError,y=s.WeakMap;if(a||p.state){var v=p.state||(p.state=new y);v.get=v.get,v.has=v.has,v.set=v.set,r=function(e,t){if(v.has(e))throw new m(f);return t.facade=e,v.set(e,t),t},i=function(e){return v.get(e)||{}},o=function(e){return v.has(e)}}else{var g=h("state");d[g]=!0,r=function(e,t){if(c(e,g))throw new m(f);return t.facade=e,u(e,g,t),t},i=function(e){return c(e,g)?e[g]:{}},o=function(e){return c(e,g)}}e.exports={set:r,get:i,has:o,enforce:function(e){return o(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!l(t)||(n=i(t)).type!==e)throw new m("Incompatible receiver, "+e+" required");return n}}}},3342:(e,t,n)=>{"use strict";var r=n(8062),i=n(3734),o=r("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||a[o]===e)}},2689:(e,t,n)=>{"use strict";var r=n(9322);e.exports=Array.isArray||function(e){return"Array"===r(e)}},9007:e=>{"use strict";var t="object"==typeof document&&document.all;e.exports="undefined"==typeof t&&void 0!==t?function(e){return"function"==typeof e||e===t}:function(e){return"function"==typeof e}},176:(e,t,n)=>{"use strict";var r=n(2561),i=n(791),o=n(9007),a=n(5971),s=n(2066),l=n(9897),u=function(){},c=[],p=s("Reflect","construct"),h=/^\s*(?:class|function)\b/,d=r(h.exec),f=!h.test(u),m=function(e){if(!o(e))return!1;try{return p(u,c,e),!0}catch(t){return!1}},y=function(e){if(!o(e))return!1;switch(a(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return f||!!d(h,l(e))}catch(t){return!0}};y.sham=!0,e.exports=!p||i((function(){var e;return m(m.call)||!m(Object)||!m((function(){e=!0}))||e}))?y:m},4692:(e,t,n)=>{"use strict";var r=n(791),i=n(9007),o=/#|\.prototype\./,a=function(e,t){var n=l[s(e)];return n===c||n!==u&&(i(t)?r(t):!!t)},s=a.normalize=function(e){return String(e).replace(o,".").toLowerCase()},l=a.data={},u=a.NATIVE="N",c=a.POLYFILL="P";e.exports=a},6171:e=>{"use strict";e.exports=function(e){return null===e||void 0===e}},9837:(e,t,n)=>{"use strict";var r=n(9007);e.exports=function(e){return"object"==typeof e?null!==e:r(e)}},161:(e,t,n)=>{"use strict";var r=n(9837);e.exports=function(e){return r(e)||null===e}},5422:e=>{"use strict";e.exports=!0},5380:(e,t,n)=>{"use strict";var r=n(2066),i=n(9007),o=n(442),a=n(8559),s=Object;e.exports=a?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return i(t)&&o(t.prototype,s(e))}},2998:(e,t,n)=>{"use strict";var r=n(4547),i=n(878),o=n(2534);e.exports=function(e,t,n){var a,s;i(e);try{if(!(a=o(e,"return"))){if("throw"===t)throw n;return n}a=r(a,e)}catch(l){s=!0,a=l}if("throw"===t)throw n;if(s)throw a;return i(a),n}},1839:(e,t,n)=>{"use strict";var r=n(5696).IteratorPrototype,i=n(1637),o=n(4718),a=n(8815),s=n(3734),l=function(){return this};e.exports=function(e,t,n,u){var c=t+" Iterator";return e.prototype=i(r,{next:o(+!u,n)}),a(e,c,!1,!0),s[c]=l,e}},7028:(e,t,n)=>{"use strict";var r=n(6879),i=n(4547),o=n(5422),a=n(7870),s=n(9007),l=n(1839),u=n(2628),c=n(7453),p=n(8815),h=n(5996),d=n(4637),f=n(8062),m=n(3734),y=n(5696),v=a.PROPER,g=a.CONFIGURABLE,_=y.IteratorPrototype,x=y.BUGGY_SAFARI_ITERATORS,b=f("iterator"),w="keys",S="values",E="entries",T=function(){return this};e.exports=function(e,t,n,a,f,y,P){l(n,t,a);var C,k,A,I=function(e){if(e===f&&R)return R;if(!x&&e&&e in M)return M[e];switch(e){case w:case S:case E:return function(){return new n(this,e)}}return function(){return new n(this)}},O=t+" Iterator",D=!1,M=e.prototype,j=M[b]||M["@@iterator"]||f&&M[f],R=!x&&j||I(f),L="Array"===t&&M.entries||j;if(L&&(C=u(L.call(new e)))!==Object.prototype&&C.next&&(o||u(C)===_||(c?c(C,_):s(C[b])||d(C,b,T)),p(C,O,!0,!0),o&&(m[O]=T)),v&&f===S&&j&&j.name!==S&&(!o&&g?h(M,"name",S):(D=!0,R=function(){return i(j,this)})),f)if(k={values:I(S),keys:y?R:I(w),entries:I(E)},P)for(A in k)(x||D||!(A in M))&&d(M,A,k[A]);else r({target:t,proto:!0,forced:x||D},k);return o&&!P||M[b]===R||d(M,b,R,{name:f}),m[t]=R,k}},5696:(e,t,n)=>{"use strict";var r,i,o,a=n(791),s=n(9007),l=n(9837),u=n(1637),c=n(2628),p=n(4637),h=n(8062),d=n(5422),f=h("iterator"),m=!1;[].keys&&("next"in(o=[].keys())?(i=c(c(o)))!==Object.prototype&&(r=i):m=!0),!l(r)||a((function(){var e={};return r[f].call(e)!==e}))?r={}:d&&(r=u(r)),s(r[f])||p(r,f,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:m}},3734:e=>{"use strict";e.exports={}},8567:(e,t,n)=>{"use strict";var r=n(4380);e.exports=function(e){return r(e.length)}},2558:e=>{"use strict";e.exports=Math.sign||function(e){var t=+e;return 0===t||t!==t?t:t<0?-1:1}},3028:e=>{"use strict";var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var r=+e;return(r>0?n:t)(r)}},1637:(e,t,n)=>{"use strict";var r,i=n(878),o=n(7832),a=n(5257),s=n(7799),l=n(1350),u=n(4831),c=n(4143),p="prototype",h="script",d=c("IE_PROTO"),f=function(){},m=function(e){return"<"+h+">"+e+"</"+h+">"},y=function(e){e.write(m("")),e.close();var t=e.parentWindow.Object;return e=null,t},v=function(){try{r=new ActiveXObject("htmlfile")}catch(t){}v="undefined"!=typeof document?document.domain&&r?y(r):function(){var e,t=u("iframe"),n="java"+h+":";return t.style.display="none",l.appendChild(t),t.src=String(n),(e=t.contentWindow.document).open(),e.write(m("document.F=Object")),e.close(),e.F}():y(r);for(var e=a.length;e--;)delete v[p][a[e]];return v()};s[d]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(f[p]=i(e),n=new f,f[p]=null,n[d]=e):n=v(),void 0===t?n:o.f(n,t)}},7832:(e,t,n)=>{"use strict";var r=n(4307),i=n(5590),o=n(2802),a=n(878),s=n(7133),l=n(836);t.f=r&&!i?Object.defineProperties:function(e,t){a(e);for(var n,r=s(t),i=l(t),u=i.length,c=0;u>c;)o.f(e,n=i[c++],r[n]);return e}},2802:(e,t,n)=>{"use strict";var r=n(4307),i=n(1748),o=n(5590),a=n(878),s=n(8130),l=TypeError,u=Object.defineProperty,c=Object.getOwnPropertyDescriptor,p="enumerable",h="configurable",d="writable";t.f=r?o?function(e,t,n){if(a(e),t=s(t),a(n),"function"===typeof e&&"prototype"===t&&"value"in n&&d in n&&!n[d]){var r=c(e,t);r&&r[d]&&(e[t]=n.value,n={configurable:h in n?n[h]:r[h],enumerable:p in n?n[p]:r[p],writable:!1})}return u(e,t,n)}:u:function(e,t,n){if(a(e),t=s(t),a(n),i)try{return u(e,t,n)}catch(r){}if("get"in n||"set"in n)throw new l("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},5781:(e,t,n)=>{"use strict";var r=n(4307),i=n(4547),o=n(496),a=n(4718),s=n(7133),l=n(8130),u=n(3700),c=n(1748),p=Object.getOwnPropertyDescriptor;t.f=r?p:function(e,t){if(e=s(e),t=l(t),c)try{return p(e,t)}catch(n){}if(u(e,t))return a(!i(o.f,e,t),e[t])}},2777:(e,t,n)=>{"use strict";var r=n(9322),i=n(7133),o=n(4542).f,a=n(7233),s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return s&&"Window"===r(e)?function(e){try{return o(e)}catch(t){return a(s)}}(e):o(i(e))}},4542:(e,t,n)=>{"use strict";var r=n(523),i=n(5257).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},3121:(e,t)=>{"use strict";t.f=Object.getOwnPropertySymbols},2628:(e,t,n)=>{"use strict";var r=n(3700),i=n(9007),o=n(7494),a=n(4143),s=n(4688),l=a("IE_PROTO"),u=Object,c=u.prototype;e.exports=s?u.getPrototypeOf:function(e){var t=o(e);if(r(t,l))return t[l];var n=t.constructor;return i(n)&&t instanceof n?n.prototype:t instanceof u?c:null}},442:(e,t,n)=>{"use strict";var r=n(2561);e.exports=r({}.isPrototypeOf)},523:(e,t,n)=>{"use strict";var r=n(2561),i=n(3700),o=n(7133),a=n(4570).indexOf,s=n(7799),l=r([].push);e.exports=function(e,t){var n,r=o(e),u=0,c=[];for(n in r)!i(s,n)&&i(r,n)&&l(c,n);for(;t.length>u;)i(r,n=t[u++])&&(~a(c,n)||l(c,n));return c}},836:(e,t,n)=>{"use strict";var r=n(523),i=n(5257);e.exports=Object.keys||function(e){return r(e,i)}},496:(e,t)=>{"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);t.f=i?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},7453:(e,t,n)=>{"use strict";var r=n(6044),i=n(878),o=n(5033);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=r(Object.prototype,"__proto__","set"))(n,[]),t=n instanceof Array}catch(a){}return function(n,r){return i(n),o(r),t?e(n,r):n.__proto__=r,n}}():void 0)},8578:(e,t,n)=>{"use strict";var r=n(8550),i=n(5971);e.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},6580:(e,t,n)=>{"use strict";var r=n(4547),i=n(9007),o=n(9837),a=TypeError;e.exports=function(e,t){var n,s;if("string"===t&&i(n=e.toString)&&!o(s=r(n,e)))return s;if(i(n=e.valueOf)&&!o(s=r(n,e)))return s;if("string"!==t&&i(n=e.toString)&&!o(s=r(n,e)))return s;throw new a("Can't convert object to primitive value")}},5282:(e,t,n)=>{"use strict";var r=n(2066),i=n(2561),o=n(4542),a=n(3121),s=n(878),l=i([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=o.f(s(e)),n=a.f;return n?l(t,n(e)):t}},6134:e=>{"use strict";e.exports={}},5186:(e,t,n)=>{"use strict";var r=n(6171),i=TypeError;e.exports=function(e){if(r(e))throw new i("Can't call method on "+e);return e}},5677:(e,t,n)=>{"use strict";var r=n(5090),i=n(5547),o=n(9007),a=n(3278),s=n(1062),l=n(7233),u=n(1113),c=r.Function,p=/MSIE .\./.test(s)||a&&function(){var e=r.Bun.version.split(".");return e.length<3||"0"===e[0]&&(e[1]<3||"3"===e[1]&&"0"===e[2])}();e.exports=function(e,t){var n=t?2:1;return p?function(r,a){var s=u(arguments.length,1)>n,p=o(r)?r:c(r),h=s?l(arguments,n):[],d=s?function(){i(p,this,h)}:p;return t?e(d,a):e(d)}:e}},8815:(e,t,n)=>{"use strict";var r=n(8550),i=n(2802).f,o=n(5996),a=n(3700),s=n(8578),l=n(8062)("toStringTag");e.exports=function(e,t,n,u){var c=n?e:e&&e.prototype;c&&(a(c,l)||i(c,l,{configurable:!0,value:t}),u&&!r&&o(c,"toString",s))}},4143:(e,t,n)=>{"use strict";var r=n(1973),i=n(3705),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},1713:(e,t,n)=>{"use strict";var r=n(5090),i=n(8727),o="__core-js_shared__",a=r[o]||i(o,{});e.exports=a},1973:(e,t,n)=>{"use strict";var r=n(5422),i=n(1713);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.35.0",mode:r?"pure":"global",copyright:"\xa9 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.35.0/LICENSE",source:"https://github.com/zloirock/core-js"})},4300:(e,t,n)=>{"use strict";var r=n(2561),i=n(3996),o=n(8447),a=n(5186),s=r("".charAt),l=r("".charCodeAt),u=r("".slice),c=function(e){return function(t,n){var r,c,p=o(a(t)),h=i(n),d=p.length;return h<0||h>=d?e?"":void 0:(r=l(p,h))<55296||r>56319||h+1===d||(c=l(p,h+1))<56320||c>57343?e?s(p,h):r:e?u(p,h,h+2):c-56320+(r-55296<<10)+65536}};e.exports={codeAt:c(!1),charAt:c(!0)}},7896:(e,t,n)=>{"use strict";var r=n(9145),i=n(791),o=n(5090).String;e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol("symbol detection");return!o(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},9449:(e,t,n)=>{"use strict";var r=n(4547),i=n(2066),o=n(8062),a=n(4637);e.exports=function(){var e=i("Symbol"),t=e&&e.prototype,n=t&&t.valueOf,s=o("toPrimitive");t&&!t[s]&&a(t,s,(function(e){return r(n,this)}),{arity:1})}},6896:(e,t,n)=>{"use strict";var r=n(2066),i=n(2561),o=r("Symbol"),a=o.keyFor,s=i(o.prototype.valueOf);e.exports=o.isRegisteredSymbol||function(e){try{return void 0!==a(s(e))}catch(t){return!1}}},5643:(e,t,n)=>{"use strict";for(var r=n(1973),i=n(2066),o=n(2561),a=n(5380),s=n(8062),l=i("Symbol"),u=l.isWellKnownSymbol,c=i("Object","getOwnPropertyNames"),p=o(l.prototype.valueOf),h=r("wks"),d=0,f=c(l),m=f.length;d<m;d++)try{var y=f[d];a(l[y])&&s(y)}catch(v){}e.exports=function(e){if(u&&u(e))return!0;try{for(var t=p(e),n=0,r=c(h),i=r.length;n<i;n++)if(h[r[n]]==t)return!0}catch(v){}return!1}},6192:(e,t,n)=>{"use strict";var r=n(7896);e.exports=r&&!!Symbol.for&&!!Symbol.keyFor},1231:(e,t,n)=>{"use strict";var r=n(3996),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},7133:(e,t,n)=>{"use strict";var r=n(665),i=n(5186);e.exports=function(e){return r(i(e))}},3996:(e,t,n)=>{"use strict";var r=n(3028);e.exports=function(e){var t=+e;return t!==t||0===t?0:r(t)}},4380:(e,t,n)=>{"use strict";var r=n(3996),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},7494:(e,t,n)=>{"use strict";var r=n(5186),i=Object;e.exports=function(e){return i(r(e))}},3535:(e,t,n)=>{"use strict";var r=n(4547),i=n(9837),o=n(5380),a=n(2534),s=n(6580),l=n(8062),u=TypeError,c=l("toPrimitive");e.exports=function(e,t){if(!i(e)||o(e))return e;var n,l=a(e,c);if(l){if(void 0===t&&(t="default"),n=r(l,e,t),!i(n)||o(n))return n;throw new u("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},8130:(e,t,n)=>{"use strict";var r=n(3535),i=n(5380);e.exports=function(e){var t=r(e,"string");return i(t)?t:t+""}},8550:(e,t,n)=>{"use strict";var r={};r[n(8062)("toStringTag")]="z",e.exports="[object z]"===String(r)},8447:(e,t,n)=>{"use strict";var r=n(5971),i=String;e.exports=function(e){if("Symbol"===r(e))throw new TypeError("Cannot convert a Symbol value to a string");return i(e)}},2934:e=>{"use strict";var t=String;e.exports=function(e){try{return t(e)}catch(n){return"Object"}}},3705:(e,t,n)=>{"use strict";var r=n(2561),i=0,o=Math.random(),a=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++i+o,36)}},8559:(e,t,n)=>{"use strict";var r=n(7896);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},5590:(e,t,n)=>{"use strict";var r=n(4307),i=n(791);e.exports=r&&i((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},1113:e=>{"use strict";var t=TypeError;e.exports=function(e,n){if(e<n)throw new t("Not enough arguments");return e}},7090:(e,t,n)=>{"use strict";var r=n(5090),i=n(9007),o=r.WeakMap;e.exports=i(o)&&/native code/.test(String(o))},9896:(e,t,n)=>{"use strict";var r=n(6134),i=n(3700),o=n(8314),a=n(2802).f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});i(t,e)||a(t,e,{value:o.f(e)})}},8314:(e,t,n)=>{"use strict";var r=n(8062);t.f=r},8062:(e,t,n)=>{"use strict";var r=n(5090),i=n(1973),o=n(3700),a=n(3705),s=n(7896),l=n(8559),u=r.Symbol,c=i("wks"),p=l?u.for||u:u&&u.withoutSetter||a;e.exports=function(e){return o(c,e)||(c[e]=s&&o(u,e)?u[e]:p("Symbol."+e)),c[e]}},107:(e,t,n)=>{"use strict";var r=n(6879),i=n(791),o=n(2689),a=n(9837),s=n(7494),l=n(8567),u=n(549),c=n(343),p=n(275),h=n(8963),d=n(8062),f=n(9145),m=d("isConcatSpreadable"),y=f>=51||!i((function(){var e=[];return e[m]=!1,e.concat()[0]!==e})),v=function(e){if(!a(e))return!1;var t=e[m];return void 0!==t?!!t:o(e)};r({target:"Array",proto:!0,arity:1,forced:!y||!h("concat")},{concat:function(e){var t,n,r,i,o,a=s(this),h=p(a,0),d=0;for(t=-1,r=arguments.length;t<r;t++)if(v(o=-1===t?a:arguments[t]))for(i=l(o),u(d+i),n=0;n<i;n++,d++)n in o&&c(h,d,o[n]);else u(d+1),c(h,d++,o);return h.length=d,h}})},4573:(e,t,n)=>{"use strict";var r=n(6879),i=n(6370).filter;r({target:"Array",proto:!0,forced:!n(8963)("filter")},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},2685:(e,t,n)=>{"use strict";var r=n(6879),i=n(8245);r({target:"Array",proto:!0,forced:[].forEach!==i},{forEach:i})},4614:(e,t,n)=>{"use strict";var r=n(6879),i=n(5760);r({target:"Array",stat:!0,forced:!n(8091)((function(e){Array.from(e)}))},{from:i})},6105:(e,t,n)=>{"use strict";var r=n(6879),i=n(7470),o=n(4570).indexOf,a=n(8864),s=i([].indexOf),l=!!s&&1/s([1],1,-0)<0;r({target:"Array",proto:!0,forced:l||!a("indexOf")},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return l?s(this,e,t)||0:o(this,e,t)}})},8575:(e,t,n)=>{"use strict";n(6879)({target:"Array",stat:!0},{isArray:n(2689)})},9928:(e,t,n)=>{"use strict";var r=n(7133),i=n(1132),o=n(3734),a=n(2069),s=n(2802).f,l=n(7028),u=n(3060),c=n(5422),p=n(4307),h="Array Iterator",d=a.set,f=a.getterFor(h);e.exports=l(Array,"Array",(function(e,t){d(this,{type:h,target:r(e),index:0,kind:t})}),(function(){var e=f(this),t=e.target,n=e.index++;if(!t||n>=t.length)return e.target=void 0,u(void 0,!0);switch(e.kind){case"keys":return u(n,!1);case"values":return u(t[n],!1)}return u([n,t[n]],!1)}),"values");var m=o.Arguments=o.Array;if(i("keys"),i("values"),i("entries"),!c&&p&&"values"!==m.name)try{s(m,"name",{value:"values"})}catch(y){}},5064:(e,t,n)=>{"use strict";var r=n(6879),i=n(7494),o=n(8567),a=n(857),s=n(549);r({target:"Array",proto:!0,arity:1,forced:n(791)((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}}()},{push:function(e){var t=i(this),n=o(t),r=arguments.length;s(n+r);for(var l=0;l<r;l++)t[n]=arguments[l],n++;return a(t,n),n}})},8205:(e,t,n)=>{"use strict";var r=n(6879),i=n(2689),o=n(176),a=n(9837),s=n(1231),l=n(8567),u=n(7133),c=n(343),p=n(8062),h=n(8963),d=n(7233),f=h("slice"),m=p("species"),y=Array,v=Math.max;r({target:"Array",proto:!0,forced:!f},{slice:function(e,t){var n,r,p,h=u(this),f=l(h),g=s(e,f),_=s(void 0===t?f:t,f);if(i(h)&&(n=h.constructor,(o(n)&&(n===y||i(n.prototype))||a(n)&&null===(n=n[m]))&&(n=void 0),n===y||void 0===n))return d(h,g,_);for(r=new(void 0===n?y:n)(v(_-g,0)),p=0;g<_;g++,p++)g in h&&c(r,p,h[g]);return r.length=p,r}})},7677:(e,t,n)=>{"use strict";var r=n(6879),i=n(7494),o=n(1231),a=n(3996),s=n(8567),l=n(857),u=n(549),c=n(275),p=n(343),h=n(6299),d=n(8963)("splice"),f=Math.max,m=Math.min;r({target:"Array",proto:!0,forced:!d},{splice:function(e,t){var n,r,d,y,v,g,_=i(this),x=s(_),b=o(e,x),w=arguments.length;for(0===w?n=r=0:1===w?(n=0,r=x-b):(n=w-2,r=m(f(a(t),0),x-b)),u(x+n-r),d=c(_,r),y=0;y<r;y++)(v=b+y)in _&&p(d,y,_[v]);if(d.length=r,n<r){for(y=b;y<x-r;y++)g=y+n,(v=y+r)in _?_[g]=_[v]:h(_,g);for(y=x;y>x-r+n;y--)h(_,y-1)}else if(n>r)for(y=x-r;y>b;y--)g=y+n-1,(v=y+r-1)in _?_[g]=_[v]:h(_,g);for(y=0;y<n;y++)_[y+b]=arguments[y+2];return l(_,x-r+n),d}})},9694:(e,t,n)=>{"use strict";var r=n(6879),i=n(2561),o=Date,a=i(o.prototype.getTime);r({target:"Date",stat:!0},{now:function(){return a(new o)}})},199:()=>{},6511:(e,t,n)=>{"use strict";var r=n(6879),i=n(2066),o=n(5547),a=n(4547),s=n(2561),l=n(791),u=n(9007),c=n(5380),p=n(7233),h=n(6425),d=n(7896),f=String,m=i("JSON","stringify"),y=s(/./.exec),v=s("".charAt),g=s("".charCodeAt),_=s("".replace),x=s(1..toString),b=/[\uD800-\uDFFF]/g,w=/^[\uD800-\uDBFF]$/,S=/^[\uDC00-\uDFFF]$/,E=!d||l((function(){var e=i("Symbol")("stringify detection");return"[null]"!==m([e])||"{}"!==m({a:e})||"{}"!==m(Object(e))})),T=l((function(){return'"\\udf06\\ud834"'!==m("\udf06\ud834")||'"\\udead"'!==m("\udead")})),P=function(e,t){var n=p(arguments),r=h(t);if(u(r)||void 0!==e&&!c(e))return n[1]=function(e,t){if(u(r)&&(t=a(r,this,f(e),t)),!c(t))return t},o(m,null,n)},C=function(e,t,n){var r=v(n,t-1),i=v(n,t+1);return y(w,e)&&!y(S,i)||y(S,e)&&!y(w,r)?"\\u"+x(g(e,0),16):e};m&&r({target:"JSON",stat:!0,arity:3,forced:E||T},{stringify:function(e,t,n){var r=p(arguments),i=o(E?P:m,null,r);return T&&"string"==typeof i?_(i,b,C):i}})},2025:(e,t,n)=>{"use strict";var r=n(5090);n(8815)(r.JSON,"JSON",!0)},699:(e,t,n)=>{"use strict";n(6879)({target:"Math",stat:!0},{sign:n(2558)})},2617:()=>{},3196:(e,t,n)=>{"use strict";var r=n(6879),i=n(4307),o=n(7832).f;r({target:"Object",stat:!0,forced:Object.defineProperties!==o,sham:!i},{defineProperties:o})},8040:(e,t,n)=>{"use strict";var r=n(6879),i=n(4307),o=n(2802).f;r({target:"Object",stat:!0,forced:Object.defineProperty!==o,sham:!i},{defineProperty:o})},1111:(e,t,n)=>{"use strict";var r=n(6879),i=n(791),o=n(7133),a=n(5781).f,s=n(4307);r({target:"Object",stat:!0,forced:!s||i((function(){a(1)})),sham:!s},{getOwnPropertyDescriptor:function(e,t){return a(o(e),t)}})},4099:(e,t,n)=>{"use strict";var r=n(6879),i=n(4307),o=n(5282),a=n(7133),s=n(5781),l=n(343);r({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(e){for(var t,n,r=a(e),i=s.f,u=o(r),c={},p=0;u.length>p;)void 0!==(n=i(r,t=u[p++]))&&l(c,t,n);return c}})},6442:(e,t,n)=>{"use strict";var r=n(6879),i=n(7896),o=n(791),a=n(3121),s=n(7494);r({target:"Object",stat:!0,forced:!i||o((function(){a.f(1)}))},{getOwnPropertySymbols:function(e){var t=a.f;return t?t(s(e)):[]}})},2764:(e,t,n)=>{"use strict";var r=n(6879),i=n(7494),o=n(836);r({target:"Object",stat:!0,forced:n(791)((function(){o(1)}))},{keys:function(e){return o(i(e))}})},9226:()=>{},7973:()=>{},512:(e,t,n)=>{"use strict";var r=n(4300).charAt,i=n(8447),o=n(2069),a=n(7028),s=n(3060),l="String Iterator",u=o.set,c=o.getterFor(l);a(String,"String",(function(e){u(this,{type:l,string:i(e),index:0})}),(function(){var e,t=c(this),n=t.string,i=t.index;return i>=n.length?s(void 0,!0):(e=r(n,i),t.index+=e.length,s(e,!1))}))},1978:(e,t,n)=>{"use strict";n(9896)("asyncIterator")},6754:(e,t,n)=>{"use strict";var r=n(6879),i=n(5090),o=n(4547),a=n(2561),s=n(5422),l=n(4307),u=n(7896),c=n(791),p=n(3700),h=n(442),d=n(878),f=n(7133),m=n(8130),y=n(8447),v=n(4718),g=n(1637),_=n(836),x=n(4542),b=n(2777),w=n(3121),S=n(5781),E=n(2802),T=n(7832),P=n(496),C=n(4637),k=n(8446),A=n(1973),I=n(4143),O=n(7799),D=n(3705),M=n(8062),j=n(8314),R=n(9896),L=n(9449),z=n(8815),N=n(2069),B=n(6370).forEach,F=I("hidden"),U="Symbol",V="prototype",q=N.set,W=N.getterFor(U),H=Object[V],G=i.Symbol,Z=G&&G[V],K=i.RangeError,X=i.TypeError,Y=i.QObject,$=S.f,J=E.f,Q=b.f,ee=P.f,te=a([].push),ne=A("symbols"),re=A("op-symbols"),ie=A("wks"),oe=!Y||!Y[V]||!Y[V].findChild,ae=function(e,t,n){var r=$(H,t);r&&delete H[t],J(e,t,n),r&&e!==H&&J(H,t,r)},se=l&&c((function(){return 7!==g(J({},"a",{get:function(){return J(this,"a",{value:7}).a}})).a}))?ae:J,le=function(e,t){var n=ne[e]=g(Z);return q(n,{type:U,tag:e,description:t}),l||(n.description=t),n},ue=function(e,t,n){e===H&&ue(re,t,n),d(e);var r=m(t);return d(n),p(ne,r)?(n.enumerable?(p(e,F)&&e[F][r]&&(e[F][r]=!1),n=g(n,{enumerable:v(0,!1)})):(p(e,F)||J(e,F,v(1,g(null))),e[F][r]=!0),se(e,r,n)):J(e,r,n)},ce=function(e,t){d(e);var n=f(t),r=_(n).concat(fe(n));return B(r,(function(t){l&&!o(pe,n,t)||ue(e,t,n[t])})),e},pe=function(e){var t=m(e),n=o(ee,this,t);return!(this===H&&p(ne,t)&&!p(re,t))&&(!(n||!p(this,t)||!p(ne,t)||p(this,F)&&this[F][t])||n)},he=function(e,t){var n=f(e),r=m(t);if(n!==H||!p(ne,r)||p(re,r)){var i=$(n,r);return!i||!p(ne,r)||p(n,F)&&n[F][r]||(i.enumerable=!0),i}},de=function(e){var t=Q(f(e)),n=[];return B(t,(function(e){p(ne,e)||p(O,e)||te(n,e)})),n},fe=function(e){var t=e===H,n=Q(t?re:f(e)),r=[];return B(n,(function(e){!p(ne,e)||t&&!p(H,e)||te(r,ne[e])})),r};u||(C(Z=(G=function(){if(h(Z,this))throw new X("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?y(arguments[0]):void 0,t=D(e),n=function(e){var r=void 0===this?i:this;r===H&&o(n,re,e),p(r,F)&&p(r[F],t)&&(r[F][t]=!1);var a=v(1,e);try{se(r,t,a)}catch(s){if(!(s instanceof K))throw s;ae(r,t,a)}};return l&&oe&&se(H,t,{configurable:!0,set:n}),le(t,e)})[V],"toString",(function(){return W(this).tag})),C(G,"withoutSetter",(function(e){return le(D(e),e)})),P.f=pe,E.f=ue,T.f=ce,S.f=he,x.f=b.f=de,w.f=fe,j.f=function(e){return le(M(e),e)},l&&(k(Z,"description",{configurable:!0,get:function(){return W(this).description}}),s||C(H,"propertyIsEnumerable",pe,{unsafe:!0}))),r({global:!0,constructor:!0,wrap:!0,forced:!u,sham:!u},{Symbol:G}),B(_(ie),(function(e){R(e)})),r({target:U,stat:!0,forced:!u},{useSetter:function(){oe=!0},useSimple:function(){oe=!1}}),r({target:"Object",stat:!0,forced:!u,sham:!l},{create:function(e,t){return void 0===t?g(e):ce(g(e),t)},defineProperty:ue,defineProperties:ce,getOwnPropertyDescriptor:he}),r({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:de}),L(),z(G,U),O[F]=!0},2821:()=>{},298:(e,t,n)=>{"use strict";var r=n(6879),i=n(2066),o=n(3700),a=n(8447),s=n(1973),l=n(6192),u=s("string-to-symbol-registry"),c=s("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!l},{for:function(e){var t=a(e);if(o(u,t))return u[t];var n=i("Symbol")(t);return u[t]=n,c[n]=t,n}})},382:(e,t,n)=>{"use strict";n(9896)("hasInstance")},3976:(e,t,n)=>{"use strict";n(9896)("isConcatSpreadable")},4361:(e,t,n)=>{"use strict";n(9896)("iterator")},6978:(e,t,n)=>{"use strict";n(6754),n(298),n(1182),n(6511),n(6442)},1182:(e,t,n)=>{"use strict";var r=n(6879),i=n(3700),o=n(5380),a=n(2934),s=n(1973),l=n(6192),u=s("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!l},{keyFor:function(e){if(!o(e))throw new TypeError(a(e)+" is not a symbol");if(i(u,e))return u[e]}})},4360:(e,t,n)=>{"use strict";n(9896)("matchAll")},8169:(e,t,n)=>{"use strict";n(9896)("match")},3066:(e,t,n)=>{"use strict";n(9896)("replace")},1977:(e,t,n)=>{"use strict";n(9896)("search")},7615:(e,t,n)=>{"use strict";n(9896)("species")},4119:(e,t,n)=>{"use strict";n(9896)("split")},6707:(e,t,n)=>{"use strict";var r=n(9896),i=n(9449);r("toPrimitive"),i()},8664:(e,t,n)=>{"use strict";var r=n(2066),i=n(9896),o=n(8815);i("toStringTag"),o(r("Symbol"),"Symbol")},6387:(e,t,n)=>{"use strict";n(9896)("unscopables")},2956:(e,t,n)=>{"use strict";var r=n(8062),i=n(2802).f,o=r("metadata"),a=Function.prototype;void 0===a[o]&&i(a,o,{value:null})},8290:(e,t,n)=>{"use strict";n(9896)("asyncDispose")},9792:(e,t,n)=>{"use strict";n(9896)("dispose")},4261:(e,t,n)=>{"use strict";n(6879)({target:"Symbol",stat:!0},{isRegisteredSymbol:n(6896)})},8744:(e,t,n)=>{"use strict";n(6879)({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:n(6896)})},3992:(e,t,n)=>{"use strict";n(6879)({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:n(5643)})},4961:(e,t,n)=>{"use strict";n(6879)({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:n(5643)})},2790:(e,t,n)=>{"use strict";n(9896)("matcher")},3618:(e,t,n)=>{"use strict";n(9896)("metadataKey")},3377:(e,t,n)=>{"use strict";n(9896)("metadata")},3694:(e,t,n)=>{"use strict";n(9896)("observable")},8345:(e,t,n)=>{"use strict";n(9896)("patternMatch")},4611:(e,t,n)=>{"use strict";n(9896)("replaceAll")},1388:()=>{},6488:(e,t,n)=>{"use strict";n(9928);var r=n(9046),i=n(5090),o=n(8815),a=n(3734);for(var s in r)o(i[s],s),a[s]=a.Array},9777:(e,t,n)=>{"use strict";var r=n(6879),i=n(5090),o=n(5677)(i.setInterval,!0);r({global:!0,bind:!0,forced:i.setInterval!==o},{setInterval:o})},8942:(e,t,n)=>{"use strict";var r=n(6879),i=n(5090),o=n(5677)(i.setTimeout,!0);r({global:!0,bind:!0,forced:i.setTimeout!==o},{setTimeout:o})},84:(e,t,n)=>{"use strict";n(9777),n(8942)},4830:(e,t,n)=>{"use strict";var r=n(8675);e.exports=r},5916:(e,t,n)=>{"use strict";var r=n(3641);e.exports=r},5021:(e,t,n)=>{"use strict";var r=n(8022);e.exports=r},4877:(e,t,n)=>{"use strict";var r=n(9608);e.exports=r},7228:(e,t,n)=>{"use strict";var r=n(7599);n(6488),e.exports=r},7457:(e,t,n)=>{"use strict";var r=n(4751);e.exports=r},536:(e,t,n)=>{"use strict";var r=n(7169);e.exports=r},3129:(e,t,n)=>{"use strict";var r=n(5971),i=n(3700),o=n(442),a=n(5021);n(1388);var s=Array.prototype,l={DOMTokenList:!0,NodeList:!0};e.exports=function(e){var t=e.forEach;return e===s||o(s,e)&&t===s.forEach||i(l,r(e))?a:t}},5822:(e,t,n)=>{"use strict";var r=n(5783);e.exports=r},6486:(e,t,n)=>{"use strict";var r=n(4467);e.exports=r},5376:(e,t,n)=>{"use strict";var r=n(690);e.exports=r},7234:(e,t,n)=>{"use strict";var r=n(6045);e.exports=r},2271:(e,t,n)=>{"use strict";var r=n(542);e.exports=r},290:(e,t,n)=>{"use strict";var r=n(1102);e.exports=r},7043:(e,t,n)=>{"use strict";var r=n(5);e.exports=r},4887:(e,t,n)=>{"use strict";var r=n(3732);e.exports=r},3668:(e,t,n)=>{"use strict";var r=n(1938);e.exports=r},4726:(e,t,n)=>{"use strict";var r=n(7347);e.exports=r},2564:(e,t,n)=>{"use strict";var r=n(1409);e.exports=r},4625:(e,t,n)=>{"use strict";n(84);var r=n(6134);e.exports=r.setInterval},4478:(e,t,n)=>{"use strict";n(84);var r=n(6134);e.exports=r.setTimeout},3877:(e,t,n)=>{"use strict";var r=n(1224);n(6488),e.exports=r},2714:(e,t,n)=>{"use strict";var r=n(8880);n(6488),e.exports=r},6565:(e,t,n)=>{"use strict";var r=n(7731);e.exports=r}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,n.d(o,a),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".9e9f4ffd.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="frontend:";n.l=(r,i,o,a)=>{if(e[r])e[r].push(i);else{var s,l;if(void 0!==o)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var p=u[c];if(p.getAttribute("src")==r||p.getAttribute("data-webpack")==t+o){s=p;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+o),s.src=r),e[r]=[i];var h=(t,n)=>{s.onerror=s.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((e=>e(n))),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),l&&document.head.appendChild(s)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={179:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=o);var a=n.p+n.u(t),s=new Error;n.l(a,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,i[1](s)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,o,a=r[0],s=r[1],l=r[2],u=0;if(a.some((t=>0!==e[t]))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(l)l(n)}for(t&&t(r);u<a.length;u++)o=a[u],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkfrontend=self.webpackChunkfrontend||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{hasBrowserEnv:()=>_g,hasStandardBrowserEnv:()=>xg,hasStandardBrowserWebWorkerEnv:()=>wg});var t={};n.r(t),n.d(t,{Decoder:()=>PA,Encoder:()=>EA,PacketType:()=>SA,protocol:()=>wA});var r=n(2791),i=n(1250),o=n(1087),a=n(7689),s=n(1564),l=n(7995),u=r,c=Symbol.for("react-redux-context"),p="undefined"!==typeof globalThis?globalThis:{};function h(){var e;if(!u.createContext)return{};const t=null!==(e=p[c])&&void 0!==e?e:p[c]=new Map;let n=t.get(u.createContext);return n||(n=u.createContext(null),t.set(u.createContext,n)),n}var d=h(),f=()=>{throw new Error("uSES not initialized!")};function m(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;return function(){return u.useContext(e)}}var y=m(),v=f,g=(e,t)=>e===t;function _(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;const t=e===d?y:m(e);return function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{equalityFn:r=g,devModeChecks:i={}}="function"===typeof n?{equalityFn:n}:n;const{store:o,subscription:a,getServerState:s,stabilityCheck:l,identityFunctionCheck:c}=t(),p=(u.useRef(!0),u.useCallback({[e.name]:t=>e(t)}[e.name],[e,l,i.stabilityCheck])),h=v(a.addNestedSub,o.getState,s||o.getState,p,r);return u.useDebugValue(h),h}}var x=_();Symbol.for("react.element"),Symbol.for("react.portal"),Symbol.for("react.fragment"),Symbol.for("react.strict_mode"),Symbol.for("react.profiler"),Symbol.for("react.provider"),Symbol.for("react.context"),Symbol.for("react.server_context"),Symbol.for("react.forward_ref"),Symbol.for("react.suspense"),Symbol.for("react.suspense_list"),Symbol.for("react.memo"),Symbol.for("react.lazy"),Symbol.for("react.offscreen"),Symbol.for("react.client.reference");function b(e){e()}var w={notify(){},get:()=>[]};function S(e,t){let n,r=w,i=0,o=!1;function a(){u.onStateChange&&u.onStateChange()}function s(){i++,n||(n=t?t.addNestedSub(a):e.subscribe(a),r=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){b((()=>{let t=e;for(;t;)t.callback(),t=t.next}))},get(){let t=[],n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(n){let r=!0,i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){r&&null!==e&&(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}())}function l(){i--,n&&0===i&&(n(),n=void 0,r.clear(),r=w)}const u={addNestedSub:function(e){s();const t=r.subscribe(e);let n=!1;return()=>{n||(n=!0,t(),l())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:a,isSubscribed:function(){return o},trySubscribe:function(){o||(o=!0,s())},tryUnsubscribe:function(){o&&(o=!1,l())},getListeners:()=>r};return u}var E=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?u.useLayoutEffect:u.useEffect;function T(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function P(e,t){if(T(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!T(e[n[i]],t[n[i]]))return!1;return!0}Object.defineProperty,Object.getOwnPropertyNames,Object.getOwnPropertySymbols,Object.getOwnPropertyDescriptor,Object.getPrototypeOf,Object.prototype;var C=function(e){let{store:t,context:n,children:r,serverState:i,stabilityCheck:o="once",identityFunctionCheck:a="once"}=e;const s=u.useMemo((()=>{const e=S(t);return{store:t,subscription:e,getServerState:i?()=>i:void 0,stabilityCheck:o,identityFunctionCheck:a}}),[t,i,o,a]),l=u.useMemo((()=>t.getState()),[t]);E((()=>{const{subscription:e}=s;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),l!==t.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}}),[s,l]);const c=n||d;return u.createElement(c.Provider,{value:s},r)};function k(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;const t=e===d?y:m(e);return function(){const{store:e}=t();return e}}var A=k();function I(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;const t=e===d?A:k(e);return function(){return t().dispatch}}var O,D=I(),M=b;function j(e){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function R(e){var t=function(e,t){if("object"!=j(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=j(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==j(t)?t:String(t)}function L(e,t,n){return(t=R(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}O=l.useSyncExternalStoreWithSelector,v=O,(e=>{e})(r.useSyncExternalStore);var z=Symbol.for("immer-nothing"),N=Symbol.for("immer-draftable"),B=Symbol.for("immer-state");function F(e){throw new Error("[Immer] minified error nr: ".concat(e,". Full error at: https://bit.ly/3cXEKWf"))}var U=Object.getPrototypeOf;function V(e){return!!e&&!!e[B]}function q(e){var t;return!!e&&(H(e)||Array.isArray(e)||!!e[N]||!(null===(t=e.constructor)||void 0===t||!t[N])||$(e)||J(e))}var W=Object.prototype.constructor.toString();function H(e){if(!e||"object"!==typeof e)return!1;const t=U(e);if(null===t)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===W}function G(e,t){0===Z(e)?Object.entries(e).forEach((n=>{let[r,i]=n;t(r,i,e)})):e.forEach(((n,r)=>t(r,n,e)))}function Z(e){const t=e[B];return t?t.type_:Array.isArray(e)?1:$(e)?2:J(e)?3:0}function K(e,t){return 2===Z(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function X(e,t){return 2===Z(e)?e.get(t):e[t]}function Y(e,t,n){const r=Z(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function $(e){return e instanceof Map}function J(e){return e instanceof Set}function Q(e){return e.copy_||e.base_}function ee(e,t){if($(e))return new Map(e);if(J(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);if(!t&&H(e)){if(!U(e)){const t=Object.create(null);return Object.assign(t,e)}return{...e}}const n=Object.getOwnPropertyDescriptors(e);delete n[B];let r=Reflect.ownKeys(n);for(let i=0;i<r.length;i++){const t=r[i],o=n[t];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[t]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[t]})}return Object.create(U(e),n)}function te(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return re(e)||V(e)||!q(e)||(Z(e)>1&&(e.set=e.add=e.clear=e.delete=ne),Object.freeze(e),t&&G(e,((e,t)=>te(t,!0)))),e}function ne(){F(2)}function re(e){return Object.isFrozen(e)}var ie,oe={};function ae(e){const t=oe[e];return t||F(0),t}function se(e,t){oe[e]||(oe[e]=t)}function le(){return ie}function ue(e,t){t&&(ae("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function ce(e){pe(e),e.drafts_.forEach(de),e.drafts_=null}function pe(e){e===ie&&(ie=e.parent_)}function he(e){return ie={drafts_:[],parent_:ie,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function de(e){const t=e[B];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function fe(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[B].modified_&&(ce(t),F(4)),q(e)&&(e=me(t,e),t.parent_||ve(t,e)),t.patches_&&ae("Patches").generateReplacementPatches_(n[B].base_,e,t.patches_,t.inversePatches_)):e=me(t,n,[]),ce(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==z?e:void 0}function me(e,t,n){if(re(t))return t;const r=t[B];if(!r)return G(t,((i,o)=>ye(e,r,t,i,o,n))),t;if(r.scope_!==e)return t;if(!r.modified_)return ve(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const t=r.copy_;let i=t,o=!1;3===r.type_&&(i=new Set(t),t.clear(),o=!0),G(i,((i,a)=>ye(e,r,t,i,a,n,o))),ve(e,t,!1),n&&e.patches_&&ae("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function ye(e,t,n,r,i,o,a){if(V(i)){const a=me(e,i,o&&t&&3!==t.type_&&!K(t.assigned_,r)?o.concat(r):void 0);if(Y(n,r,a),!V(a))return;e.canAutoFreeze_=!1}else a&&n.add(i);if(q(i)&&!re(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;me(e,i),t&&t.scope_.parent_||ve(e,i)}}function ve(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&te(t,n)}var ge={get(e,t){if(t===B)return e;const n=Q(e);if(!K(n,t))return function(e,t,n){var r;const i=be(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.draft_):void 0}(e,n,t);const r=n[t];return e.finalized_||!q(r)?r:r===xe(e.base_,t)?(Se(e),e.copy_[t]=Ee(r,e)):r},has:(e,t)=>t in Q(e),ownKeys:e=>Reflect.ownKeys(Q(e)),set(e,t,n){const r=be(Q(e),t);if(null!==r&&void 0!==r&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=xe(Q(e),t),a=null===r||void 0===r?void 0:r[B];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(((i=n)===(o=r)?0!==i||1/i===1/o:i!==i&&o!==o)&&(void 0!==n||K(e.base_,t)))return!0;Se(e),we(e)}var i,o;return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==xe(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,Se(e),we(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=Q(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty(){F(11)},getPrototypeOf:e=>U(e.base_),setPrototypeOf(){F(12)}},_e={};function xe(e,t){const n=e[B];return(n?Q(n):e)[t]}function be(e,t){if(!(t in e))return;let n=U(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=U(n)}}function we(e){e.modified_||(e.modified_=!0,e.parent_&&we(e.parent_))}function Se(e){e.copy_||(e.copy_=ee(e.base_,e.scope_.immer_.useStrictShallowCopy_))}G(ge,((e,t)=>{_e[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),_e.deleteProperty=function(e,t){return _e.set.call(this,e,t,void 0)},_e.set=function(e,t,n){return ge.set.call(this,e[0],t,n,e[0])};function Ee(e,t){const n=$(e)?ae("MapSet").proxyMap_(e,t):J(e)?ae("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:le(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=ge;n&&(i=[r],o=_e);const{revoke:a,proxy:s}=Proxy.revocable(i,o);return r.draft_=s,r.revoke_=a,s}(e,t);return(t?t.scope_:le()).drafts_.push(n),n}function Te(e){return V(e)||F(10),Pe(e)}function Pe(e){if(!q(e)||re(e))return e;const t=e[B];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=ee(e,t.scope_.immer_.useStrictShallowCopy_)}else n=ee(e,!0);return G(n,((e,t)=>{Y(n,e,Pe(t))})),t&&(t.finalized_=!1),n}function Ce(){const e="replace",t="add",n="remove";function r(e){if(!q(e))return e;if(Array.isArray(e))return e.map(r);if($(e))return new Map(Array.from(e.entries()).map((e=>{let[t,n]=e;return[t,r(n)]})));if(J(e))return new Set(Array.from(e).map(r));const t=Object.create(U(e));for(const n in e)t[n]=r(e[n]);return K(e,N)&&(t[N]=e[N]),t}function i(e){return V(e)?r(e):e}se("Patches",{applyPatches_:function(i,o){return o.forEach((o=>{const{path:a,op:s}=o;let l=i;for(let e=0;e<a.length-1;e++){const t=Z(l);let n=a[e];"string"!==typeof n&&"number"!==typeof n&&(n=""+n),0!==t&&1!==t||"__proto__"!==n&&"constructor"!==n||F(19),"function"===typeof l&&"prototype"===n&&F(19),l=X(l,n),"object"!==typeof l&&F(18,a.join("/"))}const u=Z(l),c=r(o.value),p=a[a.length-1];switch(s){case e:switch(u){case 2:return l.set(p,c);case 3:F(16);default:return l[p]=c}case t:switch(u){case 1:return"-"===p?l.push(c):l.splice(p,0,c);case 2:return l.set(p,c);case 3:return l.add(c);default:return l[p]=c}case n:switch(u){case 1:return l.splice(p,1);case 2:return l.delete(p);case 3:return l.delete(o.value);default:return delete l[p]}default:F(17)}})),i},generatePatches_:function(r,o,a,s){switch(r.type_){case 0:case 2:return function(r,o,a,s){const{base_:l,copy_:u}=r;G(r.assigned_,((r,c)=>{const p=X(l,r),h=X(u,r),d=c?K(l,r)?e:t:n;if(p===h&&d===e)return;const f=o.concat(r);a.push(d===n?{op:d,path:f}:{op:d,path:f,value:h}),s.push(d===t?{op:n,path:f}:d===n?{op:t,path:f,value:i(p)}:{op:e,path:f,value:i(p)})}))}(r,o,a,s);case 1:return function(r,o,a,s){let{base_:l,assigned_:u}=r,c=r.copy_;c.length<l.length&&([l,c]=[c,l],[a,s]=[s,a]);for(let t=0;t<l.length;t++)if(u[t]&&c[t]!==l[t]){const n=o.concat([t]);a.push({op:e,path:n,value:i(c[t])}),s.push({op:e,path:n,value:i(l[t])})}for(let e=l.length;e<c.length;e++){const n=o.concat([e]);a.push({op:t,path:n,value:i(c[e])})}for(let e=c.length-1;l.length<=e;--e){const t=o.concat([e]);s.push({op:n,path:t})}}(r,o,a,s);case 3:return function(e,r,i,o){let{base_:a,copy_:s}=e,l=0;a.forEach((e=>{if(!s.has(e)){const a=r.concat([l]);i.push({op:n,path:a,value:e}),o.unshift({op:t,path:a,value:e})}l++})),l=0,s.forEach((e=>{if(!a.has(e)){const a=r.concat([l]);i.push({op:t,path:a,value:e}),o.unshift({op:n,path:a,value:e})}l++}))}(r,o,a,s)}},generateReplacementPatches_:function(t,n,r,i){r.push({op:e,path:[],value:n===z?void 0:n}),i.push({op:e,path:[],value:t})}})}var ke=new class{constructor(e){var t=this;this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if("function"===typeof e&&"function"!==typeof t){const n=t;t=e;const r=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];return r.produce(e,(e=>t.call(this,e,...o)))}}let r;if("function"!==typeof t&&F(6),void 0!==n&&"function"!==typeof n&&F(7),q(e)){const i=he(this),o=Ee(e,void 0);let a=!0;try{r=t(o),a=!1}finally{a?ce(i):pe(i)}return ue(i,n),fe(r,i)}if(!e||"object"!==typeof e){if(r=t(e),void 0===r&&(r=e),r===z&&(r=void 0),this.autoFreeze_&&te(r,!0),n){const t=[],i=[];ae("Patches").generateReplacementPatches_(e,r,t,i),n(t,i)}return r}F(1)},this.produceWithPatches=(e,n)=>{if("function"===typeof e)return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return t.produceWithPatches(n,(t=>e(t,...i)))};let r,i;return[this.produce(e,n,((e,t)=>{r=e,i=t})),r,i]},"boolean"===typeof(null===e||void 0===e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),"boolean"===typeof(null===e||void 0===e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){q(e)||F(8),V(e)&&(e=Te(e));const t=he(this),n=Ee(e,void 0);return n[B].isManual_=!0,pe(t),n}finishDraft(e,t){const n=e&&e[B];n&&n.isManual_||F(9);const{scope_:r}=n;return ue(r,t),fe(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=ae("Patches").applyPatches_;return V(e)?r(e,t):this.produce(e,(e=>r(e,t)))}},Ae=ke.produce,Ie=ke.produceWithPatches.bind(ke),Oe=(ke.setAutoFreeze.bind(ke),ke.setUseStrictShallowCopy.bind(ke),ke.applyPatches.bind(ke));ke.createDraft.bind(ke),ke.finishDraft.bind(ke);function De(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected a function, instead received ".concat(typeof e);if("function"!==typeof e)throw new TypeError(t)}var Me=e=>Array.isArray(e)?e:[e];function je(e){const t=Array.isArray(e[0])?e[0]:e;return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected all items to be functions, instead received the following types: ";if(!e.every((e=>"function"===typeof e))){const n=e.map((e=>"function"===typeof e?"function ".concat(e.name||"unnamed","()"):typeof e)).join(", ");throw new TypeError("".concat(t,"[").concat(n,"]"))}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}Symbol(),Object.getPrototypeOf({});var Re="undefined"!==typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}},Le=0,ze=1;function Ne(){return{s:Le,v:void 0,o:null,p:null}}function Be(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Ne();const{resultEqualityCheck:r}=t;let i,o=0;function a(){let t=n;const{length:a}=arguments;for(let e=0,n=a;e<n;e++){const n=arguments[e];if("function"===typeof n||"object"===typeof n&&null!==n){let e=t.o;null===e&&(t.o=e=new WeakMap);const r=e.get(n);void 0===r?(t=Ne(),e.set(n,t)):t=r}else{let e=t.p;null===e&&(t.p=e=new Map);const r=e.get(n);void 0===r?(t=Ne(),e.set(n,t)):t=r}}const s=t;let l;if(t.s===ze?l=t.v:(l=e.apply(null,arguments),o++),s.s=ze,r){var u,c;const e=null!==(u=null===(c=i)||void 0===c?void 0:c.deref())&&void 0!==u?u:i;null!=e&&r(e,l)&&(l=e,0!==o&&o--);i="object"===typeof l&&null!==l||"function"===typeof l?new Re(l):l}return s.v=l,l}return a.clearCache=()=>{n=Ne(),a.resetResultsCount()},a.resultsCount=()=>o,a.resetResultsCount=()=>{o=0},a}function Fe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i="function"===typeof e?{memoize:e,memoizeOptions:n}:e;return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let r,o=0,a=0,s={},l=t.pop();"object"===typeof l&&(s=l,l=t.pop()),De(l,"createSelector expects an output function after the inputs, but received: [".concat(typeof l,"]"));const u={...i,...s},{memoize:c,memoizeOptions:p=[],argsMemoize:h=Be,argsMemoizeOptions:d=[],devModeChecks:f={}}=u,m=Me(p),y=Me(d),v=je(t),g=c((function(){return o++,l.apply(null,arguments)}),...m);const _=h((function(){a++;const e=function(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}(v,arguments);return r=g.apply(null,e),r}),...y);return Object.assign(_,{resultFunc:l,memoizedResultFunc:g,dependencies:v,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>r,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:c,argsMemoize:h})}}var Ue=Fe(Be);function Ve(e){return"Minified Redux error #".concat(e,"; visit https://redux.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}var qe=(()=>"function"===typeof Symbol&&Symbol.observable||"@@observable")(),We=()=>Math.random().toString(36).substring(7).split("").join("."),He={INIT:"@@redux/INIT".concat(We()),REPLACE:"@@redux/REPLACE".concat(We()),PROBE_UNKNOWN_ACTION:()=>"@@redux/PROBE_UNKNOWN_ACTION".concat(We())};function Ge(e){if("object"!==typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function Ze(e,t,n){if("function"!==typeof e)throw new Error(Ve(2));if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(Ve(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(Ve(1));return n(Ze)(e,t)}let r=e,i=t,o=new Map,a=o,s=0,l=!1;function u(){a===o&&(a=new Map,o.forEach(((e,t)=>{a.set(t,e)})))}function c(){if(l)throw new Error(Ve(3));return i}function p(e){if("function"!==typeof e)throw new Error(Ve(4));if(l)throw new Error(Ve(5));let t=!0;u();const n=s++;return a.set(n,e),function(){if(t){if(l)throw new Error(Ve(6));t=!1,u(),a.delete(n),o=null}}}function h(e){if(!Ge(e))throw new Error(Ve(7));if("undefined"===typeof e.type)throw new Error(Ve(8));if("string"!==typeof e.type)throw new Error(Ve(17));if(l)throw new Error(Ve(9));try{l=!0,i=r(i,e)}finally{l=!1}return(o=a).forEach((e=>{e()})),e}h({type:He.INIT});return{dispatch:h,subscribe:p,getState:c,replaceReducer:function(e){if("function"!==typeof e)throw new Error(Ve(10));r=e,h({type:He.REPLACE})},[qe]:function(){const e=p;return{subscribe(t){if("object"!==typeof t||null===t)throw new Error(Ve(11));function n(){const e=t;e.next&&e.next(c())}n();return{unsubscribe:e(n)}},[qe](){return this}}}}}function Ke(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const r=t[a];0,"function"===typeof e[r]&&(n[r]=e[r])}const r=Object.keys(n);let i;try{!function(e){Object.keys(e).forEach((t=>{const n=e[t];if("undefined"===typeof n(void 0,{type:He.INIT}))throw new Error(Ve(12));if("undefined"===typeof n(void 0,{type:He.PROBE_UNKNOWN_ACTION()}))throw new Error(Ve(13))}))}(n)}catch(o){i=o}return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(i)throw i;let o=!1;const a={};for(let i=0;i<r.length;i++){const s=r[i],l=n[s],u=e[s],c=l(u,t);if("undefined"===typeof c){t&&t.type;throw new Error(Ve(14))}a[s]=c,o=o||c!==u}return o=o||r.length!==Object.keys(e).length,o?a:e}}function Xe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?e=>e:1===t.length?t[0]:t.reduce(((e,t)=>function(){return e(t(...arguments))}))}function Ye(e){return Ge(e)&&"type"in e&&"string"===typeof e.type}function $e(e){return t=>{let{dispatch:n,getState:r}=t;return t=>i=>"function"===typeof i?i(n,r,e):t(i)}}var Je=$e(),Qe=$e,et=(function(){const e=Fe(...arguments)}(Be),"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?Xe:Xe.apply(null,arguments)}),tt=("undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__,e=>e&&"function"===typeof e.match);function nt(e,t){function n(){if(t){let n=t(...arguments);if(!n)throw new Error(Bt(0));return{type:e,payload:n.payload,..."meta"in n&&{meta:n.meta},..."error"in n&&{error:n.error}}}return{type:e,payload:arguments.length<=0?void 0:arguments[0]}}return n.toString=()=>"".concat(e),n.type=e,n.match=t=>Ye(t)&&t.type===e,n}var rt=class e extends Array{constructor(){super(...arguments),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return super.concat.apply(this,t)}prepend(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return 1===n.length&&Array.isArray(n[0])?new e(...n[0].concat(this)):new e(...n.concat(this))}};function it(e){return q(e)?Ae(e,(()=>{})):e}function ot(e,t,n){if(e.has(t)){let r=e.get(t);return n.update&&(r=n.update(r,t,e),e.set(t,r)),r}if(!n.insert)throw new Error(Bt(10));const r=n.insert(t,e);return e.set(t,r),r}var at="RTK_autoBatch",st=()=>e=>({payload:e,meta:{[at]:!0}}),lt=e=>t=>{setTimeout(t,e)},ut="undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:lt(10),ct=e=>function(t){const{autoBatch:n=!0}=null!==t&&void 0!==t?t:{};let r=new rt(e);return n&&r.push(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"raf"};return t=>function(){const n=t(...arguments);let r=!0,i=!1,o=!1;const a=new Set,s="tick"===e.type?queueMicrotask:"raf"===e.type?ut:"callback"===e.type?e.queueNotification:lt(e.timeout),l=()=>{o=!1,i&&(i=!1,a.forEach((e=>e())))};return Object.assign({},n,{subscribe(e){const t=n.subscribe((()=>r&&e()));return a.add(e),()=>{t(),a.delete(e)}},dispatch(e){try{var t;return r=!(null!==e&&void 0!==e&&null!==(t=e.meta)&&void 0!==t&&t[at]),i=!r,i&&(o||(o=!0,s(l))),n.dispatch(e)}finally{r=!0}}})}}("object"===typeof n?n:void 0)),r};function pt(e){const t={},n=[];let r;const i={addCase(e,n){const r="string"===typeof e?e:e.type;if(!r)throw new Error(Bt(28));if(r in t)throw new Error(Bt(29));return t[r]=n,i},addMatcher:(e,t)=>(n.push({matcher:e,reducer:t}),i),addDefaultCase:e=>(r=e,i)};return e(i),[t,n,r]}var ht=function(){let e="",t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;for(;t--;)e+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return e},dt=(e,t)=>tt(e)?e.match(t):e(t);function ft(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>t.some((t=>dt(t,e)))}function mt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>t.every((t=>dt(t,e)))}function yt(e,t){if(!e||!e.meta)return!1;const n="string"===typeof e.meta.requestId,r=t.indexOf(e.meta.requestStatus)>-1;return n&&r}function vt(e){return"function"===typeof e[0]&&"pending"in e[0]&&"fulfilled"in e[0]&&"rejected"in e[0]}function gt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?e=>yt(e,["pending"]):vt(t)?e=>ft(...t.map((e=>e.pending)))(e):gt()(t[0])}function _t(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?e=>yt(e,["rejected"]):vt(t)?e=>ft(...t.map((e=>e.rejected)))(e):_t()(t[0])}function xt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=e=>e&&e.meta&&e.meta.rejectedWithValue;return 0===t.length||vt(t)?e=>mt(_t(...t),r)(e):xt()(t[0])}function bt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?e=>yt(e,["fulfilled"]):vt(t)?e=>ft(...t.map((e=>e.fulfilled)))(e):bt()(t[0])}function wt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?e=>yt(e,["pending","fulfilled","rejected"]):vt(t)?e=>{const n=[];for(const r of t)n.push(r.pending,r.rejected,r.fulfilled);return ft(...n)(e)}:wt()(t[0])}var St=["name","message","stack","code"],Et=class{constructor(e,t){L(this,"_type",void 0),this.payload=e,this.meta=t}},Tt=class{constructor(e,t){L(this,"_type",void 0),this.payload=e,this.meta=t}},Pt=e=>{if("object"===typeof e&&null!==e){const t={};for(const n of St)"string"===typeof e[n]&&(t[n]=e[n]);return t}return{message:String(e)}},Ct=(()=>{function e(e,t,n){const r=nt(e+"/fulfilled",((e,t,n,r)=>({payload:e,meta:{...r||{},arg:n,requestId:t,requestStatus:"fulfilled"}}))),i=nt(e+"/pending",((e,t,n)=>({payload:void 0,meta:{...n||{},arg:t,requestId:e,requestStatus:"pending"}}))),o=nt(e+"/rejected",((e,t,r,i,o)=>({payload:i,error:(n&&n.serializeError||Pt)(e||"Rejected"),meta:{...o||{},arg:r,requestId:t,rejectedWithValue:!!i,requestStatus:"rejected",aborted:"AbortError"===(null===e||void 0===e?void 0:e.name),condition:"ConditionError"===(null===e||void 0===e?void 0:e.name)}})));return Object.assign((function(e){return(a,s,l)=>{const u=null!==n&&void 0!==n&&n.idGenerator?n.idGenerator(e):ht(),c=new AbortController;let p;function h(e){p=e,c.abort()}const d=async function(){let d;try{var f,m;let o=null===n||void 0===n||null===(f=n.condition)||void 0===f?void 0:f.call(n,e,{getState:s,extra:l});if(function(e){return null!==e&&"object"===typeof e&&"function"===typeof e.then}(o)&&(o=await o),!1===o||c.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const y=new Promise(((e,t)=>c.signal.addEventListener("abort",(()=>t({name:"AbortError",message:p||"Aborted"})))));a(i(u,e,null===n||void 0===n||null===(m=n.getPendingMeta)||void 0===m?void 0:m.call(n,{requestId:u,arg:e},{getState:s,extra:l}))),d=await Promise.race([y,Promise.resolve(t(e,{dispatch:a,getState:s,extra:l,requestId:u,signal:c.signal,abort:h,rejectWithValue:(e,t)=>new Et(e,t),fulfillWithValue:(e,t)=>new Tt(e,t)})).then((t=>{if(t instanceof Et)throw t;return t instanceof Tt?r(t.payload,u,e,t.meta):r(t,u,e)}))])}catch(y){d=y instanceof Et?o(null,u,e,y.payload,y.meta):o(y,u,e)}return n&&!n.dispatchConditionRejection&&o.match(d)&&d.meta.condition||a(d),d}();return Object.assign(d,{abort:h,requestId:u,arg:e,unwrap:()=>d.then(kt)})}}),{pending:i,rejected:o,fulfilled:r,settled:ft(o,r),typePrefix:e})}return e.withTypes=()=>e,e})();function kt(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}var At=Symbol.for("rtk-slice-createasyncthunk");function It(e,t){return"".concat(e,"/").concat(t)}function Ot(e,t,n,r){function i(i){let o=n.call(e,i);"undefined"===typeof o&&r&&(o=e.getInitialState());for(var a=arguments.length,s=new Array(a>1?a-1:0),l=1;l<a;l++)s[l-1]=arguments[l];return t(o,...s)}return i.unwrapped=t,i}var Dt=function(){var e;let{creators:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=null===t||void 0===t||null===(e=t.asyncThunk)||void 0===e?void 0:e[At];return function(e){const{name:t,reducerPath:r=t}=e;if(!t)throw new Error(Bt(11));const i=("function"===typeof e.reducers?e.reducers(function(){function e(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name](){return e(...arguments)}}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},o=Object.keys(i),a={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},s={addCase(e,t){const n="string"===typeof e?e:e.type;if(!n)throw new Error(Bt(12));if(n in a.sliceCaseReducersByType)throw new Error(Bt(13));return a.sliceCaseReducersByType[n]=t,s},addMatcher:(e,t)=>(a.sliceMatchers.push({matcher:e,reducer:t}),s),exposeAction:(e,t)=>(a.actionCreators[e]=t,s),exposeCaseReducer:(e,t)=>(a.sliceCaseReducersByName[e]=t,s)};function l(){const[t={},n=[],r]="function"===typeof e.extraReducers?pt(e.extraReducers):[e.extraReducers],i={...t,...a.sliceCaseReducersByType};return function(e,t){let n,[r,i,o]=pt(t);if("function"===typeof e)n=()=>it(e());else{const t=it(e);n=()=>t}function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n(),t=arguments.length>1?arguments[1]:void 0,a=[r[t.type],...i.filter((e=>{let{matcher:n}=e;return n(t)})).map((e=>{let{reducer:t}=e;return t}))];return 0===a.filter((e=>!!e)).length&&(a=[o]),a.reduce(((e,n)=>{if(n){if(V(e)){const r=n(e,t);return void 0===r?e:r}if(q(e))return Ae(e,(e=>n(e,t)));{const r=n(e,t);if(void 0===r){if(null===e)return e;throw new Error(Bt(9))}return r}}return e}),e)}return a.getInitialState=n,a}(e.initialState,(e=>{for(let t in i)e.addCase(t,i[t]);for(let t of a.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of n)e.addMatcher(t.matcher,t.reducer);r&&e.addDefaultCase(r)}))}o.forEach((r=>{const o=i[r],a={reducerName:r,type:It(t,r),createNotation:"function"===typeof e.reducers};!function(e){return"asyncThunk"===e._reducerDefinitionType}(o)?function(e,t,n){let r,i,{type:o,reducerName:a,createNotation:s}=e;if("reducer"in t){if(s&&!function(e){return"reducerWithPrepare"===e._reducerDefinitionType}(t))throw new Error(Bt(17));r=t.reducer,i=t.prepare}else r=t;n.addCase(o,r).exposeCaseReducer(a,r).exposeAction(a,i?nt(o,i):nt(o))}(a,o,s):function(e,t,n,r){let{type:i,reducerName:o}=e;if(!r)throw new Error(Bt(18));const{payloadCreator:a,fulfilled:s,pending:l,rejected:u,settled:c,options:p}=t,h=r(i,a,p);n.exposeAction(o,h),s&&n.addCase(h.fulfilled,s);l&&n.addCase(h.pending,l);u&&n.addCase(h.rejected,u);c&&n.addMatcher(h.settled,c);n.exposeCaseReducer(o,{fulfilled:s||Mt,pending:l||Mt,rejected:u||Mt,settled:c||Mt})}(a,o,s,n)}));const u=e=>e,c=new WeakMap;let p;const h={name:t,reducerPath:r,reducer:(e,t)=>(p||(p=l()),p(e,t)),actions:a.actionCreators,caseReducers:a.sliceCaseReducersByName,getInitialState:()=>(p||(p=l()),p.getInitialState()),getSelectors(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;const n=ot(c,this,{insert:()=>new WeakMap});return ot(n,t,{insert:()=>{const n={};for(const[i,o]of Object.entries(null!==(r=e.selectors)&&void 0!==r?r:{})){var r;n[i]=Ot(this,o,t,this!==h)}return n}})},selectSlice(e){let t=e[this.reducerPath];return"undefined"===typeof t&&this!==h&&(t=this.getInitialState()),t},get selectors(){return this.getSelectors(this.selectSlice)},injectInto(e){let{reducerPath:t,...n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=null!==t&&void 0!==t?t:this.reducerPath;return e.inject({reducerPath:r,reducer:this.reducer},n),{...this,reducerPath:r}}};return h}}();function Mt(){}var jt="listener",Rt="completed",Lt="cancelled";"task-".concat(Lt),"task-".concat(Rt),"".concat(jt,"-").concat(Lt),"".concat(jt,"-").concat(Rt);var{assign:zt}=Object,Nt="listenerMiddleware";nt("".concat(Nt,"/add")),nt("".concat(Nt,"/removeAll")),nt("".concat(Nt,"/remove"));Symbol.for("rtk-state-proxy-original");function Bt(e){return"Minified Redux Toolkit error #".concat(e,"; visit https://redux-toolkit.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}var Ft=(e=>(e.uninitialized="uninitialized",e.pending="pending",e.fulfilled="fulfilled",e.rejected="rejected",e))(Ft||{});var Ut=e=>e.replace(/\/$/,""),Vt=e=>e.replace(/^\//,"");function qt(e,t){if(!e)return t;if(!t)return e;if(function(e){return new RegExp("(^|:)//").test(e)}(t))return t;const n=e.endsWith("/")||!t.startsWith("?")?"/":"";return e=Ut(e),t=Vt(t),"".concat(e).concat(n).concat(t)}var Wt=e=>[].concat(...e);var Ht=Ge;function Gt(e,t){if(e===t||!(Ht(e)&&Ht(t)||Array.isArray(e)&&Array.isArray(t)))return t;const n=Object.keys(t),r=Object.keys(e);let i=n.length===r.length;const o=Array.isArray(t)?[]:{};for(const a of n)o[a]=Gt(e[a],t[a]),i&&(i=e[a]===o[a]);return i?e:o}var Zt=function(){return fetch(...arguments)},Kt=e=>e.status>=200&&e.status<=299,Xt=e=>/ion\/(vnd\.api\+)?json/.test(e.get("content-type")||"");function Yt(e){if(!Ge(e))return e;const t={...e};for(const[n,r]of Object.entries(t))void 0===r&&delete t[n];return t}var $t=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;this.value=e,this.meta=t}};var Jt=nt("__rtkq/focused"),Qt=nt("__rtkq/unfocused"),en=nt("__rtkq/online"),tn=nt("__rtkq/offline");function nn(e){return"query"===e.type}function rn(e,t,n,r,i,o){return"function"===typeof e?e(t,n,r,i).map(on).map(o):Array.isArray(e)?e.map(on).map(o):[]}function on(e){return"string"===typeof e?{type:e}:e}function an(e){return null!=e}function sn(e){let t=0;for(const n in e)t++;return t}var ln=Symbol("forceQueryFn"),un=e=>"function"===typeof e[ln];function cn(e){return e}function pn(e,t,n,r){return rn(n[e.meta.arg.endpointName][t],bt(e)?e.payload:void 0,xt(e)?e.payload:void 0,e.meta.arg.originalArgs,"baseQueryMeta"in e.meta?e.meta.baseQueryMeta:void 0,r)}function hn(e,t,n){const r=e[t];r&&n(r)}function dn(e){var t;return null!==(t="arg"in e?e.arg.fixedCacheKey:e.fixedCacheKey)&&void 0!==t?t:e.requestId}function fn(e,t,n){const r=e[dn(t)];r&&n(r)}var mn={};function yn(e){let{reducerPath:t,queryThunk:n,mutationThunk:r,context:{endpointDefinitions:i,apiUid:o,extractRehydrationInfo:a,hasRehydrationInfo:s},assertTagType:l,config:u}=e;const c=nt("".concat(t,"/resetApiState")),p=Dt({name:"".concat(t,"/queries"),initialState:mn,reducers:{removeQueryResult:{reducer(e,t){let{payload:{queryCacheKey:n}}=t;delete e[n]},prepare:st()},queryResultPatched:{reducer(e,t){let{payload:{queryCacheKey:n,patches:r}}=t;hn(e,n,(e=>{e.data=Oe(e.data,r.concat())}))},prepare:st()}},extraReducers(e){e.addCase(n.pending,((e,t)=>{var n,r;let{meta:i,meta:{arg:o}}=t;const a=un(o);null!==(r=e[n=o.queryCacheKey])&&void 0!==r||(e[n]={status:"uninitialized",endpointName:o.endpointName}),hn(e,o.queryCacheKey,(e=>{e.status="pending",e.requestId=a&&e.requestId?e.requestId:i.requestId,void 0!==o.originalArgs&&(e.originalArgs=o.originalArgs),e.startedTimeStamp=i.startedTimeStamp}))})).addCase(n.fulfilled,((e,t)=>{let{meta:n,payload:r}=t;hn(e,n.arg.queryCacheKey,(e=>{if(e.requestId!==n.requestId&&!un(n.arg))return;const{merge:t}=i[n.arg.endpointName];var o;if(e.status="fulfilled",t)if(void 0!==e.data){const{fulfilledTimeStamp:i,arg:o,baseQueryMeta:a,requestId:s}=n;let l=Ae(e.data,(e=>t(e,r,{arg:o.originalArgs,baseQueryMeta:a,fulfilledTimeStamp:i,requestId:s})));e.data=l}else e.data=r;else e.data=null===(o=i[n.arg.endpointName].structuralSharing)||void 0===o||o?Gt(V(e.data)?function(e){return V(e)||F(15),e[B].base_}(e.data):e.data,r):r;delete e.error,e.fulfilledTimeStamp=n.fulfilledTimeStamp}))})).addCase(n.rejected,((e,t)=>{let{meta:{condition:n,arg:r,requestId:i},error:o,payload:a}=t;hn(e,r.queryCacheKey,(e=>{if(n);else{if(e.requestId!==i)return;e.status="rejected",e.error=null!==a&&void 0!==a?a:o}}))})).addMatcher(s,((e,t)=>{const{queries:n}=a(t);for(const[r,i]of Object.entries(n))"fulfilled"!==(null===i||void 0===i?void 0:i.status)&&"rejected"!==(null===i||void 0===i?void 0:i.status)||(e[r]=i)}))}}),h=Dt({name:"".concat(t,"/mutations"),initialState:mn,reducers:{removeMutationResult:{reducer(e,t){let{payload:n}=t;const r=dn(n);r in e&&delete e[r]},prepare:st()}},extraReducers(e){e.addCase(r.pending,((e,t)=>{let{meta:n,meta:{requestId:r,arg:i,startedTimeStamp:o}}=t;i.track&&(e[dn(n)]={requestId:r,status:"pending",endpointName:i.endpointName,startedTimeStamp:o})})).addCase(r.fulfilled,((e,t)=>{let{payload:n,meta:r}=t;r.arg.track&&fn(e,r,(e=>{e.requestId===r.requestId&&(e.status="fulfilled",e.data=n,e.fulfilledTimeStamp=r.fulfilledTimeStamp)}))})).addCase(r.rejected,((e,t)=>{let{payload:n,error:r,meta:i}=t;i.arg.track&&fn(e,i,(e=>{e.requestId===i.requestId&&(e.status="rejected",e.error=null!==n&&void 0!==n?n:r)}))})).addMatcher(s,((e,t)=>{const{mutations:n}=a(t);for(const[r,i]of Object.entries(n))"fulfilled"!==(null===i||void 0===i?void 0:i.status)&&"rejected"!==(null===i||void 0===i?void 0:i.status)||r===(null===i||void 0===i?void 0:i.requestId)||(e[r]=i)}))}}),d=Dt({name:"".concat(t,"/invalidation"),initialState:mn,reducers:{updateProvidedBy:{reducer(e,t){const{queryCacheKey:n,providedTags:r}=t.payload;for(const l of Object.values(e))for(const e of Object.values(l)){const t=e.indexOf(n);-1!==t&&e.splice(t,1)}for(const{type:l,id:u}of r){var i,o,a,s;const t=null!==(a=(i=null!==(s=e[l])&&void 0!==s?s:e[l]={})[o=u||"__internal_without_id"])&&void 0!==a?a:i[o]=[];t.includes(n)||t.push(n)}},prepare:st()}},extraReducers(e){e.addCase(p.actions.removeQueryResult,((e,t)=>{let{payload:{queryCacheKey:n}}=t;for(const r of Object.values(e))for(const e of Object.values(r)){const t=e.indexOf(n);-1!==t&&e.splice(t,1)}})).addMatcher(s,((e,t)=>{const{provided:n}=a(t);for(const[a,l]of Object.entries(n))for(const[t,n]of Object.entries(l)){var r,i,o,s;const l=null!==(o=(r=null!==(s=e[a])&&void 0!==s?s:e[a]={})[i=t||"__internal_without_id"])&&void 0!==o?o:r[i]=[];for(const e of n){l.includes(e)||l.push(e)}}})).addMatcher(ft(bt(n),xt(n)),((e,t)=>{const n=pn(t,"providesTags",i,l),{queryCacheKey:r}=t.meta.arg;d.caseReducers.updateProvidedBy(e,d.actions.updateProvidedBy({queryCacheKey:r,providedTags:n}))}))}}),f=Dt({name:"".concat(t,"/subscriptions"),initialState:mn,reducers:{updateSubscriptionOptions(e,t){},unsubscribeQueryResult(e,t){},internal_getRTKQSubscriptions(){}}}),m=Dt({name:"".concat(t,"/internalSubscriptions"),initialState:mn,reducers:{subscriptionsUpdated:{reducer:(e,t)=>Oe(e,t.payload),prepare:st()}}}),y=Dt({name:"".concat(t,"/config"),initialState:{online:"undefined"===typeof navigator||void 0===navigator.onLine||navigator.onLine,focused:"undefined"===typeof document||"hidden"!==document.visibilityState,middlewareRegistered:!1,...u},reducers:{middlewareRegistered(e,t){let{payload:n}=t;e.middlewareRegistered="conflict"!==e.middlewareRegistered&&o===n||"conflict"}},extraReducers:e=>{e.addCase(en,(e=>{e.online=!0})).addCase(tn,(e=>{e.online=!1})).addCase(Jt,(e=>{e.focused=!0})).addCase(Qt,(e=>{e.focused=!1})).addMatcher(s,(e=>({...e})))}}),v=Ke({queries:p.reducer,mutations:h.reducer,provided:d.reducer,subscriptions:m.reducer,config:y.reducer});return{reducer:(e,t)=>v(c.match(t)?void 0:e,t),actions:{...y.actions,...p.actions,...f.actions,...m.actions,...h.actions,...d.actions,resetApiState:c}}}var vn=Symbol.for("RTKQ/skipToken"),gn={status:"uninitialized"},_n=Ae(gn,(()=>{})),xn=Ae(gn,(()=>{}));var bn=WeakMap?new WeakMap:void 0,wn=e=>{let{endpointName:t,queryArgs:n}=e,r="";const i=null===bn||void 0===bn?void 0:bn.get(n);if("string"===typeof i)r=i;else{const e=JSON.stringify(n,((e,t)=>Ge(t)?Object.keys(t).sort().reduce(((e,n)=>(e[n]=t[n],e)),{}):t));Ge(n)&&(null===bn||void 0===bn||bn.set(n,e)),r=e}return"".concat(t,"(").concat(r,")")};function Sn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){const n=Be((t=>{var n,r;return null===(n=e.extractRehydrationInfo)||void 0===n?void 0:n.call(e,t,{reducerPath:null!==(r=e.reducerPath)&&void 0!==r?r:"api"})})),r={reducerPath:"api",keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1,invalidationBehavior:"delayed",...e,extractRehydrationInfo:n,serializeQueryArgs(t){let n=wn;if("serializeQueryArgs"in t.endpointDefinition){const e=t.endpointDefinition.serializeQueryArgs;n=t=>{const n=e(t);return"string"===typeof n?n:wn({...t,queryArgs:n})}}else e.serializeQueryArgs&&(n=e.serializeQueryArgs);return n(t)},tagTypes:[...e.tagTypes||[]]},i={endpointDefinitions:{},batch(e){e()},apiUid:ht(),extractRehydrationInfo:n,hasRehydrationInfo:Be((e=>null!=n(e)))},o={injectEndpoints:function(e){const t=e.endpoints({query:e=>({...e,type:"query"}),mutation:e=>({...e,type:"mutation"})});for(const[n,r]of Object.entries(t))if(e.overrideExisting||!(n in i.endpointDefinitions)){i.endpointDefinitions[n]=r;for(const e of a)e.injectEndpoint(n,r)}return o},enhanceEndpoints(e){let{addTagTypes:t,endpoints:n}=e;if(t)for(const i of t)r.tagTypes.includes(i)||r.tagTypes.push(i);if(n)for(const[r,o]of Object.entries(n))"function"===typeof o?o(i.endpointDefinitions[r]):Object.assign(i.endpointDefinitions[r]||{},o);return o}},a=t.map((e=>e.init(o,r,i)));return o.injectEndpoints({endpoints:e.endpoints})}}var En=e=>{let{reducerPath:t,api:n,context:r,internalState:i}=e;const{removeQueryResult:o,unsubscribeQueryResult:a}=n.internalActions;function s(e){const t=i.currentSubscriptions[e];return!!t&&!function(e){for(let t in e)return!1;return!0}(t)}const l={};function u(e,t,n,i){var a;const u=r.endpointDefinitions[t],c=null!==(a=null===u||void 0===u?void 0:u.keepUnusedDataFor)&&void 0!==a?a:i.keepUnusedDataFor;if(c===1/0)return;const p=Math.max(0,Math.min(c,2147482.647));if(!s(e)){const t=l[e];t&&clearTimeout(t),l[e]=setTimeout((()=>{s(e)||n.dispatch(o({queryCacheKey:e})),delete l[e]}),1e3*p)}}return(e,i,o)=>{if(a.match(e)){var s;const n=i.getState()[t],{queryCacheKey:r}=e.payload;u(r,null===(s=n.queries[r])||void 0===s?void 0:s.endpointName,i,n.config)}if(n.util.resetApiState.match(e))for(const[t,n]of Object.entries(l))n&&clearTimeout(n),delete l[t];if(r.hasRehydrationInfo(e)){const n=i.getState()[t],{queries:o}=r.extractRehydrationInfo(e);for(const[e,t]of Object.entries(o))u(e,null===t||void 0===t?void 0:t.endpointName,i,n.config)}}},Tn=e=>{let{reducerPath:t,context:n,context:{endpointDefinitions:r},mutationThunk:i,queryThunk:o,api:a,assertTagType:s,refetchQuery:l,internalState:u}=e;const{removeQueryResult:c}=a.internalActions,p=ft(bt(i),xt(i)),h=ft(bt(i,o),_t(i,o));let d=[];function f(e,r){const i=r.getState(),o=i[t];if(d.push(...e),"delayed"===o.config.invalidationBehavior&&function(e){for(const r in e.queries){var t;if("pending"===(null===(t=e.queries[r])||void 0===t?void 0:t.status))return!0}for(const r in e.mutations){var n;if("pending"===(null===(n=e.mutations[r])||void 0===n?void 0:n.status))return!0}return!1}(o))return;const s=d;if(d=[],0===s.length)return;const p=a.util.selectInvalidatedBy(i,s);n.batch((()=>{const e=Array.from(p.values());for(const{queryCacheKey:n}of e){var t;const e=o.queries[n],i=null!==(t=u.currentSubscriptions[n])&&void 0!==t?t:{};e&&(0===sn(i)?r.dispatch(c({queryCacheKey:n})):"uninitialized"!==e.status&&r.dispatch(l(e,n)))}}))}return(e,t)=>{p(e)?f(pn(e,"invalidatesTags",r,s),t):h(e)?f([],t):a.util.invalidateTags.match(e)&&f(rn(e.payload,void 0,void 0,void 0,void 0,s),t)}},Pn=e=>{let{reducerPath:t,queryThunk:n,api:r,refetchQuery:i,internalState:o}=e;const a={};function s(e,n){let{queryCacheKey:r}=e;const s=n.getState()[t].queries[r],l=o.currentSubscriptions[r];if(!s||"uninitialized"===s.status)return;const u=c(l);if(!Number.isFinite(u))return;const p=a[r];null!==p&&void 0!==p&&p.timeout&&(clearTimeout(p.timeout),p.timeout=void 0);const h=Date.now()+u,d=a[r]={nextPollTimestamp:h,pollingInterval:u,timeout:setTimeout((()=>{d.timeout=void 0,n.dispatch(i(s,r))}),u)}}function l(e,n){let{queryCacheKey:r}=e;const i=n.getState()[t].queries[r],l=o.currentSubscriptions[r];if(!i||"uninitialized"===i.status)return;const p=c(l);if(!Number.isFinite(p))return void u(r);const h=a[r],d=Date.now()+p;(!h||d<h.nextPollTimestamp)&&s({queryCacheKey:r},n)}function u(e){const t=a[e];null!==t&&void 0!==t&&t.timeout&&clearTimeout(t.timeout),delete a[e]}function c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Number.POSITIVE_INFINITY;for(let n in e)e[n].pollingInterval&&(t=Math.min(e[n].pollingInterval,t));return t}return(e,t)=>{(r.internalActions.updateSubscriptionOptions.match(e)||r.internalActions.unsubscribeQueryResult.match(e))&&l(e.payload,t),(n.pending.match(e)||n.rejected.match(e)&&e.meta.condition)&&l(e.meta.arg,t),(n.fulfilled.match(e)||n.rejected.match(e)&&!e.meta.condition)&&s(e.meta.arg,t),r.util.resetApiState.match(e)&&function(){for(const e of Object.keys(a))u(e)}()}},Cn=new Error("Promise never resolved before cacheEntryRemoved."),kn=e=>{let{api:t,reducerPath:n,context:r,queryThunk:i,mutationThunk:o,internalState:a}=e;const s=wt(i),l=wt(o),u=bt(i,o),c={};function p(e,n,i,o,a){const s=r.endpointDefinitions[e],l=null===s||void 0===s?void 0:s.onCacheEntryAdded;if(!l)return;let u={};const p=new Promise((e=>{u.cacheEntryRemoved=e})),h=Promise.race([new Promise((e=>{u.valueResolved=e})),p.then((()=>{throw Cn}))]);h.catch((()=>{})),c[i]=u;const d=t.endpoints[e].select("query"===s.type?n:i),f=o.dispatch(((e,t,n)=>n)),m={...o,getCacheEntry:()=>d(o.getState()),requestId:a,extra:f,updateCachedData:"query"===s.type?r=>o.dispatch(t.util.updateQueryData(e,n,r)):void 0,cacheDataLoaded:h,cacheEntryRemoved:p},y=l(n,m);Promise.resolve(y).catch((e=>{if(e!==Cn)throw e}))}return(e,r,a)=>{const h=function(e){return s(e)?e.meta.arg.queryCacheKey:l(e)?e.meta.requestId:t.internalActions.removeQueryResult.match(e)?e.payload.queryCacheKey:t.internalActions.removeMutationResult.match(e)?dn(e.payload):""}(e);if(i.pending.match(e)){const t=a[n].queries[h],i=r.getState()[n].queries[h];!t&&i&&p(e.meta.arg.endpointName,e.meta.arg.originalArgs,h,r,e.meta.requestId)}else if(o.pending.match(e)){r.getState()[n].mutations[h]&&p(e.meta.arg.endpointName,e.meta.arg.originalArgs,h,r,e.meta.requestId)}else if(u(e)){const t=c[h];null!==t&&void 0!==t&&t.valueResolved&&(t.valueResolved({data:e.payload,meta:e.meta.baseQueryMeta}),delete t.valueResolved)}else if(t.internalActions.removeQueryResult.match(e)||t.internalActions.removeMutationResult.match(e)){const e=c[h];e&&(delete c[h],e.cacheEntryRemoved())}else if(t.util.resetApiState.match(e))for(const[t,n]of Object.entries(c))delete c[t],n.cacheEntryRemoved()}},An=e=>{let{api:t,context:n,queryThunk:r,mutationThunk:i}=e;const o=gt(r,i),a=_t(r,i),s=bt(r,i),l={};return(e,r)=>{if(o(e)){const{requestId:i,arg:{endpointName:o,originalArgs:a}}=e.meta,s=n.endpointDefinitions[o],u=null===s||void 0===s?void 0:s.onQueryStarted;if(u){const e={},n=new Promise(((t,n)=>{e.resolve=t,e.reject=n}));n.catch((()=>{})),l[i]=e;const c=t.endpoints[o].select("query"===s.type?a:i),p=r.dispatch(((e,t,n)=>n)),h={...r,getCacheEntry:()=>c(r.getState()),requestId:i,extra:p,updateCachedData:"query"===s.type?e=>r.dispatch(t.util.updateQueryData(o,a,e)):void 0,queryFulfilled:n};u(a,h)}}else if(s(e)){var i;const{requestId:t,baseQueryMeta:n}=e.meta;null===(i=l[t])||void 0===i||i.resolve({data:e.payload,meta:n}),delete l[t]}else if(a(e)){var u,c;const{requestId:t,rejectedWithValue:n,baseQueryMeta:r}=e.meta;null===(u=l[t])||void 0===u||u.reject({error:null!==(c=e.payload)&&void 0!==c?c:e.error,isUnhandledError:!n,meta:r}),delete l[t]}}},In=e=>{let{api:t,context:{apiUid:n},reducerPath:r}=e;return(e,r)=>{t.util.resetApiState.match(e)&&r.dispatch(t.internalActions.middlewareRegistered(n))}},On=e=>{let{api:t,queryThunk:n,internalState:r}=e;const i="".concat(t.reducerPath,"/subscriptions");let o=null,a=null;const{updateSubscriptionOptions:s,unsubscribeQueryResult:l}=t.internalActions,u=()=>r.currentSubscriptions,c={getSubscriptions:u,getSubscriptionCount:e=>{var t;return sn(null!==(t=u()[e])&&void 0!==t?t:{})},isRequestSubscribed:(e,t)=>{var n;const r=u();return!(null===r||void 0===r||null===(n=r[e])||void 0===n||!n[t])}};return(e,u)=>{if(o||(o=JSON.parse(JSON.stringify(r.currentSubscriptions))),t.util.resetApiState.match(e))return o=r.currentSubscriptions={},a=null,[!0,!1];if(t.internalActions.internal_getRTKQSubscriptions.match(e))return[!1,c];const p=((e,r)=>{if(s.match(r)){var i;const{queryCacheKey:t,requestId:n,options:o}=r.payload;return null!==e&&void 0!==e&&null!==(i=e[t])&&void 0!==i&&i[n]&&(e[t][n]=o),!0}if(l.match(r)){const{queryCacheKey:t,requestId:n}=r.payload;return e[t]&&delete e[t][n],!0}if(t.internalActions.removeQueryResult.match(r))return delete e[r.payload.queryCacheKey],!0;if(n.pending.match(r)){var o,a;const{meta:{arg:t,requestId:n}}=r,i=null!==(a=e[o=t.queryCacheKey])&&void 0!==a?a:e[o]={};var u,c;return i["".concat(n,"_running")]={},t.subscribe&&(i[n]=null!==(u=null!==(c=t.subscriptionOptions)&&void 0!==c?c:i[n])&&void 0!==u?u:{}),!0}let p=!1;if(n.fulfilled.match(r)||n.rejected.match(r)){const t=e[r.meta.arg.queryCacheKey]||{},n="".concat(r.meta.requestId,"_running");p||(p=!!t[n]),delete t[n]}if(n.rejected.match(r)){const{meta:{condition:t,arg:n,requestId:i}}=r;if(t&&n.subscribe){var h,d,f,m;const t=null!==(d=e[h=n.queryCacheKey])&&void 0!==d?d:e[h]={};t[i]=null!==(f=null!==(m=n.subscriptionOptions)&&void 0!==m?m:t[i])&&void 0!==f?f:{},p=!0}}return p})(r.currentSubscriptions,e);let h=!0;if(p){a||(a=setTimeout((()=>{const e=JSON.parse(JSON.stringify(r.currentSubscriptions)),[,n]=Ie(o,(()=>e));u.next(t.internalActions.subscriptionsUpdated(n)),o=e,a=null}),500));const s="string"==typeof e.type&&!!e.type.startsWith(i),l=n.rejected.match(e)&&e.meta.condition&&!!e.meta.arg.subscribe;h=!s&&!l}return[h,!1]}};function Dn(e){const{reducerPath:t,queryThunk:n,api:r,context:i}=e,{apiUid:o}=i,a={invalidateTags:nt("".concat(t,"/invalidateTags"))},s=e=>e.type.startsWith("".concat(t,"/")),l=[In,En,Tn,Pn,kn,An];return{middleware:n=>{let a=!1;const c={...e,internalState:{currentSubscriptions:{}},refetchQuery:u,isThisApiSliceAction:s},p=l.map((e=>e(c))),h=On(c),d=(e=>{let{reducerPath:t,context:n,api:r,refetchQuery:i,internalState:o}=e;const{removeQueryResult:a}=r.internalActions;function s(e,r){const s=e.getState()[t],l=s.queries,u=o.currentSubscriptions;n.batch((()=>{for(const t of Object.keys(u)){const n=l[t],o=u[t];o&&n&&((Object.values(o).some((e=>!0===e[r]))||Object.values(o).every((e=>void 0===e[r]))&&s.config[r])&&(0===sn(o)?e.dispatch(a({queryCacheKey:t})):"uninitialized"!==n.status&&e.dispatch(i(n,t))))}}))}return(e,t)=>{Jt.match(e)&&s(t,"refetchOnFocus"),en.match(e)&&s(t,"refetchOnReconnect")}})(c);return e=>l=>{if(!Ye(l))return e(l);a||(a=!0,n.dispatch(r.internalActions.middlewareRegistered(o)));const u={...n,next:e},c=n.getState(),[f,m]=h(l,u,c);let y;if(y=f?e(l):m,n.getState()[t]&&(d(l,u,c),s(l)||i.hasRehydrationInfo(l)))for(let e of p)e(l,u,c);return y}},actions:a};function u(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n({type:"query",endpointName:e.endpointName,originalArgs:e.originalArgs,subscribe:!1,forceRefetch:!0,queryCacheKey:t,...r})}}function Mn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Object.assign(e,...n)}var jn=Symbol(),Rn=()=>({name:jn,init(e,t,n){let{baseQuery:r,tagTypes:i,reducerPath:o,serializeQueryArgs:a,keepUnusedDataFor:s,refetchOnMountOrArgChange:l,refetchOnFocus:u,refetchOnReconnect:c,invalidationBehavior:p}=t;Ce();const h=e=>e;Object.assign(e,{reducerPath:o,endpoints:{},internalActions:{onOnline:en,onOffline:tn,onFocus:Jt,onFocusLost:Qt},util:{}});const{queryThunk:d,mutationThunk:f,patchQueryData:m,updateQueryData:y,upsertQueryData:v,prefetch:g,buildMatchThunkActions:_}=function(e){let{reducerPath:t,baseQuery:n,context:{endpointDefinitions:r},serializeQueryArgs:i,api:o,assertTagType:a}=e;const s=async(e,t)=>{let{signal:i,abort:o,rejectWithValue:a,fulfillWithValue:s,dispatch:u,getState:c,extra:p}=t;const h=r[e.endpointName];try{let t,r=cn;const a={signal:i,abort:o,dispatch:u,getState:c,extra:p,endpoint:e.endpointName,type:e.type,forced:"query"===e.type?l(e,c()):void 0},d="query"===e.type?e[ln]:void 0;if(d?t=d():h.query?(t=await n(h.query(e.originalArgs),a,h.extraOptions),h.transformResponse&&(r=h.transformResponse)):t=await h.queryFn(e.originalArgs,a,h.extraOptions,(e=>n(e,a,h.extraOptions))),t.error)throw new $t(t.error,t.meta);return s(await r(t.data,t.meta,e.originalArgs),{fulfilledTimeStamp:Date.now(),baseQueryMeta:t.meta,[at]:!0})}catch(d){let t=d;if(t instanceof $t){let n=cn;h.query&&h.transformErrorResponse&&(n=h.transformErrorResponse);try{return a(await n(t.value,t.meta,e.originalArgs),{baseQueryMeta:t.meta,[at]:!0})}catch(f){t=f}}throw console.error(t),t}};function l(e,n){var r,i,o;const a=null===(r=n[t])||void 0===r||null===(r=r.queries)||void 0===r?void 0:r[e.queryCacheKey],s=null===(i=n[t])||void 0===i?void 0:i.config.refetchOnMountOrArgChange,l=null===a||void 0===a?void 0:a.fulfilledTimeStamp,u=null!==(o=e.forceRefetch)&&void 0!==o?o:e.subscribe&&s;return!!u&&(!0===u||(Number(new Date)-Number(l))/1e3>=u)}const u=Ct("".concat(t,"/executeQuery"),s,{getPendingMeta:()=>({startedTimeStamp:Date.now(),[at]:!0}),condition(e,n){var i,o;let{getState:a}=n;const s=a(),u=null===(i=s[t])||void 0===i||null===(i=i.queries)||void 0===i?void 0:i[e.queryCacheKey],c=null===u||void 0===u?void 0:u.fulfilledTimeStamp,p=e.originalArgs,h=null===u||void 0===u?void 0:u.originalArgs,d=r[e.endpointName];return!!un(e)||"pending"!==(null===u||void 0===u?void 0:u.status)&&(!!l(e,s)||!(!nn(d)||null===d||void 0===d||null===(o=d.forceRefetch)||void 0===o||!o.call(d,{currentArg:p,previousArg:h,endpointState:u,state:s}))||!c)},dispatchConditionRejection:!0}),c=Ct("".concat(t,"/executeMutation"),s,{getPendingMeta:()=>({startedTimeStamp:Date.now(),[at]:!0})});function p(e){return t=>{var n;return(null===t||void 0===t||null===(n=t.meta)||void 0===n||null===(n=n.arg)||void 0===n?void 0:n.endpointName)===e}}return{queryThunk:u,mutationThunk:c,prefetch:(e,t,n)=>(r,i)=>{const a=(e=>"force"in e)(n)&&n.force,s=(e=>"ifOlderThan"in e)(n)&&n.ifOlderThan,l=function(){let n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return o.endpoints[e].initiate(t,{forceRefetch:n})},u=o.endpoints[e].select(t)(i());if(a)r(l());else if(s){const e=null===u||void 0===u?void 0:u.fulfilledTimeStamp;if(!e)return void r(l());(Number(new Date)-Number(new Date(e)))/1e3>=s&&r(l())}else r(l(!1))},updateQueryData:function(e,t,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return(i,a)=>{const s=o.endpoints[e].select(t)(a());let l,u={patches:[],inversePatches:[],undo:()=>i(o.util.patchQueryData(e,t,u.inversePatches,r))};if("uninitialized"===s.status)return u;if("data"in s)if(q(s.data)){const[e,t,r]=Ie(s.data,n);u.patches.push(...t),u.inversePatches.push(...r),l=e}else l=n(s.data),u.patches.push({op:"replace",path:[],value:l}),u.inversePatches.push({op:"replace",path:[],value:s.data});return i(o.util.patchQueryData(e,t,u.patches,r)),u}},upsertQueryData:(e,t,n)=>r=>r(o.endpoints[e].initiate(t,{subscribe:!1,forceRefetch:!0,[ln]:()=>({data:n})})),patchQueryData:(e,t,n,s)=>(l,u)=>{const c=r[e],p=i({queryArgs:t,endpointDefinition:c,endpointName:e});if(l(o.internalActions.queryResultPatched({queryCacheKey:p,patches:n})),!s)return;const h=o.endpoints[e].select(t)(u()),d=rn(c.providesTags,h.data,void 0,t,{},a);l(o.internalActions.updateProvidedBy({queryCacheKey:p,providedTags:d}))},buildMatchThunkActions:function(e,t){return{matchPending:mt(gt(e),p(t)),matchFulfilled:mt(bt(e),p(t)),matchRejected:mt(_t(e),p(t))}}}}({baseQuery:r,reducerPath:o,context:n,api:e,serializeQueryArgs:a,assertTagType:h}),{reducer:x,actions:b}=yn({context:n,queryThunk:d,mutationThunk:f,reducerPath:o,assertTagType:h,config:{refetchOnFocus:u,refetchOnReconnect:c,refetchOnMountOrArgChange:l,keepUnusedDataFor:s,reducerPath:o,invalidationBehavior:p}});Mn(e.util,{patchQueryData:m,updateQueryData:y,upsertQueryData:v,prefetch:g,resetApiState:b.resetApiState}),Mn(e.internalActions,b);const{middleware:w,actions:S}=Dn({reducerPath:o,context:n,queryThunk:d,mutationThunk:f,api:e,assertTagType:h});Mn(e.util,S),Mn(e,{reducer:x,middleware:w});const{buildQuerySelector:E,buildMutationSelector:T,selectInvalidatedBy:P,selectCachedArgsForQuery:C}=function(e){let{serializeQueryArgs:t,reducerPath:n}=e;const r=e=>_n,i=e=>xn;return{buildQuerySelector:function(e,n){return i=>{const s=t({queryArgs:i,endpointDefinition:n,endpointName:e});return Ue(i===vn?r:e=>{var t,n;return null!==(t=null===(n=a(e))||void 0===n||null===(n=n.queries)||void 0===n?void 0:n[s])&&void 0!==t?t:_n},o)}},buildMutationSelector:function(){return e=>{let t;var n;return t="object"===typeof e?null!==(n=dn(e))&&void 0!==n?n:vn:e,Ue(t===vn?i:e=>{var n,r;return null!==(n=null===(r=a(e))||void 0===r||null===(r=r.mutations)||void 0===r?void 0:r[t])&&void 0!==n?n:xn},o)}},selectInvalidatedBy:function(e,t){const r=e[n],i=new Set;for(const n of t.map(on)){var o;const e=r.provided[n.type];if(!e)continue;let t=null!==(o=void 0!==n.id?e[n.id]:Wt(Object.values(e)))&&void 0!==o?o:[];for(const n of t)i.add(n)}return Wt(Array.from(i.values()).map((e=>{const t=r.queries[e];return t?[{queryCacheKey:e,endpointName:t.endpointName,originalArgs:t.originalArgs}]:[]})))},selectCachedArgsForQuery:function(e,t){return Object.values(e[n].queries).filter((e=>(null===e||void 0===e?void 0:e.endpointName)===t&&"uninitialized"!==e.status)).map((e=>e.originalArgs))}};function o(e){return{...e,...(t=e.status,{status:t,isUninitialized:"uninitialized"===t,isLoading:"pending"===t,isSuccess:"fulfilled"===t,isError:"rejected"===t})};var t}function a(e){return e[n]}}({serializeQueryArgs:a,reducerPath:o});Mn(e.util,{selectInvalidatedBy:P,selectCachedArgsForQuery:C});const{buildInitiateQuery:k,buildInitiateMutation:A,getRunningMutationThunk:I,getRunningMutationsThunk:O,getRunningQueriesThunk:D,getRunningQueryThunk:M}=function(e){let{serializeQueryArgs:t,queryThunk:n,mutationThunk:r,api:i,context:o}=e;const a=new Map,s=new Map,{unsubscribeQueryResult:l,removeMutationResult:u,updateSubscriptionOptions:c}=i.internalActions;return{buildInitiateQuery:function(e,r){const o=function(s){let{subscribe:u=!0,forceRefetch:h,subscriptionOptions:d,[ln]:f}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(m,y)=>{var v;const g=t({queryArgs:s,endpointDefinition:r,endpointName:e}),_=n({type:"query",subscribe:u,forceRefetch:h,subscriptionOptions:d,endpointName:e,originalArgs:s,queryCacheKey:g,[ln]:f}),x=i.endpoints[e].select(s),b=m(_),w=x(y());p(m);const{requestId:S,abort:E}=b,T=w.requestId!==S,P=null===(v=a.get(m))||void 0===v?void 0:v[g],C=()=>x(y()),k=Object.assign(f?b.then(C):T&&!P?Promise.resolve(w):Promise.all([P,b]).then(C),{arg:s,requestId:S,subscriptionOptions:d,queryCacheKey:g,abort:E,async unwrap(){const e=await k;if(e.isError)throw e.error;return e.data},refetch:()=>m(o(s,{subscribe:!1,forceRefetch:!0})),unsubscribe(){u&&m(l({queryCacheKey:g,requestId:S}))},updateSubscriptionOptions(t){k.subscriptionOptions=t,m(c({endpointName:e,requestId:S,queryCacheKey:g,options:t}))}});if(!P&&!T&&!f){const e=a.get(m)||{};e[g]=k,a.set(m,e),k.then((()=>{delete e[g],sn(e)||a.delete(m)}))}return k}};return o},buildInitiateMutation:function(e){return function(t){let{track:n=!0,fixedCacheKey:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(o,a)=>{const l=r({type:"mutation",endpointName:e,originalArgs:t,track:n,fixedCacheKey:i}),c=o(l);p(o);const{requestId:h,abort:d,unwrap:f}=c,m=c.unwrap().then((e=>({data:e}))).catch((e=>({error:e}))),y=Object.assign(m,{arg:c.arg,requestId:h,abort:d,unwrap:f,reset:()=>{o(u({requestId:h,fixedCacheKey:i}))}}),v=s.get(o)||{};return s.set(o,v),v[h]=y,y.then((()=>{delete v[h],sn(v)||s.delete(o)})),i&&(v[i]=y,y.then((()=>{v[i]===y&&(delete v[i],sn(v)||s.delete(o))}))),y}}},getRunningQueryThunk:function(e,n){return r=>{var i;const s=o.endpointDefinitions[e],l=t({queryArgs:n,endpointDefinition:s,endpointName:e});return null===(i=a.get(r))||void 0===i?void 0:i[l]}},getRunningMutationThunk:function(e,t){return e=>{var n;return null===(n=s.get(e))||void 0===n?void 0:n[t]}},getRunningQueriesThunk:function(){return e=>Object.values(a.get(e)||{}).filter(an)},getRunningMutationsThunk:function(){return e=>Object.values(s.get(e)||{}).filter(an)}};function p(e){}}({queryThunk:d,mutationThunk:f,api:e,serializeQueryArgs:a,context:n});return Mn(e.util,{getRunningMutationThunk:I,getRunningMutationsThunk:O,getRunningQueryThunk:M,getRunningQueriesThunk:D}),{name:jn,injectEndpoint(t,n){var r,i;const o=e;null!==(i=(r=o.endpoints)[t])&&void 0!==i||(r[t]={}),nn(n)?Mn(o.endpoints[t],{name:t,select:E(t,n),initiate:k(t,n)},_(d,t)):"mutation"===n.type&&Mn(o.endpoints[t],{name:t,select:T(),initiate:A(t)},_(f,t))}}}});Rn();function Ln(e,t,n,i){const o=(0,r.useMemo)((()=>({queryArgs:e,serialized:"object"==typeof e?t({queryArgs:e,endpointDefinition:n,endpointName:i}):e})),[e,t,n,i]),a=(0,r.useRef)(o);return(0,r.useEffect)((()=>{a.current.serialized!==o.serialized&&(a.current=o)}),[o]),a.current.serialized===o.serialized?a.current.queryArgs:e}var zn=Symbol();function Nn(e){const t=(0,r.useRef)(e);return(0,r.useEffect)((()=>{P(t.current,e)||(t.current=e)}),[e]),P(t.current,e)?t.current:e}var Bn=WeakMap?new WeakMap:void 0,Fn=e=>{let{endpointName:t,queryArgs:n}=e,r="";const i=null===Bn||void 0===Bn?void 0:Bn.get(n);if("string"===typeof i)r=i;else{const e=JSON.stringify(n,((e,t)=>Ge(t)?Object.keys(t).sort().reduce(((e,n)=>(e[n]=t[n],e)),{}):t));Ge(n)&&(null===Bn||void 0===Bn||Bn.set(n,e)),r=e}return"".concat(t,"(").concat(r,")")},Un="undefined"!==typeof window&&window.document&&window.document.createElement?r.useLayoutEffect:r.useEffect,Vn=e=>e.isUninitialized?{...e,isUninitialized:!1,isFetching:!0,isLoading:void 0===e.data,status:Ft.pending}:e;function qn(e){return e.replace(e[0],e[0].toUpperCase())}function Wn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Object.assign(e,...n)}var Hn=Symbol();var Gn=Sn(Rn(),function(){let{batch:e=M,hooks:t={useDispatch:D,useSelector:x,useStore:A},unstable__sideEffectsInRender:n=!1,...i}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{name:Hn,init(i,o,a){let{serializeQueryArgs:s}=o;const l=i,{buildQueryHooks:u,buildMutationHook:c,usePrefetch:p}=function(e){let{api:t,moduleOptions:{batch:n,hooks:{useDispatch:i,useSelector:o,useStore:a},unstable__sideEffectsInRender:s},serializeQueryArgs:l,context:u}=e;const c=s?e=>e():r.useEffect;return{buildQueryHooks:function(e){const s=function(n){let{refetchOnReconnect:o,refetchOnFocus:a,refetchOnMountOrArgChange:s,skip:l=!1,pollingInterval:p=0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{initiate:h}=t.endpoints[e],d=i(),f=(0,r.useRef)();if(!f.current){const e=d(t.internalActions.internal_getRTKQSubscriptions());f.current=e}const m=Ln(l?vn:n,Fn,u.endpointDefinitions[e],e),y=Nn({refetchOnReconnect:o,refetchOnFocus:a,pollingInterval:p}),v=(0,r.useRef)(!1),g=(0,r.useRef)();let{queryCacheKey:_,requestId:x}=g.current||{},b=!1;_&&x&&(b=f.current.isRequestSubscribed(_,x));const w=!b&&v.current;return c((()=>{v.current=b})),c((()=>{w&&(g.current=void 0)}),[w]),c((()=>{var e;const t=g.current;if(m===vn)return null===t||void 0===t||t.unsubscribe(),void(g.current=void 0);const n=null===(e=g.current)||void 0===e?void 0:e.subscriptionOptions;if(t&&t.arg===m)y!==n&&t.updateSubscriptionOptions(y);else{null===t||void 0===t||t.unsubscribe();const e=d(h(m,{subscriptionOptions:y,forceRefetch:s}));g.current=e}}),[d,h,s,m,y,w]),(0,r.useEffect)((()=>()=>{var e;null===(e=g.current)||void 0===e||e.unsubscribe(),g.current=void 0}),[]),(0,r.useMemo)((()=>({refetch:()=>{var e;if(!g.current)throw new Error(Bt(38));return null===(e=g.current)||void 0===e?void 0:e.refetch()}})),[])},h=function(){let{refetchOnReconnect:o,refetchOnFocus:a,pollingInterval:s=0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{initiate:l}=t.endpoints[e],u=i(),[p,h]=(0,r.useState)(zn),d=(0,r.useRef)(),f=Nn({refetchOnReconnect:o,refetchOnFocus:a,pollingInterval:s});c((()=>{var e;const t=null===(e=d.current)||void 0===e?void 0:e.subscriptionOptions;var n;f!==t&&(null===(n=d.current)||void 0===n||n.updateSubscriptionOptions(f))}),[f]);const m=(0,r.useRef)(f);c((()=>{m.current=f}),[f]);const y=(0,r.useCallback)((function(e){let t,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n((()=>{var n;null===(n=d.current)||void 0===n||n.unsubscribe(),d.current=t=u(l(e,{subscriptionOptions:m.current,forceRefetch:!r})),h(e)})),t}),[u,l]);return(0,r.useEffect)((()=>()=>{var e;null===d||void 0===d||null===(e=d.current)||void 0===e||e.unsubscribe()}),[]),(0,r.useEffect)((()=>{p===zn||d.current||y(p,!0)}),[p,y]),(0,r.useMemo)((()=>[y,p]),[y,p])},d=function(n){let{skip:i=!1,selectFromResult:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{select:c}=t.endpoints[e],h=Ln(i?vn:n,l,u.endpointDefinitions[e],e),d=(0,r.useRef)(),f=(0,r.useMemo)((()=>Ue([c(h),(e,t)=>t,e=>h],p)),[c,h]),m=(0,r.useMemo)((()=>s?Ue([f],s,{devModeChecks:{identityFunctionCheck:"never"}}):f),[f,s]),y=o((e=>m(e,d.current)),P),v=a(),g=f(v.getState(),d.current);return Un((()=>{d.current=g}),[g]),y};return{useQueryState:d,useQuerySubscription:s,useLazyQuerySubscription:h,useLazyQuery(e){const[t,n]=h(e),i=d(n,{...e,skip:n===zn}),o=(0,r.useMemo)((()=>({lastArg:n})),[n]);return(0,r.useMemo)((()=>[t,i,o]),[t,i,o])},useQuery(e,t){const n=s(e,t),i=d(e,{selectFromResult:e===vn||null!==t&&void 0!==t&&t.skip?void 0:Vn,...t}),{data:o,status:a,isLoading:l,isSuccess:u,isError:c,error:p}=i;return(0,r.useDebugValue)({data:o,status:a,isLoading:l,isSuccess:u,isError:c,error:p}),(0,r.useMemo)((()=>({...i,...n})),[i,n])}}},buildMutationHook:function(e){return function(){let{selectFromResult:a,fixedCacheKey:s}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{select:l,initiate:u}=t.endpoints[e],c=i(),[p,h]=(0,r.useState)();(0,r.useEffect)((()=>()=>{null!==p&&void 0!==p&&p.arg.fixedCacheKey||null===p||void 0===p||p.reset()}),[p]);const d=(0,r.useCallback)((function(e){const t=c(u(e,{fixedCacheKey:s}));return h(t),t}),[c,u,s]),{requestId:f}=p||{},m=(0,r.useMemo)((()=>l({fixedCacheKey:s,requestId:null===p||void 0===p?void 0:p.requestId})),[s,p,l]),y=(0,r.useMemo)((()=>a?Ue([m],a):m),[a,m]),v=o(y,P),g=null==s?null===p||void 0===p?void 0:p.arg.originalArgs:void 0,_=(0,r.useCallback)((()=>{n((()=>{p&&h(void 0),s&&c(t.internalActions.removeMutationResult({requestId:f,fixedCacheKey:s}))}))}),[c,s,p,f]),{endpointName:x,data:b,status:w,isLoading:S,isSuccess:E,isError:T,error:C}=v;(0,r.useDebugValue)({endpointName:x,data:b,status:w,isLoading:S,isSuccess:E,isError:T,error:C});const k=(0,r.useMemo)((()=>({...v,originalArgs:g,reset:_})),[v,g,_]);return(0,r.useMemo)((()=>[d,k]),[d,k])}},usePrefetch:function(e,n){const o=i(),a=Nn(n);return(0,r.useCallback)(((n,r)=>o(t.util.prefetch(e,n,{...a,...r}))),[e,o,a])}};function p(e,t,n){var r,i;if(null!==(r=t)&&void 0!==r&&r.endpointName&&e.isUninitialized){const{endpointName:e}=t,r=u.endpointDefinitions[e];l({queryArgs:t.originalArgs,endpointDefinition:r,endpointName:e})===l({queryArgs:n,endpointDefinition:r,endpointName:e})&&(t=void 0)}let o=e.isSuccess?e.data:null===(i=t)||void 0===i?void 0:i.data;void 0===o&&(o=e.data);const a=void 0!==o,s=e.isLoading,c=!a&&s,p=e.isSuccess||s&&a;return{...e,data:o,currentData:e.data,isFetching:s,isLoading:c,isSuccess:p}}}({api:i,moduleOptions:{batch:e,hooks:t,unstable__sideEffectsInRender:n},serializeQueryArgs:s,context:a});return Wn(l,{usePrefetch:p}),Wn(a,{batch:e}),{injectEndpoint(e,t){if("query"===t.type){const{useQuery:t,useLazyQuery:n,useLazyQuerySubscription:r,useQueryState:o,useQuerySubscription:a}=u(e);Wn(l.endpoints[e],{useQuery:t,useLazyQuery:n,useLazyQuerySubscription:r,useQueryState:o,useQuerySubscription:a}),i["use".concat(qn(e),"Query")]=t,i["useLazy".concat(qn(e),"Query")]=n}else if(function(e){return"mutation"===e.type}(t)){const t=c(e);Wn(l.endpoints[e],{useMutation:t}),i["use".concat(qn(e),"Mutation")]=t}}}}}}());const Zn=function(){let{baseUrl:e,prepareHeaders:t=(e=>e),fetchFn:n=Zt,paramsSerializer:r,isJsonContentType:i=Xt,jsonContentType:o="application/json",jsonReplacer:a,timeout:s,responseHandler:l,validateStatus:u,...c}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"undefined"===typeof fetch&&n===Zt&&console.warn("Warning: `fetch` is not available. Please supply a custom `fetchFn` property to use `fetchBaseQuery` on SSR environments."),async(h,d)=>{const{signal:f,getState:m,extra:y,endpoint:v,forced:g,type:_}=d;let x,{url:b,headers:w=new Headers(c.headers),params:S,responseHandler:E=(null!==l&&void 0!==l?l:"json"),validateStatus:T=(null!==u&&void 0!==u?u:Kt),timeout:P=s,...C}="string"==typeof h?{url:h}:h,k={...c,signal:f,...C};w=new Headers(Yt(w)),k.headers=await t(w,{getState:m,extra:y,endpoint:v,forced:g,type:_})||w;const A=e=>"object"===typeof e&&(Ge(e)||Array.isArray(e)||"function"===typeof e.toJSON);if(!k.headers.has("content-type")&&A(k.body)&&k.headers.set("content-type",o),A(k.body)&&i(k.headers)&&(k.body=JSON.stringify(k.body,a)),S){const e=~b.indexOf("?")?"&":"?";b+=e+(r?r(S):new URLSearchParams(Yt(S)))}b=qt(e,b);const I=new Request(b,k);x={request:new Request(b,k)};let O,D=!1,M=P&&setTimeout((()=>{D=!0,d.abort()}),P);try{O=await n(I)}catch(z){return{error:{status:D?"TIMEOUT_ERROR":"FETCH_ERROR",error:String(z)},meta:x}}finally{M&&clearTimeout(M)}const j=O.clone();let R;x.response=j;let L="";try{let e;if(await Promise.all([p(O,E).then((e=>R=e),(t=>e=t)),j.text().then((e=>L=e),(()=>{}))]),e)throw e}catch(z){return{error:{status:"PARSING_ERROR",originalStatus:O.status,data:L,error:String(z)},meta:x}}return T(O,R)?{data:R,meta:x}:{error:{status:O.status,data:R},meta:x}};async function p(e,t){if("function"===typeof t)return t(e);if("content-type"===t&&(t=i(e.headers)?"json":"text"),"json"===t){const t=await e.text();return t.length?JSON.parse(t):null}return e.text()}}({baseUrl:"http://localhost:4000",prepareHeaders:e=>{const t=localStorage.getItem("token");return t&&e.set("Authorization","Bearer ".concat(t)),e}}),Kn=Gn({reducerPath:"appApi",baseQuery:Zn,endpoints:e=>({signup:e.mutation({query:e=>{let{name:t,email:n,password:r,isOwner:i}=e;return{url:"/users/signup",method:"POST",body:{name:t,email:n,password:r,isOwner:i}}},transformResponse:e=>{console.log(e);const{token:t,user:n}=e;return localStorage.setItem("token",t),n}}),login:e.mutation({query:e=>{let{email:t,password:n}=e;return{url:"/users/login",method:"POST",body:{email:t,password:n}}},transformResponse:e=>{const{token:t,user:n}=e;return localStorage.setItem("token",t),n}}),createProperty:e.mutation({query:e=>{let{property:t,userId:n}=e;return{url:"/properties",body:{property:t,userId:n},method:"POST"}}}),deleteProperty:e.mutation({query:e=>{let{propertyId:t,userId:n}=e;return{url:"/properties/".concat(t),body:{userId:n},method:"DELETE"}}}),addRemoveFavorite:e.mutation({query:e=>({url:"/properties/add-remove-favorite",body:e,method:"POST"})}),createAppointment:e.mutation({query:e=>{let{clientId:t,ownerId:n,propertyId:r,date:i}=e;return{url:"/appointments",method:"POST",body:{clientId:t,ownerId:n,propertyId:r,date:i}}}}),deleteAppointment:e.mutation({query:e=>{let{appointmentId:t,userId:n}=e;return{url:"/appointments/".concat(t),body:{userId:n},method:"DELETE"}}}),createMessage:e.mutation({query:e=>{let{clientMessage:t,ownerId:n}=e;return{url:"/users/message",method:"POST",body:{clientMessage:t,ownerId:n}}}})})}),{useSignupMutation:Xn,useLoginMutation:Yn,useCreatePropertyMutation:$n,useDeletePropertyMutation:Jn,useAddRemoveFavoriteMutation:Qn,useCreateAppointmentMutation:er,useCreateMessageMutation:tr,useDeleteAppointmentMutation:nr}=Kn,rr=Kn,ir=Dt({name:"user",initialState:null,reducers:{logout:()=>null},extraReducers:e=>{e.addMatcher(rr.endpoints.signup.matchFulfilled,((e,t)=>{let{payload:n}=t;return n})),e.addMatcher(rr.endpoints.login.matchFulfilled,((e,t)=>{let{payload:n}=t;return n})),e.addMatcher(rr.endpoints.addRemoveFavorite.matchFulfilled,((e,t)=>{let{payload:n}=t;return n}))}}),{logout:or}=ir.actions,ar=ir.reducer;var sr=n(1418),lr=n.n(sr);const ur=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!=e?String(e):t||null},cr=r.createContext(null);function pr(){return pr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pr.apply(this,arguments)}function hr(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n(2176);function dr(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function fr(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function mr(e,t){return Object.keys(t).reduce((function(n,i){var o,a=n,s=a[dr(i)],l=a[i],u=hr(a,[dr(i),i].map(fr)),c=t[i],p=function(e,t,n){var i=(0,r.useRef)(void 0!==e),o=(0,r.useState)(t),a=o[0],s=o[1],l=void 0!==e,u=i.current;return i.current=l,!l&&u&&a!==t&&s(t),[l?e:a,(0,r.useCallback)((function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];n&&n.apply(void 0,[e].concat(r)),s(e)}),[n])]}(l,s,e[c]),h=p[0],d=p[1];return pr({},u,((o={})[i]=h,o[c]=d,o))}),e)}function yr(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function vr(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function gr(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}yr.__suppressDeprecationWarning=!0,vr.__suppressDeprecationWarning=!0,gr.__suppressDeprecationWarning=!0;var _r=n(184);const xr=["xxl","xl","lg","md","sm","xs"],br="xs",wr=r.createContext({prefixes:{},breakpoints:xr,minBreakpoint:br}),{Consumer:Sr,Provider:Er}=wr;function Tr(e,t){const{prefixes:n}=(0,r.useContext)(wr);return e||n[t]||t}function Pr(){const{breakpoints:e}=(0,r.useContext)(wr);return e}function Cr(){const{minBreakpoint:e}=(0,r.useContext)(wr);return e}function kr(){const{dir:e}=(0,r.useContext)(wr);return"rtl"===e}const Ar=r.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,as:i,...o}=e;n=Tr(n,"navbar-brand");const a=i||(o.href?"a":"span");return(0,_r.jsx)(a,{...o,ref:t,className:lr()(r,n)})}));Ar.displayName="NavbarBrand";const Ir=Ar;function Or(e){return e&&e.ownerDocument||document}function Dr(e,t){return function(e){var t=Or(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var Mr=/([A-Z])/g;var jr=/^ms-/;function Rr(e){return function(e){return e.replace(Mr,"-$1").toLowerCase()}(e).replace(jr,"-ms-")}var Lr=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;const zr=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(Rr(t))||Dr(e).getPropertyValue(Rr(t));Object.keys(t).forEach((function(i){var o=t[i];o||0===o?!function(e){return!(!e||!Lr.test(e))}(i)?n+=Rr(i)+": "+o+";":r+=i+"("+o+") ":e.style.removeProperty(Rr(i))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n};function Nr(e,t){return Nr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Nr(e,t)}var Br=n(4164);const Fr=!1,Ur=r.createContext(null);var Vr="unmounted",qr="exited",Wr="entering",Hr="entered",Gr="exiting",Zr=function(e){var t,n;function i(t,n){var r;r=e.call(this,t,n)||this;var i,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(i=qr,r.appearStatus=Wr):i=Hr:i=t.unmountOnExit||t.mountOnEnter?Vr:qr,r.state={status:i},r.nextCallback=null,r}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,Nr(t,n),i.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Vr?{status:qr}:null};var o=i.prototype;return o.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},o.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Wr&&n!==Hr&&(t=Wr):n!==Wr&&n!==Hr||(t=Gr)}this.updateStatus(!1,t)},o.componentWillUnmount=function(){this.cancelNextCallback()},o.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},o.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===Wr){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:Br.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===qr&&this.setState({status:Vr})},o.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[Br.findDOMNode(this),r],o=i[0],a=i[1],s=this.getTimeouts(),l=r?s.appear:s.enter;!e&&!n||Fr?this.safeSetState({status:Hr},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,a),this.safeSetState({status:Wr},(function(){t.props.onEntering(o,a),t.onTransitionEnd(l,(function(){t.safeSetState({status:Hr},(function(){t.props.onEntered(o,a)}))}))})))},o.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:Br.findDOMNode(this);t&&!Fr?(this.props.onExit(r),this.safeSetState({status:Gr},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:qr},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:qr},(function(){e.props.onExited(r)}))},o.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},o.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},o.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},o.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:Br.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],a=i[1];this.props.addEndListener(o,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},o.render=function(){var e=this.state.status;if(e===Vr)return null;var t=this.props,n=t.children,i=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,hr(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return r.createElement(Ur.Provider,{value:null},"function"===typeof n?n(e,i):r.cloneElement(r.Children.only(n),i))},i}(r.Component);function Kr(){}Zr.contextType=Ur,Zr.propTypes={},Zr.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Kr,onEntering:Kr,onEntered:Kr,onExit:Kr,onExiting:Kr,onExited:Kr},Zr.UNMOUNTED=Vr,Zr.EXITED=qr,Zr.ENTERING=Wr,Zr.ENTERED=Hr,Zr.EXITING=Gr;const Xr=Zr,Yr=!("undefined"===typeof window||!window.document||!window.document.createElement);var $r=!1,Jr=!1;try{var Qr={get passive(){return $r=!0},get once(){return Jr=$r=!0}};Yr&&(window.addEventListener("test",Qr,Qr),window.removeEventListener("test",Qr,!0))}catch(TI){}const ei=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!Jr){var i=r.once,o=r.capture,a=n;!Jr&&i&&(a=n.__once||function e(r){this.removeEventListener(t,e,o),n.call(this,r)},n.__once=a),e.addEventListener(t,a,$r?r:o)}e.addEventListener(t,n,r)};const ti=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};const ni=function(e,t,n,r){return ei(e,t,n,r),function(){ti(e,t,n,r)}};function ri(e,t,n){void 0===n&&(n=5);var r=!1,i=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}(e,"transitionend",!0)}),t+n),o=ni(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(i),o()}}function ii(e,t,n,r){null==n&&(n=function(e){var t=zr(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var i=ri(e,n,r),o=ni(e,"transitionend",t);return function(){i(),o()}}function oi(e,t){const n=zr(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function ai(e,t){const n=oi(e,"transitionDuration"),r=oi(e,"transitionDelay"),i=ii(e,(n=>{n.target===e&&(i(),t(n))}),n+r)}const si=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e=>null!=e)).reduce(((e,t)=>{if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),null)};function li(e){e.offsetHeight}const ui=e=>e&&"function"!==typeof e?t=>{e.current=t}:e;const ci=function(e,t){return(0,r.useMemo)((()=>function(e,t){const n=ui(e),r=ui(t);return e=>{n&&n(e),r&&r(e)}}(e,t)),[e,t])};const pi=r.forwardRef(((e,t)=>{let{onEnter:n,onEntering:i,onEntered:o,onExit:a,onExiting:s,onExited:l,addEndListener:u,children:c,childRef:p,...h}=e;const d=(0,r.useRef)(null),f=ci(d,p),m=e=>{var t;f((t=e)&&"setState"in t?Br.findDOMNode(t):null!=t?t:null)},y=e=>t=>{e&&d.current&&e(d.current,t)},v=(0,r.useCallback)(y(n),[n]),g=(0,r.useCallback)(y(i),[i]),_=(0,r.useCallback)(y(o),[o]),x=(0,r.useCallback)(y(a),[a]),b=(0,r.useCallback)(y(s),[s]),w=(0,r.useCallback)(y(l),[l]),S=(0,r.useCallback)(y(u),[u]);return(0,_r.jsx)(Xr,{ref:t,...h,onEnter:v,onEntered:_,onEntering:g,onExit:x,onExited:w,onExiting:b,addEndListener:S,nodeRef:d,children:"function"===typeof c?(e,t)=>c(e,{...t,ref:m}):r.cloneElement(c,{ref:m})})})),hi=pi,di={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function fi(e,t){const n=t["offset".concat(e[0].toUpperCase()).concat(e.slice(1))],r=di[e];return n+parseInt(zr(t,r[0]),10)+parseInt(zr(t,r[1]),10)}const mi={[qr]:"collapse",[Gr]:"collapsing",[Wr]:"collapsing",[Hr]:"collapse show"},yi=r.forwardRef(((e,t)=>{let{onEnter:n,onEntering:i,onEntered:o,onExit:a,onExiting:s,className:l,children:u,dimension:c="height",in:p=!1,timeout:h=300,mountOnEnter:d=!1,unmountOnExit:f=!1,appear:m=!1,getDimensionValue:y=fi,...v}=e;const g="function"===typeof c?c():c,_=(0,r.useMemo)((()=>si((e=>{e.style[g]="0"}),n)),[g,n]),x=(0,r.useMemo)((()=>si((e=>{const t="scroll".concat(g[0].toUpperCase()).concat(g.slice(1));e.style[g]="".concat(e[t],"px")}),i)),[g,i]),b=(0,r.useMemo)((()=>si((e=>{e.style[g]=null}),o)),[g,o]),w=(0,r.useMemo)((()=>si((e=>{e.style[g]="".concat(y(g,e),"px"),li(e)}),a)),[a,y,g]),S=(0,r.useMemo)((()=>si((e=>{e.style[g]=null}),s)),[g,s]);return(0,_r.jsx)(hi,{ref:t,addEndListener:ai,...v,"aria-expanded":v.role?p:null,onEnter:_,onEntering:x,onEntered:b,onExit:w,onExiting:S,childRef:u.ref,in:p,timeout:h,mountOnEnter:d,unmountOnExit:f,appear:m,children:(e,t)=>r.cloneElement(u,{...t,className:lr()(l,u.props.className,mi[e],"width"===g&&"collapse-horizontal")})})})),vi=yi,gi=r.createContext(null);gi.displayName="NavbarContext";const _i=gi,xi=r.forwardRef(((e,t)=>{let{children:n,bsPrefix:i,...o}=e;i=Tr(i,"navbar-collapse");const a=(0,r.useContext)(_i);return(0,_r.jsx)(vi,{in:!(!a||!a.expanded),...o,children:(0,_r.jsx)("div",{ref:t,className:i,children:n})})}));xi.displayName="NavbarCollapse";const bi=xi;const wi=function(e){const t=(0,r.useRef)(e);return(0,r.useEffect)((()=>{t.current=e}),[e]),t};function Si(e){const t=wi(e);return(0,r.useCallback)((function(){return t.current&&t.current(...arguments)}),[t])}const Ei=r.forwardRef(((e,t)=>{let{bsPrefix:n,className:i,children:o,label:a="Toggle navigation",as:s="button",onClick:l,...u}=e;n=Tr(n,"navbar-toggler");const{onToggle:c,expanded:p}=(0,r.useContext)(_i)||{},h=Si((e=>{l&&l(e),c&&c()}));return"button"===s&&(u.type="button"),(0,_r.jsx)(s,{...u,ref:t,onClick:h,"aria-label":a,className:lr()(i,n,!p&&"collapsed"),children:o||(0,_r.jsx)("span",{className:"".concat(n,"-icon")})})}));Ei.displayName="NavbarToggle";const Ti=Ei,Pi="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product,Ci="undefined"!==typeof document||Pi?r.useLayoutEffect:r.useEffect,ki=new WeakMap,Ai=(e,t)=>{if(!e||!t)return;const n=ki.get(t)||new Map;ki.set(t,n);let r=n.get(e);return r||(r=t.matchMedia(e),r.refCount=0,n.set(r.media,r)),r};function Ii(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"undefined"===typeof window?void 0:window;const n=Ai(e,t),[i,o]=(0,r.useState)((()=>!!n&&n.matches));return Ci((()=>{let n=Ai(e,t);if(!n)return o(!1);let r=ki.get(t);const i=()=>{o(n.matches)};return n.refCount++,n.addListener(i),i(),()=>{n.removeListener(i),n.refCount--,n.refCount<=0&&(null==r||r.delete(n.media)),n=void 0}}),[e]),i}const Oi=function(e){const t=Object.keys(e);function n(e,t){return e===t?t:e?"".concat(e," and ").concat(t):t}function i(n){const r=function(e){return t[Math.min(t.indexOf(e)+1,t.length-1)]}(n);let i=e[r];return i="number"===typeof i?"".concat(i-.2,"px"):"calc(".concat(i," - 0.2px)"),"(max-width: ".concat(i,")")}return function(t,o,a){let s;"object"===typeof t?(s=t,a=o,o=!0):s={[t]:o=o||!0};let l=(0,r.useMemo)((()=>Object.entries(s).reduce(((t,r)=>{let[o,a]=r;return"up"!==a&&!0!==a||(t=n(t,function(t){let n=e[t];return"number"===typeof n&&(n="".concat(n,"px")),"(min-width: ".concat(n,")")}(o))),"down"!==a&&!0!==a||(t=n(t,i(o))),t}),"")),[JSON.stringify(s)]);return Ii(l,a)}}({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),Di=Oi;function Mi(e){void 0===e&&(e=Or());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(TI){return e.body}}function ji(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}function Ri(){const e=(0,r.useRef)(!0),t=(0,r.useRef)((()=>e.current));return(0,r.useEffect)((()=>(e.current=!0,()=>{e.current=!1})),[]),t.current}function Li(e){const t=function(e){const t=(0,r.useRef)(e);return t.current=e,t}(e);(0,r.useEffect)((()=>()=>t.current()),[])}function zi(e){const t=(0,r.useRef)(null);return(0,r.useEffect)((()=>{t.current=e})),t.current}const Ni="data-rr-ui-";function Bi(e){return"".concat(Ni).concat(e)}const Fi=Bi("modal-open");const Ui=class{constructor(){let{ownerDocument:e,handleContainerOverflow:t=!0,isRTL:n=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.handleContainerOverflow=t,this.isRTL=n,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style={overflow:r.style.overflow,[n]:r.style[n]},e.scrollBarWidth&&(t[n]="".concat(parseInt(zr(r,n)||"0",10)+e.scrollBarWidth,"px")),r.setAttribute(Fi,""),zr(r,t)}reset(){[...this.modals].forEach((e=>this.remove(e)))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(Fi),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}remove(e){const t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}},Vi=(0,r.createContext)(Yr?window:void 0);Vi.Provider;function qi(){return(0,r.useContext)(Vi)}const Wi=(e,t)=>Yr?null==e?(t||Or()).body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;const Hi=function(e){let{children:t,in:n,onExited:i,mountOnEnter:o,unmountOnExit:a}=e;const s=(0,r.useRef)(null),l=(0,r.useRef)(n),u=Si(i);(0,r.useEffect)((()=>{n?l.current=!0:u(s.current)}),[n,u]);const c=ci(s,t.ref),p=(0,r.cloneElement)(t,{ref:c});return n?p:a||!l.current&&o?null:p};function Gi(e){let{children:t,in:n,onExited:i,onEntered:o,transition:a}=e;const[s,l]=(0,r.useState)(!n);n&&s&&l(!1);const u=function(e){let{in:t,onTransition:n}=e;const i=(0,r.useRef)(null),o=(0,r.useRef)(!0),a=Si(n);return Ci((()=>{if(!i.current)return;let e=!1;return a({in:t,element:i.current,initial:o.current,isStale:()=>e}),()=>{e=!0}}),[t,a]),Ci((()=>(o.current=!1,()=>{o.current=!0})),[]),i}({in:!!n,onTransition:e=>{Promise.resolve(a(e)).then((()=>{e.isStale()||(e.in?null==o||o(e.element,e.initial):(l(!0),null==i||i(e.element)))}),(t=>{throw e.in||l(!0),t}))}}),c=ci(u,t.ref);return s&&!n?null:(0,r.cloneElement)(t,{ref:c})}function Zi(e,t,n){return e?(0,_r.jsx)(e,Object.assign({},n)):t?(0,_r.jsx)(Gi,Object.assign({},n,{transition:t})):(0,_r.jsx)(Hi,Object.assign({},n))}const Ki=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];let Xi;function Yi(e){const t=qi(),n=e||function(e){return Xi||(Xi=new Ui({ownerDocument:null==e?void 0:e.document})),Xi}(t),i=(0,r.useRef)({dialog:null,backdrop:null});return Object.assign(i.current,{add:()=>n.add(i.current),remove:()=>n.remove(i.current),isTopModal:()=>n.isTopModal(i.current),setDialogRef:(0,r.useCallback)((e=>{i.current.dialog=e}),[]),setBackdropRef:(0,r.useCallback)((e=>{i.current.backdrop=e}),[])})}const $i=(0,r.forwardRef)(((e,t)=>{let{show:n=!1,role:i="dialog",className:o,style:a,children:s,backdrop:l=!0,keyboard:u=!0,onBackdropClick:c,onEscapeKeyDown:p,transition:h,runTransition:d,backdropTransition:f,runBackdropTransition:m,autoFocus:y=!0,enforceFocus:v=!0,restoreFocus:g=!0,restoreFocusOptions:_,renderDialog:x,renderBackdrop:b=(e=>(0,_r.jsx)("div",Object.assign({},e))),manager:w,container:S,onShow:E,onHide:T=(()=>{}),onExit:P,onExited:C,onExiting:k,onEnter:A,onEntering:I,onEntered:O}=e,D=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Ki);const M=qi(),j=function(e,t){const n=qi(),[i,o]=(0,r.useState)((()=>Wi(e,null==n?void 0:n.document)));if(!i){const t=Wi(e);t&&o(t)}return(0,r.useEffect)((()=>{t&&i&&t(i)}),[t,i]),(0,r.useEffect)((()=>{const t=Wi(e);t!==i&&o(t)}),[e,i]),i}(S),R=Yi(w),L=Ri(),z=zi(n),[N,B]=(0,r.useState)(!n),F=(0,r.useRef)(null);(0,r.useImperativeHandle)(t,(()=>R),[R]),Yr&&!z&&n&&(F.current=Mi(null==M?void 0:M.document)),n&&N&&B(!1);const U=Si((()=>{if(R.add(),Z.current=ni(document,"keydown",H),G.current=ni(document,"focus",(()=>setTimeout(q)),!0),E&&E(),y){var e,t;const n=Mi(null!=(e=null==(t=R.dialog)?void 0:t.ownerDocument)?e:null==M?void 0:M.document);R.dialog&&n&&!ji(R.dialog,n)&&(F.current=n,R.dialog.focus())}})),V=Si((()=>{var e;(R.remove(),null==Z.current||Z.current(),null==G.current||G.current(),g)&&(null==(e=F.current)||null==e.focus||e.focus(_),F.current=null)}));(0,r.useEffect)((()=>{n&&j&&U()}),[n,j,U]),(0,r.useEffect)((()=>{N&&V()}),[N,V]),Li((()=>{V()}));const q=Si((()=>{if(!v||!L()||!R.isTopModal())return;const e=Mi(null==M?void 0:M.document);R.dialog&&e&&!ji(R.dialog,e)&&R.dialog.focus()})),W=Si((e=>{e.target===e.currentTarget&&(null==c||c(e),!0===l&&T())})),H=Si((e=>{u&&function(e){return"Escape"===e.code||27===e.keyCode}(e)&&R.isTopModal()&&(null==p||p(e),e.defaultPrevented||T())})),G=(0,r.useRef)(),Z=(0,r.useRef)();if(!j)return null;const K=Object.assign({role:i,ref:R.setDialogRef,"aria-modal":"dialog"===i||void 0},D,{style:a,className:o,tabIndex:-1});let X=x?x(K):(0,_r.jsx)("div",Object.assign({},K,{children:r.cloneElement(s,{role:"document"})}));X=Zi(h,d,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:P,onExiting:k,onExited:function(){B(!0),null==C||C(...arguments)},onEnter:A,onEntering:I,onEntered:O,children:X});let Y=null;return l&&(Y=b({ref:R.setBackdropRef,onClick:W}),Y=Zi(f,m,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Y})),(0,_r.jsx)(_r.Fragment,{children:Br.createPortal((0,_r.jsxs)(_r.Fragment,{children:[Y,X]}),j)})}));$i.displayName="Modal";const Ji=Object.assign($i,{Manager:Ui}),Qi={[Wr]:"show",[Hr]:"show"},eo=r.forwardRef(((e,t)=>{let{className:n,children:i,transitionClasses:o={},onEnter:a,...s}=e;const l={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...s},u=(0,r.useCallback)(((e,t)=>{li(e),null==a||a(e,t)}),[a]);return(0,_r.jsx)(hi,{ref:t,addEndListener:ai,...l,onEnter:u,childRef:i.ref,children:(e,t)=>r.cloneElement(i,{...t,className:lr()("fade",n,i.props.className,Qi[e],o[e])})})}));eo.displayName="Fade";const to=eo,no=r.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...o}=e;return r=Tr(r,"offcanvas-body"),(0,_r.jsx)(i,{ref:t,className:lr()(n,r),...o})}));no.displayName="OffcanvasBody";const ro=no,io={[Wr]:"show",[Hr]:"show"},oo=r.forwardRef(((e,t)=>{let{bsPrefix:n,className:i,children:o,in:a=!1,mountOnEnter:s=!1,unmountOnExit:l=!1,appear:u=!1,...c}=e;return n=Tr(n,"offcanvas"),(0,_r.jsx)(hi,{ref:t,addEndListener:ai,in:a,mountOnEnter:s,unmountOnExit:l,appear:u,...c,childRef:o.ref,children:(e,t)=>r.cloneElement(o,{...t,className:lr()(i,o.props.className,(e===Wr||e===Gr)&&"".concat(n,"-toggling"),io[e])})})}));oo.displayName="OffcanvasToggling";const ao=oo,so=r.createContext({onHide(){}});var lo=n(2007),uo=n.n(lo);const co={"aria-label":uo().string,onClick:uo().func,variant:uo().oneOf(["white"])},po=r.forwardRef(((e,t)=>{let{className:n,variant:r,"aria-label":i="Close",...o}=e;return(0,_r.jsx)("button",{ref:t,type:"button",className:lr()("btn-close",r&&"btn-close-".concat(r),n),"aria-label":i,...o})}));po.displayName="CloseButton",po.propTypes=co;const ho=po,fo=r.forwardRef(((e,t)=>{let{closeLabel:n="Close",closeVariant:i,closeButton:o=!1,onHide:a,children:s,...l}=e;const u=(0,r.useContext)(so),c=Si((()=>{null==u||u.onHide(),null==a||a()}));return(0,_r.jsxs)("div",{ref:t,...l,children:[s,o&&(0,_r.jsx)(ho,{"aria-label":n,variant:i,onClick:c})]})})),mo=fo,yo=r.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,closeLabel:i="Close",closeButton:o=!1,...a}=e;return n=Tr(n,"offcanvas-header"),(0,_r.jsx)(mo,{ref:t,...a,className:lr()(r,n),closeLabel:i,closeButton:o})}));yo.displayName="OffcanvasHeader";const vo=yo,go=e=>r.forwardRef(((t,n)=>(0,_r.jsx)("div",{...t,ref:n,className:lr()(t.className,e)}))),_o=go("h5"),xo=r.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i=_o,...o}=e;return r=Tr(r,"offcanvas-title"),(0,_r.jsx)(i,{ref:t,className:lr()(n,r),...o})}));xo.displayName="OffcanvasTitle";const bo=xo;var wo=Function.prototype.bind.call(Function.prototype.call,[].slice);function So(e,t){return wo(e.querySelectorAll(t))}function Eo(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}const To=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Po=".sticky-top",Co=".navbar-toggler";class ko extends Ui{adjustAndStore(e,t,n){const r=t.style[e];t.dataset[e]=r,zr(t,{[e]:"".concat(parseFloat(zr(t,e))+n,"px")})}restore(e,t){const n=t.dataset[e];void 0!==n&&(delete t.dataset[e],zr(t,{[e]:n}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();if(function(e,t){e.classList?e.classList.add(t):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(e,t)||("string"===typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}(t,"modal-open"),!e.scrollBarWidth)return;const n=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";So(t,To).forEach((t=>this.adjustAndStore(n,t,e.scrollBarWidth))),So(t,Po).forEach((t=>this.adjustAndStore(r,t,-e.scrollBarWidth))),So(t,Co).forEach((t=>this.adjustAndStore(r,t,e.scrollBarWidth)))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();!function(e,t){e.classList?e.classList.remove(t):"string"===typeof e.className?e.className=Eo(e.className,t):e.setAttribute("class",Eo(e.className&&e.className.baseVal||"",t))}(t,"modal-open");const n=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";So(t,To).forEach((e=>this.restore(n,e))),So(t,Po).forEach((e=>this.restore(r,e))),So(t,Co).forEach((e=>this.restore(r,e)))}}let Ao;function Io(e){return Ao||(Ao=new ko(e)),Ao}const Oo=ko;function Do(e){return(0,_r.jsx)(ao,{...e})}function Mo(e){return(0,_r.jsx)(to,{...e})}const jo=r.forwardRef(((e,t)=>{let{bsPrefix:n,className:i,children:o,"aria-labelledby":a,placement:s="start",responsive:l,show:u=!1,backdrop:c=!0,keyboard:p=!0,scroll:h=!1,onEscapeKeyDown:d,onShow:f,onHide:m,container:y,autoFocus:v=!0,enforceFocus:g=!0,restoreFocus:_=!0,restoreFocusOptions:x,onEntered:b,onExit:w,onExiting:S,onEnter:E,onEntering:T,onExited:P,backdropClassName:C,manager:k,renderStaticNode:A=!1,...I}=e;const O=(0,r.useRef)();n=Tr(n,"offcanvas");const{onToggle:D}=(0,r.useContext)(_i)||{},[M,j]=(0,r.useState)(!1),R=Di(l||"xs","up");(0,r.useEffect)((()=>{j(l?u&&!R:u)}),[u,l,R]);const L=Si((()=>{null==D||D(),null==m||m()})),z=(0,r.useMemo)((()=>({onHide:L})),[L]);const N=(0,r.useCallback)((e=>(0,_r.jsx)("div",{...e,className:lr()("".concat(n,"-backdrop"),C)})),[C,n]),B=e=>(0,_r.jsx)("div",{...e,...I,className:lr()(i,l?"".concat(n,"-").concat(l):n,"".concat(n,"-").concat(s)),"aria-labelledby":a,children:o});return(0,_r.jsxs)(_r.Fragment,{children:[!M&&(l||A)&&B({}),(0,_r.jsx)(so.Provider,{value:z,children:(0,_r.jsx)(Ji,{show:M,ref:t,backdrop:c,container:y,keyboard:p,autoFocus:v,enforceFocus:g&&!h,restoreFocus:_,restoreFocusOptions:x,onEscapeKeyDown:d,onShow:f,onHide:L,onEnter:function(e){e&&(e.style.visibility="visible");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==E||E(e,...n)},onEntering:T,onEntered:b,onExit:w,onExiting:S,onExited:function(e){e&&(e.style.visibility="");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==P||P(...n)},manager:k||(h?(O.current||(O.current=new Oo({handleContainerOverflow:!1})),O.current):Io()),transition:Do,backdropTransition:Mo,renderBackdrop:N,renderDialog:B})})]})}));jo.displayName="Offcanvas";const Ro=Object.assign(jo,{Body:ro,Header:vo,Title:bo}),Lo=r.forwardRef(((e,t)=>{const n=(0,r.useContext)(_i);return(0,_r.jsx)(Ro,{ref:t,show:!(null==n||!n.expanded),...e,renderStaticNode:!0})}));Lo.displayName="NavbarOffcanvas";const zo=Lo,No=r.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="span",...o}=e;return r=Tr(r,"navbar-text"),(0,_r.jsx)(i,{ref:t,className:lr()(n,r),...o})}));No.displayName="NavbarText";const Bo=No,Fo=r.forwardRef(((e,t)=>{const{bsPrefix:n,expand:i=!0,variant:o="light",bg:a,fixed:s,sticky:l,className:u,as:c="nav",expanded:p,onToggle:h,onSelect:d,collapseOnSelect:f=!1,...m}=mr(e,{expanded:"onToggle"}),y=Tr(n,"navbar"),v=(0,r.useCallback)((function(){null==d||d(...arguments),f&&p&&(null==h||h(!1))}),[d,f,p,h]);void 0===m.role&&"nav"!==c&&(m.role="navigation");let g="".concat(y,"-expand");"string"===typeof i&&(g="".concat(g,"-").concat(i));const _=(0,r.useMemo)((()=>({onToggle:()=>null==h?void 0:h(!p),bsPrefix:y,expanded:!!p,expand:i})),[y,p,i,h]);return(0,_r.jsx)(_i.Provider,{value:_,children:(0,_r.jsx)(cr.Provider,{value:v,children:(0,_r.jsx)(c,{ref:t,...m,className:lr()(u,y,i&&g,o&&"".concat(y,"-").concat(o),a&&"bg-".concat(a),l&&"sticky-".concat(l),s&&"fixed-".concat(s))})})})}));Fo.displayName="Navbar";const Uo=Object.assign(Fo,{Brand:Ir,Collapse:bi,Offcanvas:zo,Text:Bo,Toggle:Ti});n(3573);function Vo(){const[,e]=(0,r.useReducer)((e=>!e),!1);return e}const qo=r.createContext(null);qo.displayName="NavContext";const Wo=qo,Ho=r.createContext(null),Go=["as","disabled"];function Zo(e){let{tagName:t,disabled:n,href:r,target:i,rel:o,role:a,onClick:s,tabIndex:l=0,type:u}=e;t||(t=null!=r||null!=i||null!=o?"a":"button");const c={tagName:t};if("button"===t)return[{type:u||"button",disabled:n},c];const p=e=>{(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==s||s(e)};return"a"===t&&(r||(r="#"),n&&(r=void 0)),[{role:null!=a?a:"button",disabled:void 0,tabIndex:n?void 0:l,href:r,target:"a"===t?i:void 0,"aria-disabled":n||void 0,rel:"a"===t?o:void 0,onClick:p,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),p(e))}},c]}const Ko=r.forwardRef(((e,t)=>{let{as:n,disabled:r}=e,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Go);const[o,{tagName:a}]=Zo(Object.assign({tagName:n,disabled:r},i));return(0,_r.jsx)(a,Object.assign({},i,o,{ref:t}))}));Ko.displayName="Button";const Xo=Ko,Yo=["as","active","eventKey"];function $o(e){let{key:t,onClick:n,active:i,id:o,role:a,disabled:s}=e;const l=(0,r.useContext)(cr),u=(0,r.useContext)(Wo),c=(0,r.useContext)(Ho);let p=i;const h={role:a};if(u){a||"tablist"!==u.role||(h.role="tab");const e=u.getControllerId(null!=t?t:null),n=u.getControlledId(null!=t?t:null);h[Bi("event-key")]=t,h.id=e||o,p=null==i&&null!=t?u.activeKey===t:i,!p&&(null!=c&&c.unmountOnExit||null!=c&&c.mountOnEnter)||(h["aria-controls"]=n)}return"tab"===h.role&&(h["aria-selected"]=p,p||(h.tabIndex=-1),s&&(h.tabIndex=-1,h["aria-disabled"]=!0)),h.onClick=Si((e=>{s||(null==n||n(e),null!=t&&l&&!e.isPropagationStopped()&&l(t,e))})),[h,{isActive:p}]}const Jo=r.forwardRef(((e,t)=>{let{as:n=Xo,active:r,eventKey:i}=e,o=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Yo);const[a,s]=$o(Object.assign({key:ur(i,o.href),active:r},o));return a[Bi("active")]=s.isActive,(0,_r.jsx)(n,Object.assign({},o,a,{ref:t}))}));Jo.displayName="NavItem";const Qo=Jo,ea=["as","onSelect","activeKey","role","onKeyDown"];const ta=()=>{},na=Bi("event-key"),ra=r.forwardRef(((e,t)=>{let{as:n="div",onSelect:i,activeKey:o,role:a,onKeyDown:s}=e,l=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,ea);const u=Vo(),c=(0,r.useRef)(!1),p=(0,r.useContext)(cr),h=(0,r.useContext)(Ho);let d,f;h&&(a=a||"tablist",o=h.activeKey,d=h.getControlledId,f=h.getControllerId);const m=(0,r.useRef)(null),y=e=>{const t=m.current;if(!t)return null;const n=So(t,"[".concat(na,"]:not([aria-disabled=true])")),r=t.querySelector("[aria-selected=true]");if(!r||r!==document.activeElement)return null;const i=n.indexOf(r);if(-1===i)return null;let o=i+e;return o>=n.length&&(o=0),o<0&&(o=n.length-1),n[o]},v=(e,t)=>{null!=e&&(null==i||i(e,t),null==p||p(e,t))};(0,r.useEffect)((()=>{if(m.current&&c.current){const e=m.current.querySelector("[".concat(na,"][aria-selected=true]"));null==e||e.focus()}c.current=!1}));const g=ci(t,m);return(0,_r.jsx)(cr.Provider,{value:v,children:(0,_r.jsx)(Wo.Provider,{value:{role:a,activeKey:ur(o),getControlledId:d||ta,getControllerId:f||ta},children:(0,_r.jsx)(n,Object.assign({},l,{onKeyDown:e=>{if(null==s||s(e),!h)return;let t;switch(e.key){case"ArrowLeft":case"ArrowUp":t=y(-1);break;case"ArrowRight":case"ArrowDown":t=y(1);break;default:return}var n;t&&(e.preventDefault(),v(t.dataset[(n="EventKey","".concat("rrUi").concat(n))]||null,e),c.current=!0,u())},ref:g,role:a}))})})}));ra.displayName="Nav";const ia=Object.assign(ra,{Item:Qo}),oa=r.createContext(null);oa.displayName="CardHeaderContext";const aa=oa,sa=r.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...o}=e;return r=Tr(r,"nav-item"),(0,_r.jsx)(i,{ref:t,className:lr()(n,r),...o})}));sa.displayName="NavItem";const la=sa;function ua(){return(0,r.useState)(null)}new WeakMap;const ca=["onKeyDown"];const pa=r.forwardRef(((e,t)=>{let{onKeyDown:n}=e,r=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,ca);const[i]=Zo(Object.assign({tagName:"a"},r)),o=Si((e=>{i.onKeyDown(e),null==n||n(e)}));return(a=r.href)&&"#"!==a.trim()&&"button"!==r.role?(0,_r.jsx)("a",Object.assign({ref:t},r,{onKeyDown:n})):(0,_r.jsx)("a",Object.assign({ref:t},r,i,{onKeyDown:o}));var a}));pa.displayName="Anchor";const ha=pa,da=r.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,as:i=ha,active:o,eventKey:a,disabled:s=!1,...l}=e;n=Tr(n,"nav-link");const[u,c]=$o({key:ur(a,l.href),active:o,disabled:s,...l});return(0,_r.jsx)(i,{...l,...u,ref:t,disabled:s,className:lr()(r,n,s&&"disabled",c.isActive&&"active")})}));da.displayName="NavLink";const fa=da,ma=r.forwardRef(((e,t)=>{const{as:n="div",bsPrefix:i,variant:o,fill:a=!1,justify:s=!1,navbar:l,navbarScroll:u,className:c,activeKey:p,...h}=mr(e,{activeKey:"onSelect"}),d=Tr(i,"nav");let f,m,y=!1;const v=(0,r.useContext)(_i),g=(0,r.useContext)(aa);return v?(f=v.bsPrefix,y=null==l||l):g&&({cardHeaderBsPrefix:m}=g),(0,_r.jsx)(ia,{as:n,ref:t,activeKey:p,className:lr()(c,{[d]:!y,["".concat(f,"-nav")]:y,["".concat(f,"-nav-scroll")]:y&&u,["".concat(m,"-").concat(o)]:!!m,["".concat(d,"-").concat(o)]:!!o,["".concat(d,"-fill")]:a,["".concat(d,"-justified")]:s}),...h})}));ma.displayName="Nav";const ya=Object.assign(ma,{Item:la,Link:fa});function va(e,t,n){const i=(0,r.useRef)(void 0!==e),[o,a]=(0,r.useState)(t),s=void 0!==e,l=i.current;return i.current=s,!s&&l&&o!==t&&a(t),[s?e:o,(0,r.useCallback)((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,...o]=t;let s=null==n?void 0:n(i,...o);return a(i),s}),[n])]}const ga=r.createContext(null);var _a=Object.prototype.hasOwnProperty;function xa(e,t,n){for(n of e.keys())if(ba(n,t))return n}function ba(e,t){var n,r,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&ba(e[r],t[r]););return-1===r}if(n===Set){if(e.size!==t.size)return!1;for(r of e){if((i=r)&&"object"===typeof i&&!(i=xa(t,i)))return!1;if(!t.has(i))return!1}return!0}if(n===Map){if(e.size!==t.size)return!1;for(r of e){if((i=r[0])&&"object"===typeof i&&!(i=xa(t,i)))return!1;if(!ba(r[1],t.get(i)))return!1}return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return-1===r}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return-1===r}if(!n||"object"===typeof e){for(n in r=0,e){if(_a.call(e,n)&&++r&&!_a.call(t,n))return!1;if(!(n in t)||!ba(e[n],t[n]))return!1}return Object.keys(t).length===r}}return e!==e&&t!==t}const wa=function(e){const t=Ri();return[e[0],(0,r.useCallback)((n=>{if(t())return e[1](n)}),[t,e[1]])]};function Sa(e){return e.split("-")[0]}function Ea(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Ta(e){return e instanceof Ea(e).Element||e instanceof Element}function Pa(e){return e instanceof Ea(e).HTMLElement||e instanceof HTMLElement}function Ca(e){return"undefined"!==typeof ShadowRoot&&(e instanceof Ea(e).ShadowRoot||e instanceof ShadowRoot)}var ka=Math.max,Aa=Math.min,Ia=Math.round;function Oa(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function Da(){return!/^((?!chrome|android).)*safari/i.test(Oa())}function Ma(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),i=1,o=1;t&&Pa(e)&&(i=e.offsetWidth>0&&Ia(r.width)/e.offsetWidth||1,o=e.offsetHeight>0&&Ia(r.height)/e.offsetHeight||1);var a=(Ta(e)?Ea(e):window).visualViewport,s=!Da()&&n,l=(r.left+(s&&a?a.offsetLeft:0))/i,u=(r.top+(s&&a?a.offsetTop:0))/o,c=r.width/i,p=r.height/o;return{width:c,height:p,top:u,right:l+c,bottom:u+p,left:l,x:l,y:u}}function ja(e){var t=Ma(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function Ra(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Ca(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function La(e){return e?(e.nodeName||"").toLowerCase():null}function za(e){return Ea(e).getComputedStyle(e)}function Na(e){return["table","td","th"].indexOf(La(e))>=0}function Ba(e){return((Ta(e)?e.ownerDocument:e.document)||window.document).documentElement}function Fa(e){return"html"===La(e)?e:e.assignedSlot||e.parentNode||(Ca(e)?e.host:null)||Ba(e)}function Ua(e){return Pa(e)&&"fixed"!==za(e).position?e.offsetParent:null}function Va(e){for(var t=Ea(e),n=Ua(e);n&&Na(n)&&"static"===za(n).position;)n=Ua(n);return n&&("html"===La(n)||"body"===La(n)&&"static"===za(n).position)?t:n||function(e){var t=/firefox/i.test(Oa());if(/Trident/i.test(Oa())&&Pa(e)&&"fixed"===za(e).position)return null;var n=Fa(e);for(Ca(n)&&(n=n.host);Pa(n)&&["html","body"].indexOf(La(n))<0;){var r=za(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}function qa(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Wa(e,t,n){return ka(e,Aa(t,n))}function Ha(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function Ga(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}var Za="top",Ka="bottom",Xa="right",Ya="left",$a="auto",Ja=[Za,Ka,Xa,Ya],Qa="start",es="end",ts="clippingParents",ns="viewport",rs="popper",is="reference",os=Ja.reduce((function(e,t){return e.concat([t+"-"+Qa,t+"-"+es])}),[]),as=[].concat(Ja,[$a]).reduce((function(e,t){return e.concat([t,t+"-"+Qa,t+"-"+es])}),[]),ss=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];const ls={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,a=n.modifiersData.popperOffsets,s=Sa(n.placement),l=qa(s),u=[Ya,Xa].indexOf(s)>=0?"height":"width";if(o&&a){var c=function(e,t){return Ha("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:Ga(e,Ja))}(i.padding,n),p=ja(o),h="y"===l?Za:Ya,d="y"===l?Ka:Xa,f=n.rects.reference[u]+n.rects.reference[l]-a[l]-n.rects.popper[u],m=a[l]-n.rects.reference[l],y=Va(o),v=y?"y"===l?y.clientHeight||0:y.clientWidth||0:0,g=f/2-m/2,_=c[h],x=v-p[u]-c[d],b=v/2-p[u]/2+g,w=Wa(_,b,x),S=l;n.modifiersData[r]=((t={})[S]=w,t.centerOffset=w-b,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&Ra(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function us(e){return e.split("-")[1]}var cs={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ps(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.variation,a=e.offsets,s=e.position,l=e.gpuAcceleration,u=e.adaptive,c=e.roundOffsets,p=e.isFixed,h=a.x,d=void 0===h?0:h,f=a.y,m=void 0===f?0:f,y="function"===typeof c?c({x:d,y:m}):{x:d,y:m};d=y.x,m=y.y;var v=a.hasOwnProperty("x"),g=a.hasOwnProperty("y"),_=Ya,x=Za,b=window;if(u){var w=Va(n),S="clientHeight",E="clientWidth";if(w===Ea(n)&&"static"!==za(w=Ba(n)).position&&"absolute"===s&&(S="scrollHeight",E="scrollWidth"),i===Za||(i===Ya||i===Xa)&&o===es)x=Ka,m-=(p&&w===b&&b.visualViewport?b.visualViewport.height:w[S])-r.height,m*=l?1:-1;if(i===Ya||(i===Za||i===Ka)&&o===es)_=Xa,d-=(p&&w===b&&b.visualViewport?b.visualViewport.width:w[E])-r.width,d*=l?1:-1}var T,P=Object.assign({position:s},u&&cs),C=!0===c?function(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:Ia(n*i)/i||0,y:Ia(r*i)/i||0}}({x:d,y:m},Ea(n)):{x:d,y:m};return d=C.x,m=C.y,l?Object.assign({},P,((T={})[x]=g?"0":"",T[_]=v?"0":"",T.transform=(b.devicePixelRatio||1)<=1?"translate("+d+"px, "+m+"px)":"translate3d("+d+"px, "+m+"px, 0)",T)):Object.assign({},P,((t={})[x]=g?m+"px":"",t[_]=v?d+"px":"",t.transform="",t))}const hs={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,o=n.adaptive,a=void 0===o||o,s=n.roundOffsets,l=void 0===s||s,u={placement:Sa(t.placement),variation:us(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,ps(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,ps(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var ds={passive:!0};const fs={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=void 0===i||i,a=r.resize,s=void 0===a||a,l=Ea(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&u.forEach((function(e){e.addEventListener("scroll",n.update,ds)})),s&&l.addEventListener("resize",n.update,ds),function(){o&&u.forEach((function(e){e.removeEventListener("scroll",n.update,ds)})),s&&l.removeEventListener("resize",n.update,ds)}},data:{}};var ms={left:"right",right:"left",bottom:"top",top:"bottom"};function ys(e){return e.replace(/left|right|bottom|top/g,(function(e){return ms[e]}))}var vs={start:"end",end:"start"};function gs(e){return e.replace(/start|end/g,(function(e){return vs[e]}))}function _s(e){var t=Ea(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function xs(e){return Ma(Ba(e)).left+_s(e).scrollLeft}function bs(e){var t=za(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function ws(e){return["html","body","#document"].indexOf(La(e))>=0?e.ownerDocument.body:Pa(e)&&bs(e)?e:ws(Fa(e))}function Ss(e,t){var n;void 0===t&&(t=[]);var r=ws(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),o=Ea(r),a=i?[o].concat(o.visualViewport||[],bs(r)?r:[]):r,s=t.concat(a);return i?s:s.concat(Ss(Fa(a)))}function Es(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Ts(e,t,n){return t===ns?Es(function(e,t){var n=Ea(e),r=Ba(e),i=n.visualViewport,o=r.clientWidth,a=r.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;var u=Da();(u||!u&&"fixed"===t)&&(s=i.offsetLeft,l=i.offsetTop)}return{width:o,height:a,x:s+xs(e),y:l}}(e,n)):Ta(t)?function(e,t){var n=Ma(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):Es(function(e){var t,n=Ba(e),r=_s(e),i=null==(t=e.ownerDocument)?void 0:t.body,o=ka(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=ka(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+xs(e),l=-r.scrollTop;return"rtl"===za(i||n).direction&&(s+=ka(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:s,y:l}}(Ba(e)))}function Ps(e,t,n,r){var i="clippingParents"===t?function(e){var t=Ss(Fa(e)),n=["absolute","fixed"].indexOf(za(e).position)>=0&&Pa(e)?Va(e):e;return Ta(n)?t.filter((function(e){return Ta(e)&&Ra(e,n)&&"body"!==La(e)})):[]}(e):[].concat(t),o=[].concat(i,[n]),a=o[0],s=o.reduce((function(t,n){var i=Ts(e,n,r);return t.top=ka(i.top,t.top),t.right=Aa(i.right,t.right),t.bottom=Aa(i.bottom,t.bottom),t.left=ka(i.left,t.left),t}),Ts(e,a,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function Cs(e){var t,n=e.reference,r=e.element,i=e.placement,o=i?Sa(i):null,a=i?us(i):null,s=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(o){case Za:t={x:s,y:n.y-r.height};break;case Ka:t={x:s,y:n.y+n.height};break;case Xa:t={x:n.x+n.width,y:l};break;case Ya:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var u=o?qa(o):null;if(null!=u){var c="y"===u?"height":"width";switch(a){case Qa:t[u]=t[u]-(n[c]/2-r[c]/2);break;case es:t[u]=t[u]+(n[c]/2-r[c]/2)}}return t}function ks(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,o=n.strategy,a=void 0===o?e.strategy:o,s=n.boundary,l=void 0===s?ts:s,u=n.rootBoundary,c=void 0===u?ns:u,p=n.elementContext,h=void 0===p?rs:p,d=n.altBoundary,f=void 0!==d&&d,m=n.padding,y=void 0===m?0:m,v=Ha("number"!==typeof y?y:Ga(y,Ja)),g=h===rs?is:rs,_=e.rects.popper,x=e.elements[f?g:h],b=Ps(Ta(x)?x:x.contextElement||Ba(e.elements.popper),l,c,a),w=Ma(e.elements.reference),S=Cs({reference:w,element:_,strategy:"absolute",placement:i}),E=Es(Object.assign({},_,S)),T=h===rs?E:w,P={top:b.top-T.top+v.top,bottom:T.bottom-b.bottom+v.bottom,left:b.left-T.left+v.left,right:T.right-b.right+v.right},C=e.modifiersData.offset;if(h===rs&&C){var k=C[i];Object.keys(P).forEach((function(e){var t=[Xa,Ka].indexOf(e)>=0?1:-1,n=[Za,Ka].indexOf(e)>=0?"y":"x";P[e]+=k[n]*t}))}return P}const As={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=void 0===i||i,a=n.altAxis,s=void 0===a||a,l=n.fallbackPlacements,u=n.padding,c=n.boundary,p=n.rootBoundary,h=n.altBoundary,d=n.flipVariations,f=void 0===d||d,m=n.allowedAutoPlacements,y=t.options.placement,v=Sa(y),g=l||(v===y||!f?[ys(y)]:function(e){if(Sa(e)===$a)return[];var t=ys(e);return[gs(e),t,gs(t)]}(y)),_=[y].concat(g).reduce((function(e,n){return e.concat(Sa(n)===$a?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,a=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,u=void 0===l?as:l,c=us(r),p=c?s?os:os.filter((function(e){return us(e)===c})):Ja,h=p.filter((function(e){return u.indexOf(e)>=0}));0===h.length&&(h=p);var d=h.reduce((function(t,n){return t[n]=ks(e,{placement:n,boundary:i,rootBoundary:o,padding:a})[Sa(n)],t}),{});return Object.keys(d).sort((function(e,t){return d[e]-d[t]}))}(t,{placement:n,boundary:c,rootBoundary:p,padding:u,flipVariations:f,allowedAutoPlacements:m}):n)}),[]),x=t.rects.reference,b=t.rects.popper,w=new Map,S=!0,E=_[0],T=0;T<_.length;T++){var P=_[T],C=Sa(P),k=us(P)===Qa,A=[Za,Ka].indexOf(C)>=0,I=A?"width":"height",O=ks(t,{placement:P,boundary:c,rootBoundary:p,altBoundary:h,padding:u}),D=A?k?Xa:Ya:k?Ka:Za;x[I]>b[I]&&(D=ys(D));var M=ys(D),j=[];if(o&&j.push(O[C]<=0),s&&j.push(O[D]<=0,O[M]<=0),j.every((function(e){return e}))){E=P,S=!1;break}w.set(P,j)}if(S)for(var R=function(e){var t=_.find((function(t){var n=w.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return E=t,"break"},L=f?3:1;L>0;L--){if("break"===R(L))break}t.placement!==E&&(t.modifiersData[r]._skip=!0,t.placement=E,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Is(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Os(e){return[Za,Xa,Ka,Ya].some((function(t){return e[t]>=0}))}const Ds={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=void 0===i?[0,0]:i,a=as.reduce((function(e,n){return e[n]=function(e,t,n){var r=Sa(e),i=[Ya,Za].indexOf(r)>=0?-1:1,o="function"===typeof n?n(Object.assign({},t,{placement:e})):n,a=o[0],s=o[1];return a=a||0,s=(s||0)*i,[Ya,Xa].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}(n,t.rects,o),e}),{}),s=a[t.placement],l=s.x,u=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[r]=a}};const Ms={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=void 0===i||i,a=n.altAxis,s=void 0!==a&&a,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,p=n.padding,h=n.tether,d=void 0===h||h,f=n.tetherOffset,m=void 0===f?0:f,y=ks(t,{boundary:l,rootBoundary:u,padding:p,altBoundary:c}),v=Sa(t.placement),g=us(t.placement),_=!g,x=qa(v),b="x"===x?"y":"x",w=t.modifiersData.popperOffsets,S=t.rects.reference,E=t.rects.popper,T="function"===typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,P="number"===typeof T?{mainAxis:T,altAxis:T}:Object.assign({mainAxis:0,altAxis:0},T),C=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,k={x:0,y:0};if(w){if(o){var A,I="y"===x?Za:Ya,O="y"===x?Ka:Xa,D="y"===x?"height":"width",M=w[x],j=M+y[I],R=M-y[O],L=d?-E[D]/2:0,z=g===Qa?S[D]:E[D],N=g===Qa?-E[D]:-S[D],B=t.elements.arrow,F=d&&B?ja(B):{width:0,height:0},U=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},V=U[I],q=U[O],W=Wa(0,S[D],F[D]),H=_?S[D]/2-L-W-V-P.mainAxis:z-W-V-P.mainAxis,G=_?-S[D]/2+L+W+q+P.mainAxis:N+W+q+P.mainAxis,Z=t.elements.arrow&&Va(t.elements.arrow),K=Z?"y"===x?Z.clientTop||0:Z.clientLeft||0:0,X=null!=(A=null==C?void 0:C[x])?A:0,Y=M+G-X,$=Wa(d?Aa(j,M+H-X-K):j,M,d?ka(R,Y):R);w[x]=$,k[x]=$-M}if(s){var J,Q="x"===x?Za:Ya,ee="x"===x?Ka:Xa,te=w[b],ne="y"===b?"height":"width",re=te+y[Q],ie=te-y[ee],oe=-1!==[Za,Ya].indexOf(v),ae=null!=(J=null==C?void 0:C[b])?J:0,se=oe?re:te-S[ne]-E[ne]-ae+P.altAxis,le=oe?te+S[ne]+E[ne]-ae-P.altAxis:ie,ue=d&&oe?function(e,t,n){var r=Wa(e,t,n);return r>n?n:r}(se,te,le):Wa(d?se:re,te,d?le:ie);w[b]=ue,k[b]=ue-te}t.modifiersData[r]=k}},requiresIfExists:["offset"]};function js(e,t,n){void 0===n&&(n=!1);var r=Pa(t),i=Pa(t)&&function(e){var t=e.getBoundingClientRect(),n=Ia(t.width)/e.offsetWidth||1,r=Ia(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),o=Ba(t),a=Ma(e,i,n),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&(("body"!==La(t)||bs(o))&&(s=function(e){return e!==Ea(e)&&Pa(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:_s(e);var t}(t)),Pa(t)?((l=Ma(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):o&&(l.x=xs(o))),{x:a.left+s.scrollLeft-l.x,y:a.top+s.scrollTop-l.y,width:a.width,height:a.height}}function Rs(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}function Ls(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var zs={placement:"bottom",modifiers:[],strategy:"absolute"};function Ns(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function Bs(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,o=void 0===i?zs:i;return function(e,t,n){void 0===n&&(n=o);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},zs,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},a=[],s=!1,l={state:i,setOptions:function(n){var s="function"===typeof n?n(i.options):n;u(),i.options=Object.assign({},o,i.options,s),i.scrollParents={reference:Ta(e)?Ss(e):e.contextElement?Ss(e.contextElement):[],popper:Ss(t)};var c=function(e){var t=Rs(e);return ss.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,i.options.modifiers)));return i.orderedModifiers=c.filter((function(e){return e.enabled})),i.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,o=e.effect;if("function"===typeof o){var s=o({state:i,name:t,instance:l,options:r}),u=function(){};a.push(s||u)}})),l.update()},forceUpdate:function(){if(!s){var e=i.elements,t=e.reference,n=e.popper;if(Ns(t,n)){i.rects={reference:js(t,Va(n),"fixed"===i.options.strategy),popper:ja(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(e){return i.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var o=i.orderedModifiers[r],a=o.fn,u=o.options,c=void 0===u?{}:u,p=o.name;"function"===typeof a&&(i=a({state:i,options:c,name:p,instance:l})||i)}else i.reset=!1,r=-1}}},update:Ls((function(){return new Promise((function(e){l.forceUpdate(),e(i)}))})),destroy:function(){u(),s=!0}};if(!Ns(e,t))return l;function u(){a.forEach((function(e){return e()})),a=[]}return l.setOptions(n).then((function(e){!s&&n.onFirstUpdate&&n.onFirstUpdate(e)})),l}}const Fs=Bs({defaultModifiers:[{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,a=ks(t,{elementContext:"reference"}),s=ks(t,{altBoundary:!0}),l=Is(a,r),u=Is(s,i,o),c=Os(l),p=Os(u);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:p},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":p})}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=Cs({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},hs,fs,Ds,As,Ms,ls]}),Us=["enabled","placement","strategy","modifiers"];const Vs={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},qs={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:e=>{let{state:t}=e;return()=>{const{reference:e,popper:n}=t.elements;if("removeAttribute"in e){const t=(e.getAttribute("aria-describedby")||"").split(",").filter((e=>e.trim()!==n.id));t.length?e.setAttribute("aria-describedby",t.join(",")):e.removeAttribute("aria-describedby")}}},fn:e=>{let{state:t}=e;var n;const{popper:r,reference:i}=t.elements,o=null==(n=r.getAttribute("role"))?void 0:n.toLowerCase();if(r.id&&"tooltip"===o&&"setAttribute"in i){const e=i.getAttribute("aria-describedby");if(e&&-1!==e.split(",").indexOf(r.id))return;i.setAttribute("aria-describedby",e?"".concat(e,",").concat(r.id):r.id)}}},Ws=[];const Hs=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{enabled:i=!0,placement:o="bottom",strategy:a="absolute",modifiers:s=Ws}=n,l=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(n,Us);const u=(0,r.useRef)(s),c=(0,r.useRef)(),p=(0,r.useCallback)((()=>{var e;null==(e=c.current)||e.update()}),[]),h=(0,r.useCallback)((()=>{var e;null==(e=c.current)||e.forceUpdate()}),[]),[d,f]=wa((0,r.useState)({placement:o,update:p,forceUpdate:h,attributes:{},styles:{popper:{},arrow:{}}})),m=(0,r.useMemo)((()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:e=>{let{state:t}=e;const n={},r={};Object.keys(t.elements).forEach((e=>{n[e]=t.styles[e],r[e]=t.attributes[e]})),f({state:t,styles:n,attributes:r,update:p,forceUpdate:h,placement:t.placement})}})),[p,h,f]),y=(0,r.useMemo)((()=>(ba(u.current,s)||(u.current=s),u.current)),[s]);return(0,r.useEffect)((()=>{c.current&&i&&c.current.setOptions({placement:o,strategy:a,modifiers:[...y,m,Vs]})}),[a,o,m,i,y]),(0,r.useEffect)((()=>{if(i&&null!=e&&null!=t)return c.current=Fs(e,t,Object.assign({},l,{placement:o,strategy:a,modifiers:[...y,qs,m]})),()=>{null!=c.current&&(c.current.destroy(),c.current=void 0,f((e=>Object.assign({},e,{attributes:{},styles:{popper:{}}}))))}}),[i,e,t]),d};var Gs=n(2391),Zs=n.n(Gs);const Ks=()=>{};const Xs=e=>e&&("current"in e?e.current:e),Ys={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};const $s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ks,{disabled:n,clickTrigger:i="click"}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=(0,r.useRef)(!1),a=(0,r.useRef)(!1),s=(0,r.useCallback)((t=>{const n=Xs(e);var r;Zs()(!!n,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),o.current=!n||!!((r=t).metaKey||r.altKey||r.ctrlKey||r.shiftKey)||!function(e){return 0===e.button}(t)||!!ji(n,t.target)||a.current,a.current=!1}),[e]),l=Si((t=>{const n=Xs(e);n&&ji(n,t.target)&&(a.current=!0)})),u=Si((e=>{o.current||t(e)}));(0,r.useEffect)((()=>{var t,r;if(n||null==e)return;const o=Or(Xs(e)),a=o.defaultView||window;let c=null!=(t=a.event)?t:null==(r=a.parent)?void 0:r.event,p=null;Ys[i]&&(p=ni(o,Ys[i],l,!0));const h=ni(o,i,s,!0),d=ni(o,i,(e=>{e!==c?u(e):c=void 0}));let f=[];return"ontouchstart"in o.documentElement&&(f=[].slice.call(o.body.children).map((e=>ni(e,"mousemove",Ks)))),()=>{null==p||p(),h(),d(),f.forEach((e=>e()))}}),[e,n,i,s,l,u])};function Js(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Array.isArray(e)?e:Object.keys(e).map((t=>(e[t].name=t,e[t])))}function Qs(e){let{enabled:t,enableEvents:n,placement:r,flip:i,offset:o,fixed:a,containerPadding:s,arrowElement:l,popperConfig:u={}}=e;var c,p,h,d,f;const m=function(e){const t={};return Array.isArray(e)?(null==e||e.forEach((e=>{t[e.name]=e})),t):e||t}(u.modifiers);return Object.assign({},u,{placement:r,enabled:t,strategy:a?"fixed":u.strategy,modifiers:Js(Object.assign({},m,{eventListeners:{enabled:n,options:null==(c=m.eventListeners)?void 0:c.options},preventOverflow:Object.assign({},m.preventOverflow,{options:s?Object.assign({padding:s},null==(p=m.preventOverflow)?void 0:p.options):null==(h=m.preventOverflow)?void 0:h.options}),offset:{options:Object.assign({offset:o},null==(d=m.offset)?void 0:d.options)},arrow:Object.assign({},m.arrow,{enabled:!!l,options:Object.assign({},null==(f=m.arrow)?void 0:f.options,{element:l})}),flip:Object.assign({enabled:!!i},m.flip)}))})}const el=["children"];const tl=()=>{};function nl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=(0,r.useContext)(ga),[n,i]=ua(),o=(0,r.useRef)(!1),{flip:a,offset:s,rootCloseEvent:l,fixed:u=!1,placement:c,popperConfig:p={},enableEventListeners:h=!0,usePopper:d=!!t}=e,f=null==(null==t?void 0:t.show)?!!e.show:t.show;f&&!o.current&&(o.current=!0);const{placement:m,setMenu:y,menuElement:v,toggleElement:g}=t||{},_=Hs(g,v,Qs({placement:c||m||"bottom-start",enabled:d,enableEvents:null==h?f:h,offset:s,flip:a,fixed:u,arrowElement:n,popperConfig:p})),x=Object.assign({ref:y||tl,"aria-labelledby":null==g?void 0:g.id},_.attributes.popper,{style:_.styles.popper}),b={show:f,placement:m,hasShown:o.current,toggle:null==t?void 0:t.toggle,popper:d?_:null,arrowProps:d?Object.assign({ref:i},_.attributes.arrow,{style:_.styles.arrow}):{}};return $s(v,(e=>{null==t||t.toggle(!1,e)}),{clickTrigger:l,disabled:!f}),[x,b]}function rl(e){let{children:t}=e,n=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,el);const[r,i]=nl(n);return(0,_r.jsx)(_r.Fragment,{children:t(r,i)})}rl.displayName="DropdownMenu",rl.defaultProps={usePopper:!0};const il=rl,ol={prefix:String(Math.round(1e10*Math.random())),current:0},al=r.createContext(ol),sl=r.createContext(!1);let ll=Boolean("undefined"!==typeof window&&window.document&&window.document.createElement),ul=new WeakMap;function cl(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(0,r.useContext)(al),n=(0,r.useRef)(null);if(null===n.current&&!e){var i,o;let e=null===(o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)||void 0===o||null===(i=o.ReactCurrentOwner)||void 0===i?void 0:i.current;if(e){let n=ul.get(e);null==n?ul.set(e,{id:t.current,state:e.memoizedState}):e.memoizedState!==n.state&&(t.current=n.id,ul.delete(e))}n.current=++t.current}return n.current}const pl="function"===typeof r.useId?function(e){let t=r.useId(),[n]=(0,r.useState)("function"===typeof r.useSyncExternalStore?r.useSyncExternalStore(fl,hl,dl):(0,r.useContext)(sl)),i=n?"react-aria":"react-aria".concat(ol.prefix);return e||"".concat(i,"-").concat(t)}:function(e){let t=(0,r.useContext)(al);t!==ol||ll||console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let n=cl(!!e),i="react-aria".concat(t.prefix);return e||"".concat(i,"-").concat(n)};function hl(){return!1}function dl(){return!0}function fl(e){return()=>{}}const ml=e=>{var t;return"menu"===(null==(t=e.getAttribute("role"))?void 0:t.toLowerCase())},yl=()=>{};function vl(){const e=pl(),{show:t=!1,toggle:n=yl,setToggle:i,menuElement:o}=(0,r.useContext)(ga)||{},a=(0,r.useCallback)((e=>{n(!t,e)}),[t,n]),s={id:e,ref:i||yl,onClick:a,"aria-expanded":!!t};return o&&ml(o)&&(s["aria-haspopup"]=!0),[s,{show:t,toggle:n}]}function gl(e){let{children:t}=e;const[n,r]=vl();return(0,_r.jsx)(_r.Fragment,{children:t(n,r)})}gl.displayName="DropdownToggle";const _l=gl,xl=["eventKey","disabled","onClick","active","as"];function bl(e){let{key:t,href:n,active:i,disabled:o,onClick:a}=e;const s=(0,r.useContext)(cr),l=(0,r.useContext)(Wo),{activeKey:u}=l||{},c=ur(t,n),p=null==i&&null!=t?ur(u)===c:i;return[{onClick:Si((e=>{o||(null==a||a(e),s&&!e.isPropagationStopped()&&s(c,e))})),"aria-disabled":o||void 0,"aria-selected":p,[Bi("dropdown-item")]:""},{isActive:p}]}const wl=r.forwardRef(((e,t)=>{let{eventKey:n,disabled:r,onClick:i,active:o,as:a=Xo}=e,s=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,xl);const[l]=bl({key:n,href:s.href,disabled:r,onClick:i,active:o});return(0,_r.jsx)(a,Object.assign({},s,{ref:t},l))}));wl.displayName="DropdownItem";const Sl=wl;function El(){const e=Vo(),t=(0,r.useRef)(null),n=(0,r.useCallback)((n=>{t.current=n,e()}),[e]);return[t,n]}function Tl(e){let{defaultShow:t,show:n,onSelect:i,onToggle:o,itemSelector:a="* [".concat(Bi("dropdown-item"),"]"),focusFirstItemOnShow:s,placement:l="bottom-start",children:u}=e;const c=qi(),[p,h]=va(n,t,o),[d,f]=El(),m=d.current,[y,v]=El(),g=y.current,_=zi(p),x=(0,r.useRef)(null),b=(0,r.useRef)(!1),w=(0,r.useContext)(cr),S=(0,r.useCallback)((function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null==t?void 0:t.type;h(e,{originalEvent:t,source:n})}),[h]),E=Si(((e,t)=>{null==i||i(e,t),S(!1,t,"select"),t.isPropagationStopped()||null==w||w(e,t)})),T=(0,r.useMemo)((()=>({toggle:S,placement:l,show:p,menuElement:m,toggleElement:g,setMenu:f,setToggle:v})),[S,l,p,m,g,f,v]);m&&_&&!p&&(b.current=m.contains(m.ownerDocument.activeElement));const P=Si((()=>{g&&g.focus&&g.focus()})),C=Si((()=>{const e=x.current;let t=s;if(null==t&&(t=!(!d.current||!ml(d.current))&&"keyboard"),!1===t||"keyboard"===t&&!/^key.+$/.test(e))return;const n=So(d.current,a)[0];n&&n.focus&&n.focus()}));(0,r.useEffect)((()=>{p?C():b.current&&(b.current=!1,P())}),[p,b,P,C]),(0,r.useEffect)((()=>{x.current=null}));const k=(e,t)=>{if(!d.current)return null;const n=So(d.current,a);let r=n.indexOf(e)+t;return r=Math.max(0,Math.min(r,n.length)),n[r]};return function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=Si(n);(0,r.useEffect)((()=>{const n="function"===typeof e?e():e;return n.addEventListener(t,o,i),()=>n.removeEventListener(t,o,i)}),[e])}((0,r.useCallback)((()=>c.document),[c]),"keydown",(e=>{var t,n;const{key:r}=e,i=e.target,o=null==(t=d.current)?void 0:t.contains(i),a=null==(n=y.current)?void 0:n.contains(i);if(/input|textarea/i.test(i.tagName)&&(" "===r||"Escape"!==r&&o||"Escape"===r&&"search"===i.type))return;if(!o&&!a)return;if("Tab"===r&&(!d.current||!p))return;x.current=e.type;const s={originalEvent:e,source:e.type};switch(r){case"ArrowUp":{const t=k(i,-1);return t&&t.focus&&t.focus(),void e.preventDefault()}case"ArrowDown":if(e.preventDefault(),p){const e=k(i,1);e&&e.focus&&e.focus()}else h(!0,s);return;case"Tab":ei(i.ownerDocument,"keyup",(e=>{var t;("Tab"!==e.key||e.target)&&null!=(t=d.current)&&t.contains(e.target)||h(!1,s)}),{once:!0});break;case"Escape":"Escape"===r&&(e.preventDefault(),e.stopPropagation()),h(!1,s)}})),(0,_r.jsx)(cr.Provider,{value:E,children:(0,_r.jsx)(ga.Provider,{value:T,children:u})})}Tl.displayName="Dropdown",Tl.Menu=il,Tl.Toggle=_l,Tl.Item=Sl;const Pl=Tl,Cl=r.createContext({});Cl.displayName="DropdownContext";const kl=Cl,Al=r.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="hr",role:o="separator",...a}=e;return r=Tr(r,"dropdown-divider"),(0,_r.jsx)(i,{ref:t,className:lr()(n,r),role:o,...a})}));Al.displayName="DropdownDivider";const Il=Al,Ol=r.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",role:o="heading",...a}=e;return r=Tr(r,"dropdown-header"),(0,_r.jsx)(i,{ref:t,className:lr()(n,r),role:o,...a})}));Ol.displayName="DropdownHeader";const Dl=Ol,Ml=r.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,eventKey:i,disabled:o=!1,onClick:a,active:s,as:l=ha,...u}=e;const c=Tr(n,"dropdown-item"),[p,h]=bl({key:i,href:u.href,disabled:o,onClick:a,active:s});return(0,_r.jsx)(l,{...u,...p,ref:t,className:lr()(r,c,h.isActive&&"active",o&&"disabled")})}));Ml.displayName="DropdownItem";const jl=Ml,Rl=r.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="span",...o}=e;return r=Tr(r,"dropdown-item-text"),(0,_r.jsx)(i,{ref:t,className:lr()(n,r),...o})}));Rl.displayName="DropdownItemText";const Ll=Rl,zl=r.createContext(null);zl.displayName="InputGroupContext";const Nl=zl;function Bl(e,t){return e}function Fl(e,t,n){let r=e?n?"bottom-start":"bottom-end":n?"bottom-end":"bottom-start";return"up"===t?r=e?n?"top-start":"top-end":n?"top-end":"top-start":"end"===t?r=e?n?"left-end":"right-end":n?"left-start":"right-start":"start"===t?r=e?n?"right-end":"left-end":n?"right-start":"left-start":"down-centered"===t?r="bottom":"up-centered"===t&&(r="top"),r}const Ul=r.forwardRef(((e,t)=>{let{bsPrefix:n,className:i,align:o,rootCloseEvent:a,flip:s=!0,show:l,renderOnMount:u,as:c="div",popperConfig:p,variant:h,...d}=e,f=!1;const m=(0,r.useContext)(_i),y=Tr(n,"dropdown-menu"),{align:v,drop:g,isRTL:_}=(0,r.useContext)(kl);o=o||v;const x=(0,r.useContext)(Nl),b=[];if(o)if("object"===typeof o){const e=Object.keys(o);if(e.length){const t=e[0],n=o[t];f="start"===n,b.push("".concat(y,"-").concat(t,"-").concat(n))}}else"end"===o&&(f=!0);const w=Fl(f,g,_),[S,{hasShown:E,popper:T,show:P,toggle:C}]=nl({flip:s,rootCloseEvent:a,show:l,usePopper:!m&&0===b.length,offset:[0,2],popperConfig:p,placement:w});if(S.ref=ci(Bl(t),S.ref),Ci((()=>{P&&(null==T||T.update())}),[P]),!E&&!u&&!x)return null;"string"!==typeof c&&(S.show=P,S.close=()=>null==C?void 0:C(!1),S.align=o);let k=d.style;return null!=T&&T.placement&&(k={...d.style,...S.style},d["x-placement"]=T.placement),(0,_r.jsx)(c,{...d,...S,style:k,...(b.length||m)&&{"data-bs-popper":"static"},className:lr()(i,y,P&&"show",f&&"".concat(y,"-end"),h&&"".concat(y,"-").concat(h),...b)})}));Ul.displayName="DropdownMenu";const Vl=Ul,ql=r.forwardRef(((e,t)=>{let{as:n,bsPrefix:r,variant:i="primary",size:o,active:a=!1,disabled:s=!1,className:l,...u}=e;const c=Tr(r,"btn"),[p,{tagName:h}]=Zo({tagName:n,disabled:s,...u}),d=h;return(0,_r.jsx)(d,{...p,...u,ref:t,disabled:s,className:lr()(l,c,a&&"active",i&&"".concat(c,"-").concat(i),o&&"".concat(c,"-").concat(o),u.href&&s&&"disabled")})}));ql.displayName="Button";const Wl=ql,Hl=r.forwardRef(((e,t)=>{let{bsPrefix:n,split:i,className:o,childBsPrefix:a,as:s=Wl,...l}=e;const u=Tr(n,"dropdown-toggle"),c=(0,r.useContext)(ga);void 0!==a&&(l.bsPrefix=a);const[p]=vl();return p.ref=ci(p.ref,Bl(t)),(0,_r.jsx)(s,{className:lr()(o,u,i&&"".concat(u,"-split"),(null==c?void 0:c.show)&&"show"),...p,...l})}));Hl.displayName="DropdownToggle";const Gl=Hl,Zl=r.forwardRef(((e,t)=>{const{bsPrefix:n,drop:i="down",show:o,className:a,align:s="start",onSelect:l,onToggle:u,focusFirstItemOnShow:c,as:p="div",navbar:h,autoClose:d=!0,...f}=mr(e,{show:"onToggle"}),m=(0,r.useContext)(Nl),y=Tr(n,"dropdown"),v=kr(),g=Si(((e,t)=>{var n,r;(null==(n=t.originalEvent)||null==(r=n.target)?void 0:r.classList.contains("dropdown-toggle"))&&"mousedown"===t.source||(t.originalEvent.currentTarget!==document||"keydown"===t.source&&"Escape"!==t.originalEvent.key||(t.source="rootClose"),(e=>!1===d?"click"===e:"inside"===d?"rootClose"!==e:"outside"!==d||"select"!==e)(t.source)&&(null==u||u(e,t)))})),_=Fl("end"===s,i,v),x=(0,r.useMemo)((()=>({align:s,drop:i,isRTL:v})),[s,i,v]),b={down:y,"down-centered":"".concat(y,"-center"),up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return(0,_r.jsx)(kl.Provider,{value:x,children:(0,_r.jsx)(Pl,{placement:_,show:o,onSelect:l,onToggle:g,focusFirstItemOnShow:c,itemSelector:".".concat(y,"-item:not(.disabled):not(:disabled)"),children:m?f.children:(0,_r.jsx)(p,{...f,ref:t,className:lr()(a,o&&"show",b[i])})})})}));Zl.displayName="Dropdown";const Kl=Object.assign(Zl,{Toggle:Gl,Menu:Vl,Item:jl,ItemText:Ll,Divider:Il,Header:Dl}),Xl=r.forwardRef(((e,t)=>{let{id:n,title:r,children:i,bsPrefix:o,className:a,rootCloseEvent:s,menuRole:l,disabled:u,active:c,renderMenuOnMount:p,menuVariant:h,...d}=e;const f=Tr(void 0,"nav-item");return(0,_r.jsxs)(Kl,{ref:t,...d,className:lr()(a,f),children:[(0,_r.jsx)(Kl.Toggle,{id:n,eventKey:null,active:c,disabled:u,childBsPrefix:o,as:fa,children:r}),(0,_r.jsx)(Kl.Menu,{role:l,renderOnMount:p,rootCloseEvent:s,variant:h,children:i})]})}));Xl.displayName="NavDropdown";const Yl=Object.assign(Xl,{Item:Kl.Item,ItemText:Kl.ItemText,Divider:Kl.Divider,Header:Kl.Header});var $l={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Jl=r.createContext&&r.createContext($l),Ql=function(){return Ql=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ql.apply(this,arguments)},eu=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function tu(e){return e&&e.map((function(e,t){return r.createElement(e.tag,Ql({key:t},e.attr),tu(e.child))}))}function nu(e){return function(t){return r.createElement(ru,Ql({attr:Ql({},e.attr)},t),tu(e.child))}}function ru(e){var t=function(t){var n,i=e.attr,o=e.size,a=e.title,s=eu(e,["attr","size","title"]),l=o||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),r.createElement("svg",Ql({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,s,{className:n,style:Ql(Ql({color:e.color||t.color},t.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&r.createElement("title",null,a),e.children)};return void 0!==Jl?r.createElement(Jl.Consumer,null,(function(e){return t(e)})):t($l)}function iu(e){return nu({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",strokeWidth:"2",d:"M1,8.4 C1,4 4.5,3 6.5,3 C9,3 11,5 12,6.5 C13,5 15,3 17.5,3 C19.5,3 23,4 23,8.4 C23,15 12,21 12,21 C12,21 1,15 1,8.4 Z"}}]})(e)}const ou=function(){const e=x((e=>e.user)),t=D();return(0,_r.jsx)(Uo,{expand:"lg",className:"navigation_bar",children:(0,_r.jsxs)("div",{className:"container",children:[(0,_r.jsx)(s.J,{to:"/",children:(0,_r.jsx)(Uo.Brand,{children:"UTOPIAS"})}),(0,_r.jsx)(Uo.Toggle,{"aria-controls":"basic-navbar-nav"})," ",(0,_r.jsx)(Uo.Collapse,{id:"basic-navbar-nav",children:(0,_r.jsxs)(ya,{className:"ms-auto",children:[(0,_r.jsx)(s.J,{to:"/saleproperties",children:(0,_r.jsx)(ya.Link,{children:(0,_r.jsx)("h5",{children:"PROPERTY FOR SALE"})})}),!e&&(0,_r.jsx)(s.J,{to:"/login",children:(0,_r.jsx)(ya.Link,{children:(0,_r.jsx)("button",{className:"login-btn",children:(0,_r.jsx)("h5",{children:"Login"})})})}),e&&!e.isAdmin&&(0,_r.jsx)(s.J,{to:"/favorite",children:(0,_r.jsx)(ya.Link,{className:"ms-3",children:(0,_r.jsx)("h5",{children:"FAVORITE"})})}),e&&(0,_r.jsx)(_r.Fragment,{children:(0,_r.jsxs)(Yl,{title:"".concat(e.name),children:[e.isOwner&&(0,_r.jsxs)(_r.Fragment,{children:[(0,_r.jsx)(s.J,{to:"/owner-dashboard",children:(0,_r.jsx)(Yl.Item,{children:"Dashboard"})}),(0,_r.jsx)(s.J,{to:"/favorite",children:(0,_r.jsxs)(Yl.Item,{children:["favorites ",(0,_r.jsx)(iu,{size:20})]})})]}),!e.isOwner&&(0,_r.jsxs)(_r.Fragment,{children:[(0,_r.jsx)(s.J,{to:"/favorite",children:(0,_r.jsxs)(Yl.Item,{children:["favorites ",(0,_r.jsx)(iu,{size:20})]})}),(0,_r.jsx)(s.J,{to:"/appointment",children:(0,_r.jsx)(Yl.Item,{children:"Booked Appointments"})})]}),(0,_r.jsx)(Wl,{variant:"danger",onClick:function(){t(or())},className:"logout-btn ms-4 mt-2",children:"Logout"})]})})]})})]})})},au=(0,r.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),su=(0,r.createContext)({}),lu=(0,r.createContext)(null),uu="undefined"!==typeof document,cu=uu?r.useLayoutEffect:r.useEffect,pu=(0,r.createContext)({strict:!1}),hu=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),du="data-"+hu("framerAppearId");function fu(e){return"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function mu(e){return"string"===typeof e||Array.isArray(e)}function yu(e){return"object"===typeof e&&"function"===typeof e.start}const vu=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],gu=["initial",...vu];function _u(e){return yu(e.animate)||gu.some((t=>mu(e[t])))}function xu(e){return Boolean(_u(e)||e.variants)}function bu(e){const{initial:t,animate:n}=function(e,t){if(_u(e)){const{initial:t,animate:n}=e;return{initial:!1===t||mu(t)?t:void 0,animate:mu(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,r.useContext)(su));return(0,r.useMemo)((()=>({initial:t,animate:n})),[wu(t),wu(n)])}function wu(e){return Array.isArray(e)?e.join(" "):e}const Su={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Eu={};for(const n in Su)Eu[n]={isEnabled:e=>Su[n].some((t=>!!e[t]))};const Tu=(0,r.createContext)({}),Pu=(0,r.createContext)({}),Cu=Symbol.for("motionComponentSymbol");function ku(e){let{preloadedFeatures:t,createVisualElement:n,useRender:i,useVisualState:o,Component:a}=e;t&&function(e){for(const t in e)Eu[t]={...Eu[t],...e[t]}}(t);const s=(0,r.forwardRef)((function(e,s){let l;const u={...(0,r.useContext)(au),...e,layoutId:Au(e)},{isStatic:c}=u,p=bu(e),h=o(e,c);if(!c&&uu){p.visualElement=function(e,t,n,i){const{visualElement:o}=(0,r.useContext)(su),a=(0,r.useContext)(pu),s=(0,r.useContext)(lu),l=(0,r.useContext)(au).reducedMotion,u=(0,r.useRef)();i=i||a.renderer,!u.current&&i&&(u.current=i(e,{visualState:t,parent:o,props:n,presenceContext:s,blockInitialAnimation:!!s&&!1===s.initial,reducedMotionConfig:l}));const c=u.current;(0,r.useInsertionEffect)((()=>{c&&c.update(n,s)}));const p=(0,r.useRef)(Boolean(n[du]&&!window.HandoffComplete));return cu((()=>{c&&(c.render(),p.current&&c.animationState&&c.animationState.animateChanges())})),(0,r.useEffect)((()=>{c&&(c.updateFeatures(),!p.current&&c.animationState&&c.animationState.animateChanges(),p.current&&(p.current=!1,window.HandoffComplete=!0))})),c}(a,h,u,n);const e=(0,r.useContext)(Pu),i=(0,r.useContext)(pu).strict;p.visualElement&&(l=p.visualElement.loadFeatures(u,i,t,e))}return r.createElement(su.Provider,{value:p},l&&p.visualElement?r.createElement(l,{visualElement:p.visualElement,...u}):null,i(a,e,function(e,t,n){return(0,r.useCallback)((r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&("function"===typeof n?n(r):fu(n)&&(n.current=r))}),[t])}(h,p.visualElement,s),h,c,p.visualElement))}));return s[Cu]=a,s}function Au(e){let{layoutId:t}=e;const n=(0,r.useContext)(Tu).id;return n&&void 0!==t?n+"-"+t:t}function Iu(e){function t(t){return ku(e(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}if("undefined"===typeof Proxy)return t;const n=new Map;return new Proxy(t,{get:(e,r)=>(n.has(r)||n.set(r,t(r)),n.get(r))})}const Ou=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Du(e){return"string"===typeof e&&!e.includes("-")&&!!(Ou.indexOf(e)>-1||/[A-Z]/.test(e))}const Mu={};const ju=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ru=new Set(ju);function Lu(e,t){let{layout:n,layoutId:r}=t;return Ru.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!Mu[e]||"opacity"===e)}const zu=e=>Boolean(e&&e.getVelocity),Nu={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Bu=ju.length;const Fu=e=>t=>"string"===typeof t&&t.startsWith(e),Uu=Fu("--"),Vu=Fu("var(--"),qu=(e,t)=>t&&"number"===typeof e?t.transform(e):e,Wu=(e,t,n)=>Math.min(Math.max(n,e),t),Hu={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},Gu={...Hu,transform:e=>Wu(0,1,e)},Zu={...Hu,default:1},Ku=e=>Math.round(1e5*e)/1e5,Xu=/(-)?([\d]*\.?[\d])+/g,Yu=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,$u=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Ju(e){return"string"===typeof e}const Qu=e=>({test:t=>Ju(t)&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>"".concat(t).concat(e)}),ec=Qu("deg"),tc=Qu("%"),nc=Qu("px"),rc=Qu("vh"),ic=Qu("vw"),oc={...tc,parse:e=>tc.parse(e)/100,transform:e=>tc.transform(100*e)},ac={...Hu,transform:Math.round},sc={borderWidth:nc,borderTopWidth:nc,borderRightWidth:nc,borderBottomWidth:nc,borderLeftWidth:nc,borderRadius:nc,radius:nc,borderTopLeftRadius:nc,borderTopRightRadius:nc,borderBottomRightRadius:nc,borderBottomLeftRadius:nc,width:nc,maxWidth:nc,height:nc,maxHeight:nc,size:nc,top:nc,right:nc,bottom:nc,left:nc,padding:nc,paddingTop:nc,paddingRight:nc,paddingBottom:nc,paddingLeft:nc,margin:nc,marginTop:nc,marginRight:nc,marginBottom:nc,marginLeft:nc,rotate:ec,rotateX:ec,rotateY:ec,rotateZ:ec,scale:Zu,scaleX:Zu,scaleY:Zu,scaleZ:Zu,skew:ec,skewX:ec,skewY:ec,distance:nc,translateX:nc,translateY:nc,translateZ:nc,x:nc,y:nc,z:nc,perspective:nc,transformPerspective:nc,opacity:Gu,originX:oc,originY:oc,originZ:nc,zIndex:ac,fillOpacity:Gu,strokeOpacity:Gu,numOctaves:ac};function lc(e,t,n,r){const{style:i,vars:o,transform:a,transformOrigin:s}=e;let l=!1,u=!1,c=!0;for(const p in t){const e=t[p];if(Uu(p)){o[p]=e;continue}const n=sc[p],r=qu(e,n);if(Ru.has(p)){if(l=!0,a[p]=r,!c)continue;e!==(n.default||0)&&(c=!1)}else p.startsWith("origin")?(u=!0,s[p]=r):i[p]=r}if(t.transform||(l||r?i.transform=function(e,t,n,r){let{enableHardwareAcceleration:i=!0,allowTransformNone:o=!0}=t,a="";for(let s=0;s<Bu;s++){const t=ju[s];if(void 0!==e[t]){const n=Nu[t]||t;a+="".concat(n,"(").concat(e[t],") ")}}return i&&!e.z&&(a+="translateZ(0)"),a=a.trim(),r?a=r(e,n?"":a):o&&n&&(a="none"),a}(e.transform,n,c,r):i.transform&&(i.transform="none")),u){const{originX:e="50%",originY:t="50%",originZ:n=0}=s;i.transformOrigin="".concat(e," ").concat(t," ").concat(n)}}const uc=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function cc(e,t,n){for(const r in t)zu(t[r])||Lu(r,n)||(e[r]=t[r])}function pc(e,t,n){const i={};return cc(i,e.style||{},e),Object.assign(i,function(e,t,n){let{transformTemplate:i}=e;return(0,r.useMemo)((()=>{const e=uc();return lc(e,t,{enableHardwareAcceleration:!n},i),Object.assign({},e.vars,e.style)}),[t])}(e,t,n)),e.transformValues?e.transformValues(i):i}function hc(e,t,n){const r={},i=pc(e,t,n);return e.drag&&!1!==e.dragListener&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}const dc=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function fc(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||dc.has(e)}let mc=e=>!fc(e);try{(yc=require("@emotion/is-prop-valid").default)&&(mc=e=>e.startsWith("on")?!fc(e):yc(e))}catch(ow){}var yc;function vc(e,t,n){return"string"===typeof e?e:nc.transform(t+n*e)}const gc={offset:"stroke-dashoffset",array:"stroke-dasharray"},_c={offset:"strokeDashoffset",array:"strokeDasharray"};function xc(e,t,n,r,i){let{attrX:o,attrY:a,attrScale:s,originX:l,originY:u,pathLength:c,pathSpacing:p=1,pathOffset:h=0,...d}=t;if(lc(e,d,n,i),r)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:f,style:m,dimensions:y}=e;f.transform&&(y&&(m.transform=f.transform),delete f.transform),y&&(void 0!==l||void 0!==u||m.transform)&&(m.transformOrigin=function(e,t,n){const r=vc(t,e.x,e.width),i=vc(n,e.y,e.height);return"".concat(r," ").concat(i)}(y,void 0!==l?l:.5,void 0!==u?u:.5)),void 0!==o&&(f.x=o),void 0!==a&&(f.y=a),void 0!==s&&(f.scale=s),void 0!==c&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const o=i?gc:_c;e[o.offset]=nc.transform(-r);const a=nc.transform(t),s=nc.transform(n);e[o.array]="".concat(a," ").concat(s)}(f,c,p,h,!1)}const bc=()=>({...uc(),attrs:{}}),wc=e=>"string"===typeof e&&"svg"===e.toLowerCase();function Sc(e,t,n,i){const o=(0,r.useMemo)((()=>{const n=bc();return xc(n,t,{enableHardwareAcceleration:!1},wc(i),e.transformTemplate),{...n.attrs,style:{...n.style}}}),[t]);if(e.style){const t={};cc(t,e.style,e),o.style={...t,...o.style}}return o}function Ec(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(t,n,i,o,a)=>{let{latestValues:s}=o;const l=(Du(t)?Sc:hc)(n,s,a,t),u=function(e,t,n){const r={};for(const i in e)"values"===i&&"object"===typeof e.values||(mc(i)||!0===n&&fc(i)||!t&&!fc(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}(n,"string"===typeof t,e),c={...u,...l,ref:i},{children:p}=n,h=(0,r.useMemo)((()=>zu(p)?p.get():p),[p]);return(0,r.createElement)(t,{...c,children:h})}}function Tc(e,t,n,r){let{style:i,vars:o}=t;Object.assign(e.style,i,r&&r.getProjectionStyles(n));for(const a in o)e.style.setProperty(a,o[a])}const Pc=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Cc(e,t,n,r){Tc(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(Pc.has(i)?i:hu(i),t.attrs[i])}function kc(e,t){const{style:n}=e,r={};for(const i in n)(zu(n[i])||t.style&&zu(t.style[i])||Lu(i,e))&&(r[i]=n[i]);return r}function Ac(e,t){const n=kc(e,t);for(const r in e)if(zu(e[r])||zu(t[r])){n[-1!==ju.indexOf(r)?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r]=e[r]}return n}function Ic(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,i)),"string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,i)),t}const Oc=e=>Array.isArray(e),Dc=e=>Boolean(e&&"object"===typeof e&&e.mix&&e.toValue),Mc=e=>Oc(e)?e[e.length-1]||0:e;function jc(e){const t=zu(e)?e.get():e;return Dc(t)?t.toValue():t}const Rc=e=>(t,n)=>{const i=(0,r.useContext)(su),o=(0,r.useContext)(lu),a=()=>function(e,t,n,r){let{scrapeMotionValuesFromProps:i,createRenderState:o,onMount:a}=e;const s={latestValues:Lc(t,n,r,i),renderState:o()};return a&&(s.mount=e=>a(t,e,s)),s}(e,t,i,o);return n?a():function(e){const t=(0,r.useRef)(null);return null===t.current&&(t.current=e()),t.current}(a)};function Lc(e,t,n,r){const i={},o=r(e,{});for(const h in o)i[h]=jc(o[h]);let{initial:a,animate:s}=e;const l=_u(e),u=xu(e);t&&u&&!l&&!1!==e.inherit&&(void 0===a&&(a=t.initial),void 0===s&&(s=t.animate));let c=!!n&&!1===n.initial;c=c||!1===a;const p=c?s:a;if(p&&"boolean"!==typeof p&&!yu(p)){(Array.isArray(p)?p:[p]).forEach((t=>{const n=Ic(e,t);if(!n)return;const{transitionEnd:r,transition:o,...a}=n;for(const e in a){let t=a[e];if(Array.isArray(t)){t=t[c?t.length-1:0]}null!==t&&(i[e]=t)}for(const e in r)i[e]=r[e]}))}return i}const zc=e=>e;class Nc{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);-1!==t&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}const Bc=["prepare","read","update","preRender","render","postRender"];const{schedule:Fc,cancel:Uc,state:Vc,steps:qc}=function(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=Bc.reduce(((e,t)=>(e[t]=function(e){let t=new Nc,n=new Nc,r=0,i=!1,o=!1;const a=new WeakSet,s={schedule:function(e){const o=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&i,s=o?t:n;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&a.add(e),s.add(e)&&o&&i&&(r=t.order.length),e},cancel:e=>{n.remove(e),a.delete(e)},process:l=>{if(i)o=!0;else{if(i=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let n=0;n<r;n++){const r=t.order[n];r(l),a.has(r)&&(s.schedule(r),e())}i=!1,o&&(o=!1,s.process(l))}}};return s}((()=>n=!0)),e)),{}),a=e=>o[e].process(i),s=()=>{const o=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(o-i.timestamp,40),1),i.timestamp=o,i.isProcessing=!0,Bc.forEach(a),i.isProcessing=!1,n&&t&&(r=!1,e(s))},l=Bc.reduce(((t,a)=>{const l=o[a];return t[a]=function(t){let o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,r=!0,i.isProcessing||e(s)),l.schedule(t,o,a)},t}),{});return{schedule:l,cancel:e=>Bc.forEach((t=>o[t].cancel(e))),state:i,steps:o}}("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:zc,!0),Wc={useVisualState:Rc({scrapeMotionValuesFromProps:Ac,createRenderState:bc,onMount:(e,t,n)=>{let{renderState:r,latestValues:i}=n;Fc.read((()=>{try{r.dimensions="function"===typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(TI){r.dimensions={x:0,y:0,width:0,height:0}}})),Fc.render((()=>{xc(r,i,{enableHardwareAcceleration:!1},wc(t.tagName),e.transformTemplate),Cc(t,r)}))}})},Hc={useVisualState:Rc({scrapeMotionValuesFromProps:kc,createRenderState:uc})};function Gc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const Zc=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary;function Kc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page";return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const Xc=e=>t=>Zc(t)&&e(t,Kc(t));function Yc(e,t,n,r){return Gc(e,t,Xc(n),r)}const $c=(e,t)=>n=>t(e(n)),Jc=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce($c)};function Qc(e){let t=null;return()=>{const n=()=>{t=null};return null===t&&(t=e,n)}}const ep=Qc("dragHorizontal"),tp=Qc("dragVertical");function np(e){let t=!1;if("y"===e)t=tp();else if("x"===e)t=ep();else{const e=ep(),n=tp();e&&n?t=()=>{e(),n()}:(e&&e(),n&&n())}return t}function rp(){const e=np(!0);return!e||(e(),!1)}class ip{constructor(e){this.isMounted=!1,this.node=e}update(){}}function op(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End");return Yc(e.current,n,((n,i)=>{if("touch"===n.type||rp())return;const o=e.getProps();e.animationState&&o.whileHover&&e.animationState.setActive("whileHover",t),o[r]&&Fc.update((()=>o[r](n,i)))}),{passive:!e.getProps()[r]})}const ap=(e,t)=>!!t&&(e===t||ap(e,t.parentElement));function sp(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,Kc(n))}const lp=new WeakMap,up=new WeakMap,cp=e=>{const t=lp.get(e.target);t&&t(e)},pp=e=>{e.forEach(cp)};function hp(e,t,n){const r=function(e){let{root:t,...n}=e;const r=t||document;up.has(r)||up.set(r,{});const i=up.get(r),o=JSON.stringify(n);return i[o]||(i[o]=new IntersectionObserver(pp,{root:t,...n})),i[o]}(t);return lp.set(e,n),r.observe(e),()=>{lp.delete(e),r.unobserve(e)}}const dp={some:0,all:1};const fp={inView:{Feature:class extends ip{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:i}=e,o={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof r?r:dp[r]};return hp(this.node.current,o,(e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,i&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),o=t?n:r;o&&o(e)}))}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends ip{constructor(){super(...arguments),this.removeStartListeners=zc,this.removeEndListeners=zc,this.removeAccessibleListeners=zc,this.startPointerPress=(e,t)=>{if(this.removeEndListeners(),this.isPressing)return;const n=this.node.getProps(),r=Yc(window,"pointerup",((e,t)=>{if(!this.checkPressEnd())return;const{onTap:n,onTapCancel:r}=this.node.getProps();Fc.update((()=>{ap(this.node.current,e.target)?n&&n(e,t):r&&r(e,t)}))}),{passive:!(n.onTap||n.onPointerUp)}),i=Yc(window,"pointercancel",((e,t)=>this.cancelPress(e,t)),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=Jc(r,i),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=Gc(this.node.current,"keydown",(e=>{if("Enter"!==e.key||this.isPressing)return;this.removeEndListeners(),this.removeEndListeners=Gc(this.node.current,"keyup",(e=>{"Enter"===e.key&&this.checkPressEnd()&&sp("up",((e,t)=>{const{onTap:n}=this.node.getProps();n&&Fc.update((()=>n(e,t)))}))})),sp("down",((e,t)=>{this.startPress(e,t)}))})),t=Gc(this.node.current,"blur",(()=>{this.isPressing&&sp("cancel",((e,t)=>this.cancelPress(e,t)))}));this.removeAccessibleListeners=Jc(e,t)}}startPress(e,t){this.isPressing=!0;const{onTapStart:n,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&Fc.update((()=>n(e,t)))}checkPressEnd(){this.removeEndListeners(),this.isPressing=!1;return this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!rp()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&Fc.update((()=>n(e,t)))}mount(){const e=this.node.getProps(),t=Yc(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=Gc(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Jc(t,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}},focus:{Feature:class extends ip{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(TI){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Jc(Gc(this.node.current,"focus",(()=>this.onFocus())),Gc(this.node.current,"blur",(()=>this.onBlur())))}unmount(){}}},hover:{Feature:class extends ip{mount(){this.unmount=Jc(op(this.node,!0),op(this.node,!1))}unmount(){}}}};function mp(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function yp(e,t,n){const r=e.getProps();return Ic(r,t,void 0!==n?n:r.custom,function(e){const t={};return e.values.forEach(((e,n)=>t[n]=e.get())),t}(e),function(e){const t={};return e.values.forEach(((e,n)=>t[n]=e.getVelocity())),t}(e))}let vp=zc,gp=zc;const _p=e=>1e3*e,xp=e=>e/1e3,bp=!1,wp=e=>Array.isArray(e)&&"number"===typeof e[0];function Sp(e){return Boolean(!e||"string"===typeof e&&Tp[e]||wp(e)||Array.isArray(e)&&e.every(Sp))}const Ep=e=>{let[t,n,r,i]=e;return"cubic-bezier(".concat(t,", ").concat(n,", ").concat(r,", ").concat(i,")")},Tp={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ep([0,.65,.55,1]),circOut:Ep([.55,0,1,.45]),backIn:Ep([.31,.01,.66,-.59]),backOut:Ep([.33,1.53,.69,.99])};function Pp(e){if(e)return wp(e)?Ep(e):Array.isArray(e)?e.map(Pp):Tp[e]}const Cp=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,kp=1e-7,Ap=12;function Ip(e,t,n,r){if(e===t&&n===r)return zc;const i=t=>function(e,t,n,r,i){let o,a,s=0;do{a=t+(n-t)/2,o=Cp(a,r,i)-e,o>0?n=a:t=a}while(Math.abs(o)>kp&&++s<Ap);return a}(t,0,1,e,n);return e=>0===e||1===e?e:Cp(i(e),t,r)}const Op=Ip(.42,0,1,1),Dp=Ip(0,0,.58,1),Mp=Ip(.42,0,.58,1),jp=e=>Array.isArray(e)&&"number"!==typeof e[0],Rp=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Lp=e=>t=>1-e(1-t),zp=e=>1-Math.sin(Math.acos(e)),Np=Lp(zp),Bp=Rp(zp),Fp=Ip(.33,1.53,.69,.99),Up=Lp(Fp),Vp=Rp(Up),qp={linear:zc,easeIn:Op,easeInOut:Mp,easeOut:Dp,circIn:zp,circInOut:Bp,circOut:Np,backIn:Up,backInOut:Vp,backOut:Fp,anticipate:e=>(e*=2)<1?.5*Up(e):.5*(2-Math.pow(2,-10*(e-1)))},Wp=e=>{if(Array.isArray(e)){gp(4===e.length,"Cubic bezier arrays must contain four numerical values.");const[t,n,r,i]=e;return Ip(t,n,r,i)}return"string"===typeof e?(gp(void 0!==qp[e],"Invalid easing type '".concat(e,"'")),qp[e]):e},Hp=(e,t)=>n=>Boolean(Ju(n)&&$u.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),Gp=(e,t,n)=>r=>{if(!Ju(r))return r;const[i,o,a,s]=r.match(Xu);return{[e]:parseFloat(i),[t]:parseFloat(o),[n]:parseFloat(a),alpha:void 0!==s?parseFloat(s):1}},Zp={...Hu,transform:e=>Math.round((e=>Wu(0,255,e))(e))},Kp={test:Hp("rgb","red"),parse:Gp("red","green","blue"),transform:e=>{let{red:t,green:n,blue:r,alpha:i=1}=e;return"rgba("+Zp.transform(t)+", "+Zp.transform(n)+", "+Zp.transform(r)+", "+Ku(Gu.transform(i))+")"}};const Xp={test:Hp("#"),parse:function(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:Kp.transform},Yp={test:Hp("hsl","hue"),parse:Gp("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:r,alpha:i=1}=e;return"hsla("+Math.round(t)+", "+tc.transform(Ku(n))+", "+tc.transform(Ku(r))+", "+Ku(Gu.transform(i))+")"}},$p={test:e=>Kp.test(e)||Xp.test(e)||Yp.test(e),parse:e=>Kp.test(e)?Kp.parse(e):Yp.test(e)?Yp.parse(e):Xp.parse(e),transform:e=>Ju(e)?e:e.hasOwnProperty("red")?Kp.transform(e):Yp.transform(e)},Jp=(e,t,n)=>-n*e+n*t+e;function Qp(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}const eh=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},th=[Xp,Kp,Yp];function nh(e){const t=(n=e,th.find((e=>e.test(n))));var n;gp(Boolean(t),"'".concat(e,"' is not an animatable color. Use the equivalent color code instead."));let r=t.parse(e);return t===Yp&&(r=function(e){let{hue:t,saturation:n,lightness:r,alpha:i}=e;t/=360,n/=100,r/=100;let o=0,a=0,s=0;if(n){const e=r<.5?r*(1+n):r+n-r*n,i=2*r-e;o=Qp(i,e,t+1/3),a=Qp(i,e,t),s=Qp(i,e,t-1/3)}else o=a=s=r;return{red:Math.round(255*o),green:Math.round(255*a),blue:Math.round(255*s),alpha:i}}(r)),r}const rh=(e,t)=>{const n=nh(e),r=nh(t),i={...n};return e=>(i.red=eh(n.red,r.red,e),i.green=eh(n.green,r.green,e),i.blue=eh(n.blue,r.blue,e),i.alpha=Jp(n.alpha,r.alpha,e),Kp.transform(i))};const ih={regex:/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,countKey:"Vars",token:"${v}",parse:zc},oh={regex:Yu,countKey:"Colors",token:"${c}",parse:$p.parse},ah={regex:Xu,countKey:"Numbers",token:"${n}",parse:Hu.parse};function sh(e,t){let{regex:n,countKey:r,token:i,parse:o}=t;const a=e.tokenised.match(n);a&&(e["num"+r]=a.length,e.tokenised=e.tokenised.replace(n,i),e.values.push(...a.map(o)))}function lh(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&sh(n,ih),sh(n,oh),sh(n,ah),n}function uh(e){return lh(e).values}function ch(e){const{values:t,numColors:n,numVars:r,tokenised:i}=lh(e),o=t.length;return e=>{let t=i;for(let i=0;i<o;i++)t=i<r?t.replace(ih.token,e[i]):i<r+n?t.replace(oh.token,$p.transform(e[i])):t.replace(ah.token,Ku(e[i]));return t}}const ph=e=>"number"===typeof e?0:e;const hh={test:function(e){var t,n;return isNaN(e)&&Ju(e)&&((null===(t=e.match(Xu))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(Yu))||void 0===n?void 0:n.length)||0)>0},parse:uh,createTransformer:ch,getAnimatableNone:function(e){const t=uh(e);return ch(e)(t.map(ph))}},dh=(e,t)=>n=>"".concat(n>0?t:e);function fh(e,t){return"number"===typeof e?n=>Jp(e,t,n):$p.test(e)?rh(e,t):e.startsWith("var(")?dh(e,t):vh(e,t)}const mh=(e,t)=>{const n=[...e],r=n.length,i=e.map(((e,n)=>fh(e,t[n])));return e=>{for(let t=0;t<r;t++)n[t]=i[t](e);return n}},yh=(e,t)=>{const n={...e,...t},r={};for(const i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=fh(e[i],t[i]));return e=>{for(const t in r)n[t]=r[t](e);return n}},vh=(e,t)=>{const n=hh.createTransformer(t),r=lh(e),i=lh(t);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?Jc(mh(r.values,i.values),n):(vp(!0,"Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.")),dh(e,t))},gh=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r},_h=(e,t)=>n=>Jp(e,t,n);function xh(e,t,n){const r=[],i=n||("number"===typeof(o=e[0])?_h:"string"===typeof o?$p.test(o)?rh:vh:Array.isArray(o)?mh:"object"===typeof o?yh:_h);var o;const a=e.length-1;for(let s=0;s<a;s++){let n=i(e[s],e[s+1]);if(t){const e=Array.isArray(t)?t[s]||zc:t;n=Jc(e,n)}r.push(n)}return r}function bh(e,t){let{clamp:n=!0,ease:r,mixer:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=e.length;if(gp(o===t.length,"Both input and output ranges must be the same length"),1===o)return()=>t[0];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=xh(t,r,i),s=a.length,l=t=>{let n=0;if(s>1)for(;n<e.length-2&&!(t<e[n+1]);n++);const r=gh(e[n],e[n+1],t);return a[n](r)};return n?t=>l(Wu(e[0],e[o-1],t)):l}function wh(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=gh(0,t,r);e.push(Jp(n,1,i))}}(t,e.length-1),t}function Sh(e){let{duration:t=300,keyframes:n,times:r,ease:i="easeInOut"}=e;const o=jp(i)?i.map(Wp):Wp(i),a={done:!1,value:n[0]},s=function(e,t){return e.map((e=>e*t))}(r&&r.length===n.length?r:wh(n),t),l=bh(s,n,{ease:Array.isArray(o)?o:(u=n,c=o,u.map((()=>c||Mp)).splice(0,u.length-1))});var u,c;return{calculatedDuration:t,next:e=>(a.value=l(e),a.done=e>=t,a)}}function Eh(e,t){return t?e*(1e3/t):0}const Th=5;function Ph(e,t,n){const r=Math.max(t-Th,0);return Eh(n-e(r),t-r)}const Ch=.001,kh=.01,Ah=10,Ih=.05,Oh=1;function Dh(e){let t,n,{duration:r=800,bounce:i=.25,velocity:o=0,mass:a=1}=e;vp(r<=_p(Ah),"Spring duration must be 10 seconds or less");let s=1-i;s=Wu(Ih,Oh,s),r=Wu(kh,Ah,xp(r)),s<1?(t=e=>{const t=e*s,n=t*r,i=t-o,a=jh(e,s),l=Math.exp(-n);return Ch-i/a*l},n=e=>{const n=e*s*r,i=n*o+o,a=Math.pow(s,2)*Math.pow(e,2)*r,l=Math.exp(-n),u=jh(Math.pow(e,2),s);return(-t(e)+Ch>0?-1:1)*((i-a)*l)/u}):(t=e=>Math.exp(-e*r)*((e-o)*r+1)-Ch,n=e=>Math.exp(-e*r)*(r*r*(o-e)));const l=function(e,t,n){let r=n;for(let i=1;i<Mh;i++)r-=e(r)/t(r);return r}(t,n,5/r);if(r=_p(r),isNaN(l))return{stiffness:100,damping:10,duration:r};{const e=Math.pow(l,2)*a;return{stiffness:e,damping:2*s*Math.sqrt(a*e),duration:r}}}const Mh=12;function jh(e,t){return e*Math.sqrt(1-t*t)}const Rh=["duration","bounce"],Lh=["stiffness","damping","mass"];function zh(e,t){return t.some((t=>void 0!==e[t]))}function Nh(e){let{keyframes:t,restDelta:n,restSpeed:r,...i}=e;const o=t[0],a=t[t.length-1],s={done:!1,value:o},{stiffness:l,damping:u,mass:c,velocity:p,duration:h,isResolvedFromDuration:d}=function(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!zh(e,Lh)&&zh(e,Rh)){const n=Dh(e);t={...t,...n,velocity:0,mass:1},t.isResolvedFromDuration=!0}return t}(i),f=p?-xp(p):0,m=u/(2*Math.sqrt(l*c)),y=a-o,v=xp(Math.sqrt(l/c)),g=Math.abs(y)<5;let _;if(r||(r=g?.01:2),n||(n=g?.005:.5),m<1){const e=jh(v,m);_=t=>{const n=Math.exp(-m*v*t);return a-n*((f+m*v*y)/e*Math.sin(e*t)+y*Math.cos(e*t))}}else if(1===m)_=e=>a-Math.exp(-v*e)*(y+(f+v*y)*e);else{const e=v*Math.sqrt(m*m-1);_=t=>{const n=Math.exp(-m*v*t),r=Math.min(e*t,300);return a-n*((f+m*v*y)*Math.sinh(r)+e*y*Math.cosh(r))/e}}return{calculatedDuration:d&&h||null,next:e=>{const t=_(e);if(d)s.done=e>=h;else{let i=f;0!==e&&(i=m<1?Ph(_,e,t):0);const o=Math.abs(i)<=r,l=Math.abs(a-t)<=n;s.done=o&&l}return s.value=s.done?a:t,s}}}function Bh(e){let{keyframes:t,velocity:n=0,power:r=.8,timeConstant:i=325,bounceDamping:o=10,bounceStiffness:a=500,modifyTarget:s,min:l,max:u,restDelta:c=.5,restSpeed:p}=e;const h=t[0],d={done:!1,value:h},f=e=>void 0===l?u:void 0===u||Math.abs(l-e)<Math.abs(u-e)?l:u;let m=r*n;const y=h+m,v=void 0===s?y:s(y);v!==y&&(m=v-h);const g=e=>-m*Math.exp(-e/i),_=e=>v+g(e),x=e=>{const t=g(e),n=_(e);d.done=Math.abs(t)<=c,d.value=d.done?v:n};let b,w;const S=e=>{var t;(t=d.value,void 0!==l&&t<l||void 0!==u&&t>u)&&(b=e,w=Nh({keyframes:[d.value,f(d.value)],velocity:Ph(_,e,d.value),damping:o,stiffness:a,restDelta:c,restSpeed:p}))};return S(0),{calculatedDuration:null,next:e=>{let t=!1;return w||void 0!==b||(t=!0,x(e),S(e)),void 0!==b&&e>b?w.next(e-b):(!t&&x(e),d)}}}const Fh=e=>{const t=t=>{let{timestamp:n}=t;return e(n)};return{start:()=>Fc.update(t,!0),stop:()=>Uc(t),now:()=>Vc.isProcessing?Vc.timestamp:performance.now()}},Uh=2e4;function Vh(e){let t=0;let n=e.next(t);for(;!n.done&&t<Uh;)t+=50,n=e.next(t);return t>=Uh?1/0:t}const qh={decay:Bh,inertia:Bh,tween:Sh,keyframes:Sh,spring:Nh};function Wh(e){let t,n,{autoplay:r=!0,delay:i=0,driver:o=Fh,keyframes:a,type:s="keyframes",repeat:l=0,repeatDelay:u=0,repeatType:c="loop",onPlay:p,onStop:h,onComplete:d,onUpdate:f,...m}=e,y=1,v=!1;const g=()=>{n=new Promise((e=>{t=e}))};let _;g();const x=qh[s]||Sh;let b;x!==Sh&&"number"!==typeof a[0]&&(b=bh([0,100],a,{clamp:!1}),a=[0,100]);const w=x({...m,keyframes:a});let S;"mirror"===c&&(S=x({...m,keyframes:[...a].reverse(),velocity:-(m.velocity||0)}));let E="idle",T=null,P=null,C=null;null===w.calculatedDuration&&l&&(w.calculatedDuration=Vh(w));const{calculatedDuration:k}=w;let A=1/0,I=1/0;null!==k&&(A=k+u,I=A*(l+1)-u);let O=0;const D=e=>{if(null===P)return;y>0&&(P=Math.min(P,e)),y<0&&(P=Math.min(e-I/y,P)),O=null!==T?T:Math.round(e-P)*y;const t=O-i*(y>=0?1:-1),n=y>=0?t<0:t>I;O=Math.max(t,0),"finished"===E&&null===T&&(O=I);let r=O,o=w;if(l){const e=O/A;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,l+1);const i=Boolean(t%2);i&&("reverse"===c?(n=1-n,u&&(n-=u/A)):"mirror"===c&&(o=S));let a=Wu(0,1,n);O>I&&(a="reverse"===c&&i?1:0),r=a*A}const s=n?{done:!1,value:a[0]}:o.next(r);b&&(s.value=b(s.value));let{done:p}=s;n||null===k||(p=y>=0?O>=I:O<=0);const h=null===T&&("finished"===E||"running"===E&&p);return f&&f(s.value),h&&R(),s},M=()=>{_&&_.stop(),_=void 0},j=()=>{E="idle",M(),t(),g(),P=C=null},R=()=>{E="finished",d&&d(),M(),t()},L=()=>{if(v)return;_||(_=o(D));const e=_.now();p&&p(),null!==T?P=e-T:P&&"finished"!==E||(P=e),"finished"===E&&g(),C=P,T=null,E="running",_.start()};r&&L();const z={then:(e,t)=>n.then(e,t),get time(){return xp(O)},set time(e){e=_p(e),O=e,null===T&&_&&0!==y?P=_.now()-e/y:T=e},get duration(){const e=null===w.calculatedDuration?Vh(w):w.calculatedDuration;return xp(e)},get speed(){return y},set speed(e){e!==y&&_&&(y=e,z.time=xp(O))},get state(){return E},play:L,pause:()=>{E="paused",T=O},stop:()=>{v=!0,"idle"!==E&&(E="idle",h&&h(),j())},cancel:()=>{null!==C&&D(C),j()},complete:()=>{E="finished"},sample:e=>(P=0,D(e))};return z}const Hh=function(e){let t;return()=>(void 0===t&&(t=e()),t)}((()=>Object.hasOwnProperty.call(Element.prototype,"animate"))),Gh=new Set(["opacity","clipPath","filter","transform","backgroundColor"]);function Zh(e,t,n){let{onUpdate:r,onComplete:i,...o}=n;if(!(Hh()&&Gh.has(t)&&!o.repeatDelay&&"mirror"!==o.repeatType&&0!==o.damping&&"inertia"!==o.type))return!1;let a,s,l=!1;const u=()=>{s=new Promise((e=>{a=e}))};u();let{keyframes:c,duration:p=300,ease:h,times:d}=o;if(((e,t)=>"spring"===t.type||"backgroundColor"===e||!Sp(t.ease))(t,o)){const e=Wh({...o,repeat:0,delay:0});let t={done:!1,value:c[0]};const n=[];let r=0;for(;!t.done&&r<2e4;)t=e.sample(r),n.push(t.value),r+=10;d=void 0,c=n,p=r-10,h="linear"}const f=function(e,t,n){let{delay:r=0,duration:i,repeat:o=0,repeatType:a="loop",ease:s,times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const u={[t]:n};l&&(u.offset=l);const c=Pp(s);return Array.isArray(c)&&(u.easing=c),e.animate(u,{delay:r,duration:i,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:o+1,direction:"reverse"===a?"alternate":"normal"})}(e.owner.current,t,c,{...o,duration:p,ease:h,times:d}),m=()=>f.cancel(),y=()=>{Fc.update(m),a(),u()};f.onfinish=()=>{e.set(function(e,t){let{repeat:n,repeatType:r="loop"}=t;return e[n&&"loop"!==r&&n%2===1?0:e.length-1]}(c,o)),i&&i(),y()};return{then:(e,t)=>s.then(e,t),attachTimeline:e=>(f.timeline=e,f.onfinish=null,zc),get time(){return xp(f.currentTime||0)},set time(e){f.currentTime=_p(e)},get speed(){return f.playbackRate},set speed(e){f.playbackRate=e},get duration(){return xp(p)},play:()=>{l||(f.play(),Uc(m))},pause:()=>f.pause(),stop:()=>{if(l=!0,"idle"===f.playState)return;const{currentTime:t}=f;if(t){const n=Wh({...o,autoplay:!1});e.setWithVelocity(n.sample(t-10).value,n.sample(t).value,10)}y()},complete:()=>f.finish(),cancel:y}}const Kh={type:"spring",stiffness:500,damping:25,restSpeed:10},Xh={type:"keyframes",duration:.8},Yh={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},$h=(e,t)=>{let{keyframes:n}=t;return n.length>2?Xh:Ru.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:Kh:Yh},Jh=(e,t)=>"zIndex"!==e&&(!("number"!==typeof t&&!Array.isArray(t))||!("string"!==typeof t||!hh.test(t)&&"0"!==t||t.startsWith("url("))),Qh=new Set(["brightness","contrast","saturate","opacity"]);function ed(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(Xu)||[];if(!r)return e;const i=n.replace(r,"");let o=Qh.has(t)?1:0;return r!==n&&(o*=100),t+"("+o+i+")"}const td=/([a-z-]*)\(.*?\)/g,nd={...hh,getAnimatableNone:e=>{const t=e.match(td);return t?t.map(ed).join(" "):e}},rd={...sc,color:$p,backgroundColor:$p,outlineColor:$p,fill:$p,stroke:$p,borderColor:$p,borderTopColor:$p,borderRightColor:$p,borderBottomColor:$p,borderLeftColor:$p,filter:nd,WebkitFilter:nd},id=e=>rd[e];function od(e,t){let n=id(e);return n!==nd&&(n=hh),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const ad=e=>/^0[^.\s]+$/.test(e);function sd(e){return"number"===typeof e?0===e:null!==e?"none"===e||"0"===e||ad(e):void 0}function ld(e,t){return e[t]||e.default||e}const ud=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return i=>{const o=ld(r,e)||{},a=o.delay||r.delay||0;let{elapsed:s=0}=r;s-=_p(a);const l=function(e,t,n,r){const i=Jh(t,n);let o;o=Array.isArray(n)?[...n]:[null,n];const a=void 0!==r.from?r.from:e.get();let s;const l=[];for(let u=0;u<o.length;u++)null===o[u]&&(o[u]=0===u?a:o[u-1]),sd(o[u])&&l.push(u),"string"===typeof o[u]&&"none"!==o[u]&&"0"!==o[u]&&(s=o[u]);if(i&&l.length&&s)for(let u=0;u<l.length;u++)o[l[u]]=od(t,s);return o}(t,e,n,o),u=l[0],c=l[l.length-1],p=Jh(e,u),h=Jh(e,c);vp(p===h,"You are trying to animate ".concat(e,' from "').concat(u,'" to "').concat(c,'". ').concat(u," is not an animatable value - to enable this animation set ").concat(u," to a value animatable to ").concat(c," via the `style` property."));let d={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...o,delay:-s,onUpdate:e=>{t.set(e),o.onUpdate&&o.onUpdate(e)},onComplete:()=>{i(),o.onComplete&&o.onComplete()}};if(function(e){let{when:t,delay:n,delayChildren:r,staggerChildren:i,staggerDirection:o,repeat:a,repeatType:s,repeatDelay:l,from:u,elapsed:c,...p}=e;return!!Object.keys(p).length}(o)||(d={...d,...$h(e,d)}),d.duration&&(d.duration=_p(d.duration)),d.repeatDelay&&(d.repeatDelay=_p(d.repeatDelay)),!p||!h||bp||!1===o.type)return function(e){let{keyframes:t,delay:n,onUpdate:r,onComplete:i}=e;const o=()=>(r&&r(t[t.length-1]),i&&i(),{time:0,speed:1,duration:0,play:zc,pause:zc,stop:zc,then:e=>(e(),Promise.resolve()),cancel:zc,complete:zc});return n?Wh({keyframes:[0,1],duration:0,delay:n,onComplete:o}):o()}(bp?{...d,delay:0}:d);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const n=Zh(t,e,d);if(n)return n}return Wh(d)}};function cd(e){return Boolean(zu(e)&&e.add)}const pd=e=>/^\-?\d*\.?\d+$/.test(e);function hd(e,t){-1===e.indexOf(t)&&e.push(t)}function dd(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class fd{constructor(){this.subscriptions=[]}add(e){return hd(this.subscriptions,e),()=>dd(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let i=0;i<r;i++){const r=this.subscriptions[i];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const md={current:void 0};class yd{constructor(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.version="10.16.16",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t.prev=t.current,t.current=e;const{delta:r,timestamp:i}=Vc;t.lastUpdated!==i&&(t.timeDelta=r,t.lastUpdated=i,Fc.postRender(t.scheduleVelocityCheck)),t.prev!==t.current&&t.events.change&&t.events.change.notify(t.current),t.events.velocityChange&&t.events.velocityChange.notify(t.getVelocity()),n&&t.events.renderRequest&&t.events.renderRequest.notify(t.current)},this.scheduleVelocityCheck=()=>Fc.postRender(this.velocityCheck),this.velocityCheck=e=>{let{timestamp:t}=e;t!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=(e=>!isNaN(parseFloat(e)))(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new fd);const n=this.events[e].add(t);return"change"===e?()=>{n(),Fc.read((()=>{this.events.change.getSize()||this.stop()}))}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=e,this.timeDelta=n}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return md.current&&md.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Eh(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise((t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()})).then((()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()}))}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function vd(e,t){return new yd(e,t)}const gd=e=>t=>t.test(e),_d=[Hu,nc,tc,ec,ic,rc,{test:e=>"auto"===e,parse:e=>e}],xd=e=>_d.find(gd(e)),bd=[..._d,$p,hh];function wd(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,vd(n))}function Sd(e,t){const n=yp(e,t);let{transitionEnd:r={},transition:i={},...o}=n?e.makeTargetAnimatable(n,!1):{};o={...o,...r};for(const a in o){wd(e,a,Mc(o[a]))}}function Ed(e,t){if(!t)return;return(t[e]||t.default||t).from}function Td(e,t){let{protectedKeys:n,needsAnimating:r}=e;const i=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,i}function Pd(e,t){const n=e.get();if(!Array.isArray(t))return n!==t;for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}function Cd(e,t){let{delay:n=0,transitionOverride:r,type:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{transition:o=e.getDefaultTransition(),transitionEnd:a,...s}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");r&&(o=r);const u=[],c=i&&e.animationState&&e.animationState.getState()[i];for(const p in s){const t=e.getValue(p),r=s[p];if(!t||void 0===r||c&&Td(c,p))continue;const i={delay:n,elapsed:0,...ld(o||{},p)};if(window.HandoffAppearAnimations){const n=e.getProps()[du];if(n){const e=window.HandoffAppearAnimations(n,p,t,Fc);null!==e&&(i.elapsed=e,i.isHandoff=!0)}}let a=!i.isHandoff&&!Pd(t,r);if("spring"===i.type&&(t.getVelocity()||i.velocity)&&(a=!1),t.animation&&(a=!1),a)continue;t.start(ud(p,t,r,e.shouldReduceMotion&&Ru.has(p)?{type:!1}:i));const h=t.animation;cd(l)&&(l.add(p),h.then((()=>l.remove(p)))),u.push(h)}return a&&Promise.all(u).then((()=>{a&&Sd(e,a)})),u}function kd(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=yp(e,t,n.custom);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const o=r?()=>Promise.all(Cd(e,r,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:o=0,staggerChildren:a,staggerDirection:s}=i;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=arguments.length>5?arguments[5]:void 0;const a=[],s=(e.variantChildren.size-1)*r,l=1===i?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r}:function(){return s-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r};return Array.from(e.variantChildren).sort(Ad).forEach(((e,r)=>{e.notify("AnimationStart",t),a.push(kd(e,t,{...o,delay:n+l(r)}).then((()=>e.notify("AnimationComplete",t))))})),Promise.all(a)}(e,t,o+r,a,s,n)}:()=>Promise.resolve(),{when:s}=i;if(s){const[e,t]="beforeChildren"===s?[o,a]:[a,o];return e().then((()=>t()))}return Promise.all([o(),a(n.delay)])}function Ad(e,t){return e.sortNodePosition(t)}const Id=[...vu].reverse(),Od=vu.length;function Dd(e){return t=>Promise.all(t.map((t=>{let{animation:n,options:r}=t;return function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const i=t.map((t=>kd(e,t,r)));n=Promise.all(i)}else if("string"===typeof t)n=kd(e,t,r);else{const i="function"===typeof t?yp(e,t,r.custom):t;n=Promise.all(Cd(e,i,r))}return n.then((()=>e.notify("AnimationComplete",t)))}(e,n,r)})))}function Md(e){let t=Dd(e);const n={animate:Rd(!0),whileInView:Rd(),whileHover:Rd(),whileTap:Rd(),whileDrag:Rd(),whileFocus:Rd(),exit:Rd()};let r=!0;const i=(t,n)=>{const r=yp(e,n);if(r){const{transition:e,transitionEnd:n,...i}=r;t={...t,...i,...n}}return t};function o(o,a){const s=e.getProps(),l=e.getVariantContext(!0)||{},u=[],c=new Set;let p={},h=1/0;for(let t=0;t<Od;t++){const d=Id[t],f=n[d],m=void 0!==s[d]?s[d]:l[d],y=mu(m),v=d===a?f.isActive:null;!1===v&&(h=t);let g=m===l[d]&&m!==s[d]&&y;if(g&&r&&e.manuallyAnimateOnMount&&(g=!1),f.protectedKeys={...p},!f.isActive&&null===v||!m&&!f.prevProp||yu(m)||"boolean"===typeof m)continue;const _=jd(f.prevProp,m);let x=_||d===a&&f.isActive&&!g&&y||t>h&&y;const b=Array.isArray(m)?m:[m];let w=b.reduce(i,{});!1===v&&(w={});const{prevResolvedValues:S={}}=f,E={...S,...w},T=e=>{x=!0,c.delete(e),f.needsAnimating[e]=!0};for(const e in E){const t=w[e],n=S[e];p.hasOwnProperty(e)||(t!==n?Oc(t)&&Oc(n)?!mp(t,n)||_?T(e):f.protectedKeys[e]=!0:void 0!==t?T(e):c.add(e):void 0!==t&&c.has(e)?T(e):f.protectedKeys[e]=!0)}f.prevProp=m,f.prevResolvedValues=w,f.isActive&&(p={...p,...w}),r&&e.blockInitialAnimation&&(x=!1),x&&!g&&u.push(...b.map((e=>({animation:e,options:{type:d,...o}}))))}if(c.size){const t={};c.forEach((n=>{const r=e.getBaseTarget(n);void 0!==r&&(t[n]=r)})),u.push({animation:t})}let d=Boolean(u.length);return!r||!1!==s.initial&&s.initial!==s.animate||e.manuallyAnimateOnMount||(d=!1),r=!1,d?t(u):Promise.resolve()}return{animateChanges:o,setActive:function(t,r,i){var a;if(n[t].isActive===r)return Promise.resolve();null===(a=e.variantChildren)||void 0===a||a.forEach((e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)})),n[t].isActive=r;const s=o(i,t);for(const e in n)n[e].protectedKeys={};return s},setAnimateFunction:function(n){t=n(e)},getState:()=>n}}function jd(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!mp(t,e)}function Rd(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}let Ld=0;const zd={animation:{Feature:class extends ip{constructor(e){super(e),e.animationState||(e.animationState=Md(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),yu(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}},exit:{Feature:class extends ip{constructor(){super(...arguments),this.id=Ld++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e,{custom:null!==n&&void 0!==n?n:this.node.getProps().custom});t&&!e&&i.then((()=>t(this.id)))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}}},Nd=(e,t)=>Math.abs(e-t);class Bd{constructor(e,t){let{transformPagePoint:n,contextWindow:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=Vd(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=Nd(e.x,t.x),r=Nd(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!n)return;const{point:r}=e,{timestamp:i}=Vc;this.history.push({...r,timestamp:i});const{onStart:o,onMove:a}=this.handlers;t||(o&&o(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),a&&a(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=Fd(t,this.transformPagePoint),Fc.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{if(this.end(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const{onEnd:n,onSessionEnd:r}=this.handlers,i=Vd("pointercancel"===e.type?this.lastMoveEventInfo:Fd(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,i),r&&r(e,i)},!Zc(e))return;this.handlers=t,this.transformPagePoint=n,this.contextWindow=r||window;const i=Fd(Kc(e),this.transformPagePoint),{point:o}=i,{timestamp:a}=Vc;this.history=[{...o,timestamp:a}];const{onSessionStart:s}=t;s&&s(e,Vd(i,this.history)),this.removeListeners=Jc(Yc(this.contextWindow,"pointermove",this.handlePointerMove),Yc(this.contextWindow,"pointerup",this.handlePointerUp),Yc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Uc(this.updatePoint)}}function Fd(e,t){return t?{point:t(e.point)}:e}function Ud(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Vd(e,t){let{point:n}=e;return{point:n,delta:Ud(n,Wd(t)),offset:Ud(n,qd(t)),velocity:Hd(t,.1)}}function qd(e){return e[0]}function Wd(e){return e[e.length-1]}function Hd(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=Wd(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>_p(t)));)n--;if(!r)return{x:0,y:0};const o=xp(i.timestamp-r.timestamp);if(0===o)return{x:0,y:0};const a={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function Gd(e){return e.max-e.min}function Zd(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.01;return Math.abs(e-t)<=n}function Kd(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=Jp(t.min,t.max,e.origin),e.scale=Gd(n)/Gd(t),(Zd(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Jp(n.min,n.max,e.origin)-e.originPoint,(Zd(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Xd(e,t,n,r){Kd(e.x,t.x,n.x,r?r.originX:void 0),Kd(e.y,t.y,n.y,r?r.originY:void 0)}function Yd(e,t,n){e.min=n.min+t.min,e.max=e.min+Gd(t)}function $d(e,t,n){e.min=t.min-n.min,e.max=e.min+Gd(t)}function Jd(e,t,n){$d(e.x,t.x,n.x),$d(e.y,t.y,n.y)}function Qd(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function ef(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const tf=.35;function nf(e,t,n){return{min:rf(e,t),max:rf(e,n)}}function rf(e,t){return"number"===typeof e?e:e[t]||0}const of=()=>({x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}),af=()=>({x:{min:0,max:0},y:{min:0,max:0}});function sf(e){return[e("x"),e("y")]}function lf(e){let{top:t,left:n,right:r,bottom:i}=e;return{x:{min:n,max:r},y:{min:t,max:i}}}function uf(e){return void 0===e||1===e}function cf(e){let{scale:t,scaleX:n,scaleY:r}=e;return!uf(t)||!uf(n)||!uf(r)}function pf(e){return cf(e)||hf(e)||e.z||e.rotate||e.rotateX||e.rotateY}function hf(e){return df(e.x)||df(e.y)}function df(e){return e&&"0%"!==e}function ff(e,t,n){return n+t*(e-n)}function mf(e,t,n,r,i){return void 0!==i&&(e=ff(e,i,r)),ff(e,n,r)+t}function yf(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;e.min=mf(e.min,t,n,r,i),e.max=mf(e.max,t,n,r,i)}function vf(e,t){let{x:n,y:r}=t;yf(e.x,n.translate,n.scale,n.originPoint),yf(e.y,r.translate,r.scale,r.originPoint)}function gf(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function _f(e,t){e.min=e.min+t,e.max=e.max+t}function xf(e,t,n){let[r,i,o]=n;const a=void 0!==t[o]?t[o]:.5,s=Jp(e.min,e.max,a);yf(e,t[r],t[i],s,t.scale)}const bf=["x","scaleX","originX"],wf=["y","scaleY","originY"];function Sf(e,t){xf(e.x,t,bf),xf(e.y,t,wf)}function Ef(e,t){return lf(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const Tf=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null},Pf=new WeakMap;class Cf{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=af(),this.visualElement=e}start(e){let{snapToCursor:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;this.panSession=new Bd(e,{onSessionStart:e=>{this.stopAnimation(),t&&this.snapToCursor(Kc(e,"page").point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:i}=this.getProps();if(n&&!r&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=np(n),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),sf((e=>{let t=this.getAxisMotionValue(e).get()||0;if(tc.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=Gd(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t})),i&&Fc.update((()=>i(e,t)),!1,!0);const{animationState:o}=this.visualElement;o&&o.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:o}=this.getProps();if(!n&&!this.openGlobalLock)return;const{offset:a}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(a),void(null!==this.currentDirection&&i&&i(this.currentDirection));this.updateAxis("x",t.point,a),this.updateAxis("y",t.point,a),this.visualElement.render(),o&&o(e,t)},onSessionEnd:(e,t)=>this.stop(e,t)},{transformPagePoint:this.visualElement.getTransformPagePoint(),contextWindow:Tf(this.visualElement)})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:i}=this.getProps();i&&Fc.update((()=>i(e,t)))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!kf(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=function(e,t,n){let{min:r,max:i}=t;return void 0!==r&&e<r?e=n?Jp(r,e,n.min):Math.max(e,r):void 0!==i&&e>i&&(e=n?Jp(i,e,n.max):Math.min(e,i)),e}(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,i=this.constraints;t&&fu(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!r)&&function(e,t){let{top:n,left:r,bottom:i,right:o}=t;return{x:Qd(e.x,r,o),y:Qd(e.y,n,i)}}(r.layoutBox,t),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tf;return!1===e?e=0:!0===e&&(e=tf),{x:nf(e,"left","right"),y:nf(e,"top","bottom")}}(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&sf((e=>{this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(r.layoutBox[e],this.constraints[e]))}))}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!fu(e))return!1;const n=e.current;gp(null!==n,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=function(e,t,n){const r=Ef(e,n),{scroll:i}=t;return i&&(_f(r.x,i.offset.x),_f(r.y,i.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let o=function(e,t){return{x:ef(e.x,t.x),y:ef(e.y,t.y)}}(r.layout.layoutBox,i);if(t){const e=t(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(o));this.hasMutatedConstraints=!!e,e&&(o=lf(e))}return o}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),s=this.constraints||{},l=sf((a=>{if(!kf(a,t,this.currentDirection))return;let l=s&&s[a]||{};o&&(l={min:0,max:0});const u=r?200:1e6,c=r?40:1e7,p={type:"inertia",velocity:n?e[a]:0,bounceStiffness:u,bounceDamping:c,timeConstant:750,restDelta:1,restSpeed:10,...i,...l};return this.startAxisValueAnimation(a,p)}));return Promise.all(l).then(a)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return n.start(ud(e,n,0,t))}stopAnimation(){sf((e=>this.getAxisMotionValue(e).stop()))}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){sf((t=>{const{drag:n}=this.getProps();if(!kf(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:o}=r.layout.layoutBox[t];i.set(e[t]-Jp(n,o,.5))}}))}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!fu(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};sf((e=>{const t=this.getAxisMotionValue(e);if(t){const n=t.get();r[e]=function(e,t){let n=.5;const r=Gd(e),i=Gd(t);return i>r?n=gh(t.min,t.max-r,e.min):r>i&&(n=gh(e.min,e.max-i,t.min)),Wu(0,1,n)}({min:n,max:n},this.constraints[e])}}));const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),sf((t=>{if(!kf(t,e,null))return;const n=this.getAxisMotionValue(t),{min:i,max:o}=this.constraints[t];n.set(Jp(i,o,r[t]))}))}addListeners(){if(!this.visualElement.current)return;Pf.set(this.visualElement,this);const e=Yc(this.visualElement.current,"pointerdown",(e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)})),t=()=>{const{dragConstraints:e}=this.getProps();fu(e)&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),t();const i=Gc(window,"resize",(()=>this.scalePositionWithinConstraints())),o=n.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(sf((e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))})),this.visualElement.render())}));return()=>{i(),e(),r(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:o=tf,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function kf(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const Af=e=>(t,n)=>{e&&Fc.update((()=>e(t,n)))};const If={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Of(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Df={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!nc.test(e))return e;e=parseFloat(e)}const n=Of(e,t.target.x),r=Of(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},Mf={correct:(e,t)=>{let{treeScale:n,projectionDelta:r}=t;const i=e,o=hh.parse(e);if(o.length>5)return i;const a=hh.createTransformer(e),s="number"!==typeof o[0]?1:0,l=r.x.scale*n.x,u=r.y.scale*n.y;o[0+s]/=l,o[1+s]/=u;const c=Jp(l,u,.5);return"number"===typeof o[2+s]&&(o[2+s]/=c),"number"===typeof o[3+s]&&(o[3+s]/=c),a(o)}};class jf extends r.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=e;var o;o=Lf,Object.assign(Mu,o),i&&(t.group&&t.group.add(i),n&&n.register&&r&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",(()=>{this.safeToRemove()})),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),If.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:i}=this.props,o=n.projection;return o?(o.isPresent=i,r||e.layoutDependency!==t||void 0===t?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||Fc.postRender((()=>{const e=o.getStack();e&&e.members.length||this.safeToRemove()}))),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask((()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()})))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Rf(e){const[t,n]=function(){const e=(0,r.useContext)(lu);if(null===e)return[!0,null];const{isPresent:t,onExitComplete:n,register:i}=e,o=(0,r.useId)();return(0,r.useEffect)((()=>i(o)),[]),!t&&n?[!1,()=>n&&n(o)]:[!0]}(),i=(0,r.useContext)(Tu);return r.createElement(jf,{...e,layoutGroup:i,switchLayoutGroup:(0,r.useContext)(Pu),isPresent:t,safeToRemove:n})}const Lf={borderRadius:{...Df,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Df,borderTopRightRadius:Df,borderBottomLeftRadius:Df,borderBottomRightRadius:Df,boxShadow:Mf},zf=["TopLeft","TopRight","BottomLeft","BottomRight"],Nf=zf.length,Bf=e=>"string"===typeof e?parseFloat(e):e,Ff=e=>"number"===typeof e||nc.test(e);function Uf(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const Vf=Wf(0,.5,Np),qf=Wf(.5,.95,zc);function Wf(e,t,n){return r=>r<e?0:r>t?1:n(gh(e,t,r))}function Hf(e,t){e.min=t.min,e.max=t.max}function Gf(e,t){Hf(e.x,t.x),Hf(e.y,t.y)}function Zf(e,t,n,r,i){return e=ff(e-=t,1/n,r),void 0!==i&&(e=ff(e,1/i,r)),e}function Kf(e,t,n,r,i){let[o,a,s]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;tc.test(t)&&(t=parseFloat(t),t=Jp(a.min,a.max,t/100)-a.min);if("number"!==typeof t)return;let s=Jp(o.min,o.max,r);e===o&&(s-=t),e.min=Zf(e.min,t,n,s,i),e.max=Zf(e.max,t,n,s,i)}(e,t[o],t[a],t[s],t.scale,r,i)}const Xf=["x","scaleX","originX"],Yf=["y","scaleY","originY"];function $f(e,t,n,r){Kf(e.x,t,Xf,n?n.x:void 0,r?r.x:void 0),Kf(e.y,t,Yf,n?n.y:void 0,r?r.y:void 0)}function Jf(e){return 0===e.translate&&1===e.scale}function Qf(e){return Jf(e.x)&&Jf(e.y)}function em(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function tm(e){return Gd(e.x)/Gd(e.y)}class nm{constructor(){this.members=[]}add(e){hd(this.members,e),e.scheduleRender()}remove(e){if(dd(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex((t=>e===t));if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach((e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()}))}scheduleRender(){this.members.forEach((e=>{e.instance&&e.scheduleRender(!1)}))}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function rm(e,t,n){let r="";const i=e.x.translate/t.x,o=e.y.translate/t.y;if((i||o)&&(r="translate3d(".concat(i,"px, ").concat(o,"px, 0) ")),1===t.x&&1===t.y||(r+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),n){const{rotate:e,rotateX:t,rotateY:i}=n;e&&(r+="rotate(".concat(e,"deg) ")),t&&(r+="rotateX(".concat(t,"deg) ")),i&&(r+="rotateY(".concat(i,"deg) "))}const a=e.x.scale*t.x,s=e.y.scale*t.y;return 1===a&&1===s||(r+="scale(".concat(a,", ").concat(s,")")),r||"none"}const im=(e,t)=>e.depth-t.depth;class om{constructor(){this.children=[],this.isDirty=!1}add(e){hd(this.children,e),this.isDirty=!0}remove(e){dd(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(im),this.isDirty=!1,this.children.forEach(e)}}const am=["","X","Y","Z"],sm={visibility:"hidden"};let lm=0;const um={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function cm(e){let{attachResizeListener:t,defaultParent:n,measureScroll:r,checkIsScrollRoot:i,resetTransform:o}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();this.id=lm++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{var e;this.projectionUpdateScheduled=!1,um.totalNodes=um.resolvedTargetDeltas=um.recalculatedProjection=0,this.nodes.forEach(dm),this.nodes.forEach(xm),this.nodes.forEach(bm),this.nodes.forEach(fm),e=um,window.MotionDebug&&window.MotionDebug.record(e)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new om)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new fd),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t&&t.notify(...r)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root.hasTreeAnimated;if(this.instance)return;var r;this.isSVG=(r=e)instanceof SVGElement&&"svg"!==r.tagName,this.instance=e;const{layoutId:i,layout:o,visualElement:a}=this.options;if(a&&!a.current&&a.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(o||i)&&(this.isLayoutDirty=!0),t){let n;const r=()=>this.root.updateBlockedByResize=!1;t(e,(()=>{this.root.updateBlockedByResize=!0,n&&n(),n=function(e,t){const n=performance.now(),r=i=>{let{timestamp:o}=i;const a=o-n;a>=t&&(Uc(r),e(a-t))};return Fc.read(r,!0),()=>Uc(r)}(r,250),If.hasAnimatedSinceResize&&(If.hasAnimatedSinceResize=!1,this.nodes.forEach(_m))}))}i&&this.root.registerSharedNode(i,this),!1!==this.options.animate&&a&&(i||o)&&this.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n,hasRelativeTargetChanged:r,layout:i}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const o=this.options.transition||a.getDefaultTransition()||Cm,{onLayoutAnimationStart:s,onLayoutAnimationComplete:l}=a.getProps(),u=!this.targetLayout||!em(this.targetLayout,i)||r,c=!n&&r;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||c||n&&(u||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(t,c);const e={...ld(o,"layout"),onPlay:s,onComplete:l};(a.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e)}else n||_m(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=i}))}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Uc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(wm),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let i=0;i<this.path.length;i++){const e=this.path[i];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(ym);this.isUpdating||this.nodes.forEach(vm),this.isUpdating=!1,this.nodes.forEach(gm),this.nodes.forEach(pm),this.nodes.forEach(hm),this.clearAllSnapshots();const e=performance.now();Vc.delta=Wu(0,1e3/60,e-Vc.timestamp),Vc.timestamp=e,Vc.isProcessing=!0,qc.update.process(Vc),qc.preRender.process(Vc),qc.render.process(Vc),Vc.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask((()=>this.update())))}clearAllSnapshots(){this.nodes.forEach(mm),this.sharedNodes.forEach(Sm)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Fc.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Fc.postRender((()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()}))}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected=af(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&(this.scroll={animationId:this.root.animationId,phase:e,isRoot:i(this.instance),offset:r(this.instance)})}resetTransform(){if(!o)return;const e=this.isLayoutDirty||this.shouldResetTransform,t=this.projectionDelta&&!Qf(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,i=r!==this.prevTransformTemplateValue;e&&(t||pf(this.latestValues)||i)&&(o(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),Im((r=n).x),Im(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:e}=this.options;if(!e)return af();const t=e.measureViewportBox(),{scroll:n}=this.root;return n&&(_f(t.x,n.offset.x),_f(t.y,n.offset.y)),t}removeElementScroll(e){const t=af();Gf(t,e);for(let n=0;n<this.path.length;n++){const r=this.path[n],{scroll:i,options:o}=r;if(r!==this.root&&i&&o.layoutScroll){if(i.isRoot){Gf(t,e);const{scroll:n}=this.root;n&&(_f(t.x,-n.offset.x),_f(t.y,-n.offset.y))}_f(t.x,i.offset.x),_f(t.y,i.offset.y)}}return t}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=af();Gf(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&Sf(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),pf(e.latestValues)&&Sf(n,e.latestValues)}return pf(this.latestValues)&&Sf(n,this.latestValues),n}removeTransform(e){const t=af();Gf(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!pf(e.latestValues))continue;cf(e.latestValues)&&e.updateSnapshot();const r=af();Gf(r,e.measurePageBox()),$f(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return pf(this.latestValues)&&$f(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Vc.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t;const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(e||r&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget))return;const{layout:i,layoutId:o}=this.options;if(this.layout&&(i||o)){if(this.resolvedRelativeTargetAt=Vc.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget=af(),this.relativeTargetOrigin=af(),Jd(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),Gf(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var a,s,l;if(this.target||(this.target=af(),this.targetWithTransforms=af()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),a=this.target,s=this.relativeTarget,l=this.relativeParent.target,Yd(a.x,s.x,l.x),Yd(a.y,s.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):Gf(this.target,this.layout.layoutBox),vf(this.target,this.targetDelta)):Gf(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget=af(),this.relativeTargetOrigin=af(),Jd(this.relativeTargetOrigin,this.target,e.target),Gf(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}um.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!cf(this.parent.latestValues)&&!hf(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let r=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===Vc.timestamp&&(r=!1),r)return;const{layout:i,layoutId:o}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!i&&!o)return;Gf(this.layoutCorrected,this.layout.layoutBox);const a=this.treeScale.x,s=this.treeScale.y;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=n.length;if(!i)return;let o,a;t.x=t.y=1;for(let s=0;s<i;s++){o=n[s],a=o.projectionDelta;const i=o.instance;i&&i.style&&"contents"===i.style.display||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Sf(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,vf(e,a)),r&&pf(o.latestValues)&&Sf(e,o.latestValues))}t.x=gf(t.x),t.y=gf(t.y)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox);const{target:l}=t;if(!l)return void(this.projectionTransform&&(this.projectionDelta=of(),this.projectionTransform="none",this.scheduleRender()));this.projectionDelta||(this.projectionDelta=of(),this.projectionDeltaWithTransform=of());const u=this.projectionTransform;Xd(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.projectionTransform=rm(this.projectionDelta,this.treeScale),this.projectionTransform===u&&this.treeScale.x===a&&this.treeScale.y===s||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),um.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.options.scheduleRender&&this.options.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,r=n?n.latestValues:{},i={...this.latestValues},o=of();this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const a=af(),s=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),u=!l||l.members.length<=1,c=Boolean(s&&!u&&!0===this.options.crossfade&&!this.path.some(Pm));let p;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;var l,h;Em(o.x,e.x,n),Em(o.y,e.y,n),this.setTargetDelta(o),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Jd(a,this.layout.layoutBox,this.relativeParent.layout.layoutBox),function(e,t,n,r){Tm(e.x,t.x,n.x,r),Tm(e.y,t.y,n.y,r)}(this.relativeTarget,this.relativeTargetOrigin,a,n),p&&(l=this.relativeTarget,h=p,l.x.min===h.x.min&&l.x.max===h.x.max&&l.y.min===h.y.min&&l.y.max===h.y.max)&&(this.isProjectionDirty=!1),p||(p=af()),Gf(p,this.relativeTarget)),s&&(this.animationValues=i,function(e,t,n,r,i,o){i?(e.opacity=Jp(0,void 0!==n.opacity?n.opacity:1,Vf(r)),e.opacityExit=Jp(void 0!==t.opacity?t.opacity:1,0,qf(r))):o&&(e.opacity=Jp(void 0!==t.opacity?t.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(let a=0;a<Nf;a++){const i="border".concat(zf[a],"Radius");let o=Uf(t,i),s=Uf(n,i);void 0===o&&void 0===s||(o||(o=0),s||(s=0),0===o||0===s||Ff(o)===Ff(s)?(e[i]=Math.max(Jp(Bf(o),Bf(s),r),0),(tc.test(s)||tc.test(o))&&(e[i]+="%")):e[i]=s)}(t.rotate||n.rotate)&&(e.rotate=Jp(t.rotate||0,n.rotate||0,r))}(i,r,this.latestValues,n,c,u)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Uc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Fc.update((()=>{If.hasAnimatedSinceResize=!0,this.currentAnimation=function(e,t,n){const r=zu(e)?e:vd(e);return r.start(ud("",r,t,n)),r.animation}(0,1e3,{...e,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0}))}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:i}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&Om(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||af();const t=Gd(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=Gd(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}Gf(t,n),Sf(t,i),Xd(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new nm);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.rotate||n.rotateX||n.rotateY||n.rotateZ)&&(t=!0),!t)return;const r={};for(let i=0;i<am.length;i++){const t="rotate"+am[i];n[t]&&(r[t]=n[t],e.setStaticValue(t,0))}e.render();for(const i in r)e.setStaticValue(i,r[i]);e.scheduleRender()}getProjectionStyles(e){var t,n;if(!this.instance||this.isSVG)return;if(!this.isVisible)return sm;const r={visibility:""},i=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=jc(null===e||void 0===e?void 0:e.pointerEvents)||"",r.transform=i?i(this.latestValues,""):"none",r;const o=this.getLead();if(!this.projectionDelta||!this.layout||!o.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=jc(null===e||void 0===e?void 0:e.pointerEvents)||""),this.hasProjected&&!pf(this.latestValues)&&(t.transform=i?i({},""):"none",this.hasProjected=!1),t}const a=o.animationValues||o.latestValues;this.applyTransformsToTarget(),r.transform=rm(this.projectionDeltaWithTransform,this.treeScale,a),i&&(r.transform=i(a,r.transform));const{x:s,y:l}=this.projectionDelta;r.transformOrigin="".concat(100*s.origin,"% ").concat(100*l.origin,"% 0"),o.animationValues?r.opacity=o===this?null!==(n=null!==(t=a.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:a.opacityExit:r.opacity=o===this?void 0!==a.opacity?a.opacity:"":void 0!==a.opacityExit?a.opacityExit:0;for(const u in Mu){if(void 0===a[u])continue;const{correct:e,applyTo:t}=Mu[u],n="none"===r.transform?a[u]:e(a[u],o);if(t){const e=t.length;for(let i=0;i<e;i++)r[t[i]]=n}else r[u]=n}return this.options.layoutId&&(r.pointerEvents=o===this?jc(null===e||void 0===e?void 0:e.pointerEvents)||"":"none"),r}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach((e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()})),this.root.nodes.forEach(ym),this.root.sharedNodes.clear()}}}function pm(e){e.updateLayout()}function hm(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:i}=e.options,o=n.source!==e.layout.source;"size"===i?sf((e=>{const r=o?n.measuredBox[e]:n.layoutBox[e],i=Gd(r);r.min=t[e].min,r.max=r.min+i})):Om(i,n.layoutBox,t)&&sf((r=>{const i=o?n.measuredBox[r]:n.layoutBox[r],a=Gd(t[r]);i.max=i.min+a,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+a)}));const a=of();Xd(a,t,n.layoutBox);const s=of();o?Xd(s,e.applyTransform(r,!0),n.measuredBox):Xd(s,t,n.layoutBox);const l=!Qf(a);let u=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:i,layout:o}=r;if(i&&o){const a=af();Jd(a,n.layoutBox,i.layoutBox);const s=af();Jd(s,t,o.layoutBox),em(a,s)||(u=!0),r.options.layoutRoot&&(e.relativeTarget=s,e.relativeTargetOrigin=a,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:s,layoutDelta:a,hasLayoutChanged:l,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function dm(e){um.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function fm(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function mm(e){e.clearSnapshot()}function ym(e){e.clearMeasurements()}function vm(e){e.isLayoutDirty=!1}function gm(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function _m(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function xm(e){e.resolveTargetDelta()}function bm(e){e.calcProjection()}function wm(e){e.resetRotation()}function Sm(e){e.removeLeadSnapshot()}function Em(e,t,n){e.translate=Jp(t.translate,0,n),e.scale=Jp(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Tm(e,t,n,r){e.min=Jp(t.min,n.min,r),e.max=Jp(t.max,n.max,r)}function Pm(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const Cm={duration:.45,ease:[.4,0,.1,1]},km=e=>"undefined"!==typeof navigator&&navigator.userAgent.toLowerCase().includes(e),Am=km("applewebkit/")&&!km("chrome/")?Math.round:zc;function Im(e){e.min=Am(e.min),e.max=Am(e.max)}function Om(e,t,n){return"position"===e||"preserve-aspect"===e&&!Zd(tm(t),tm(n),.2)}const Dm=cm({attachResizeListener:(e,t)=>Gc(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Mm={current:void 0},jm=cm({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Mm.current){const e=new Dm({});e.mount(window),e.setOptions({layoutScroll:!0}),Mm.current=e}return Mm.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),Rm={pan:{Feature:class extends ip{constructor(){super(...arguments),this.removePointerDownListener=zc}onPointerDown(e){this.session=new Bd(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Tf(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:Af(e),onStart:Af(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&Fc.update((()=>r(e,t)))}}}mount(){this.removePointerDownListener=Yc(this.node.current,"pointerdown",(e=>this.onPointerDown(e)))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends ip{constructor(e){super(e),this.removeGroupControls=zc,this.removeListeners=zc,this.controls=new Cf(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||zc}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:jm,MeasureLayout:Rf}},Lm=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;const zm=4;function Nm(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;gp(n<=zm,'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.'));const[r,i]=function(e){const t=Lm.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const e=o.trim();return pd(e)?parseFloat(e):e}return Vu(i)?Nm(i,t,n+1):i}const Bm=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Fm=e=>Bm.has(e),Um=e=>e===Hu||e===nc,Vm=(e,t)=>parseFloat(e.split(", ")[t]),qm=(e,t)=>(n,r)=>{let{transform:i}=r;if("none"===i||!i)return 0;const o=i.match(/^matrix3d\((.+)\)$/);if(o)return Vm(o[1],t);{const t=i.match(/^matrix\((.+)\)$/);return t?Vm(t[1],e):0}},Wm=new Set(["x","y","z"]),Hm=ju.filter((e=>!Wm.has(e)));const Gm={width:(e,t)=>{let{x:n}=e,{paddingLeft:r="0",paddingRight:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},height:(e,t)=>{let{y:n}=e,{paddingTop:r="0",paddingBottom:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:r}=t;return parseFloat(r)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:r}=t;return parseFloat(r)+(n.max-n.min)},x:qm(4,13),y:qm(5,14)};Gm.translateX=Gm.x,Gm.translateY=Gm.y;const Zm=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t={...t},r={...r};const i=Object.keys(t).filter(Fm);let o=[],a=!1;const s=[];if(i.forEach((i=>{const l=e.getValue(i);if(!e.hasValue(i))return;let u=n[i],c=xd(u);const p=t[i];let h;if(Oc(p)){const e=p.length,t=null===p[0]?1:0;u=p[t],c=xd(u);for(let n=t;n<e&&null!==p[n];n++)h?gp(xd(p[n])===h,"All keyframes must be of the same type"):(h=xd(p[n]),gp(h===c||Um(c)&&Um(h),"Keyframes must be of the same dimension as the current value"))}else h=xd(p);if(c!==h)if(Um(c)&&Um(h)){const e=l.get();"string"===typeof e&&l.set(parseFloat(e)),"string"===typeof p?t[i]=parseFloat(p):Array.isArray(p)&&h===nc&&(t[i]=p.map(parseFloat))}else(null===c||void 0===c?void 0:c.transform)&&(null===h||void 0===h?void 0:h.transform)&&(0===u||0===p)?0===u?l.set(h.transform(u)):t[i]=c.transform(p):(a||(o=function(e){const t=[];return Hm.forEach((n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),t.length&&e.render(),t}(e),a=!0),s.push(i),r[i]=void 0!==r[i]?r[i]:t[i],l.jump(p))})),s.length){const n=s.indexOf("height")>=0?window.pageYOffset:null,i=((e,t,n)=>{const r=t.measureViewportBox(),i=t.current,o=getComputedStyle(i),{display:a}=o,s={};"none"===a&&t.setStaticValue("display",e.display||"block"),n.forEach((e=>{s[e]=Gm[e](r,o)})),t.render();const l=t.measureViewportBox();return n.forEach((n=>{const r=t.getValue(n);r&&r.jump(s[n]),e[n]=Gm[n](l,o)})),e})(t,e,s);return o.length&&o.forEach((t=>{let[n,r]=t;e.getValue(n).set(r)})),e.render(),uu&&null!==n&&window.scrollTo({top:n}),{target:i,transitionEnd:r}}return{target:t,transitionEnd:r}};function Km(e,t,n,r){return(e=>Object.keys(e).some(Fm))(t)?Zm(e,t,n,r):{target:t,transitionEnd:r}}const Xm=(e,t,n,r)=>{const i=function(e,t,n){let{...r}=t;const i=e.current;if(!(i instanceof Element))return{target:r,transitionEnd:n};n&&(n={...n}),e.values.forEach((e=>{const t=e.get();if(!Vu(t))return;const n=Nm(t,i);n&&e.set(n)}));for(const o in r){const e=r[o];if(!Vu(e))continue;const t=Nm(e,i);t&&(r[o]=t,n||(n={}),void 0===n[o]&&(n[o]=e))}return{target:r,transitionEnd:n}}(e,t,r);return Km(e,t=i.target,n,r=i.transitionEnd)},Ym={current:null},$m={current:!1};const Jm=new WeakMap,Qm=Object.keys(Eu),ey=Qm.length,ty=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],ny=gu.length;class ry{constructor(e){let{parent:t,props:n,presenceContext:r,reducedMotionConfig:i,visualState:o}=e,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Fc.render(this.render,!1,!0);const{latestValues:s,renderState:l}=o;this.latestValues=s,this.baseTarget={...s},this.initialValues=n.initial?{...s}:{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.isControllingVariants=_u(n),this.isVariantNode=xu(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const{willChange:u,...c}=this.scrapeMotionValuesFromProps(n,{});for(const p in c){const e=c[p];void 0!==s[p]&&zu(e)&&(e.set(s[p],!1),cd(u)&&u.add(p))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,Jm.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach(((e,t)=>this.bindToMotionValue(t,e))),$m.current||function(){if($m.current=!0,uu)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Ym.current=e.matches;e.addListener(t),t()}else Ym.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||Ym.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Jm.delete(this.current),this.projection&&this.projection.unmount(),Uc(this.notifyUpdate),Uc(this.render),this.valueSubscriptions.forEach((e=>e())),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const n=Ru.has(e),r=t.on("change",(t=>{this.latestValues[e]=t,this.props.onUpdate&&Fc.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)})),i=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,(()=>{r(),i()}))}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}loadFeatures(e,t,n,r){let i,o,{children:a,...s}=e;for(let l=0;l<ey;l++){const e=Qm[l],{isEnabled:t,Feature:n,ProjectionNode:r,MeasureLayout:a}=Eu[e];r&&(i=r),t(s)&&(!this.features[e]&&n&&(this.features[e]=new n(this)),a&&(o=a))}if(!this.projection&&i){this.projection=new i(this.latestValues,this.parent&&this.parent.projection);const{layoutId:e,layout:t,drag:n,dragConstraints:o,layoutScroll:a,layoutRoot:l}=s;this.projection.setOptions({layoutId:e,layout:t,alwaysMeasureLayout:Boolean(n)||o&&fu(o),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:"string"===typeof t?t:"both",initialPromotionConfig:r,layoutScroll:a,layoutRoot:l})}return o}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):af()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<ty.length;n++){const t=ty[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){const{willChange:r}=t;for(const i in t){const o=t[i],a=n[i];if(zu(o))e.addValue(i,o),cd(r)&&r.add(i);else if(zu(a))e.addValue(i,vd(o,{owner:e})),cd(r)&&r.remove(i);else if(a!==o)if(e.hasValue(i)){const t=e.getValue(i);!t.hasAnimated&&t.set(o)}else{const t=e.getStaticValue(i);e.addValue(i,vd(void 0!==t?t:o,{owner:e}))}}for(const i in n)void 0===t[i]&&e.removeValue(i);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0])return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const e=this.parent&&this.parent.getVariantContext()||{};return void 0!==this.props.initial&&(e.initial=this.props.initial),e}const e={};for(let t=0;t<ny;t++){const n=gu[t],r=this.props[n];(mu(r)||!1===r)&&(e[n]=r)}return e}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=vd(t,{owner:this}),this.addValue(e,n)),n}readValue(e){var t;return void 0===this.latestValues[e]&&this.current?null!==(t=this.getBaseTargetFromProps(this.props,e))&&void 0!==t?t:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e]}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props,r="string"===typeof n||"object"===typeof n?null===(t=Ic(this.props,n))||void 0===t?void 0:t[e]:void 0;if(n&&void 0!==r)return r;const i=this.getBaseTargetFromProps(this.props,e);return void 0===i||zu(i)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:i}on(e,t){return this.events[e]||(this.events[e]=new fd),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.events[e].notify(...n)}}}class iy extends ry{sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:r}=t;delete n[e],delete r[e]}makeTargetAnimatableFromInstance(e,t,n){let{transition:r,transitionEnd:i,...o}=e,{transformValues:a}=t,s=function(e,t,n){const r={};for(const i in e){const e=Ed(i,t);if(void 0!==e)r[i]=e;else{const e=n.getValue(i);e&&(r[i]=e.get())}}return r}(o,r||{},this);if(a&&(i&&(i=a(i)),o&&(o=a(o)),s&&(s=a(s))),n){!function(e,t,n){var r,i;const o=Object.keys(t).filter((t=>!e.hasValue(t))),a=o.length;var s;if(a)for(let l=0;l<a;l++){const a=o[l],u=t[a];let c=null;Array.isArray(u)&&(c=u[0]),null===c&&(c=null!==(i=null!==(r=n[a])&&void 0!==r?r:e.readValue(a))&&void 0!==i?i:t[a]),void 0!==c&&null!==c&&("string"===typeof c&&(pd(c)||ad(c))?c=parseFloat(c):(s=c,!bd.find(gd(s))&&hh.test(u)&&(c=od(a,u))),e.addValue(a,vd(c,{owner:e})),void 0===n[a]&&(n[a]=c),null!==c&&e.setBaseTarget(a,c))}}(this,o,s);const e=Xm(this,o,s,i);i=e.transitionEnd,o=e.target}return{transition:r,transitionEnd:i,...o}}}class oy extends iy{readValueFromInstance(e,t){if(Ru.has(t)){const e=id(t);return e&&e.default||0}{const r=(n=e,window.getComputedStyle(n)),i=(Uu(t)?r.getPropertyValue(t):r[t])||0;return"string"===typeof i?i.trim():i}var n}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return Ef(e,n)}build(e,t,n,r){lc(e,t,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,t){return kc(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;zu(e)&&(this.childSubscription=e.on("change",(e=>{this.current&&(this.current.textContent="".concat(e))})))}renderInstance(e,t,n,r){Tc(e,t,n,r)}}class ay extends iy{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Ru.has(t)){const e=id(t);return e&&e.default||0}return t=Pc.has(t)?t:hu(t),e.getAttribute(t)}measureInstanceViewportBox(){return af()}scrapeMotionValuesFromProps(e,t){return Ac(e,t)}build(e,t,n,r){xc(e,t,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,n,r){Cc(e,t,0,r)}mount(e){this.isSVGTag=wc(e.tagName),super.mount(e)}}const sy=(e,t)=>Du(e)?new ay(t,{enableHardwareAcceleration:!1}):new oy(t,{enableHardwareAcceleration:!0}),ly={...zd,...fp,...Rm,...{layout:{ProjectionNode:jm,MeasureLayout:Rf}}},uy=Iu(((e,t)=>function(e,t,n,r){let{forwardMotionProps:i=!1}=t;return{...Du(e)?Wc:Hc,preloadedFeatures:n,useRender:Ec(i),createVisualElement:r,Component:e}}(e,t,ly,sy)));const cy=r.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,as:i="div",...o}=e;const a=Tr(n,"row"),s=Pr(),l=Cr(),u="".concat(a,"-cols"),c=[];return s.forEach((e=>{const t=o[e];let n;delete o[e],null!=t&&"object"===typeof t?({cols:n}=t):n=t;const r=e!==l?"-".concat(e):"";null!=n&&c.push("".concat(u).concat(r,"-").concat(n))})),(0,_r.jsx)(i,{ref:t,...o,className:lr()(r,a,...c)})}));cy.displayName="Row";const py=cy;const hy=r.forwardRef(((e,t)=>{const[{className:n,...r},{as:i="div",bsPrefix:o,spans:a}]=function(e){let{as:t,bsPrefix:n,className:r,...i}=e;n=Tr(n,"col");const o=Pr(),a=Cr(),s=[],l=[];return o.forEach((e=>{const t=i[e];let r,o,u;delete i[e],"object"===typeof t&&null!=t?({span:r,offset:o,order:u}=t):r=t;const c=e!==a?"-".concat(e):"";r&&s.push(!0===r?"".concat(n).concat(c):"".concat(n).concat(c,"-").concat(r)),null!=u&&l.push("order".concat(c,"-").concat(u)),null!=o&&l.push("offset".concat(c,"-").concat(o))})),[{...i,className:lr()(r,...s,...l)},{as:t,bsPrefix:n,spans:s}]}(e);return(0,_r.jsx)(i,{...r,ref:t,className:lr()(n,!a.length&&o)})}));hy.displayName="Col";const dy=hy;function fy(e){return nu({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"}}]})(e)}var my=n(835),yy=n(1052),vy=n.n(yy);const gy=r.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...o}=e;return r=Tr(r,"card-body"),(0,_r.jsx)(i,{ref:t,className:lr()(n,r),...o})}));gy.displayName="CardBody";const _y=gy,xy=r.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...o}=e;return r=Tr(r,"card-footer"),(0,_r.jsx)(i,{ref:t,className:lr()(n,r),...o})}));xy.displayName="CardFooter";const by=xy,wy=r.forwardRef(((e,t)=>{let{bsPrefix:n,className:i,as:o="div",...a}=e;const s=Tr(n,"card-header"),l=(0,r.useMemo)((()=>({cardHeaderBsPrefix:s})),[s]);return(0,_r.jsx)(aa.Provider,{value:l,children:(0,_r.jsx)(o,{ref:t,...a,className:lr()(i,s)})})}));wy.displayName="CardHeader";const Sy=wy,Ey=r.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,variant:i,as:o="img",...a}=e;const s=Tr(n,"card-img");return(0,_r.jsx)(o,{ref:t,className:lr()(i?"".concat(s,"-").concat(i):s,r),...a})}));Ey.displayName="CardImg";const Ty=Ey,Py=r.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...o}=e;return r=Tr(r,"card-img-overlay"),(0,_r.jsx)(i,{ref:t,className:lr()(n,r),...o})}));Py.displayName="CardImgOverlay";const Cy=Py,ky=r.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="a",...o}=e;return r=Tr(r,"card-link"),(0,_r.jsx)(i,{ref:t,className:lr()(n,r),...o})}));ky.displayName="CardLink";const Ay=ky,Iy=go("h6"),Oy=r.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i=Iy,...o}=e;return r=Tr(r,"card-subtitle"),(0,_r.jsx)(i,{ref:t,className:lr()(n,r),...o})}));Oy.displayName="CardSubtitle";const Dy=Oy,My=r.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="p",...o}=e;return r=Tr(r,"card-text"),(0,_r.jsx)(i,{ref:t,className:lr()(n,r),...o})}));My.displayName="CardText";const jy=My,Ry=go("h5"),Ly=r.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i=Ry,...o}=e;return r=Tr(r,"card-title"),(0,_r.jsx)(i,{ref:t,className:lr()(n,r),...o})}));Ly.displayName="CardTitle";const zy=Ly,Ny=r.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,bg:i,text:o,border:a,body:s=!1,children:l,as:u="div",...c}=e;const p=Tr(n,"card");return(0,_r.jsx)(u,{ref:t,...c,className:lr()(r,p,i&&"bg-".concat(i),o&&"text-".concat(o),a&&"border-".concat(a)),children:s?(0,_r.jsx)(_y,{children:l}):l})}));Ny.displayName="Card";const By=Object.assign(Ny,{Img:Ty,Title:zy,Subtitle:Dy,Body:_y,Link:Ay,Text:jy,Header:Sy,Footer:by,ImgOverlay:Cy}),Fy=r.forwardRef(((e,t)=>{let{bsPrefix:n,bg:r="primary",pill:i=!1,text:o,className:a,as:s="span",...l}=e;const u=Tr(n,"badge");return(0,_r.jsx)(s,{ref:t,...l,className:lr()(a,u,i&&"rounded-pill",o&&"text-".concat(o),r&&"bg-".concat(r))})}));Fy.displayName="Badge";const Uy=Fy;function Vy(e){return nu({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm4.24 16L12 15.45 7.77 18l1.12-4.81-3.73-3.23 4.92-.42L12 5l1.92 4.53 4.92.42-3.73 3.23L16.23 18z"}}]})(e)}function qy(e){return nu({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M17 11V3H7v4H3v14h8v-4h2v4h8V11h-4zM7 19H5v-2h2v2zm0-4H5v-2h2v2zm0-4H5V9h2v2zm4 4H9v-2h2v2zm0-4H9V9h2v2zm0-4H9V5h2v2zm4 8h-2v-2h2v2zm0-4h-2V9h2v2zm0-4h-2V5h2v2zm4 12h-2v-2h2v2zm0-4h-2v-2h2v2z"}}]})(e)}function Wy(e){return nu({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M18.35 11.45V9c0-1.1-.9-2-2-2H13c-.37 0-.72.12-1 .32-.28-.2-.63-.32-1-.32H7.65c-1.1 0-2 .9-2 2v2.45c-.4.46-.65 1.06-.65 1.72V17h1.5v-1.5h11V17H19v-3.83c0-.66-.25-1.26-.65-1.72zm-1.6-.95h-4v-2h4v2zm-9.5-2h4v2h-4v-2zM17.5 14h-11v-1c0-.55.45-1 1-1h9c.55 0 1 .45 1 1v1zM20 4v16H4V4h16m0-2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z"}}]})(e)}function Hy(e){return nu({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48A48 48 0 0 0 0 80v352a48 48 0 0 0 48 48h137.25V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.27c-30.81 0-40.42 19.12-40.42 38.73V256h68.78l-11 71.69h-57.78V480H400a48 48 0 0 0 48-48V80a48 48 0 0 0-48-48z"}}]})(e)}function Gy(e){return nu({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"}}]})(e)}function Zy(e){return nu({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"}}]})(e)}function Ky(e){return nu({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M284.046,224.8a34.114,34.114,0,1,0,34.317,34.113A34.217,34.217,0,0,0,284.046,224.8Zm-110.45,0a34.114,34.114,0,1,0,34.317,34.113A34.217,34.217,0,0,0,173.6,224.8Zm220.923,0a34.114,34.114,0,1,0,34.317,34.113A34.215,34.215,0,0,0,394.519,224.8Zm153.807-55.319c-15.535-24.172-37.31-45.57-64.681-63.618-52.886-34.817-122.374-54-195.666-54a405.975,405.975,0,0,0-72.032,6.357,238.524,238.524,0,0,0-49.51-36.588C99.684-11.7,40.859.711,11.135,11.421A14.291,14.291,0,0,0,5.58,34.782C26.542,56.458,61.222,99.3,52.7,138.252c-33.142,33.9-51.112,74.776-51.112,117.337,0,43.372,17.97,84.248,51.112,118.148,8.526,38.956-26.154,81.816-47.116,103.491a14.284,14.284,0,0,0,5.555,23.34c29.724,10.709,88.549,23.147,155.324-10.2a238.679,238.679,0,0,0,49.51-36.589A405.972,405.972,0,0,0,288,460.14c73.313,0,142.8-19.159,195.667-53.975,27.371-18.049,49.145-39.426,64.679-63.619,17.309-26.923,26.07-55.916,26.07-86.125C574.394,225.4,565.634,196.43,548.326,169.485ZM284.987,409.9a345.65,345.65,0,0,1-89.446-11.5l-20.129,19.393a184.366,184.366,0,0,1-37.138,27.585,145.767,145.767,0,0,1-52.522,14.87c.983-1.771,1.881-3.563,2.842-5.356q30.258-55.68,16.325-100.078c-32.992-25.962-52.778-59.2-52.778-95.4,0-83.1,104.254-150.469,232.846-150.469s232.867,67.373,232.867,150.469C517.854,342.525,413.6,409.9,284.987,409.9Z"}}]})(e)}function Xy(e){return nu({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"}}]})(e)}function Yy(e){return nu({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zM240 320h-48v48c0 8.8-7.2 16-16 16h-32c-8.8 0-16-7.2-16-16V144c0-8.8 7.2-16 16-16h96c52.9 0 96 43.1 96 96s-43.1 96-96 96zm0-128h-48v64h48c17.6 0 32-14.4 32-32s-14.4-32-32-32z"}}]})(e)}function $y(e){return nu({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304,320a16,16,0,1,0,16,16A16,16,0,0,0,304,320Zm32-96a16,16,0,1,0,16,16A16,16,0,0,0,336,224Zm32,64a16,16,0,1,0-16-16A16,16,0,0,0,368,288Zm-32,32a16,16,0,1,0-16-16A16,16,0,0,0,336,320Zm-32-64a16,16,0,1,0,16,16A16,16,0,0,0,304,256Zm128-32a16,16,0,1,0-16-16A16,16,0,0,0,432,224Zm-48,16a16,16,0,1,0,16-16A16,16,0,0,0,384,240Zm-16-48a16,16,0,1,0,16,16A16,16,0,0,0,368,192Zm96,32a16,16,0,1,0,16,16A16,16,0,0,0,464,224Zm32-32a16,16,0,1,0,16,16A16,16,0,0,0,496,192Zm-64,64a16,16,0,1,0,16,16A16,16,0,0,0,432,256Zm-32,32a16,16,0,1,0,16,16A16,16,0,0,0,400,288Zm-64,64a16,16,0,1,0,16,16A16,16,0,0,0,336,352Zm-32,32a16,16,0,1,0,16,16A16,16,0,0,0,304,384Zm64-64a16,16,0,1,0,16,16A16,16,0,0,0,368,320Zm21.65-218.35-11.3-11.31a16,16,0,0,0-22.63,0L350.05,96A111.19,111.19,0,0,0,272,64c-19.24,0-37.08,5.3-52.9,13.85l-10-10A121.72,121.72,0,0,0,123.44,32C55.49,31.5,0,92.91,0,160.85V464a16,16,0,0,0,16,16H48a16,16,0,0,0,16-16V158.4c0-30.15,21-58.2,51-61.93a58.38,58.38,0,0,1,48.93,16.67l10,10C165.3,138.92,160,156.76,160,176a111.23,111.23,0,0,0,32,78.05l-5.66,5.67a16,16,0,0,0,0,22.62l11.3,11.31a16,16,0,0,0,22.63,0L389.65,124.28A16,16,0,0,0,389.65,101.65Z"}}]})(e)}const Jy={"top-start":"top-0 start-0","top-center":"top-0 start-50 translate-middle-x","top-end":"top-0 end-0","middle-start":"top-50 start-0 translate-middle-y","middle-center":"top-50 start-50 translate-middle","middle-end":"top-50 end-0 translate-middle-y","bottom-start":"bottom-0 start-0","bottom-center":"bottom-0 start-50 translate-middle-x","bottom-end":"bottom-0 end-0"},Qy=r.forwardRef(((e,t)=>{let{bsPrefix:n,position:r,containerPosition:i,className:o,as:a="div",...s}=e;return n=Tr(n,"toast-container"),(0,_r.jsx)(a,{ref:t,...s,className:lr()(n,r&&Jy[r],i&&"position-".concat(i),o)})}));Qy.displayName="ToastContainer";const ev=Qy,tv=2**31-1;function nv(e,t,n){const r=n-Date.now();e.current=r<=tv?setTimeout(t,r):setTimeout((()=>nv(e,t,n)),tv)}function rv(){const e=Ri(),t=(0,r.useRef)();return Li((()=>clearTimeout(t.current))),(0,r.useMemo)((()=>{const n=()=>clearTimeout(t.current);return{set:function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e()&&(n(),i<=tv?t.current=setTimeout(r,i):nv(t,r,Date.now()+i))},clear:n,handleRef:t}}),[])}const iv={[Wr]:"showing",[Gr]:"showing show"},ov=r.forwardRef(((e,t)=>(0,_r.jsx)(to,{...e,ref:t,transitionClasses:iv})));ov.displayName="ToastFade";const av=ov,sv=r.createContext({onClose(){}}),lv=r.forwardRef(((e,t)=>{let{bsPrefix:n,closeLabel:i="Close",closeVariant:o,closeButton:a=!0,className:s,children:l,...u}=e;n=Tr(n,"toast-header");const c=(0,r.useContext)(sv),p=Si((e=>{null==c||null==c.onClose||c.onClose(e)}));return(0,_r.jsxs)("div",{ref:t,...u,className:lr()(n,s),children:[l,a&&(0,_r.jsx)(ho,{"aria-label":i,variant:o,onClick:p,"data-dismiss":"toast"})]})}));lv.displayName="ToastHeader";const uv=lv,cv=r.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...o}=e;return r=Tr(r,"toast-body"),(0,_r.jsx)(i,{ref:t,className:lr()(n,r),...o})}));cv.displayName="ToastBody";const pv=cv,hv=r.forwardRef(((e,t)=>{let{bsPrefix:n,className:i,transition:o=av,show:a=!0,animation:s=!0,delay:l=5e3,autohide:u=!1,onClose:c,onEntered:p,onExit:h,onExiting:d,onEnter:f,onEntering:m,onExited:y,bg:v,...g}=e;n=Tr(n,"toast");const _=(0,r.useRef)(l),x=(0,r.useRef)(c);(0,r.useEffect)((()=>{_.current=l,x.current=c}),[l,c]);const b=rv(),w=!(!u||!a),S=(0,r.useCallback)((()=>{w&&(null==x.current||x.current())}),[w]);(0,r.useEffect)((()=>{b.set(S,_.current)}),[b,S]);const E=(0,r.useMemo)((()=>({onClose:c})),[c]),T=!(!o||!s),P=(0,_r.jsx)("div",{...g,ref:t,className:lr()(n,i,v&&"bg-".concat(v),!T&&(a?"show":"hide")),role:"alert","aria-live":"assertive","aria-atomic":"true"});return(0,_r.jsx)(sv.Provider,{value:E,children:T&&o?(0,_r.jsx)(o,{in:a,onEnter:f,onEntering:m,onEntered:p,onExit:h,onExiting:d,onExited:y,unmountOnExit:!0,children:P}):P})}));hv.displayName="Toast";const dv=Object.assign(hv,{Body:pv,Header:uv});const fv=function(e){let{bg:t,title:n,body:i}=e;const[o,a]=(0,r.useState)(!0);return(0,_r.jsx)(ev,{position:"bottom-right",style:{position:"fixed",top:5,right:0},children:(0,_r.jsxs)(dv,{bg:"light",onClose:()=>a(!1),show:o,delay:3e3,autohide:!0,children:[(0,_r.jsxs)(dv.Header,{children:[(0,_r.jsx)("strong",{className:"me-auto",children:n}),(0,_r.jsx)("small",{children:"now"})]}),(0,_r.jsx)(dv.Body,{children:i})]})})};const mv=function(e){let{_id:t,title:n,description:r,price:i,pictures:o,facility:a}=e;const[l,{isSuccess:u}]=Qn(),c=x((e=>e.user)),p=Boolean(null===c||void 0===c?void 0:c.favorite[t]);return(0,_r.jsx)(s.J,{to:"/properties/".concat(t),style:{cursor:"pointer",width:"15rem"},children:(0,_r.jsxs)(By,{className:"property-card",children:[o&&o.length>0&&(0,_r.jsx)(By.Img,{variant:"top",className:"preview-img",src:o[0].url,style:{height:"130px",objectFit:"cover"}}),(0,_r.jsxs)(By.Body,{children:[(0,_r.jsxs)(By.Title,{style:{position:"relative"},children:[n,(0,_r.jsx)("span",{onClick:()=>l({userId:c._id,propertyId:t}),style:{color:p?"yellow":"white",position:"absolute",top:"-50px",right:"-5px"},children:(0,_r.jsx)(Vy,{size:20})}),u&&(0,_r.jsx)(fv,{bg:"info",title:"Added to cart",body:"check your favorite "})]}),(0,_r.jsxs)(By.Text,{children:[(0,_r.jsx)("div",{children:(0,_r.jsx)("h5",{children:(0,_r.jsx)(Uy,{bg:"warning",className:"mr-5",children:i})})}),(0,_r.jsxs)("div",{children:[(0,_r.jsx)(Wy,{})," ",a.bedrooms,(0,_r.jsx)(Yy,{className:"ms-2"})," ",a.carParks,(0,_r.jsx)($y,{className:"ms-2"})," ",a.bathrooms]})]}),(0,_r.jsx)(By.Text,{className:"d-flex flex-start",children:r})]})]})})},yv=[{name:"Paris",img:"https://images.unsplash.com/photo-1522093007474-d86e9bf7ba6f?q=80&w=1364&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D=40"},{name:"Venice",img:"https://images.unsplash.com/photo-1523906834658-6e24ef2386f9?q=80&w=1366&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D=40"},{name:"London",img:"https://images.unsplash.com/photo-1529655683826-aba9b3e77383?q=80&w=1365&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D=40"},{name:"Stockholm",img:"https://images.unsplash.com/photo-1549884355-227a9fa7e269?q=80&w=1374&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D=40"},{name:"Berlin",img:"https://images.unsplash.com/photo-1603787935137-58167f55336f?q=80&w=1365&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D=40"},{name:"Rome",img:"https://images.unsplash.com/photo-1552832230-c0197dd311b5?q=80&w=1396&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D=40"}];function vv(e){return nu({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zm0-352a96 96 0 1 1 0 192 96 96 0 1 1 0-192z"}}]})(e)}function gv(e){return nu({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M280 0C408.1 0 512 103.9 512 232c0 13.3-10.7 24-24 24s-24-10.7-24-24c0-101.6-82.4-184-184-184c-13.3 0-24-10.7-24-24s10.7-24 24-24zm8 192a32 32 0 1 1 0 64 32 32 0 1 1 0-64zm-32-72c0-13.3 10.7-24 24-24c75.1 0 136 60.9 136 136c0 13.3-10.7 24-24 24s-24-10.7-24-24c0-48.6-39.4-88-88-88c-13.3 0-24-10.7-24-24zM117.5 1.4c19.4-5.3 39.7 4.6 47.4 23.2l40 96c6.8 16.3 2.1 35.2-11.6 46.3L144 207.3c33.3 70.4 90.3 127.4 160.7 160.7L345 318.7c11.2-13.7 30-18.4 46.3-11.6l96 40c18.6 7.7 28.5 28 23.2 47.4l-24 88C481.8 499.9 466 512 448 512C200.6 512 0 311.4 0 64C0 46 12.1 30.2 29.5 25.4l88-24z"}}]})(e)}function _v(e){return nu({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M408 48H104a72.08 72.08 0 00-72 72v192a72.08 72.08 0 0072 72h24v64a16 16 0 0026.25 12.29L245.74 384H408a72.08 72.08 0 0072-72V120a72.08 72.08 0 00-72-72zM160 248a32 32 0 1132-32 32 32 0 01-32 32zm96 0a32 32 0 1132-32 32 32 0 01-32 32zm96 0a32 32 0 1132-32 32 32 0 01-32 32z"}}]})(e)}function xv(e){return nu({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M398 81.84A227.4 227.4 0 00255.82 32C194.9 32 138 55.47 95.46 98.09 54.35 139.33 31.82 193.78 32 251.37a215.66 215.66 0 0035.65 118.76l.19.27c.28.41.57.82.86 1.22s.65.92.73 1.05l.22.4c1.13 2 2 4.44 1.23 6.9l-18.42 66.66a29.13 29.13 0 00-1.2 7.63A25.69 25.69 0 0076.83 480a29.44 29.44 0 0010.45-2.29l67.49-24.36.85-.33a14.75 14.75 0 015.8-1.15 15.12 15.12 0 015.37 1c1.62.63 16.33 6.26 31.85 10.6 12.9 3.6 39.74 9 60.77 9 59.65 0 115.35-23.1 156.83-65.06C457.36 365.77 480 310.42 480 251.49a213.5 213.5 0 00-4.78-45c-10.34-48.62-37.76-92.9-77.22-124.65zM87.48 380zM160 288a32 32 0 1132-32 32 32 0 01-32 32zm96 0a32 32 0 1132-32 32 32 0 01-32 32zm96 0a32 32 0 1132-32 32 32 0 01-32 32z"}}]})(e)}function bv(e,t){return function(){return e.apply(t,arguments)}}const{toString:wv}=Object.prototype,{getPrototypeOf:Sv}=Object,Ev=(e=>t=>{const n=wv.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Tv=e=>(e=e.toLowerCase(),t=>Ev(t)===e),Pv=e=>t=>typeof t===e,{isArray:Cv}=Array,kv=Pv("undefined");const Av=Tv("ArrayBuffer");const Iv=Pv("string"),Ov=Pv("function"),Dv=Pv("number"),Mv=e=>null!==e&&"object"===typeof e,jv=e=>{if("object"!==Ev(e))return!1;const t=Sv(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Rv=Tv("Date"),Lv=Tv("File"),zv=Tv("Blob"),Nv=Tv("FileList"),Bv=Tv("URLSearchParams");function Fv(e,t){let n,r,{allOwnKeys:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Cv(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=i?Object.getOwnPropertyNames(e):Object.keys(e),o=r.length;let a;for(n=0;n<o;n++)a=r[n],t.call(null,e[a],a,e)}}function Uv(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,i=n.length;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const Vv="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,qv=e=>!kv(e)&&e!==Vv;const Wv=(Hv="undefined"!==typeof Uint8Array&&Sv(Uint8Array),e=>Hv&&e instanceof Hv);var Hv;const Gv=Tv("HTMLFormElement"),Zv=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),Kv=Tv("RegExp"),Xv=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Fv(n,((n,i)=>{let o;!1!==(o=t(n,i,e))&&(r[i]=o||n)})),Object.defineProperties(e,r)},Yv="abcdefghijklmnopqrstuvwxyz",$v="0123456789",Jv={DIGIT:$v,ALPHA:Yv,ALPHA_DIGIT:Yv+Yv.toUpperCase()+$v};const Qv=Tv("AsyncFunction"),eg={isArray:Cv,isArrayBuffer:Av,isBuffer:function(e){return null!==e&&!kv(e)&&null!==e.constructor&&!kv(e.constructor)&&Ov(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||Ov(e.append)&&("formdata"===(t=Ev(e))||"object"===t&&Ov(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Av(e.buffer),t},isString:Iv,isNumber:Dv,isBoolean:e=>!0===e||!1===e,isObject:Mv,isPlainObject:jv,isUndefined:kv,isDate:Rv,isFile:Lv,isBlob:zv,isRegExp:Kv,isFunction:Ov,isStream:e=>Mv(e)&&Ov(e.pipe),isURLSearchParams:Bv,isTypedArray:Wv,isFileList:Nv,forEach:Fv,merge:function e(){const{caseless:t}=qv(this)&&this||{},n={},r=(r,i)=>{const o=t&&Uv(n,i)||i;jv(n[o])&&jv(r)?n[o]=e(n[o],r):jv(r)?n[o]=e({},r):Cv(r)?n[o]=r.slice():n[o]=r};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&Fv(arguments[i],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Fv(t,((t,r)=>{n&&Ov(t)?e[r]=bv(t,n):e[r]=t}),{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let i,o,a;const s={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)a=i[o],r&&!r(a,e,t)||s[a]||(t[a]=e[a],s[a]=!0);e=!1!==n&&Sv(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Ev,kindOfTest:Tv,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(Cv(e))return e;let t=e.length;if(!Dv(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:Gv,hasOwnProperty:Zv,hasOwnProp:Zv,reduceDescriptors:Xv,freezeMethods:e=>{Xv(e,((t,n)=>{if(Ov(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];Ov(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return Cv(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>(e=+e,Number.isFinite(e)?e:t),findKey:Uv,global:Vv,isContextDefined:qv,ALPHABET:Jv,generateString:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Jv.ALPHA_DIGIT,n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&Ov(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(Mv(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const i=Cv(e)?[]:{};return Fv(e,((e,t)=>{const o=n(e,r+1);!kv(o)&&(i[t]=o)})),t[r]=void 0,i}}return e};return n(e,0)},isAsyncFn:Qv,isThenable:e=>e&&(Mv(e)||Ov(e))&&Ov(e.then)&&Ov(e.catch)};function tg(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}eg.inherits(tg,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:eg.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const ng=tg.prototype,rg={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{rg[e]={value:e}})),Object.defineProperties(tg,rg),Object.defineProperty(ng,"isAxiosError",{value:!0}),tg.from=(e,t,n,r,i,o)=>{const a=Object.create(ng);return eg.toFlatObject(e,a,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),tg.call(a,e.message,t,n,r,i),a.cause=e,a.name=e.name,o&&Object.assign(a,o),a};const ig=tg;function og(e){return eg.isPlainObject(e)||eg.isArray(e)}function ag(e){return eg.endsWith(e,"[]")?e.slice(0,-2):e}function sg(e,t,n){return e?e.concat(t).map((function(e,t){return e=ag(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const lg=eg.toFlatObject(eg,{},null,(function(e){return/^is[A-Z]/.test(e)}));const ug=function(e,t,n){if(!eg.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=eg.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!eg.isUndefined(t[e])}));const r=n.metaTokens,i=n.visitor||u,o=n.dots,a=n.indexes,s=(n.Blob||"undefined"!==typeof Blob&&Blob)&&eg.isSpecCompliantForm(t);if(!eg.isFunction(i))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(eg.isDate(e))return e.toISOString();if(!s&&eg.isBlob(e))throw new ig("Blob is not supported. Use a Buffer instead.");return eg.isArrayBuffer(e)||eg.isTypedArray(e)?s&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function u(e,n,i){let s=e;if(e&&!i&&"object"===typeof e)if(eg.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(eg.isArray(e)&&function(e){return eg.isArray(e)&&!e.some(og)}(e)||(eg.isFileList(e)||eg.endsWith(n,"[]"))&&(s=eg.toArray(e)))return n=ag(n),s.forEach((function(e,r){!eg.isUndefined(e)&&null!==e&&t.append(!0===a?sg([n],r,o):null===a?n:n+"[]",l(e))})),!1;return!!og(e)||(t.append(sg(i,n,o),l(e)),!1)}const c=[],p=Object.assign(lg,{defaultVisitor:u,convertValue:l,isVisitable:og});if(!eg.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!eg.isUndefined(n)){if(-1!==c.indexOf(n))throw Error("Circular reference detected in "+r.join("."));c.push(n),eg.forEach(n,(function(n,o){!0===(!(eg.isUndefined(n)||null===n)&&i.call(t,n,eg.isString(o)?o.trim():o,r,p))&&e(n,r?r.concat(o):[o])})),c.pop()}}(e),t};function cg(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function pg(e,t){this._pairs=[],e&&ug(e,this,t)}const hg=pg.prototype;hg.append=function(e,t){this._pairs.push([e,t])},hg.toString=function(e){const t=e?function(t){return e.call(this,t,cg)}:cg;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const dg=pg;function fg(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function mg(e,t,n){if(!t)return e;const r=n&&n.encode||fg,i=n&&n.serialize;let o;if(o=i?i(t,n):eg.isURLSearchParams(t)?t.toString():new dg(t,n).toString(r),o){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}const yg=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){eg.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},vg={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},gg={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:dg,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},_g="undefined"!==typeof window&&"undefined"!==typeof document,xg=(bg="undefined"!==typeof navigator&&navigator.product,_g&&["ReactNative","NativeScript","NS"].indexOf(bg)<0);var bg;const wg="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Sg={...e,...gg};const Eg=function(e){function t(e,n,r,i){let o=e[i++];if("__proto__"===o)return!0;const a=Number.isFinite(+o),s=i>=e.length;if(o=!o&&eg.isArray(r)?r.length:o,s)return eg.hasOwnProp(r,o)?r[o]=[r[o],n]:r[o]=n,!a;r[o]&&eg.isObject(r[o])||(r[o]=[]);return t(e,n,r[o],i)&&eg.isArray(r[o])&&(r[o]=function(e){const t={},n=Object.keys(e);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],t[o]=e[o];return t}(r[o])),!a}if(eg.isFormData(e)&&eg.isFunction(e.entries)){const n={};return eg.forEachEntry(e,((e,r)=>{t(function(e){return eg.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null};const Tg={transitional:vg,adapter:["xhr","http"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=eg.isObject(e);i&&eg.isHTMLForm(e)&&(e=new FormData(e));if(eg.isFormData(e))return r&&r?JSON.stringify(Eg(e)):e;if(eg.isArrayBuffer(e)||eg.isBuffer(e)||eg.isStream(e)||eg.isFile(e)||eg.isBlob(e))return e;if(eg.isArrayBufferView(e))return e.buffer;if(eg.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return ug(e,new Sg.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return Sg.isNode&&eg.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((o=eg.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return ug(o?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),function(e,t,n){if(eg.isString(e))try{return(t||JSON.parse)(e),eg.trim(e)}catch(TI){if("SyntaxError"!==TI.name)throw TI}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Tg.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&eg.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(TI){if(n){if("SyntaxError"===TI.name)throw ig.from(TI,ig.ERR_BAD_RESPONSE,this,null,this.response);throw TI}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Sg.classes.FormData,Blob:Sg.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};eg.forEach(["delete","get","head","post","put","patch"],(e=>{Tg.headers[e]={}}));const Pg=Tg,Cg=eg.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),kg=Symbol("internals");function Ag(e){return e&&String(e).trim().toLowerCase()}function Ig(e){return!1===e||null==e?e:eg.isArray(e)?e.map(Ig):String(e)}function Og(e,t,n,r,i){return eg.isFunction(r)?r.call(this,t,n):(i&&(t=n),eg.isString(t)?eg.isString(r)?-1!==t.indexOf(r):eg.isRegExp(r)?r.test(t):void 0:void 0)}class Dg{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function i(e,t,n){const i=Ag(t);if(!i)throw new Error("header name must be a non-empty string");const o=eg.findKey(r,i);(!o||void 0===r[o]||!0===n||void 0===n&&!1!==r[o])&&(r[o||t]=Ig(e))}const o=(e,t)=>eg.forEach(e,((e,n)=>i(e,n,t)));return eg.isPlainObject(e)||e instanceof this.constructor?o(e,t):eg.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?o((e=>{const t={};let n,r,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),r=e.substring(i+1).trim(),!n||t[n]&&Cg[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t):null!=e&&i(t,e,n),this}get(e,t){if(e=Ag(e)){const n=eg.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(eg.isFunction(t))return t.call(this,e,n);if(eg.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Ag(e)){const n=eg.findKey(this,e);return!(!n||void 0===this[n]||t&&!Og(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function i(e){if(e=Ag(e)){const i=eg.findKey(n,e);!i||t&&!Og(0,n[i],i,t)||(delete n[i],r=!0)}}return eg.isArray(e)?e.forEach(i):i(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const i=t[n];e&&!Og(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}normalize(e){const t=this,n={};return eg.forEach(this,((r,i)=>{const o=eg.findKey(n,i);if(o)return t[o]=Ig(r),void delete t[i];const a=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(i):String(i).trim();a!==i&&delete t[i],t[a]=Ig(r),n[a]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return eg.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&eg.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[kg]=this[kg]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=Ag(e);t[r]||(!function(e,t){const n=eg.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return eg.isArray(e)?e.forEach(r):r(e),this}}Dg.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),eg.reduceDescriptors(Dg.prototype,((e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}})),eg.freezeMethods(Dg);const Mg=Dg;function jg(e,t){const n=this||Pg,r=t||n,i=Mg.from(r.headers);let o=r.data;return eg.forEach(e,(function(e){o=e.call(n,o,i.normalize(),t?t.status:void 0)})),i.normalize(),o}function Rg(e){return!(!e||!e.__CANCEL__)}function Lg(e,t,n){ig.call(this,null==e?"canceled":e,ig.ERR_CANCELED,t,n),this.name="CanceledError"}eg.inherits(Lg,ig,{__CANCEL__:!0});const zg=Lg;const Ng=Sg.hasStandardBrowserEnv?{write(e,t,n,r,i,o){const a=[e+"="+encodeURIComponent(t)];eg.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),eg.isString(r)&&a.push("path="+r),eg.isString(i)&&a.push("domain="+i),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Bg(e,t){return e&&!function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Fg=Sg.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let n;function r(n){let r=n;return e&&(t.setAttribute("href",r),r=t.href),t.setAttribute("href",r),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=r(window.location.href),function(e){const t=eg.isString(e)?r(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return!0};const Ug=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i,o=0,a=0;return t=void 0!==t?t:1e3,function(s){const l=Date.now(),u=r[a];i||(i=l),n[o]=s,r[o]=l;let c=a,p=0;for(;c!==o;)p+=n[c++],c%=e;if(o=(o+1)%e,o===a&&(a=(a+1)%e),l-i<t)return;const h=u&&l-u;return h?Math.round(1e3*p/h):void 0}};function Vg(e,t){let n=0;const r=Ug(50,250);return i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,s=o-n,l=r(s);n=o;const u={loaded:o,total:a,progress:a?o/a:void 0,bytes:s,rate:l||void 0,estimated:l&&a&&o<=a?(a-o)/l:void 0,event:i};u[t?"download":"upload"]=!0,e(u)}}const qg="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){let r=e.data;const i=Mg.from(e.headers).normalize();let o,a,{responseType:s,withXSRFToken:l}=e;function u(){e.cancelToken&&e.cancelToken.unsubscribe(o),e.signal&&e.signal.removeEventListener("abort",o)}if(eg.isFormData(r))if(Sg.hasStandardBrowserEnv||Sg.hasStandardBrowserWebWorkerEnv)i.setContentType(!1);else if(!1!==(a=i.getContentType())){const[e,...t]=a?a.split(";").map((e=>e.trim())).filter(Boolean):[];i.setContentType([e||"multipart/form-data",...t].join("; "))}let c=new XMLHttpRequest;if(e.auth){const t=e.auth.username||"",n=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";i.set("Authorization","Basic "+btoa(t+":"+n))}const p=Bg(e.baseURL,e.url);function h(){if(!c)return;const r=Mg.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders());!function(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new ig("Request failed with status code "+n.status,[ig.ERR_BAD_REQUEST,ig.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),u()}),(function(e){n(e),u()}),{data:s&&"text"!==s&&"json"!==s?c.response:c.responseText,status:c.status,statusText:c.statusText,headers:r,config:e,request:c}),c=null}if(c.open(e.method.toUpperCase(),mg(p,e.params,e.paramsSerializer),!0),c.timeout=e.timeout,"onloadend"in c?c.onloadend=h:c.onreadystatechange=function(){c&&4===c.readyState&&(0!==c.status||c.responseURL&&0===c.responseURL.indexOf("file:"))&&setTimeout(h)},c.onabort=function(){c&&(n(new ig("Request aborted",ig.ECONNABORTED,e,c)),c=null)},c.onerror=function(){n(new ig("Network Error",ig.ERR_NETWORK,e,c)),c=null},c.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const r=e.transitional||vg;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new ig(t,r.clarifyTimeoutError?ig.ETIMEDOUT:ig.ECONNABORTED,e,c)),c=null},Sg.hasStandardBrowserEnv&&(l&&eg.isFunction(l)&&(l=l(e)),l||!1!==l&&Fg(p))){const t=e.xsrfHeaderName&&e.xsrfCookieName&&Ng.read(e.xsrfCookieName);t&&i.set(e.xsrfHeaderName,t)}void 0===r&&i.setContentType(null),"setRequestHeader"in c&&eg.forEach(i.toJSON(),(function(e,t){c.setRequestHeader(t,e)})),eg.isUndefined(e.withCredentials)||(c.withCredentials=!!e.withCredentials),s&&"json"!==s&&(c.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&c.addEventListener("progress",Vg(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&c.upload&&c.upload.addEventListener("progress",Vg(e.onUploadProgress)),(e.cancelToken||e.signal)&&(o=t=>{c&&(n(!t||t.type?new zg(null,e,c):t),c.abort(),c=null)},e.cancelToken&&e.cancelToken.subscribe(o),e.signal&&(e.signal.aborted?o():e.signal.addEventListener("abort",o)));const d=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(p);d&&-1===Sg.protocols.indexOf(d)?n(new ig("Unsupported protocol "+d+":",ig.ERR_BAD_REQUEST,e)):c.send(r||null)}))},Wg={http:null,xhr:qg};eg.forEach(Wg,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(TI){}Object.defineProperty(e,"adapterName",{value:t})}}));const Hg=e=>"- ".concat(e),Gg=e=>eg.isFunction(e)||null===e||!1===e,Zg=e=>{e=eg.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let o=0;o<t;o++){let t;if(n=e[o],r=n,!Gg(n)&&(r=Wg[(t=String(n)).toLowerCase()],void 0===r))throw new ig("Unknown adapter '".concat(t,"'"));if(r)break;i[t||"#"+o]=r}if(!r){const e=Object.entries(i).map((e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=t?e.length>1?"since :\n"+e.map(Hg).join("\n"):" "+Hg(e[0]):"as no adapter specified";throw new ig("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function Kg(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new zg(null,e)}function Xg(e){Kg(e),e.headers=Mg.from(e.headers),e.data=jg.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Zg(e.adapter||Pg.adapter)(e).then((function(t){return Kg(e),t.data=jg.call(e,e.transformResponse,t),t.headers=Mg.from(t.headers),t}),(function(t){return Rg(t)||(Kg(e),t&&t.response&&(t.response.data=jg.call(e,e.transformResponse,t.response),t.response.headers=Mg.from(t.response.headers))),Promise.reject(t)}))}const Yg=e=>e instanceof Mg?e.toJSON():e;function $g(e,t){t=t||{};const n={};function r(e,t,n){return eg.isPlainObject(e)&&eg.isPlainObject(t)?eg.merge.call({caseless:n},e,t):eg.isPlainObject(t)?eg.merge({},t):eg.isArray(t)?t.slice():t}function i(e,t,n){return eg.isUndefined(t)?eg.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function o(e,t){if(!eg.isUndefined(t))return r(void 0,t)}function a(e,t){return eg.isUndefined(t)?eg.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function s(n,i,o){return o in t?r(n,i):o in e?r(void 0,n):void 0}const l={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:(e,t)=>i(Yg(e),Yg(t),!0)};return eg.forEach(Object.keys(Object.assign({},e,t)),(function(r){const o=l[r]||i,a=o(e[r],t[r],r);eg.isUndefined(a)&&o!==s||(n[r]=a)})),n}const Jg="1.6.5",Qg={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{Qg[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const e_={};Qg.transitional=function(e,t,n){function r(e,t){return"[Axios v1.6.5] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,o)=>{if(!1===e)throw new ig(r(i," has been removed"+(t?" in "+t:"")),ig.ERR_DEPRECATED);return t&&!e_[i]&&(e_[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,o)}};const t_={assertOptions:function(e,t,n){if("object"!==typeof e)throw new ig("options must be an object",ig.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const o=r[i],a=t[o];if(a){const t=e[o],n=void 0===t||a(t,o,e);if(!0!==n)throw new ig("option "+o+" must be "+n,ig.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new ig("Unknown option "+o,ig.ERR_BAD_OPTION)}},validators:Qg},n_=t_.validators;class r_{constructor(e){this.defaults=e,this.interceptors={request:new yg,response:new yg}}request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=$g(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:i}=t;void 0!==n&&t_.assertOptions(n,{silentJSONParsing:n_.transitional(n_.boolean),forcedJSONParsing:n_.transitional(n_.boolean),clarifyTimeoutError:n_.transitional(n_.boolean)},!1),null!=r&&(eg.isFunction(r)?t.paramsSerializer={serialize:r}:t_.assertOptions(r,{encode:n_.function,serialize:n_.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=i&&eg.merge(i.common,i[t.method]);i&&eg.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),t.headers=Mg.concat(o,i);const a=[];let s=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,a.unshift(e.fulfilled,e.rejected))}));const l=[];let u;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let c,p=0;if(!s){const e=[Xg.bind(this),void 0];for(e.unshift.apply(e,a),e.push.apply(e,l),c=e.length,u=Promise.resolve(t);p<c;)u=u.then(e[p++],e[p++]);return u}c=a.length;let h=t;for(p=0;p<c;){const e=a[p++],t=a[p++];try{h=e(h)}catch(d){t.call(this,d);break}}try{u=Xg.call(this,h)}catch(d){return Promise.reject(d)}for(p=0,c=l.length;p<c;)u=u.then(l[p++],l[p++]);return u}getUri(e){return mg(Bg((e=$g(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}eg.forEach(["delete","get","head","options"],(function(e){r_.prototype[e]=function(t,n){return this.request($g(n||{},{method:e,url:t,data:(n||{}).data}))}})),eg.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request($g(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}r_.prototype[e]=t(),r_.prototype[e+"Form"]=t(!0)}));const i_=r_;class o_{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,i){n.reason||(n.reason=new zg(e,r,i),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;return{token:new o_((function(t){e=t})),cancel:e}}}const a_=o_;const s_={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(s_).forEach((e=>{let[t,n]=e;s_[n]=t}));const l_=s_;const u_=function e(t){const n=new i_(t),r=bv(i_.prototype.request,n);return eg.extend(r,i_.prototype,n,{allOwnKeys:!0}),eg.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e($g(t,n))},r}(Pg);u_.Axios=i_,u_.CanceledError=zg,u_.CancelToken=a_,u_.isCancel=Rg,u_.VERSION=Jg,u_.toFormData=ug,u_.AxiosError=ig,u_.Cancel=u_.CanceledError,u_.all=function(e){return Promise.all(e)},u_.spread=function(e){return function(t){return e.apply(null,t)}},u_.isAxiosError=function(e){return eg.isObject(e)&&!0===e.isAxiosError},u_.mergeConfig=$g,u_.AxiosHeaders=Mg,u_.formToJSON=e=>Eg(eg.isHTMLForm(e)?new FormData(e):e),u_.getAdapter=Zg,u_.HttpStatusCode=l_,u_.default=u_;const c_=u_,p_=c_.create({baseURL:"http://localhost:4000"}),h_=Dt({name:"properties",initialState:[],reducers:{updateProperties:(e,t)=>t.payload},extraReducers:e=>{e.addMatcher(rr.endpoints.createProperty.matchFulfilled,((e,t)=>{let{payload:n}=t;return n})),e.addMatcher(rr.endpoints.deleteProperty.matchFulfilled,((e,t)=>{let{payload:n}=t;return n}))}}),{updateProperties:d_}=h_.actions,f_=h_.reducer;function m_(e){return nu({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M375 32v41H100.326l-49.6 62h410.547l-49.6-62H393V32h-18zM85.727 153L96 163.273 106.273 153H85.727zm64 0L160 163.273 170.273 153h-20.546zm64 0L224 163.273 234.273 153h-20.546zm64 0l11.185 11.186L300.645 153h-22.918zm64 0L352 163.273 362.273 153h-20.546zm64 0L416 163.273 426.273 153h-20.546zM128 156.727L108.727 176 128 195.273 147.273 176 128 156.727zm64 0L172.727 176 192 195.273 211.273 176 192 156.727zm64 0L236.727 176l19.42 19.422 19.736-18.813L256 156.726zm128 0L364.727 176 384 195.273 403.273 176 384 156.727zm-62.623 1.377l-19.732 18.814L320 195.273 339.273 176l-17.896-17.896zM73 165.727v20.546L83.273 176 73 165.727zm366 0L428.727 176 439 186.273v-20.546zm-343 23L85.727 199h20.546L96 188.727zm64 0L149.727 199h20.546L160 188.727zm64 0L213.727 199h20.546L224 188.727zm128 0L341.727 199h20.546L352 188.727zm64 0L405.727 199h20.546L416 188.727zm-127.387.613l-10.13 9.66h19.79l-9.66-9.66zM73 217v126h366V217H73zm23 39h80v32H96v-32zm112 0h96v32h-96v-32zm128 0h80v32h-80v-32zM75.5 361l43.5 58v-30l-21-28H75.5zm61.5 0v126h23v-71h48v71h167V361H137zm277 0l-21 28v30l43.5-58H414zm-174 55h32v32h-32v-32zm64 0h32v32h-32v-32z"}}]})(e)}function y_(e){return nu({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M55.379 25l-28.4 142H172.27L256 83.271 339.729 167H485.02l-28.4-142zM256 108.727L179.729 185H41v302h158v-87c0-18.25 7.166-33.077 18.021-42.727C227.877 347.624 242 343 256 343s28.123 4.624 38.979 14.273C305.834 366.923 313 381.75 313 400v87h158V185H332.271zm0 38.544l57 57V297H199v-92.729zm0 25.456l-39 39V279h78v-67.271zM71 199h98v98H71zm272 0h98v98h-98zM89 217v30h62v-30zm272 0v30h62v-30zM89 265v14h62v-14zm272 0v14h62v-14zM71 359h98v98H71v-98zm272 0h98v98h-98v-98zm-87 2c-10 0-19.877 3.376-27.021 9.727C221.834 377.077 217 386.25 217 400v87h78v-87c0-13.75-4.834-22.923-11.979-29.273C275.877 364.376 266 361 256 361zM89 377v62h62v-62zm272 0v62h62v-62z"}}]})(e)}function v_(e){return nu({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M254.47 53.094s-4.808 37.12-49.5 49.5c-44.695 12.38-129.282 0-129.282 0L61.343 115.78l8.187 9.157-1.093 2.876-51.843 137.312L16 266.72v1.717c0 18.897 8.253 34.243 20.344 44 12.09 9.758 27.563 14.31 42.937 14.313 15.376.003 30.878-4.556 42.97-14.313 12.092-9.756 20.344-25.094 20.344-44v-1.843l-.688-1.688L86.97 130.28c23.946-3.003 80.866-8.54 115.5 1.532 23.064 6.71 36.151 20.345 43.436 31.97L210.78 354.468l21.407 30.31c-17.75 7.75-32.593 24.84-37.562 51.345-56.076 6.195-95.47 20.74-95.47 37.688h311.876c0-16.947-39.392-31.493-95.467-37.688-4.91-26.6-19.57-44.112-37.188-51.906l21-29.75L264 162.28c7.457-11.275 20.388-24.045 42.47-30.468 34.955-10.167 92.615-4.42 116.155-1.437l-50.875 134.75-.625 1.594v1.717c0 18.897 8.253 34.243 20.344 44 12.09 9.758 27.593 14.31 42.967 14.313 15.375.003 30.877-4.556 42.97-14.313 12.09-9.756 20.343-25.094 20.343-44v-1.843l-.688-1.688L441 127.562l-.938-2.28 8.782-8.438-15.594-14.25s-84.556 12.38-129.25 0-49.53-49.5-49.53-49.5zM77.53 156.656l44.22 108.375H36.594L77.53 156.657zm355.158 0l44.218 108.375H391.72l40.967-108.374z"}}]})(e)}function g_(e){return nu({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"m8 0 6.61 3h.89a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.5.5H15v7a.5.5 0 0 1 .485.38l.5 2a.498.498 0 0 1-.485.62H.5a.498.498 0 0 1-.485-.62l.5-2A.501.501 0 0 1 1 13V6H.5a.5.5 0 0 1-.5-.5v-2A.5.5 0 0 1 .5 3h.89L8 0ZM3.777 3h8.447L8 1 3.777 3ZM2 6v7h1V6H2Zm2 0v7h2.5V6H4Zm3.5 0v7h1V6h-1Zm2 0v7H12V6H9.5ZM13 6v7h1V6h-1Zm2-1V4H1v1h14Zm-.39 9H1.39l-.25 1h13.72l-.25-1Z"}}]})(e)}const __=function(){return(0,_r.jsx)("div",{className:"footer-container d-flex justify-content-center align-items-center",children:(0,_r.jsxs)(py,{className:"footer-row container",children:[(0,_r.jsxs)(dy,{md:3,className:" d-flex  flex-column align-items-center mb-3",children:[(0,_r.jsx)("h3",{children:"Utopia"}),(0,_r.jsx)("h5",{children:"Best rencides"}),(0,_r.jsx)("h5",{children:"Best services"}),(0,_r.jsx)("h5",{children:"Best choice"})]}),(0,_r.jsxs)(dy,{md:3,className:" d-flex flex-column align-items-center mb-3",children:[(0,_r.jsx)("h3",{children:"Follow us"}),(0,_r.jsxs)("div",{className:"d-flex",children:[(0,_r.jsx)(Gy,{}),(0,_r.jsx)("h5",{children:"Facebook"})]}),(0,_r.jsxs)("div",{className:"d-flex",children:[(0,_r.jsx)(Zy,{}),"  ",(0,_r.jsx)("h5",{children:"Instagram"})]}),(0,_r.jsxs)("div",{className:"d-flex",children:[" ",(0,_r.jsx)(Xy,{})," ",(0,_r.jsx)("h5",{children:"twittter"})]})]}),(0,_r.jsxs)(dy,{md:3,className:" d-flex flex-column align-items-center mb-3",children:[(0,_r.jsx)("h3",{children:"Our Links"}),(0,_r.jsxs)("ul",{children:[(0,_r.jsx)("li",{children:(0,_r.jsx)("h5",{children:(0,_r.jsx)("a",{href:"home",children:"Home"})})}),(0,_r.jsx)("li",{children:(0,_r.jsx)("h5",{children:(0,_r.jsx)("a",{href:"recidence",children:"Recidencs"})})}),(0,_r.jsx)("li",{children:(0,_r.jsx)("h5",{children:(0,_r.jsx)("a",{href:"contact",children:"Contact"})})})]})]}),(0,_r.jsxs)(dy,{md:3,className:" d-flex flex-column align-items-center",children:[(0,_r.jsx)("h3",{children:"Newsletter"}),(0,_r.jsx)("form",{children:(0,_r.jsx)("input",{type:"email",placeholder:"Enter your email",required:!0})})]})]})})},x_=()=>{const[e,t]=(0,r.useState)(new Date);(0,r.useEffect)((()=>{const e=setInterval((()=>{t(new Date)}),1e3);return()=>clearInterval(e)}),[]);const n={width:"4px",height:"80px",background:"#292a2e",position:"absolute",borderRadius:"6px 6px 0 0",transform:"rotate(".concat(30*(e.getHours()%12+e.getMinutes()/60),"deg)"),transformOrigin:"0px bottom",left:"50%",bottom:"50%",zIndex:"1000"},i={width:"3px",height:"110px",background:"#dda751",position:"absolute",bottom:"50%",borderRadius:"6px 6px 0 0",transform:"rotate(".concat(6*e.getSeconds(),"deg)"),transformOrigin:"0px bottom",left:"50%",justifyContent:"center",animation:"rotateSecondHand 60s linear infinite",zIndex:"1000"},o={color:"#b6b1a6",fontWeight:"bold",fontSize:"1.5rem",position:"absolute",width:"70%",height:"70%",textAlign:"center",zIndex:"1000"};return(0,_r.jsx)(_r.Fragment,{children:(0,_r.jsx)("div",{style:{position:"relative"},className:"clock-container d-flex justify-content-center align-items-center",children:(0,_r.jsxs)("div",{className:"center-border d-flex justify-content-center align-items-center",children:[(0,_r.jsx)("div",{style:n,className:"hour-hand"}),(0,_r.jsx)("div",{style:i,className:"second-hand"}),[1,2,3,4,5,6,7,8,9,10,11,12].map((e=>(0,_r.jsx)("div",{style:{...o,transform:"rotate(".concat(30*e,"deg)")},children:(0,_r.jsx)("p",{children:e})},e)))]})})})};const b_=function(){const e=e=>e.preventDefault(),t=[{url:"https://images.unsplash.com/photo-1415889455891-23bbf19ee5c7?q=80&w=1776&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D=60"},{url:"https://images.unsplash.com/photo-1500069329338-1f270dce111f?q=80&w=1770&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D=60"},{url:"https://images.unsplash.com/photo-1448670439281-3a2c30e6d4da?q=80&w=1770&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D=60"}].map(((t,n)=>(0,_r.jsx)("div",{className:"item",children:(0,_r.jsx)("img",{className:"home_carousel-image",src:t.url,onDragStart:e,alt:"prod-".concat(n)})},n))),n=(0,a.s0)(),[i,l]=(0,r.useState)(),u=x((e=>null===e||void 0===e?void 0:e.properties)),c=null===u||void 0===u?void 0:u.slice(0,8),p=D();return(0,r.useEffect)((()=>{p_.get("/properties/home").then((e=>{let{data:t}=e;return p(d_(t))}))}),[p]),(0,_r.jsxs)("div",{children:[(0,_r.jsx)("div",{className:"landing-container",children:(0,_r.jsxs)(py,{className:"justify-content-center",children:[(0,_r.jsx)(dy,{md:6}),(0,_r.jsxs)(dy,{md:6,className:"home_title_container",children:[(0,_r.jsxs)("div",{className:"main_title",children:[(0,_r.jsxs)(uy.h1,{initial:{y:"2rem",opacity:0},animate:{y:0,opacity:1},transition:{duration:2,type:"ease-in"},children:["Discover Most ",(0,_r.jsx)("br",{})," Suitable Property"]}),(0,_r.jsx)("div",{className:"orange-circle"})]}),(0,_r.jsxs)("div",{className:"home_secondary_text",children:[(0,_r.jsx)("span",{children:"Find a variety of properties that suit you very easilty"})," ",(0,_r.jsx)("br",{}),(0,_r.jsx)("span",{children:"Forget all difficulties in finding a residence for you"})]}),(0,_r.jsxs)("div",{className:"search-bar",children:[(0,_r.jsx)(fy,{className:"marker",color:"blue",size:25}),(0,_r.jsx)("input",{type:"text",placeholder:"city/location",onChange:e=>l(e.target.value)}),(0,_r.jsx)("button",{className:"button",onClick:()=>{n("city/".concat(i))},children:"Search"})]}),(0,_r.jsxs)("div",{className:"flexCenter stats",children:[(0,_r.jsxs)("div",{className:"flexColCenter stat",children:[(0,_r.jsxs)("span",{children:[(0,_r.jsx)(my.ZP,{start:8800,end:9e3,duration:4})," ",(0,_r.jsx)("span",{children:"+"})]}),(0,_r.jsx)("span",{className:"secondaryText",children:"Premium Product"})]}),(0,_r.jsxs)("div",{className:"flexColCenter stat",children:[(0,_r.jsxs)("span",{children:[(0,_r.jsx)(my.ZP,{start:1950,end:2e3,duration:4})," ",(0,_r.jsx)("span",{children:"+"})]}),(0,_r.jsx)("span",{className:"secondaryText",children:"Happy Customer"})]}),(0,_r.jsxs)("div",{className:"flexColCenter stat",children:[(0,_r.jsxs)("span",{children:[(0,_r.jsx)(my.ZP,{end:28})," ",(0,_r.jsx)("span",{children:"+"})]}),(0,_r.jsx)("span",{className:"secondaryText",children:"Awards Winning"})]})]})]})]})}),(0,_r.jsxs)("div",{className:"fav-properties-container container mt-5",children:[(0,_r.jsx)("h3",{children:"Best Properties"}),(0,_r.jsx)("div",{children:(0,_r.jsxs)(o.Link,{to:"/properties",style:{textAlign:"right",display:"block",textDecoration:"none"},children:["See more",">>"]})}),(0,_r.jsx)(py,{className:"mt-2",children:null===c||void 0===c?void 0:c.map((e=>(0,_r.jsx)(dy,{md:3,className:"d-flex justify-content-center",children:(0,_r.jsx)(mv,{...e},e._id)},e._id)))})]}),(0,_r.jsxs)("div",{className:"service-container mt-5",style:{position:"relative",width:"100vw",height:"80vh"},children:[(0,_r.jsx)("div",{className:"home_img_container",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},children:(0,_r.jsx)(vy(),{mouseTracking:!0,items:t,autoPlay:!0,autoPlayInterval:3e3,style:{width:"100%",height:"100%"}})}),(0,_r.jsxs)("div",{className:"service-container-text",children:[(0,_r.jsxs)("div",{className:"service-text-center mb-5",children:[(0,_r.jsx)("h3",{children:"Our service"}),(0,_r.jsx)("h5",{children:"We are always ready to help by providing the best services for you. We believe a good place to live can make your life better."})]}),(0,_r.jsx)("div",{className:"service-text-row",children:(0,_r.jsxs)(py,{children:[(0,_r.jsxs)(dy,{md:4,className:"service-text",children:[(0,_r.jsx)(y_,{size:80,className:"mb-3"}),(0,_r.jsx)("h4",{children:"Real Estate Purchase"})]}),(0,_r.jsxs)(dy,{md:4,className:"service-text",children:[(0,_r.jsx)(v_,{size:80,className:"mb-3"}),(0,_r.jsx)("h4",{children:"Legal Consultation"})]}),(0,_r.jsxs)(dy,{md:4,className:"service-text",children:[(0,_r.jsx)(g_,{size:80,className:"mb-3"}),(0,_r.jsx)("h4",{children:"Bank-Loan Assistant"})]})]})})]})]}),(0,_r.jsxs)("div",{className:"location-container mt-5",children:[(0,_r.jsx)("h3",{className:"mb-5",children:"Top Destinations"}),(0,_r.jsx)(py,{className:"d-flex justify-content-center mt-2",children:yv.map(((e,t)=>(0,_r.jsx)(s.J,{to:"/city/".concat(e.name.toLocaleLowerCase()),children:(0,_r.jsx)(dy,{md:1,children:(0,_r.jsxs)("div",{className:"location-title",children:[(0,_r.jsx)("div",{className:"circle",style:{backgroundImage:"linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1)), url(".concat(e.img,")")}}),(0,_r.jsx)("span",{children:e.name})]})})},t)))})]}),(0,_r.jsx)("div",{className:"contact-container",children:(0,_r.jsxs)(py,{children:[(0,_r.jsx)(dy,{md:6,className:"contact-info justify-content-center align-items-center p-5",children:(0,_r.jsxs)(py,{children:[(0,_r.jsxs)("div",{children:[(0,_r.jsx)("h3",{children:"Contact us"}),(0,_r.jsx)("p",{children:"We are always ready to help by providing the best services for you."})]}),(0,_r.jsx)(dy,{md:6,children:(0,_r.jsxs)("div",{className:"d-flex justify-content-center align-items-center p-3 m-3 contact-text",children:[(0,_r.jsx)(gv,{size:35,className:"ms-3"}),(0,_r.jsx)("h4",{children:"+358 403601709"})]})}),(0,_r.jsx)(dy,{md:6,children:(0,_r.jsxs)("div",{className:" d-flex justify-content-center align-items-center p-3 m-3 contact-text",children:[(0,_r.jsx)(Hy,{size:35,className:"ms-3"}),(0,_r.jsx)("h4",{children:"Facebook"})]})}),(0,_r.jsx)(dy,{md:6,children:(0,_r.jsxs)("div",{className:" d-flex justify-content-center align-items-center p-3 m-3 contact-text",children:[(0,_r.jsx)(Ky,{size:35,className:"ms-3"}),(0,_r.jsx)("h4",{children:"Online chat"})]})}),(0,_r.jsx)(dy,{md:6,children:(0,_r.jsxs)("div",{className:" d-flex justify-content-center align-items-centert p-3 m-3 contact-text",children:[(0,_r.jsx)(_v,{size:35,className:"ms-3"}),(0,_r.jsx)("h4",{children:"Message"})]})}),(0,_r.jsx)("div",{className:" d-flex justify-content-center mt-3",children:(0,_r.jsx)("button",{className:"call-button",children:"Call Us Now"})})]})}),(0,_r.jsx)(dy,{md:6,className:"clock-section",children:(0,_r.jsxs)("div",{className:"d-flex justify-content-center align-items-center flex-column contact-text",children:[(0,_r.jsx)("h3",{className:"mb-5",children:"We are always available when you needs us"}),(0,_r.jsx)(x_,{})]})})]})}),(0,_r.jsx)(__,{})]})},w_={type:uo().string,tooltip:uo().bool,as:uo().elementType},S_=r.forwardRef(((e,t)=>{let{as:n="div",className:r,type:i="valid",tooltip:o=!1,...a}=e;return(0,_r.jsx)(n,{...a,ref:t,className:lr()(r,"".concat(i,"-").concat(o?"tooltip":"feedback"))})}));S_.displayName="Feedback",S_.propTypes=w_;const E_=S_,T_=r.createContext({}),P_=r.forwardRef(((e,t)=>{let{id:n,bsPrefix:i,className:o,type:a="checkbox",isValid:s=!1,isInvalid:l=!1,as:u="input",...c}=e;const{controlId:p}=(0,r.useContext)(T_);return i=Tr(i,"form-check-input"),(0,_r.jsx)(u,{...c,ref:t,type:a,id:n||p,className:lr()(o,i,s&&"is-valid",l&&"is-invalid")})}));P_.displayName="FormCheckInput";const C_=P_,k_=r.forwardRef(((e,t)=>{let{bsPrefix:n,className:i,htmlFor:o,...a}=e;const{controlId:s}=(0,r.useContext)(T_);return n=Tr(n,"form-check-label"),(0,_r.jsx)("label",{...a,ref:t,htmlFor:o||s,className:lr()(i,n)})}));k_.displayName="FormCheckLabel";const A_=k_;const I_=r.forwardRef(((e,t)=>{let{id:n,bsPrefix:i,bsSwitchPrefix:o,inline:a=!1,reverse:s=!1,disabled:l=!1,isValid:u=!1,isInvalid:c=!1,feedbackTooltip:p=!1,feedback:h,feedbackType:d,className:f,style:m,title:y="",type:v="checkbox",label:g,children:_,as:x="input",...b}=e;i=Tr(i,"form-check"),o=Tr(o,"form-switch");const{controlId:w}=(0,r.useContext)(T_),S=(0,r.useMemo)((()=>({controlId:n||w})),[w,n]),E=!_&&null!=g&&!1!==g||function(e,t){return r.Children.toArray(e).some((e=>r.isValidElement(e)&&e.type===t))}(_,A_),T=(0,_r.jsx)(C_,{...b,type:"switch"===v?"checkbox":v,ref:t,isValid:u,isInvalid:c,disabled:l,as:x});return(0,_r.jsx)(T_.Provider,{value:S,children:(0,_r.jsx)("div",{style:m,className:lr()(f,E&&i,a&&"".concat(i,"-inline"),s&&"".concat(i,"-reverse"),"switch"===v&&o),children:_||(0,_r.jsxs)(_r.Fragment,{children:[T,E&&(0,_r.jsx)(A_,{title:y,children:g}),h&&(0,_r.jsx)(E_,{type:d,tooltip:p,children:h})]})})})}));I_.displayName="FormCheck";const O_=Object.assign(I_,{Input:C_,Label:A_}),D_=r.forwardRef(((e,t)=>{let{bsPrefix:n,type:i,size:o,htmlSize:a,id:s,className:l,isValid:u=!1,isInvalid:c=!1,plaintext:p,readOnly:h,as:d="input",...f}=e;const{controlId:m}=(0,r.useContext)(T_);return n=Tr(n,"form-control"),(0,_r.jsx)(d,{...f,type:i,size:a,ref:t,readOnly:h,id:s||m,className:lr()(l,p?"".concat(n,"-plaintext"):n,o&&"".concat(n,"-").concat(o),"color"===i&&"".concat(n,"-color"),u&&"is-valid",c&&"is-invalid")})}));D_.displayName="FormControl";const M_=Object.assign(D_,{Feedback:E_}),j_=r.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...o}=e;return r=Tr(r,"form-floating"),(0,_r.jsx)(i,{ref:t,className:lr()(n,r),...o})}));j_.displayName="FormFloating";const R_=j_,L_=r.forwardRef(((e,t)=>{let{controlId:n,as:i="div",...o}=e;const a=(0,r.useMemo)((()=>({controlId:n})),[n]);return(0,_r.jsx)(T_.Provider,{value:a,children:(0,_r.jsx)(i,{...o,ref:t})})}));L_.displayName="FormGroup";const z_=L_,N_=r.forwardRef(((e,t)=>{let{as:n="label",bsPrefix:i,column:o=!1,visuallyHidden:a=!1,className:s,htmlFor:l,...u}=e;const{controlId:c}=(0,r.useContext)(T_);i=Tr(i,"form-label");let p="col-form-label";"string"===typeof o&&(p="".concat(p," ").concat(p,"-").concat(o));const h=lr()(s,i,a&&"visually-hidden",o&&p);return l=l||c,o?(0,_r.jsx)(dy,{ref:t,as:"label",className:h,htmlFor:l,...u}):(0,_r.jsx)(n,{ref:t,className:h,htmlFor:l,...u})}));N_.displayName="FormLabel";const B_=N_,F_=r.forwardRef(((e,t)=>{let{bsPrefix:n,className:i,id:o,...a}=e;const{controlId:s}=(0,r.useContext)(T_);return n=Tr(n,"form-range"),(0,_r.jsx)("input",{...a,type:"range",ref:t,className:lr()(i,n),id:o||s})}));F_.displayName="FormRange";const U_=F_,V_=r.forwardRef(((e,t)=>{let{bsPrefix:n,size:i,htmlSize:o,className:a,isValid:s=!1,isInvalid:l=!1,id:u,...c}=e;const{controlId:p}=(0,r.useContext)(T_);return n=Tr(n,"form-select"),(0,_r.jsx)("select",{...c,size:o,ref:t,className:lr()(a,n,i&&"".concat(n,"-").concat(i),s&&"is-valid",l&&"is-invalid"),id:u||p})}));V_.displayName="FormSelect";const q_=V_,W_=r.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,as:i="small",muted:o,...a}=e;return n=Tr(n,"form-text"),(0,_r.jsx)(i,{...a,ref:t,className:lr()(r,n,o&&"text-muted")})}));W_.displayName="FormText";const H_=W_,G_=r.forwardRef(((e,t)=>(0,_r.jsx)(O_,{...e,ref:t,type:"switch"})));G_.displayName="Switch";const Z_=Object.assign(G_,{Input:O_.Input,Label:O_.Label}),K_=r.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,children:i,controlId:o,label:a,...s}=e;return n=Tr(n,"form-floating"),(0,_r.jsxs)(z_,{ref:t,className:lr()(r,n),controlId:o,...s,children:[i,(0,_r.jsx)("label",{htmlFor:o,children:a})]})}));K_.displayName="FloatingLabel";const X_=K_,Y_={_ref:uo().any,validated:uo().bool,as:uo().elementType},$_=r.forwardRef(((e,t)=>{let{className:n,validated:r,as:i="form",...o}=e;return(0,_r.jsx)(i,{...o,ref:t,className:lr()(n,r&&"was-validated")})}));$_.displayName="Form",$_.propTypes=Y_;const J_=Object.assign($_,{Group:z_,Control:M_,Floating:R_,Check:O_,Switch:Z_,Label:B_,Text:H_,Range:U_,Select:q_,FloatingLabel:X_}),Q_=go("h4");Q_.displayName="DivStyledAsH4";const ex=r.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i=Q_,...o}=e;return r=Tr(r,"alert-heading"),(0,_r.jsx)(i,{ref:t,className:lr()(n,r),...o})}));ex.displayName="AlertHeading";const tx=ex,nx=r.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i=ha,...o}=e;return r=Tr(r,"alert-link"),(0,_r.jsx)(i,{ref:t,className:lr()(n,r),...o})}));nx.displayName="AlertLink";const rx=nx,ix=r.forwardRef(((e,t)=>{const{bsPrefix:n,show:r=!0,closeLabel:i="Close alert",closeVariant:o,className:a,children:s,variant:l="primary",onClose:u,dismissible:c,transition:p=to,...h}=mr(e,{show:"onClose"}),d=Tr(n,"alert"),f=Si((e=>{u&&u(!1,e)})),m=!0===p?to:p,y=(0,_r.jsxs)("div",{role:"alert",...m?void 0:h,ref:t,className:lr()(a,d,l&&"".concat(d,"-").concat(l),c&&"".concat(d,"-dismissible")),children:[c&&(0,_r.jsx)(ho,{onClick:f,"aria-label":i,variant:o}),s]});return m?(0,_r.jsx)(m,{unmountOnExit:!0,...h,ref:void 0,in:r,children:y}):r?y:null}));ix.displayName="Alert";const ox=Object.assign(ix,{Link:rx,Heading:tx});const ax=function(){const[e,t]=(0,r.useState)(""),[n,i]=(0,r.useState)(""),[a,{error:s,isLoading:l,isError:u}]=Yn();return(0,_r.jsx)("div",{className:"login-container",children:(0,_r.jsx)("div",{className:"login-form",children:(0,_r.jsxs)(J_,{onSubmit:function(t){t.preventDefault(),a({email:e,password:n})},children:[(0,_r.jsx)("h1",{children:"Login to your account"}),u&&(0,_r.jsx)(ox,{variant:"danger",children:s.data}),(0,_r.jsxs)(J_.Group,{children:[(0,_r.jsx)(J_.Label,{children:"Email"}),(0,_r.jsx)(J_.Control,{className:"info-input",type:"email",placeholder:"Enter your email",value:e,required:!0,onChange:e=>t(e.target.value)})]}),(0,_r.jsxs)(J_.Group,{children:[(0,_r.jsx)(J_.Label,{children:"Password"}),(0,_r.jsx)(J_.Control,{className:"info-input",type:"password",placeholder:"Enter your password",value:n,required:!0,onChange:e=>i(e.target.value)})]}),(0,_r.jsx)(J_.Group,{className:"mt-5",children:(0,_r.jsx)(Wl,{type:"submit",className:"login-button",disabled:l,children:"Login"})}),(0,_r.jsxs)("p",{className:"pt-3 text-center",children:["Don't have an account? ",(0,_r.jsx)(o.Link,{to:"/signup",children:"Signup here"})]})]})})})};const sx=function(){const[e,t]=(0,r.useState)(""),[n,i]=(0,r.useState)(""),[a,s]=(0,r.useState)(""),[l,u]=(0,r.useState)(!1),[c,{error:p,isLoading:h,isError:d}]=Xn();return(0,_r.jsx)("div",{className:"signup-container",children:(0,_r.jsx)("div",{className:"signup-form",children:(0,_r.jsxs)(J_,{onSubmit:function(t){t.preventDefault(),c({name:e,email:n,password:a,isOwner:l})},children:[(0,_r.jsx)("h1",{children:"Create a new account"}),d&&(0,_r.jsx)(ox,{variant:"danger",children:p.data}),(0,_r.jsxs)(J_.Group,{children:[(0,_r.jsx)(J_.Label,{children:"Name"}),(0,_r.jsx)(J_.Control,{className:"info-input",type:"text",placeholder:"Enter your name",value:e,required:!0,onChange:e=>t(e.target.value)})]}),(0,_r.jsxs)(J_.Group,{children:[(0,_r.jsx)(J_.Label,{children:"Email"}),(0,_r.jsx)(J_.Control,{className:"info-input",type:"email",placeholder:"Enter your email",value:n,required:!0,onChange:e=>i(e.target.value)})]}),(0,_r.jsxs)(J_.Group,{children:[(0,_r.jsx)(J_.Label,{children:"Password"}),(0,_r.jsx)(J_.Control,{className:"info-input",type:"password",placeholder:"Enter your password",value:a,required:!0,onChange:e=>s(e.target.value)})]}),(0,_r.jsx)(J_.Group,{className:"mt-3",controlId:"formBasicCheckbox",children:(0,_r.jsx)(J_.Check,{type:"checkbox",label:"I'm here to sell",checked:l,onChange:e=>u(e.target.checked)})}),(0,_r.jsx)(J_.Group,{className:"mt-5",children:(0,_r.jsx)(Wl,{type:"submit",className:"signup-button",disabled:h,children:"Signup"})}),(0,_r.jsxs)("p",{className:"pt-3 text-center",children:["Already have an account ",(0,_r.jsx)(o.Link,{to:"/login",children:"Login here"})]})]})})})},lx=r.createContext(null);function ux(e,t){if(e===t)return!0;if(!e||!t)return!1;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!ux(e[n],t[n]))return!1;return!0}if(Array.isArray(t))return!1;if("object"===typeof e&&"object"===typeof t){const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const i of n){if(!t.hasOwnProperty(i))return!1;if(!ux(e[i],t[i]))return!1}return!0}return!1}function cx(e,t){if(!e.getProjection)return;const n=e.getProjection();ux(n,t.getProjection())||t.setProjection(n)}function px(e){return{longitude:e.center.lng,latitude:e.center.lat,zoom:e.zoom,pitch:e.pitch,bearing:e.bearing,padding:e.padding}}function hx(e,t){const n=t.viewState||t;let r=!1;if("longitude"in n&&"latitude"in n){const t=e.center;e.center=new t.constructor(n.longitude,n.latitude),r=r||t!==e.center}if("zoom"in n){const t=e.zoom;e.zoom=n.zoom,r=r||t!==e.zoom}if("bearing"in n){const t=e.bearing;e.bearing=n.bearing,r=r||t!==e.bearing}if("pitch"in n){const t=e.pitch;e.pitch=n.pitch,r=r||t!==e.pitch}return n.padding&&!e.isPaddingEqual(n.padding)&&(r=!0,e.padding=n.padding),r}const dx=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function fx(e){if(!e)return null;if("string"===typeof e)return e;if("toJS"in e&&(e=e.toJS()),!e.layers)return e;const t={};for(const r of e.layers)t[r.id]=r;const n=e.layers.map((e=>{let n=null;"interactive"in e&&(n=Object.assign({},e),delete n.interactive);const r=t[e.ref];if(r){n=n||Object.assign({},e),delete n.ref;for(const e of dx)e in r&&(n[e]=r[e])}return n||e}));return{...e,layers:n}}const mx={version:8,sources:{},layers:[]},yx={mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",click:"onClick",dblclick:"onDblClick",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mouseout:"onMouseOut",contextmenu:"onContextMenu",touchstart:"onTouchStart",touchend:"onTouchEnd",touchmove:"onTouchMove",touchcancel:"onTouchCancel"},vx={movestart:"onMoveStart",move:"onMove",moveend:"onMoveEnd",dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd",zoomstart:"onZoomStart",zoom:"onZoom",zoomend:"onZoomEnd",rotatestart:"onRotateStart",rotate:"onRotate",rotateend:"onRotateEnd",pitchstart:"onPitchStart",pitch:"onPitch",pitchend:"onPitchEnd"},gx={wheel:"onWheel",boxzoomstart:"onBoxZoomStart",boxzoomend:"onBoxZoomEnd",boxzoomcancel:"onBoxZoomCancel",resize:"onResize",load:"onLoad",render:"onRender",idle:"onIdle",remove:"onRemove",data:"onData",styledata:"onStyleData",sourcedata:"onSourceData",error:"onError"},_x=["minZoom","maxZoom","minPitch","maxPitch","maxBounds","projection","renderWorldCopies"],xx=["scrollZoom","boxZoom","dragRotate","dragPan","keyboard","doubleClickZoom","touchZoomRotate","touchPitch"];class bx{constructor(e,t,n){this._map=null,this._internalUpdate=!1,this._inRender=!1,this._hoveredFeatures=null,this._deferredEvents={move:!1,zoom:!1,pitch:!1,rotate:!1},this._onEvent=e=>{const t=this.props[gx[e.type]];t?t(e):"error"===e.type&&console.error(e.error)},this._onPointerEvent=e=>{"mousemove"!==e.type&&"mouseout"!==e.type||this._updateHover(e);const t=this.props[yx[e.type]];t&&(this.props.interactiveLayerIds&&"mouseover"!==e.type&&"mouseout"!==e.type&&(e.features=this._hoveredFeatures||this._queryRenderedFeatures(e.point)),t(e),delete e.features)},this._onCameraEvent=e=>{if(!this._internalUpdate){const t=this.props[vx[e.type]];t&&t(e)}e.type in this._deferredEvents&&(this._deferredEvents[e.type]=!1)},this._MapClass=e,this.props=t,this._initialize(n)}get map(){return this._map}get transform(){return this._renderTransform}setProps(e){const t=this.props;this.props=e;const n=this._updateSettings(e,t);n&&this._createShadowTransform(this._map);const r=this._updateSize(e),i=this._updateViewState(e,!0);this._updateStyle(e,t),this._updateStyleComponents(e,t),this._updateHandlers(e,t),(n||r||i&&!this._map.isMoving())&&this.redraw()}static reuse(e,t){const n=bx.savedMaps.pop();if(!n)return null;const r=n.map,i=r.getContainer();for(t.className=i.className;i.childNodes.length>0;)t.appendChild(i.childNodes[0]);r._container=t;const o=r._resizeObserver;o&&(o.disconnect(),o.observe(t)),n.setProps({...e,styleDiffing:!1}),r.resize();const{initialViewState:a}=e;return a&&(a.bounds?r.fitBounds(a.bounds,{...a.fitBoundsOptions,duration:0}):n._updateViewState(a,!1)),r.isStyleLoaded()?r.fire("load"):r.once("styledata",(()=>r.fire("load"))),r._update(),n}_initialize(e){const{props:t}=this,{mapStyle:n=mx}=t,r={...t,...t.initialViewState,accessToken:t.mapboxAccessToken||wx()||null,container:e,style:fx(n)},i=r.initialViewState||r.viewState||r;if(Object.assign(r,{center:[i.longitude||0,i.latitude||0],zoom:i.zoom||0,pitch:i.pitch||0,bearing:i.bearing||0}),t.gl){const e=HTMLCanvasElement.prototype.getContext;HTMLCanvasElement.prototype.getContext=()=>(HTMLCanvasElement.prototype.getContext=e,t.gl)}const o=new this._MapClass(r);i.padding&&o.setPadding(i.padding),t.cursor&&(o.getCanvas().style.cursor=t.cursor),this._createShadowTransform(o);const a=o._render;o._render=e=>{this._inRender=!0,a.call(o,e),this._inRender=!1};const s=o._renderTaskQueue.run;o._renderTaskQueue.run=e=>{s.call(o._renderTaskQueue,e),this._onBeforeRepaint()},o.on("render",(()=>this._onAfterRepaint()));const l=o.fire;o.fire=this._fireEvent.bind(this,l),o.on("resize",(()=>{this._renderTransform.resize(o.transform.width,o.transform.height)})),o.on("styledata",(()=>{this._updateStyleComponents(this.props,{}),cx(o.transform,this._renderTransform)})),o.on("sourcedata",(()=>this._updateStyleComponents(this.props,{})));for(const u in yx)o.on(u,this._onPointerEvent);for(const u in vx)o.on(u,this._onCameraEvent);for(const u in gx)o.on(u,this._onEvent);this._map=o}recycle(){const e=this.map.getContainer().querySelector("[mapboxgl-children]");null===e||void 0===e||e.remove(),bx.savedMaps.push(this)}destroy(){this._map.remove()}redraw(){const e=this._map;!this._inRender&&e.style&&(e._frame&&(e._frame.cancel(),e._frame=null),e._render())}_createShadowTransform(e){const t=function(e){const t=e.clone();return t.pixelsToGLUnits=e.pixelsToGLUnits,t}(e.transform);e.painter.transform=t,this._renderTransform=t}_updateSize(e){const{viewState:t}=e;if(t){const e=this._map;if(t.width!==e.transform.width||t.height!==e.transform.height)return e.resize(),!0}return!1}_updateViewState(e,t){if(this._internalUpdate)return!1;const n=this._map,r=this._renderTransform,{zoom:i,pitch:o,bearing:a}=r,s=n.isMoving();s&&(r.cameraElevationReference="sea");const l=hx(r,{...px(n.transform),...e});if(s&&(r.cameraElevationReference="ground"),l&&t){const e=this._deferredEvents;e.move=!0,e.zoom||(e.zoom=i!==r.zoom),e.rotate||(e.rotate=a!==r.bearing),e.pitch||(e.pitch=o!==r.pitch)}return s||hx(n.transform,e),l}_updateSettings(e,t){const n=this._map;let r=!1;for(const i of _x)if(i in e&&!ux(e[i],t[i])){r=!0;const t=n["set".concat(i[0].toUpperCase()).concat(i.slice(1))];null===t||void 0===t||t.call(n,e[i])}return r}_updateStyle(e,t){if(e.cursor!==t.cursor&&(this._map.getCanvas().style.cursor=e.cursor||""),e.mapStyle!==t.mapStyle){const{mapStyle:t=mx,styleDiffing:n=!0}=e,r={diff:n};return"localIdeographFontFamily"in e&&(r.localIdeographFontFamily=e.localIdeographFontFamily),this._map.setStyle(fx(t),r),!0}return!1}_updateStyleComponents(e,t){const n=this._map;let r=!1;return n.isStyleLoaded()&&("light"in e&&n.setLight&&!ux(e.light,t.light)&&(r=!0,n.setLight(e.light)),"fog"in e&&n.setFog&&!ux(e.fog,t.fog)&&(r=!0,n.setFog(e.fog)),"terrain"in e&&n.setTerrain&&!ux(e.terrain,t.terrain)&&(e.terrain&&!n.getSource(e.terrain.source)||(r=!0,n.setTerrain(e.terrain)))),r}_updateHandlers(e,t){var n,r;const i=this._map;let o=!1;for(const a of xx){const s=null===(n=e[a])||void 0===n||n;ux(s,null===(r=t[a])||void 0===r||r)||(o=!0,s?i[a].enable(s):i[a].disable())}return o}_queryRenderedFeatures(e){const t=this._map,n=t.transform,{interactiveLayerIds:r=[]}=this.props;try{return t.transform=this._renderTransform,t.queryRenderedFeatures(e,{layers:r.filter(t.getLayer.bind(t))})}catch(ow){return[]}finally{t.transform=n}}_updateHover(e){var t;const{props:n}=this;if(n.interactiveLayerIds&&(n.onMouseMove||n.onMouseEnter||n.onMouseLeave)){const n=e.type,r=(null===(t=this._hoveredFeatures)||void 0===t?void 0:t.length)>0,i=this._queryRenderedFeatures(e.point),o=i.length>0;!o&&r&&(e.type="mouseleave",this._onPointerEvent(e)),this._hoveredFeatures=i,o&&!r&&(e.type="mouseenter",this._onPointerEvent(e)),e.type=n}else this._hoveredFeatures=null}_fireEvent(e,t,n){const r=this._map,i=r.transform,o="string"===typeof t?t:t.type;return"move"===o&&this._updateViewState(this.props,!1),o in vx&&("object"===typeof t&&(t.viewState=px(i)),this._map.isMoving())?(r.transform=this._renderTransform,e.call(r,t,n),r.transform=i,r):(e.call(r,t,n),r)}_onBeforeRepaint(){const e=this._map;this._internalUpdate=!0;for(const n in this._deferredEvents)this._deferredEvents[n]&&e.fire(n);this._internalUpdate=!1;const t=this._map.transform;e.transform=this._renderTransform,this._onAfterRepaint=()=>{cx(this._renderTransform,t),e.transform=t}}}function wx(){let e=null;if("undefined"!==typeof location){const t=/access_token=([^&\/]*)/.exec(location.search);e=t&&t[1]}try{e=e||{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_MAPBOX_ACCESS_TOKEN:"pk.eyJ1IjoiaG9hbmcyMzEyIiwiYSI6ImNscjgwMTBiZDB1ZXcya3BhaG53ZTBoZzYifQ.ayezKkd5oN9Lnw-bmbxQ3A"}.MapboxAccessToken}catch(ow){}try{e=e||"pk.eyJ1IjoiaG9hbmcyMzEyIiwiYSI6ImNscjgwMTBiZDB1ZXcya3BhaG53ZTBoZzYifQ.ayezKkd5oN9Lnw-bmbxQ3A"}catch(t){}return e}bx.savedMaps=[];const Sx=["setMaxBounds","setMinZoom","setMaxZoom","setMinPitch","setMaxPitch","setRenderWorldCopies","setProjection","setStyle","addSource","removeSource","addLayer","removeLayer","setLayerZoomRange","setFilter","setPaintProperty","setLayoutProperty","setLight","setTerrain","setFog","remove"];function Ex(e){if(!e)return null;const t=e.map,n={getMap:()=>t,getCenter:()=>e.transform.center,getZoom:()=>e.transform.zoom,getBearing:()=>e.transform.bearing,getPitch:()=>e.transform.pitch,getPadding:()=>e.transform.padding,getBounds:()=>e.transform.getBounds(),project:n=>{const r=t.transform;t.transform=e.transform;const i=t.project(n);return t.transform=r,i},unproject:n=>{const r=t.transform;t.transform=e.transform;const i=t.unproject(n);return t.transform=r,i},queryTerrainElevation:(n,r)=>{const i=t.transform;t.transform=e.transform;const o=t.queryTerrainElevation(n,r);return t.transform=i,o},queryRenderedFeatures:(n,r)=>{const i=t.transform;t.transform=e.transform;const o=t.queryRenderedFeatures(n,r);return t.transform=i,o}};for(const r of function(e){const t=new Set;let n=e;for(;n;){for(const r of Object.getOwnPropertyNames(n))"_"!==r[0]&&"function"===typeof e[r]&&"fire"!==r&&"setEventedParent"!==r&&t.add(r);n=Object.getPrototypeOf(n)}return Array.from(t)}(t))r in n||Sx.includes(r)||(n[r]=t[r].bind(t));return n}const Tx="undefined"!==typeof document?r.useLayoutEffect:r.useEffect,Px=["baseApiUrl","maxParallelImageRequests","workerClass","workerCount","workerUrl"];const Cx=r.createContext(null);function kx(e,t,n){const i=(0,r.useContext)(lx),[o,a]=(0,r.useState)(null),s=(0,r.useRef)(),{current:l}=(0,r.useRef)({mapLib:null,map:null});(0,r.useEffect)((()=>{const t=e.mapLib;let r,o=!0;return Promise.resolve(t||n).then((t=>{if(!o)return;if(!t)throw new Error("Invalid mapLib");const n="Map"in t?t:t.default;if(!n.Map)throw new Error("Invalid mapLib");if(function(e,t){for(const r of Px)r in t&&(e[r]=t[r]);const{RTLTextPlugin:n="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-rtl-text/v0.2.3/mapbox-gl-rtl-text.js"}=t;n&&e.getRTLTextPluginStatus&&"unavailable"===e.getRTLTextPluginStatus()&&e.setRTLTextPlugin(n,(e=>{e&&console.error(e)}),!0)}(n,e),n.supported&&!n.supported(e))throw new Error("Map is not supported by this browser");e.reuseMaps&&(r=bx.reuse(e,s.current)),r||(r=new bx(n.Map,e,s.current)),l.map=Ex(r),l.mapLib=n,a(r),null===i||void 0===i||i.onMapMount(l.map,e.id)})).catch((t=>{const{onError:n}=e;n?n({type:"error",target:null,originalEvent:null,error:t}):console.error(t)})),()=>{o=!1,r&&(null===i||void 0===i||i.onMapUnmount(e.id),e.reuseMaps?r.recycle():r.destroy())}}),[]),Tx((()=>{o&&o.setProps(e)})),(0,r.useImperativeHandle)(t,(()=>l.map),[o]);const u=(0,r.useMemo)((()=>({position:"relative",width:"100%",height:"100%",...e.style})),[e.style]);return r.createElement("div",{id:e.id,ref:s,style:u},o&&r.createElement(Cx.Provider,{value:l},r.createElement("div",{"mapboxgl-children":"",style:{height:"100%"}},e.children)))}const Ax=/box|flex|grid|column|lineHeight|fontWeight|opacity|order|tabSize|zIndex/;function Ix(e,t){if(!e||!t)return;const n=e.style;for(const r in t){const e=t[r];Number.isFinite(e)&&!Ax.test(r)?n[r]="".concat(e,"px"):n[r]=e}}const Ox=(0,r.memo)((0,r.forwardRef)((function(e,t){const{map:n,mapLib:i}=(0,r.useContext)(Cx),o=(0,r.useRef)({props:e});o.current.props=e;const a=(0,r.useMemo)((()=>{let t=!1;r.Children.forEach(e.children,(e=>{e&&(t=!0)}));const n={...e,element:t?document.createElement("div"):null},s=new i.Marker(n);return s.setLngLat([e.longitude,e.latitude]),s.getElement().addEventListener("click",(e=>{var t,n;null===(n=(t=o.current.props).onClick)||void 0===n||n.call(t,{type:"click",target:s,originalEvent:e})})),s.on("dragstart",(e=>{var t,n;const r=e;r.lngLat=a.getLngLat(),null===(n=(t=o.current.props).onDragStart)||void 0===n||n.call(t,r)})),s.on("drag",(e=>{var t,n;const r=e;r.lngLat=a.getLngLat(),null===(n=(t=o.current.props).onDrag)||void 0===n||n.call(t,r)})),s.on("dragend",(e=>{var t,n;const r=e;r.lngLat=a.getLngLat(),null===(n=(t=o.current.props).onDragEnd)||void 0===n||n.call(t,r)})),s}),[]);(0,r.useEffect)((()=>(a.addTo(n.getMap()),()=>{a.remove()})),[]);const{longitude:s,latitude:l,offset:u,style:c,draggable:p=!1,popup:h=null,rotation:d=0,rotationAlignment:f="auto",pitchAlignment:m="auto"}=e;return(0,r.useEffect)((()=>{Ix(a.getElement(),c)}),[c]),(0,r.useImperativeHandle)(t,(()=>a),[]),a.getLngLat().lng===s&&a.getLngLat().lat===l||a.setLngLat([s,l]),u&&!function(e,t){const n=Array.isArray(e)?e[0]:e?e.x:0,r=Array.isArray(e)?e[1]:e?e.y:0,i=Array.isArray(t)?t[0]:t?t.x:0,o=Array.isArray(t)?t[1]:t?t.y:0;return n===i&&r===o}(a.getOffset(),u)&&a.setOffset(u),a.isDraggable()!==p&&a.setDraggable(p),a.getRotation()!==d&&a.setRotation(d),a.getRotationAlignment()!==f&&a.setRotationAlignment(f),a.getPitchAlignment()!==m&&a.setPitchAlignment(m),a.getPopup()!==h&&a.setPopup(h),(0,Br.createPortal)(e.children,a.getElement())})));function Dx(e){return new Set(e?e.trim().split(/\s+/):[])}(0,r.memo)((0,r.forwardRef)((function(e,t){const{map:n,mapLib:i}=(0,r.useContext)(Cx),o=(0,r.useMemo)((()=>document.createElement("div")),[]),a=(0,r.useRef)({props:e});a.current.props=e;const s=(0,r.useMemo)((()=>{const t={...e},n=new i.Popup(t);return n.setLngLat([e.longitude,e.latitude]),n.once("open",(e=>{var t,n;null===(n=(t=a.current.props).onOpen)||void 0===n||n.call(t,e)})),n}),[]);if((0,r.useEffect)((()=>{const e=e=>{var t,n;null===(n=(t=a.current.props).onClose)||void 0===n||n.call(t,e)};return s.on("close",e),s.setDOMContent(o).addTo(n.getMap()),()=>{s.off("close",e),s.isOpen()&&s.remove()}}),[]),(0,r.useEffect)((()=>{Ix(s.getElement(),e.style)}),[e.style]),(0,r.useImperativeHandle)(t,(()=>s),[]),s.isOpen()&&(s.getLngLat().lng===e.longitude&&s.getLngLat().lat===e.latitude||s.setLngLat([e.longitude,e.latitude]),e.offset&&!ux(s.options.offset,e.offset)&&s.setOffset(e.offset),s.options.anchor===e.anchor&&s.options.maxWidth===e.maxWidth||(s.options.anchor=e.anchor,s.setMaxWidth(e.maxWidth)),s.options.className!==e.className)){const t=Dx(s.options.className),n=Dx(e.className);for(const e of t)n.has(e)||s.removeClassName(e);for(const e of n)t.has(e)||s.addClassName(e);s.options.className=e.className}return(0,Br.createPortal)(e.children,o)})));const Mx=function(e,t,n,i){const o=(0,r.useContext)(Cx),a=(0,r.useMemo)((()=>e(o)),[]);return(0,r.useEffect)((()=>{const e=i||n||t,r="function"===typeof t&&"function"===typeof n?t:null,s="function"===typeof n?n:"function"===typeof t?t:null,{map:l}=o;return l.hasControl(a)||(l.addControl(a,null===e||void 0===e?void 0:e.position),r&&r(o)),()=>{s&&s(o),l.hasControl(a)&&l.removeControl(a)}}),[]),a};(0,r.memo)((function(e){const t=Mx((t=>{let{mapLib:n}=t;return new n.AttributionControl(e)}),{position:e.position});return(0,r.useEffect)((()=>{Ix(t._container,e.style)}),[e.style]),null}));(0,r.memo)((function(e){const t=Mx((t=>{let{mapLib:n}=t;return new n.FullscreenControl({container:e.containerId&&document.getElementById(e.containerId)})}),{position:e.position});return(0,r.useEffect)((()=>{Ix(t._controlContainer,e.style)}),[e.style]),null}));(0,r.memo)((0,r.forwardRef)((function(e,t){const n=(0,r.useRef)({props:e}),i=Mx((t=>{let{mapLib:r}=t;const i=new r.GeolocateControl(e),o=i._setupUI;return i._setupUI=e=>{i._container.hasChildNodes()||o(e)},i.on("geolocate",(e=>{var t,r;null===(r=(t=n.current.props).onGeolocate)||void 0===r||r.call(t,e)})),i.on("error",(e=>{var t,r;null===(r=(t=n.current.props).onError)||void 0===r||r.call(t,e)})),i.on("outofmaxbounds",(e=>{var t,r;null===(r=(t=n.current.props).onOutOfMaxBounds)||void 0===r||r.call(t,e)})),i.on("trackuserlocationstart",(e=>{var t,r;null===(r=(t=n.current.props).onTrackUserLocationStart)||void 0===r||r.call(t,e)})),i.on("trackuserlocationend",(e=>{var t,r;null===(r=(t=n.current.props).onTrackUserLocationEnd)||void 0===r||r.call(t,e)})),i}),{position:e.position});return n.current.props=e,(0,r.useImperativeHandle)(t,(()=>i),[]),(0,r.useEffect)((()=>{Ix(i._container,e.style)}),[e.style]),null})));const jx=(0,r.memo)((function(e){const t=Mx((t=>{let{mapLib:n}=t;return new n.NavigationControl(e)}),{position:e.position});return(0,r.useEffect)((()=>{Ix(t._container,e.style)}),[e.style]),null}));(0,r.memo)((function(e){const t=Mx((t=>{let{mapLib:n}=t;return new n.ScaleControl(e)}),{position:e.position}),n=(0,r.useRef)(e),i=n.current;n.current=e;const{style:o}=e;return void 0!==e.maxWidth&&e.maxWidth!==i.maxWidth&&(t.options.maxWidth=e.maxWidth),void 0!==e.unit&&e.unit!==i.unit&&t.setUnit(e.unit),(0,r.useEffect)((()=>{Ix(t._container,o)}),[o]),null}));const Rx=Promise.resolve().then(n.t.bind(n,5483,23)),Lx=r.forwardRef((function(e,t){return kx(e,t,Rx)})),zx=Ox,Nx=jx,Bx=Lx;var Fx=n(5483),Ux=n.n(Fx);Ux().workerClass=n(9437).Z;const Vx="pk.eyJ1IjoiaG9hbmcyMzEyIiwiYSI6ImNscjgwMTBiZDB1ZXcya3BhaG53ZTBoZzYifQ.ayezKkd5oN9Lnw-bmbxQ3A";const qx=function(e){let{addresses:t,city:n}=e;const[i,o]=(0,r.useState)({longitude:1e3,latitude:40,zoom:11}),[a,s]=(0,r.useState)([]);return(0,r.useEffect)((()=>{!async function(){try{const e=t.map((async e=>{const t=await c_.get("".concat("https://api.mapbox.com/geocoding/v5/mapbox.places","/").concat(encodeURIComponent(e),",").concat(encodeURIComponent(n),".json?access_token=").concat(Vx,"&limit=5"));if(0===t.data.features.length)throw new Error("No results found for address: ".concat(e));const r=t.data.features[0];return{latitude:r.center[1],longitude:r.center[0]}})),r=await Promise.all(e);s(r),r.length>0&&o((e=>({...e,latitude:r[0].latitude,longitude:r[0].longitude})))}catch(e){console.error(e)}}()}),[t,n]),(0,_r.jsx)("div",{style:{width:"100%",height:"100vh"},children:(0,_r.jsxs)(Bx,{...i,onMove:e=>o(e.viewState),mapStyle:"mapbox://styles/mapbox/streets-v9",interactiveLayerIds:["streets-v9"],mapboxApiAccessToken:Vx,children:[a.map(((e,t)=>(0,_r.jsx)(zx,{latitude:e.latitude,longitude:e.longitude},t))),(0,_r.jsx)(Nx,{position:"bottom-right"})]})})},Wx=r.forwardRef(((e,t)=>{let{bsPrefix:n,fluid:r=!1,as:i="div",className:o,...a}=e;const s=Tr(n,"container"),l="string"===typeof r?"-".concat(r):"-fluid";return(0,_r.jsx)(i,{ref:t,...a,className:lr()(o,r?"".concat(s).concat(l):s)})}));Wx.displayName="Container";const Hx=Wx,Gx=r.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,striped:i,bordered:o,borderless:a,hover:s,size:l,variant:u,responsive:c,...p}=e;const h=Tr(n,"table"),d=lr()(r,h,u&&"".concat(h,"-").concat(u),l&&"".concat(h,"-").concat(l),i&&"".concat(h,"-").concat("string"===typeof i?"striped-".concat(i):"striped"),o&&"".concat(h,"-bordered"),a&&"".concat(h,"-borderless"),s&&"".concat(h,"-hover")),f=(0,_r.jsx)("table",{...p,className:d,ref:t});if(c){let e="".concat(h,"-responsive");return"string"===typeof c&&(e="".concat(e,"-").concat(c)),(0,_r.jsx)("div",{className:e,children:f})}return f})),Zx=Gx;var Kx;function Xx(e){if((!Kx&&0!==Kx||e)&&Yr){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),Kx=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return Kx}const Yx=r.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...o}=e;return r=Tr(r,"modal-body"),(0,_r.jsx)(i,{ref:t,className:lr()(n,r),...o})}));Yx.displayName="ModalBody";const $x=Yx,Jx=r.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,contentClassName:i,centered:o,size:a,fullscreen:s,children:l,scrollable:u,...c}=e;n=Tr(n,"modal");const p="".concat(n,"-dialog"),h="string"===typeof s?"".concat(n,"-fullscreen-").concat(s):"".concat(n,"-fullscreen");return(0,_r.jsx)("div",{...c,ref:t,className:lr()(p,r,a&&"".concat(n,"-").concat(a),o&&"".concat(p,"-centered"),u&&"".concat(p,"-scrollable"),s&&h),children:(0,_r.jsx)("div",{className:lr()("".concat(n,"-content"),i),children:l})})}));Jx.displayName="ModalDialog";const Qx=Jx,eb=r.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...o}=e;return r=Tr(r,"modal-footer"),(0,_r.jsx)(i,{ref:t,className:lr()(n,r),...o})}));eb.displayName="ModalFooter";const tb=eb,nb=r.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,closeLabel:i="Close",closeButton:o=!1,...a}=e;return n=Tr(n,"modal-header"),(0,_r.jsx)(mo,{ref:t,...a,className:lr()(r,n),closeLabel:i,closeButton:o})}));nb.displayName="ModalHeader";const rb=nb,ib=go("h4"),ob=r.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i=ib,...o}=e;return r=Tr(r,"modal-title"),(0,_r.jsx)(i,{ref:t,className:lr()(n,r),...o})}));ob.displayName="ModalTitle";const ab=ob;function sb(e){return(0,_r.jsx)(to,{...e,timeout:null})}function lb(e){return(0,_r.jsx)(to,{...e,timeout:null})}const ub=r.forwardRef(((e,t)=>{let{bsPrefix:n,className:i,style:o,dialogClassName:a,contentClassName:s,children:l,dialogAs:u=Qx,"aria-labelledby":c,"aria-describedby":p,"aria-label":h,show:d=!1,animation:f=!0,backdrop:m=!0,keyboard:y=!0,onEscapeKeyDown:v,onShow:g,onHide:_,container:x,autoFocus:b=!0,enforceFocus:w=!0,restoreFocus:S=!0,restoreFocusOptions:E,onEntered:T,onExit:P,onExiting:C,onEnter:k,onEntering:A,onExited:I,backdropClassName:O,manager:D,...M}=e;const[j,R]=(0,r.useState)({}),[L,z]=(0,r.useState)(!1),N=(0,r.useRef)(!1),B=(0,r.useRef)(!1),F=(0,r.useRef)(null),[U,V]=ua(),q=ci(t,V),W=Si(_),H=kr();n=Tr(n,"modal");const G=(0,r.useMemo)((()=>({onHide:W})),[W]);function Z(){return D||Io({isRTL:H})}function K(e){if(!Yr)return;const t=Z().getScrollbarWidth()>0,n=e.scrollHeight>Or(e).documentElement.clientHeight;R({paddingRight:t&&!n?Xx():void 0,paddingLeft:!t&&n?Xx():void 0})}const X=Si((()=>{U&&K(U.dialog)}));Li((()=>{ti(window,"resize",X),null==F.current||F.current()}));const Y=()=>{N.current=!0},$=e=>{N.current&&U&&e.target===U.dialog&&(B.current=!0),N.current=!1},J=()=>{z(!0),F.current=ii(U.dialog,(()=>{z(!1)}))},Q=e=>{"static"!==m?B.current||e.target!==e.currentTarget?B.current=!1:null==_||_():(e=>{e.target===e.currentTarget&&J()})(e)},ee=(0,r.useCallback)((e=>(0,_r.jsx)("div",{...e,className:lr()("".concat(n,"-backdrop"),O,!f&&"show")})),[f,O,n]),te={...o,...j};te.display="block";return(0,_r.jsx)(so.Provider,{value:G,children:(0,_r.jsx)(Ji,{show:d,ref:q,backdrop:m,container:x,keyboard:!0,autoFocus:b,enforceFocus:w,restoreFocus:S,restoreFocusOptions:E,onEscapeKeyDown:e=>{y?null==v||v(e):(e.preventDefault(),"static"===m&&J())},onShow:g,onHide:_,onEnter:(e,t)=>{e&&K(e),null==k||k(e,t)},onEntering:(e,t)=>{null==A||A(e,t),ei(window,"resize",X)},onEntered:T,onExit:e=>{null==F.current||F.current(),null==P||P(e)},onExiting:C,onExited:e=>{e&&(e.style.display=""),null==I||I(e),ti(window,"resize",X)},manager:Z(),transition:f?sb:void 0,backdropTransition:f?lb:void 0,renderBackdrop:ee,renderDialog:e=>(0,_r.jsx)("div",{role:"dialog",...e,style:te,className:lr()(i,n,L&&"".concat(n,"-static"),!f&&"show"),onClick:m?Q:void 0,onMouseUp:$,"aria-label":h,"aria-labelledby":c,"aria-describedby":p,children:(0,_r.jsx)(u,{...M,onMouseDown:Y,className:a,contentClassName:s,children:l})})})})}));ub.displayName="Modal";const cb=Object.assign(ub,{Body:$x,Header:rb,Title:ab,Footer:tb,Dialog:Qx,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150});Ux().workerClass=n(9437).Z;const pb="pk.eyJ1IjoiaG9hbmcyMzEyIiwiYSI6ImNscjgwMTBiZDB1ZXcya3BhaG53ZTBoZzYifQ.ayezKkd5oN9Lnw-bmbxQ3A";const hb=function(e){let{address:t,city:n,country:i}=e;const[o,a]=r.useState({longitude:1e3,latitude:40,zoom:13}),s=(0,r.useRef)(0),l=(0,r.useRef)(0);return(0,r.useEffect)((()=>{!async function(){try{const e=await c_.get("".concat("https://api.mapbox.com/geocoding/v5/mapbox.places","/").concat(encodeURIComponent(t),",").concat(encodeURIComponent(n),",").concat(encodeURIComponent(i),".json?access_token=").concat(pb,"&limit=5"));if(0===e.data.features.length)throw new Error("No results found");const r=e.data.features[0];if(!r||!r.center||2!==r.center.length)throw new Error("Invalid match");s.current=r.center[1],l.current=r.center[0],a((e=>({...e,latitude:r.center[1],longitude:r.center[0],zoom:13})))}catch(e){console.error(e)}}()}),[t,n,i]),(0,_r.jsx)("div",{style:{width:"500px",height:"370px"},children:(0,_r.jsxs)(Bx,{...o,onMove:e=>a(null===e||void 0===e?void 0:e.viewState),mapStyle:"mapbox://styles/mapbox/streets-v9",interactiveLayerIds:["streets-v9"],mapboxApiAccessToken:pb,children:[(0,_r.jsx)(zx,{latitude:null===s||void 0===s?void 0:s.current,longitude:null===l||void 0===l?void 0:l.current}),(0,_r.jsx)(Nx,{position:"bottom-right"})]})})};var db=n(7892),fb=n.n(db);function mb(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=mb(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}const yb=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=mb(e))&&(r&&(r+=" "),r+=t);return r};var vb=n(9498);function gb(e){return JSON.stringify(e)}function _b(e){return"string"===typeof e}function xb(e,t,n){return n.indexOf(e)===t}function bb(e){return-1===e.indexOf(",")?e:e.split(",")}function wb(e){if(!e)return e;if("C"===e||"posix"===e||"POSIX"===e)return"en-US";if(-1!==e.indexOf(".")){var t=e.split(".")[0];return wb(void 0===t?"":t)}if(-1!==e.indexOf("@")){var n=e.split("@")[0];return wb(void 0===n?"":n)}if(-1===e.indexOf("-")||(r=e).toLowerCase()!==r)return e;var r,i=e.split("-"),o=i[0],a=i[1],s=void 0===a?"":a;return"".concat(o,"-").concat(s.toUpperCase())}var Sb=vb((function(e){var t=void 0===e?{}:e,n=t.useFallbackLocale,r=void 0===n||n,i=t.fallbackLocale,o=void 0===i?"en-US":i,a=[];if("undefined"!==typeof navigator){for(var s=[],l=0,u=navigator.languages||[];l<u.length;l++){var c=u[l];s=s.concat(bb(c))}var p=navigator.language,h=p?bb(p):p;a=a.concat(s,h)}return r&&a.push(o),a.filter(_b).map(wb).filter(xb)}),gb);var Eb=vb((function(e){return Sb(e)[0]||null}),gb);const Tb=Eb;function Pb(e,t,n){return function(r,i){void 0===i&&(i=n);var o=e(r)+i;return t(o)}}function Cb(e){return function(t){return new Date(e(t).getTime()-1)}}function kb(e,t){return function(n){return[e(n),t(n)]}}function Ab(e){if(e instanceof Date)return e.getFullYear();if("number"===typeof e)return e;var t=parseInt(e,10);if("string"===typeof e&&!isNaN(t))return t;throw new Error("Failed to get year from date: ".concat(e,"."))}function Ib(e){if(e instanceof Date)return e.getMonth();throw new Error("Failed to get month from date: ".concat(e,"."))}function Ob(e){if(e instanceof Date)return e.getDate();throw new Error("Failed to get year from date: ".concat(e,"."))}function Db(e){var t=Ab(e),n=t+(1-t)%100,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}var Mb=Pb(Ab,Db,-100),jb=Pb(Ab,Db,100),Rb=Cb(jb),Lb=Pb(Ab,Rb,-100),zb=(Pb(Ab,Rb,100),kb(Db,Rb));function Nb(e){var t=Ab(e),n=t+(1-t)%10,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}var Bb=Pb(Ab,Nb,-10),Fb=Pb(Ab,Nb,10),Ub=Cb(Fb),Vb=Pb(Ab,Ub,-10),qb=(Pb(Ab,Ub,10),kb(Nb,Ub));function Wb(e){var t=Ab(e),n=new Date;return n.setFullYear(t,0,1),n.setHours(0,0,0,0),n}var Hb=Pb(Ab,Wb,-1),Gb=Pb(Ab,Wb,1),Zb=Cb(Gb),Kb=Pb(Ab,Zb,-1),Xb=(Pb(Ab,Zb,1),kb(Wb,Zb));function Yb(e,t){return function(n,r){void 0===r&&(r=t);var i=Ab(n),o=Ib(n)+r,a=new Date;return a.setFullYear(i,o,1),a.setHours(0,0,0,0),e(a)}}function $b(e){var t=Ab(e),n=Ib(e),r=new Date;return r.setFullYear(t,n,1),r.setHours(0,0,0,0),r}var Jb=Yb($b,-1),Qb=Yb($b,1),ew=Cb(Qb),tw=Yb(ew,-1),nw=(Yb(ew,1),kb($b,ew));function rw(e,t){return function(n,r){void 0===r&&(r=t);var i=Ab(n),o=Ib(n),a=Ob(n)+r,s=new Date;return s.setFullYear(i,o,a),s.setHours(0,0,0,0),e(s)}}function iw(e){var t=Ab(e),n=Ib(e),r=Ob(e),i=new Date;return i.setFullYear(t,n,r),i.setHours(0,0,0,0),i}rw(iw,-1);var ow,aw=Cb(rw(iw,1)),sw=(rw(aw,-1),rw(aw,1),kb(iw,aw));function lw(e){return Ob(ew(e))}var uw={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},cw={ARABIC:"Arabic",HEBREW:"Hebrew",ISO_8601:"ISO 8601",US:"US"},pw=((ow={})[uw.GREGORY]=["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],ow[uw.HEBREW]=["he","he-IL"],ow[uw.ISLAMIC]=["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"],ow),hw=[0,1,2,3,4,5,6],dw=new Map;function fw(e){return function(t,n){return function(e){return function(t,n){var r=t||Tb();dw.has(r)||dw.set(r,new Map);var i=dw.get(r);return i.has(e)||i.set(e,new Intl.DateTimeFormat(r||void 0,e).format),i.get(e)(n)}}(e)(t,function(e){var t=new Date(e);return new Date(t.setHours(12))}(n))}}fw({day:"numeric",month:"numeric",year:"numeric"});var mw=fw({day:"numeric"}),yw=fw({day:"numeric",month:"long",year:"numeric"}),vw=fw({month:"long"}),gw=fw({month:"long",year:"numeric"}),_w=fw({weekday:"short"}),xw=fw({weekday:"long"}),bw=fw({year:"numeric"}),ww=hw[0],Sw=hw[5],Ew=hw[6];function Tw(e,t){void 0===t&&(t=uw.ISO_8601);var n=e.getDay();switch(t){case uw.ISO_8601:return(n+6)%7;case uw.ISLAMIC:return(n+1)%7;case uw.HEBREW:case uw.GREGORY:return n;default:throw new Error("Unsupported calendar type.")}}function Pw(e,t){void 0===t&&(t=uw.ISO_8601);var n=Ab(e),r=Ib(e),i=e.getDate()-Tw(e,t);return new Date(n,r,i)}function Cw(e,t){switch(e){case"century":return Db(t);case"decade":return Nb(t);case"year":return Wb(t);case"month":return $b(t);case"day":return iw(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function kw(e,t){switch(e){case"century":return jb(t);case"decade":return Fb(t);case"year":return Gb(t);case"month":return Qb(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function Aw(e,t){switch(e){case"century":return Rb(t);case"decade":return Ub(t);case"year":return Zb(t);case"month":return ew(t);case"day":return aw(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function Iw(e,t){switch(e){case"century":return zb(t);case"decade":return qb(t);case"year":return Xb(t);case"month":return nw(t);case"day":return sw(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function Ow(e,t,n){return void 0===t&&(t=bw),n.map((function(n){return t(e,n)})).join(" \u2013 ")}function Dw(e,t,n){return Ow(e,t,qb(n))}function Mw(e,t){void 0===t&&(t=uw.ISO_8601);var n=e.getDay();switch(t){case uw.ISLAMIC:case uw.HEBREW:return n===Sw||n===Ew;case uw.ISO_8601:case uw.GREGORY:return n===Ew||n===ww;default:throw new Error("Unsupported calendar type.")}}var jw="react-calendar__navigation";function Rw(e){var t=e.activeStartDate,n=e.drillUp,i=e.formatMonthYear,o=void 0===i?gw:i,a=e.formatYear,s=void 0===a?bw:a,l=e.locale,u=e.maxDate,c=e.minDate,p=e.navigationAriaLabel,h=void 0===p?"":p,d=e.navigationAriaLive,f=e.navigationLabel,m=e.next2AriaLabel,y=void 0===m?"":m,v=e.next2Label,g=void 0===v?"\xbb":v,_=e.nextAriaLabel,x=void 0===_?"":_,b=e.nextLabel,w=void 0===b?"\u203a":b,S=e.prev2AriaLabel,E=void 0===S?"":S,T=e.prev2Label,P=void 0===T?"\xab":T,C=e.prevAriaLabel,k=void 0===C?"":C,A=e.prevLabel,I=void 0===A?"\u2039":A,O=e.setActiveStartDate,D=e.showDoubleView,M=e.view,j=e.views.indexOf(M)>0,R="century"!==M,L=function(e,t){switch(e){case"century":return Mb(t);case"decade":return Bb(t);case"year":return Hb(t);case"month":return Jb(t);default:throw new Error("Invalid rangeType: ".concat(e))}}(M,t),z=R?function(e,t){switch(e){case"decade":return Bb(t,-100);case"year":return Hb(t,-10);case"month":return Jb(t,-12);default:throw new Error("Invalid rangeType: ".concat(e))}}(M,t):void 0,N=kw(M,t),B=R?function(e,t){switch(e){case"decade":return Fb(t,100);case"year":return Gb(t,10);case"month":return Qb(t,12);default:throw new Error("Invalid rangeType: ".concat(e))}}(M,t):void 0,F=function(){if(L.getFullYear()<0)return!0;var e=function(e,t){switch(e){case"century":return Lb(t);case"decade":return Vb(t);case"year":return Kb(t);case"month":return tw(t);default:throw new Error("Invalid rangeType: ".concat(e))}}(M,t);return c&&c>=e}(),U=R&&function(){if(z.getFullYear()<0)return!0;var e=function(e,t){switch(e){case"decade":return Vb(t,-100);case"year":return Kb(t,-10);case"month":return tw(t,-12);default:throw new Error("Invalid rangeType: ".concat(e))}}(M,t);return c&&c>=e}(),V=u&&u<N,q=R&&u&&u<B;function W(e){var t=function(){switch(M){case"century":return function(e,t,n){return Ow(e,t,zb(n))}(l,s,e);case"decade":return Dw(l,s,e);case"year":return s(l,e);case"month":return o(l,e);default:throw new Error("Invalid view: ".concat(M,"."))}}();return f?f({date:e,label:t,locale:l||Eb()||void 0,view:M}):t}return r.createElement("div",{className:jw},null!==P&&R?r.createElement("button",{"aria-label":E,className:"".concat(jw,"__arrow ").concat(jw,"__prev2-button"),disabled:U,onClick:function(){O(z,"prev2")},type:"button"},P):null,null!==I&&r.createElement("button",{"aria-label":k,className:"".concat(jw,"__arrow ").concat(jw,"__prev-button"),disabled:F,onClick:function(){O(L,"prev")},type:"button"},I),function(){var e="".concat(jw,"__label");return r.createElement("button",{"aria-label":h,"aria-live":d,className:e,disabled:!j,onClick:n,style:{flexGrow:1},type:"button"},r.createElement("span",{className:"".concat(e,"__labelText ").concat(e,"__labelText--from")},W(t)),D?r.createElement(r.Fragment,null,r.createElement("span",{className:"".concat(e,"__divider")}," \u2013 "),r.createElement("span",{className:"".concat(e,"__labelText ").concat(e,"__labelText--to")},W(N))):null)}(),null!==w&&r.createElement("button",{"aria-label":x,className:"".concat(jw,"__arrow ").concat(jw,"__next-button"),disabled:V,onClick:function(){O(N,"next")},type:"button"},w),null!==g&&R?r.createElement("button",{"aria-label":y,className:"".concat(jw,"__arrow ").concat(jw,"__next2-button"),disabled:q,onClick:function(){O(B,"next2")},type:"button"},g):null)}var Lw,zw=function(){return zw=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},zw.apply(this,arguments)},Nw=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function Bw(e){return"".concat(e,"%")}function Fw(e){var t=e.children,n=e.className,i=e.count,o=e.direction,a=e.offset,s=e.style,l=e.wrap,u=Nw(e,["children","className","count","direction","offset","style","wrap"]);return r.createElement("div",zw({className:n,style:zw({display:"flex",flexDirection:o,flexWrap:l?"wrap":"nowrap"},s)},u),r.Children.map(t,(function(e,t){var n=a&&0===t?Bw(100*a/i):null;return r.cloneElement(e,zw(zw({},e.props),{style:{flexBasis:Bw(100/i),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:n,marginInlineStart:n,marginInlineEnd:0}}))})))}function Uw(e,t){return t[0]<=e&&t[1]>=e}function Vw(e,t){return Uw(e[0],t)||Uw(e[1],t)}function qw(e,t,n){var r=[];if(Vw(t,e)){r.push(n);var i=Uw(e[0],t),o=Uw(e[1],t);i&&r.push("".concat(n,"Start")),o&&r.push("".concat(n,"End")),i&&o&&r.push("".concat(n,"BothEnds"))}return r}function Ww(e){if(!e)throw new Error("args is required");var t=e.value,n=e.date,r=e.hover,i="react-calendar__tile",o=[i];if(!n)return o;var a=new Date,s=function(){if(Array.isArray(n))return n;var t=e.dateType;if(!t)throw new Error("dateType is required when date is not an array of two dates");return Iw(t,n)}();if(Uw(a,s)&&o.push("".concat(i,"--now")),!t||!function(e){return Array.isArray(e)?null!==e[0]&&null!==e[1]:null!==e}(t))return o;var l,u,c=function(){if(Array.isArray(t))return t;var n=e.valueType;if(!n)throw new Error("valueType is required when value is not an array of two dates");return Iw(n,t)}();u=s,(l=c)[0]<=u[0]&&l[1]>=u[1]?o.push("".concat(i,"--active")):Vw(c,s)&&o.push("".concat(i,"--hasActive"));var p=qw(c,s,"".concat(i,"--range"));o.push.apply(o,p);var h=Array.isArray(t)?t:[t];if(r&&1===h.length){var d=qw(r>c[0]?[c[0],r]:[r,c[0]],s,"".concat(i,"--hover"));o.push.apply(o,d)}return o}var Hw=((Lw={})[cw.ARABIC]=uw.ISLAMIC,Lw[cw.HEBREW]=uw.HEBREW,Lw[cw.ISO_8601]=uw.ISO_8601,Lw[cw.US]=uw.GREGORY,Lw);var Gw=!1;function Zw(e){if(function(e){return void 0!==e&&e in cw}(e)){var t=Hw[e];return Gs(Gw,'Specifying calendarType="'.concat(e,'" is deprecated. Use calendarType="').concat(t,'" instead.')),Gw=!0,t}return e}function Kw(e){for(var t=e.className,n=e.count,i=void 0===n?3:n,o=e.dateTransform,a=e.dateType,s=e.end,l=e.hover,u=e.offset,c=e.renderTile,p=e.start,h=e.step,d=void 0===h?1:h,f=e.value,m=e.valueType,y=[],v=p;v<=s;v+=d){var g=o(v);y.push(c({classes:Ww({date:g,dateType:a,hover:l,value:f,valueType:m}),date:g}))}return r.createElement(Fw,{className:t,count:i,offset:u,wrap:!0},y)}function Xw(e){var t=e.activeStartDate,n=e.children,i=e.classes,o=e.date,a=e.formatAbbr,s=e.locale,l=e.maxDate,u=e.maxDateTransform,c=e.minDate,p=e.minDateTransform,h=e.onClick,d=e.onMouseOver,f=e.style,m=e.tileClassName,y=e.tileContent,v=e.tileDisabled,g=e.view,_=(0,r.useMemo)((function(){return"function"===typeof m?m({activeStartDate:t,date:o,view:g}):m}),[t,o,m,g]),x=(0,r.useMemo)((function(){return"function"===typeof y?y({activeStartDate:t,date:o,view:g}):y}),[t,o,y,g]);return r.createElement("button",{className:yb(i,_),disabled:c&&p(c)>o||l&&u(l)<o||v&&v({activeStartDate:t,date:o,view:g}),onClick:h?function(e){return h(o,e)}:void 0,onFocus:d?function(){return d(o)}:void 0,onMouseOver:d?function(){return d(o)}:void 0,style:f,type:"button"},a?r.createElement("abbr",{"aria-label":a(s,o)},n):n,x)}var Yw=function(){return Yw=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Yw.apply(this,arguments)},$w=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Jw="react-calendar__century-view__decades__decade";function Qw(e){var t=e.classes,n=void 0===t?[]:t,i=e.currentCentury,o=e.formatYear,a=void 0===o?bw:o,s=$w(e,["classes","currentCentury","formatYear"]),l=s.date,u=s.locale,c=[];return n&&c.push.apply(c,n),Jw&&c.push(Jw),Db(l).getFullYear()!==i&&c.push("".concat(Jw,"--neighboringCentury")),r.createElement(Xw,Yw({},s,{classes:c,maxDateTransform:Ub,minDateTransform:Nb,view:"century"}),Dw(u,a,l))}var eS=function(){return eS=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},eS.apply(this,arguments)},tS=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function nS(e){var t=e.activeStartDate,n=e.hover,i=e.showNeighboringCentury,o=e.value,a=e.valueType,s=tS(e,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),l=Ab(Db(t)),u=l+(i?119:99);return r.createElement(Kw,{className:"react-calendar__century-view__decades",dateTransform:Nb,dateType:"decade",end:u,hover:n,renderTile:function(e){var n=e.date,i=tS(e,["date"]);return r.createElement(Qw,eS({key:n.getTime()},s,i,{activeStartDate:t,currentCentury:l,date:n}))},start:l,step:10,value:o,valueType:a})}var rS=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},iS=Object.values(uw),oS=Object.values(cw),aS=["century","decade","year","month"],sS=lo.oneOf(rS(rS([],iS,!0),oS,!0)),lS=lo.oneOfType([lo.string,lo.arrayOf(lo.string)]),uS=function(e,t,n){var r=e[t];if(!r)return null;if(!(r instanceof Date))return new Error("Invalid prop `".concat(t,"` of type `").concat(typeof r,"` supplied to `").concat(n,"`, expected instance of `Date`."));var i=e.maxDate;return i&&r>i?new Error("Invalid prop `".concat(t,"` of type `").concat(typeof r,"` supplied to `").concat(n,"`, minDate cannot be larger than maxDate.")):null},cS=function(e,t,n){var r=e[t];if(!r)return null;if(!(r instanceof Date))return new Error("Invalid prop `".concat(t,"` of type `").concat(typeof r,"` supplied to `").concat(n,"`, expected instance of `Date`."));var i=e.minDate;return i&&r<i?new Error("Invalid prop `".concat(t,"` of type `").concat(typeof r,"` supplied to `").concat(n,"`, maxDate cannot be smaller than minDate.")):null},pS=lo.oneOfType([lo.func,lo.exact({current:lo.any})]),hS=lo.arrayOf(lo.oneOfType([lo.instanceOf(Date),lo.oneOf([null])]).isRequired),dS=lo.oneOfType([lo.instanceOf(Date),lo.oneOf([null]),hS]),fS=(lo.arrayOf(lo.oneOf(aS)),function(e,t,n){var r=e[t];return void 0===r||"string"===typeof r&&-1!==aS.indexOf(r)?null:new Error("Invalid prop `".concat(t,"` of value `").concat(r,"` supplied to `").concat(n,"`, expected one of [").concat(aS.map((function(e){return'"'.concat(e,'"')})).join(", "),"]."))});fS.isRequired=function(e,t,n,r,i){var o=e[t];return o?fS(e,t,n):new Error("The prop `".concat(t,"` is marked as required in `").concat(n,"`, but its value is `").concat(o,"`."))};var mS={activeStartDate:lo.instanceOf(Date).isRequired,hover:lo.instanceOf(Date),locale:lo.string,maxDate:cS,minDate:uS,onClick:lo.func,onMouseOver:lo.func,tileClassName:lo.oneOfType([lo.func,lS]),tileContent:lo.oneOfType([lo.func,lo.node]),value:dS,valueType:lo.oneOf(["century","decade","year","month","day"]).isRequired},yS=(lo.instanceOf(Date).isRequired,lo.arrayOf(lo.string.isRequired).isRequired,lo.instanceOf(Date).isRequired,lo.string,lo.func,lo.func,lo.objectOf(lo.oneOfType([lo.string,lo.number])),lo.oneOfType([lo.func,lS]),lo.oneOfType([lo.func,lo.node]),lo.func,function(){return yS=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},yS.apply(this,arguments)}),vS=function(e){return r.createElement("div",{className:"react-calendar__century-view"},r.createElement(nS,yS({},e)))};vS.propTypes=yS(yS({},mS),{showNeighboringCentury:lo.bool});const gS=vS;var _S=function(){return _S=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},_S.apply(this,arguments)},xS=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},bS="react-calendar__decade-view__years__year";function wS(e){var t=e.classes,n=void 0===t?[]:t,i=e.currentDecade,o=e.formatYear,a=void 0===o?bw:o,s=xS(e,["classes","currentDecade","formatYear"]),l=s.date,u=s.locale,c=[];return n&&c.push.apply(c,n),bS&&c.push(bS),Nb(l).getFullYear()!==i&&c.push("".concat(bS,"--neighboringDecade")),r.createElement(Xw,_S({},s,{classes:c,maxDateTransform:Zb,minDateTransform:Wb,view:"decade"}),a(u,l))}var SS=function(){return SS=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},SS.apply(this,arguments)},ES=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function TS(e){var t=e.activeStartDate,n=e.hover,i=e.showNeighboringDecade,o=e.value,a=e.valueType,s=ES(e,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),l=Ab(Nb(t)),u=l+(i?11:9);return r.createElement(Kw,{className:"react-calendar__decade-view__years",dateTransform:Wb,dateType:"year",end:u,hover:n,renderTile:function(e){var n=e.date,i=ES(e,["date"]);return r.createElement(wS,SS({key:n.getTime()},s,i,{activeStartDate:t,currentDecade:l,date:n}))},start:l,value:o,valueType:a})}var PS=function(){return PS=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},PS.apply(this,arguments)},CS=function(e){return r.createElement("div",{className:"react-calendar__decade-view"},r.createElement(TS,PS({},e)))};CS.propTypes=PS(PS({},mS),{showNeighboringDecade:lo.bool});const kS=CS;var AS=function(){return AS=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},AS.apply(this,arguments)},IS=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},OS=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},DS="react-calendar__year-view__months__month";function MS(e){var t=e.classes,n=void 0===t?[]:t,i=e.formatMonth,o=void 0===i?vw:i,a=e.formatMonthYear,s=void 0===a?gw:a,l=IS(e,["classes","formatMonth","formatMonthYear"]),u=l.date,c=l.locale;return r.createElement(Xw,AS({},l,{classes:OS(OS([],n,!0),[DS],!1),formatAbbr:s,maxDateTransform:ew,minDateTransform:$b,view:"year"}),o(c,u))}var jS=function(){return jS=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},jS.apply(this,arguments)},RS=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function LS(e){var t=e.activeStartDate,n=e.hover,i=e.value,o=e.valueType,a=RS(e,["activeStartDate","hover","value","valueType"]),s=Ab(t);return r.createElement(Kw,{className:"react-calendar__year-view__months",dateTransform:function(e){var t=new Date;return t.setFullYear(s,e,1),$b(t)},dateType:"month",end:11,hover:n,renderTile:function(e){var n=e.date,i=RS(e,["date"]);return r.createElement(MS,jS({key:n.getTime()},a,i,{activeStartDate:t,date:n}))},start:0,value:i,valueType:o})}var zS=function(){return zS=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},zS.apply(this,arguments)},NS=function(e){return r.createElement("div",{className:"react-calendar__year-view"},r.createElement(LS,zS({},e)))};NS.propTypes=zS({},mS);const BS=NS;var FS=function(){return FS=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},FS.apply(this,arguments)},US=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},VS="react-calendar__month-view__days__day";function qS(e){var t=e.calendarType,n=e.classes,i=void 0===n?[]:n,o=e.currentMonthIndex,a=e.formatDay,s=void 0===a?mw:a,l=e.formatLongDate,u=void 0===l?yw:l,c=US(e,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),p=Zw(t),h=c.date,d=c.locale,f=[];return i&&f.push.apply(f,i),VS&&f.push(VS),Mw(h,p)&&f.push("".concat(VS,"--weekend")),h.getMonth()!==o&&f.push("".concat(VS,"--neighboringMonth")),r.createElement(Xw,FS({},c,{classes:f,formatAbbr:u,maxDateTransform:aw,minDateTransform:iw,view:"month"}),s(d,h))}var WS=function(){return WS=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},WS.apply(this,arguments)},HS=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function GS(e){var t=e.activeStartDate,n=e.calendarType,i=e.hover,o=e.showFixedNumberOfWeeks,a=e.showNeighboringMonth,s=e.value,l=e.valueType,u=HS(e,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),c=Zw(n),p=Ab(t),h=Ib(t),d=o||a,f=Tw(t,c),m=d?0:f,y=1+(d?-f:0),v=function(){if(o)return y+42-1;var e=lw(t);if(a){var n=new Date;return n.setFullYear(p,h,e),n.setHours(0,0,0,0),e+(7-Tw(n,c)-1)}return e}();return r.createElement(Kw,{className:"react-calendar__month-view__days",count:7,dateTransform:function(e){var t=new Date;return t.setFullYear(p,h,e),iw(t)},dateType:"day",hover:i,end:v,renderTile:function(e){var i=e.date,o=HS(e,["date"]);return r.createElement(qS,WS({key:i.getTime()},u,o,{activeStartDate:t,calendarType:n,currentMonthIndex:h,date:i}))},offset:m,start:y,value:s,valueType:l})}var ZS="react-calendar__month-view__weekdays",KS="".concat(ZS,"__weekday");function XS(e){for(var t,n=e.calendarType,i=e.formatShortWeekday,o=void 0===i?_w:i,a=e.formatWeekday,s=void 0===a?xw:a,l=e.locale,u=e.onMouseLeave,c=Zw(n),p=$b(new Date),h=Ab(p),d=Ib(p),f=[],m=1;m<=7;m+=1){var y=new Date(h,d,m-Tw(p,c)),v=s(l,y);f.push(r.createElement("div",{key:m,className:yb(KS,(t=y,t.getDay()===(new Date).getDay()&&"".concat(KS,"--current")),Mw(y,c)&&"".concat(KS,"--weekend"))},r.createElement("abbr",{"aria-label":v,title:v},o(l,y).replace(".",""))))}return r.createElement(Fw,{className:ZS,count:7,onFocus:u,onMouseOver:u},f)}var YS=function(){return YS=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},YS.apply(this,arguments)},$S=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},JS="react-calendar__tile";function QS(e){var t=e.onClickWeekNumber,n=e.weekNumber,i=r.createElement("span",null,n);if(t){var o=e.date,a=e.onClickWeekNumber,s=e.weekNumber,l=$S(e,["date","onClickWeekNumber","weekNumber"]);return r.createElement("button",YS({},l,{className:JS,onClick:function(e){return a(s,o,e)},type:"button"}),i)}e.date,e.onClickWeekNumber,e.weekNumber,l=$S(e,["date","onClickWeekNumber","weekNumber"]);return r.createElement("div",YS({},l,{className:JS}),i)}function eE(e){var t=e.activeStartDate,n=e.calendarType,i=e.onClickWeekNumber,o=e.onMouseLeave,a=e.showFixedNumberOfWeeks,s=Zw(n),l=function(){if(a)return 6;var e=lw(t)-(7-Tw(t,s));return 1+Math.ceil(e/7)}(),u=function(){for(var e=Ab(t),n=Ib(t),r=Ob(t),i=[],o=0;o<l;o+=1)i.push(Pw(new Date(e,n,r+7*o),s));return i}(),c=u.map((function(e){return function(e,t){void 0===t&&(t=uw.ISO_8601);var n,r=t===uw.GREGORY?uw.GREGORY:uw.ISO_8601,i=Pw(e,t),o=Ab(e)+1;do{n=Pw(new Date(o,0,r===uw.ISO_8601?4:1),t),o-=1}while(e<n);return Math.round((i.getTime()-n.getTime())/6048e5)+1}(e,s)}));return r.createElement(Fw,{className:"react-calendar__month-view__weekNumbers",count:l,direction:"column",onFocus:o,onMouseOver:o,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0}},c.map((function(e,t){var n=u[t];if(!n)throw new Error("date is not defined");return r.createElement(QS,{key:e,date:n,onClickWeekNumber:i,weekNumber:e})})))}var tE=function(){return tE=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},tE.apply(this,arguments)},nE=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};var rE=function(e){var t=e.activeStartDate,n=e.locale,i=e.onMouseLeave,o=e.showFixedNumberOfWeeks,a=e.calendarType,s=void 0===a?function(e){if(e)for(var t=0,n=Object.entries(pw);t<n.length;t++){var r=n[t],i=r[0];if(r[1].includes(e))return i}return uw.ISO_8601}(n):a,l=e.formatShortWeekday,u=e.formatWeekday,c=e.onClickWeekNumber,p=e.showWeekNumbers,h=nE(e,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);var d="react-calendar__month-view";return r.createElement("div",{className:yb(d,p?"".concat(d,"--weekNumbers"):"")},r.createElement("div",{style:{display:"flex",alignItems:"flex-end"}},p?r.createElement(eE,{activeStartDate:t,calendarType:s,onClickWeekNumber:c,onMouseLeave:i,showFixedNumberOfWeeks:o}):null,r.createElement("div",{style:{flexGrow:1,width:"100%"}},r.createElement(XS,{calendarType:s,formatShortWeekday:l,formatWeekday:u,locale:n,onMouseLeave:i}),r.createElement(GS,tE({calendarType:s},h)))))};rE.propTypes=tE(tE({},mS),{calendarType:sS,formatDay:lo.func,formatLongDate:lo.func,formatShortWeekday:lo.func,formatWeekday:lo.func,onClickWeekNumber:lo.func,onMouseLeave:lo.func,showFixedNumberOfWeeks:lo.bool,showNeighboringMonth:lo.bool,showWeekNumbers:lo.bool});const iE=rE;var oE=function(){return oE=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},oE.apply(this,arguments)},aE="react-calendar",sE=["century","decade","year","month"],lE=["decade","year","month","day"],uE=new Date;uE.setFullYear(1,0,1),uE.setHours(0,0,0,0);var cE=new Date(864e13);function pE(e){return e instanceof Date?e:new Date(e)}function hE(e,t){return sE.slice(sE.indexOf(e),sE.indexOf(t)+1)}function dE(e,t,n){return e&&function(e,t,n){return-1!==hE(t,n).indexOf(e)}(e,t,n)?e:n}function fE(e){var t=sE.indexOf(e);return lE[t]}function mE(e,t){var n=e.value,r=e.minDate,i=e.maxDate,o=e.maxDetail,a=function(e,t){var n=Array.isArray(e)?e[t]:e;if(!n)return null;var r=pE(n);if(isNaN(r.getTime()))throw new Error("Invalid date: ".concat(e));return r}(n,t);if(!a)return null;var s=fE(o);return function(e,t,n){return t&&t>e?t:n&&n<e?n:e}(function(){switch(t){case 0:return Cw(s,a);case 1:return Aw(s,a);default:throw new Error("Invalid index value: ".concat(t))}}(),r,i)}var yE=function(e){return mE(e,0)},vE=function(e){return mE(e,1)},gE=function(e){return[yE,vE].map((function(t){return t(e)}))};function _E(e){var t=e.maxDate,n=e.maxDetail,r=e.minDate,i=e.minDetail,o=e.value;return Cw(dE(e.view,i,n),yE({value:o,minDate:r,maxDate:t,maxDetail:n})||new Date)}function xE(e){return e&&(!Array.isArray(e)||1===e.length)}function bE(e,t){return e instanceof Date&&t instanceof Date&&e.getTime()===t.getTime()}var wE,SE=(0,r.forwardRef)((function(e,t){var n=e.activeStartDate,i=e.allowPartialRange,o=e.calendarType,a=e.className,s=e.defaultActiveStartDate,l=e.defaultValue,u=e.defaultView,c=e.formatDay,p=e.formatLongDate,h=e.formatMonth,d=e.formatMonthYear,f=e.formatShortWeekday,m=e.formatWeekday,y=e.formatYear,v=e.goToRangeStartOnSelect,g=void 0===v||v,_=e.inputRef,x=e.locale,b=e.maxDate,w=void 0===b?cE:b,S=e.maxDetail,E=void 0===S?"month":S,T=e.minDate,P=void 0===T?uE:T,C=e.minDetail,k=void 0===C?"century":C,A=e.navigationAriaLabel,I=e.navigationAriaLive,O=e.navigationLabel,D=e.next2AriaLabel,M=e.next2Label,j=e.nextAriaLabel,R=e.nextLabel,L=e.onActiveStartDateChange,z=e.onChange,N=e.onClickDay,B=e.onClickDecade,F=e.onClickMonth,U=e.onClickWeekNumber,V=e.onClickYear,q=e.onDrillDown,W=e.onDrillUp,H=e.onViewChange,G=e.prev2AriaLabel,Z=e.prev2Label,K=e.prevAriaLabel,X=e.prevLabel,Y=e.returnValue,$=void 0===Y?"start":Y,J=e.selectRange,Q=e.showDoubleView,ee=e.showFixedNumberOfWeeks,te=e.showNavigation,ne=void 0===te||te,re=e.showNeighboringCentury,ie=e.showNeighboringDecade,oe=e.showNeighboringMonth,ae=void 0===oe||oe,se=e.showWeekNumbers,le=e.tileClassName,ue=e.tileContent,ce=e.tileDisabled,pe=e.value,he=e.view,de=(0,r.useState)(s),fe=de[0],me=de[1],ye=(0,r.useState)(null),ve=ye[0],ge=ye[1],_e=(0,r.useState)(Array.isArray(l)?l.map((function(e){return null!==e?pE(e):null})):null!==l&&void 0!==l?pE(l):null),xe=_e[0],be=_e[1],we=(0,r.useState)(u),Se=we[0],Ee=we[1],Te=n||fe||function(e){var t=e.activeStartDate,n=e.defaultActiveStartDate,r=e.defaultValue,i=e.defaultView,o=e.maxDate,a=e.maxDetail,s=e.minDate,l=e.minDetail,u=e.value,c=e.view,p=dE(c,l,a),h=t||n;return h?Cw(p,h):_E({maxDate:o,maxDetail:a,minDate:s,minDetail:l,value:u||r,view:c||i})}({activeStartDate:n,defaultActiveStartDate:s,defaultValue:l,defaultView:u,maxDate:w,maxDetail:E,minDate:P,minDetail:k,value:pe,view:he}),Pe=function(){var e=J&&xE(xe)?xe:void 0!==pe?pe:xe;return e?Array.isArray(e)?e.map((function(e){return null!==e?pE(e):null})):null!==e?pE(e):null:null}(),Ce=fE(E),ke=dE(he||Se,k,E),Ae=hE(k,E),Ie=J?ve:null,Oe=Ae.indexOf(ke)<Ae.length-1,De=Ae.indexOf(ke)>0,Me=(0,r.useCallback)((function(e){return function(){switch($){case"start":return yE;case"end":return vE;case"range":return gE;default:throw new Error("Invalid returnValue.")}}()({maxDate:w,maxDetail:E,minDate:P,value:e})}),[w,E,P,$]),je=(0,r.useCallback)((function(e,t){me(e);var n={action:t,activeStartDate:e,value:Pe,view:ke};L&&!bE(Te,e)&&L(n)}),[Te,L,Pe,ke]),Re=(0,r.useCallback)((function(e,t){var n=function(){switch(ke){case"century":return B;case"decade":return V;case"year":return F;case"month":return N;default:throw new Error("Invalid view: ".concat(ke,"."))}}();n&&n(e,t)}),[N,B,F,V,ke]),Le=(0,r.useCallback)((function(e,t){if(Oe){Re(e,t);var n=Ae[Ae.indexOf(ke)+1];if(!n)throw new Error("Attempted to drill down from the lowest view.");me(e),Ee(n);var r={action:"drillDown",activeStartDate:e,value:Pe,view:n};L&&!bE(Te,e)&&L(r),H&&ke!==n&&H(r),q&&q(r)}}),[Te,Oe,L,Re,q,H,Pe,ke,Ae]),ze=(0,r.useCallback)((function(){if(De){var e=Ae[Ae.indexOf(ke)-1];if(!e)throw new Error("Attempted to drill up from the highest view.");var t=Cw(e,Te);me(t),Ee(e);var n={action:"drillUp",activeStartDate:t,value:Pe,view:e};L&&!bE(Te,t)&&L(n),H&&ke!==e&&H(n),W&&W(n)}}),[Te,De,L,W,H,Pe,ke,Ae]),Ne=(0,r.useCallback)((function(e,t){var n=Pe;Re(e,t);var r,o=J&&!xE(n);if(J)if(o)r=Cw(Ce,e);else{if(!n)throw new Error("previousValue is required");if(Array.isArray(n))throw new Error("previousValue must not be an array");r=function(e,t,n){var r=[t,n].sort((function(e,t){return e.getTime()-t.getTime()}));return[Cw(e,r[0]),Aw(e,r[1])]}(Ce,n,e)}else r=Me(e);var a=!J||o||g?_E({maxDate:w,maxDetail:E,minDate:P,minDetail:k,value:r,view:ke}):null;t.persist(),me(a),be(r);var s={action:"onChange",activeStartDate:a,value:r,view:ke};if(L&&!bE(Te,a)&&L(s),z)if(J)if(xE(r)){if(i){if(Array.isArray(r))throw new Error("value must not be an array");z([r||null,null],t)}}else z(r||null,t);else z(r||null,t)}),[Te,i,Me,g,w,E,P,k,L,z,Re,J,Pe,Ce,ke]);function Be(e){ge(e)}function Fe(){ge(null)}function Ue(e){var t={activeStartDate:e?kw(ke,Te):Cw(ke,Te),hover:Ie,locale:x,maxDate:w,minDate:P,onClick:Oe?Le:Ne,onMouseOver:J?Be:void 0,tileClassName:le,tileContent:ue,tileDisabled:ce,value:Pe,valueType:Ce};switch(ke){case"century":return r.createElement(gS,oE({formatYear:y,showNeighboringCentury:re},t));case"decade":return r.createElement(kS,oE({formatYear:y,showNeighboringDecade:ie},t));case"year":return r.createElement(BS,oE({formatMonth:h,formatMonthYear:d},t));case"month":return r.createElement(iE,oE({calendarType:o,formatDay:c,formatLongDate:p,formatShortWeekday:f,formatWeekday:m,onClickWeekNumber:U,onMouseLeave:J?Fe:void 0,showFixedNumberOfWeeks:"undefined"!==typeof ee?ee:Q,showNeighboringMonth:ae,showWeekNumbers:se},t));default:throw new Error("Invalid view: ".concat(ke,"."))}}(0,r.useImperativeHandle)(t,(function(){return{activeStartDate:Te,drillDown:Le,drillUp:ze,onChange:Ne,setActiveStartDate:je,value:Pe,view:ke}}),[Te,Le,ze,Ne,je,Pe,ke]);var Ve=Array.isArray(Pe)?Pe:[Pe];return r.createElement("div",{className:yb(aE,J&&1===Ve.length&&"".concat(aE,"--selectRange"),Q&&"".concat(aE,"--doubleView"),a),ref:_},ne?r.createElement(Rw,{activeStartDate:Te,drillUp:ze,formatMonthYear:d,formatYear:y,locale:x,maxDate:w,minDate:P,navigationAriaLabel:A,navigationAriaLive:I,navigationLabel:O,next2AriaLabel:D,next2Label:M,nextAriaLabel:j,nextLabel:R,prev2AriaLabel:G,prev2Label:Z,prevAriaLabel:K,prevLabel:X,setActiveStartDate:je,showDoubleView:Q,view:ke,views:Ae}):null,r.createElement("div",{className:"".concat(aE,"__viewContainer"),onBlur:J?Fe:void 0,onMouseLeave:J?Fe:void 0},Ue(),Q?Ue(!0):null))})),EE=lo.instanceOf(Date),TE=lo.oneOfType([lo.string,lo.instanceOf(Date)]),PE=lo.oneOfType([TE,(wE=TE,lo.arrayOf(wE))]);SE.propTypes={activeStartDate:EE,allowPartialRange:lo.bool,calendarType:sS,className:lS,defaultActiveStartDate:EE,defaultValue:PE,defaultView:fS,formatDay:lo.func,formatLongDate:lo.func,formatMonth:lo.func,formatMonthYear:lo.func,formatShortWeekday:lo.func,formatWeekday:lo.func,formatYear:lo.func,goToRangeStartOnSelect:lo.bool,inputRef:pS,locale:lo.string,maxDate:cS,maxDetail:lo.oneOf(sE),minDate:uS,minDetail:lo.oneOf(sE),navigationAriaLabel:lo.string,navigationAriaLive:lo.oneOf(["off","polite","assertive"]),navigationLabel:lo.func,next2AriaLabel:lo.string,next2Label:lo.node,nextAriaLabel:lo.string,nextLabel:lo.node,onActiveStartDateChange:lo.func,onChange:lo.func,onClickDay:lo.func,onClickDecade:lo.func,onClickMonth:lo.func,onClickWeekNumber:lo.func,onClickYear:lo.func,onDrillDown:lo.func,onDrillUp:lo.func,onViewChange:lo.func,prev2AriaLabel:lo.string,prev2Label:lo.node,prevAriaLabel:lo.string,prevLabel:lo.node,returnValue:lo.oneOf(["start","end","range"]),selectRange:lo.bool,showDoubleView:lo.bool,showFixedNumberOfWeeks:lo.bool,showNavigation:lo.bool,showNeighboringCentury:lo.bool,showNeighboringDecade:lo.bool,showNeighboringMonth:lo.bool,showWeekNumbers:lo.bool,tileClassName:lo.oneOfType([lo.func,lS]),tileContent:lo.oneOfType([lo.func,lo.node]),tileDisabled:lo.func,value:PE,view:fS};const CE=SE;const kE=function(){const{id:e}=(0,a.UO)(),t=x((e=>null===e||void 0===e?void 0:e.user)),n=x((e=>null===e||void 0===e?void 0:e.properties)),[i,o]=(0,r.useState)(!1),[s,l]=(0,r.useState)({firstName:"",lastName:"",email:"",phone:"",message:""}),[u,{isSuccess:c}]=tr(),[p,h]=(0,r.useState)({clientId:"",ownerId:"",propertyId:"",date:fb()().format("YYYY-MM-DD")}),[d,{isSuccess:f}]=er(),[m,y]=(0,r.useState)(null),[v,{isSuccess:g}]=Qn(),_=e=>e.preventDefault();if((0,r.useEffect)((()=>{const t=n.find((t=>t._id===e));t&&y(t)}),[e,n]),!m)return(0,_r.jsx)(ox,{children:"property is gone"});const b=m.pictures.map((e=>(0,_r.jsx)("img",{className:"product__carousel--image",src:e.url,onDragStart:_,alt:"prod",style:{cursor:"pointer",maxHeight:"570px",width:"100%",boxSizing:"border-box",objectFit:"cover"}}))),w=Boolean(null===t||void 0===t?void 0:t.favorite[e]);return(0,_r.jsxs)(Hx,{className:"pt-4 prpperty-container",children:[(0,_r.jsx)("div",{className:"carousel-images",style:{position:"relative"},children:(0,_r.jsx)(vy(),{mouseTracking:!0,items:b,controlsStrategy:"alternate"})}),(0,_r.jsxs)(py,{style:{position:"relative"},children:[(0,_r.jsxs)(dy,{lg:4,children:[(0,_r.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,_r.jsx)("h3",{children:"Highlights"}),(0,_r.jsx)("div",{onClick:()=>v({userId:null===t||void 0===t?void 0:t._id,propertyId:e}),style:{color:w?"yellow":"black"},children:(0,_r.jsx)(Vy,{size:30})})]}),g&&(0,_r.jsx)(fv,{bg:"info",title:w?"added to fav":"removed from fav",body:"check your favorite "}),(0,_r.jsx)(Zx,{striped:!0,bordered:!0,hover:!0,children:(0,_r.jsxs)("tbody",{children:[(0,_r.jsxs)("tr",{children:[(0,_r.jsx)("td",{children:"Title"}),(0,_r.jsx)("td",{children:m.title})]}),(0,_r.jsxs)("tr",{children:[(0,_r.jsx)("td",{children:"Price"}),(0,_r.jsx)("td",{children:m.price})]}),(0,_r.jsxs)("tr",{children:[(0,_r.jsx)("td",{children:"Location"}),(0,_r.jsx)("td",{children:m.country})]}),(0,_r.jsxs)("tr",{children:[(0,_r.jsx)("td",{children:"City"}),(0,_r.jsx)("td",{children:m.city})]}),(0,_r.jsxs)("tr",{children:[(0,_r.jsxs)("td",{children:["Bedrooms ",(0,_r.jsx)(Wy,{})]}),(0,_r.jsx)("td",{children:m.facility.bedrooms})]}),(0,_r.jsxs)("tr",{children:[(0,_r.jsxs)("td",{children:["Car parks ",(0,_r.jsx)(Yy,{})]}),(0,_r.jsx)("td",{children:m.facility.carParks})]}),(0,_r.jsxs)("tr",{children:[(0,_r.jsxs)("td",{children:["Bathrooms ",(0,_r.jsx)($y,{})]}),(0,_r.jsx)("td",{children:m.facility.bathrooms})]})]})})]}),(0,_r.jsxs)(dy,{lg:8,className:"d-flex flex-column justify-content-center align-items-center",children:[(0,_r.jsx)(hb,{address:null===m||void 0===m?void 0:m.address,city:null===m||void 0===m?void 0:m.city,country:null===m||void 0===m?void 0:m.country}),(0,_r.jsx)("br",{}),(0,_r.jsxs)("div",{children:["\ud83d\udccd ",null===m||void 0===m?void 0:m.address]})]})]}),(0,_r.jsxs)(py,{className:"mt-5",children:[(0,_r.jsxs)(dy,{lg:4,className:"mb-5",children:[(0,_r.jsx)("h3",{children:"Basic description"}),(0,_r.jsx)(Zx,{bordered:!0,hover:!0,style:{maxHeight:"100%",maxWidth:"100%"},children:(0,_r.jsx)("tbody",{children:(0,_r.jsx)("tr",{children:(0,_r.jsx)("td",{className:"description-input",children:m.description})})})}),(0,_r.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{width:"100%"},children:(0,_r.jsx)("button",{className:"appointment-btn",onClick:()=>{t?o(!0):alert("You need to log in to book")},children:"Book an appoiment"})}),f&&(0,_r.jsx)(fv,{bg:"info",title:"We got it",body:"You have an appointment !!"}),(0,_r.jsxs)(cb,{show:i,onHide:()=>o(!1),children:[(0,_r.jsx)(cb.Header,{closeButton:!0,children:(0,_r.jsx)(cb.Title,{children:"Choose a date"})}),(0,_r.jsx)(CE,{onChange:e=>h({...p,date:e,clientId:t._id,ownerId:m.userId,propertyId:m._id}),value:p.date}),(0,_r.jsx)("button",{onClick:()=>{d(p),o(!1)},style:{width:"30%",alignSelf:"center"},className:"mb-3 confirm-btn",children:"Confirm"})]})]}),(0,_r.jsx)(dy,{lg:8,className:"d-flex justify-content-center ps-5",children:(0,_r.jsxs)(J_,{style:{width:"70%"},className:"newsletter-form mb-5",onSubmit:()=>{u({clientMessage:s,ownerId:m.userId})},children:[(0,_r.jsx)("h3",{children:"Get more information"}),(0,_r.jsxs)(py,{className:"mb-3",children:[(0,_r.jsxs)(J_.Group,{as:dy,controlId:"formGridFirstName",children:[(0,_r.jsx)(J_.Label,{children:"First"}),(0,_r.jsx)(J_.Control,{type:"text",placeholder:"Enter firstname",className:"newsletter-input",onChange:e=>l((t=>({...t,firstName:e.target.value})))})]}),(0,_r.jsxs)(J_.Group,{as:dy,controlId:"formGridLastName",children:[(0,_r.jsx)(J_.Label,{children:"Last"}),(0,_r.jsx)(J_.Control,{type:"text",placeholder:"Enter lastname",className:"newsletter-input",onChange:e=>l((t=>({...t,lastName:e.target.value})))})]})]}),(0,_r.jsxs)(py,{className:"mb-3",children:[(0,_r.jsxs)(J_.Group,{as:dy,controlId:"formGridEmail",children:[(0,_r.jsx)(J_.Label,{children:"Email"}),(0,_r.jsx)(J_.Control,{type:"email",placeholder:"Enter email",className:"newsletter-input",onChange:e=>l((t=>({...t,email:e.target.value})))})]}),(0,_r.jsxs)(J_.Group,{as:dy,controlId:"formGridPhone",children:[(0,_r.jsx)(J_.Label,{children:"Phone"}),(0,_r.jsx)(J_.Control,{type:"text",placeholder:"phone number",className:"newsletter-input",onChange:e=>l((t=>({...t,phone:e.target.value})))})]})]}),(0,_r.jsxs)(J_.Group,{className:"mb-3",controlId:"formGridMessage",children:[(0,_r.jsx)(J_.Label,{children:"Message"}),(0,_r.jsx)(J_.Control,{as:"textarea",rows:5,className:"newsletter-input",onChange:e=>l((t=>({...t,message:e.target.value})))})]}),(0,_r.jsx)(J_.Group,{className:"mb-3",id:"formGridCheckbox",children:(0,_r.jsx)(J_.Check,{type:"checkbox",label:"Receive our newsletter?"})}),(0,_r.jsx)("div",{className:"d-flex justify-content-center",children:(0,_r.jsx)("button",{type:"submit",className:"info-form-btn",children:"Submit"})}),c&&(0,_r.jsx)(fv,{bg:"light",title:"We got it",body:"The owner got your message !!"})]})})]})]})},AE=r.forwardRef(((e,t)=>{let{bsPrefix:n,variant:r,animation:i="border",size:o,as:a="div",className:s,...l}=e;n=Tr(n,"spinner");const u="".concat(n,"-").concat(i);return(0,_r.jsx)(a,{ref:t,...l,className:lr()(s,u,o&&"".concat(u,"-").concat(o),r&&"text-".concat(r))})}));AE.displayName="Spinner";const IE=AE;function OE(e){return nu({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M19.006 3.705a.75.75 0 00-.512-1.41L6 6.838V3a.75.75 0 00-.75-.75h-1.5A.75.75 0 003 3v4.93l-1.006.365a.75.75 0 00.512 1.41l16.5-6z"}},{tag:"path",attr:{fillRule:"evenodd",d:"M3.019 11.115L18 5.667V9.09l4.006 1.456a.75.75 0 11-.512 1.41l-.494-.18v8.475h.75a.75.75 0 010 1.5H2.25a.75.75 0 010-1.5H3v-9.129l.019-.006zM18 20.25v-9.565l1.5.545v9.02H18zm-9-6a.75.75 0 00-.75.75v4.5c0 .414.336.75.75.75h3a.75.75 0 00.75-.75V15a.75.75 0 00-.75-.75H9z",clipRule:"evenodd"}}]})(e)}const DE=e=>{let{currentPage:t,totalPages:n,onPageChange:r}=e;const i=Array.from({length:n},((e,t)=>t+1));return(0,_r.jsx)("div",{children:i.map((e=>(0,_r.jsx)("button",{onClick:()=>r(e),className:"pagination-btn",id:"".concat(t===e?"active":""),children:e},e)))})};const ME=function(){const[e,t]=(0,r.useState)(1e5),[n,i]=(0,r.useState)(""),[o,a]=(0,r.useState)(!1),[s,l]=(0,r.useState)(null),[u,c]=(0,r.useState)([]),[p,h]=(0,r.useState)(1),[d,f]=(0,r.useState)(1),[m,y]=(0,r.useState)(!1);if((0,r.useEffect)((()=>{y(!0),p_.defaults.headers.common.Authorization="Bearer ".concat(localStorage.getItem("token")),p_.get("properties/properties?page=".concat(p)).then((e=>{const{properties:t,totalPages:n}=e.data;y(!1),c(t),f(n)})).catch((e=>{y(!1),console.log(e.message)}))}),[p]),m)return(0,_r.jsx)(IE,{animation:"border",variant:"primary"});const v=u.filter((e=>e.city.toLowerCase().includes(n.toLowerCase())||e.country.toLowerCase().includes(n.toLowerCase())||e.title.toLowerCase().includes(n.toLowerCase()))).filter((t=>parseFloat(t.price.replace(/\D/g,""))>=e&&(!s||t.title.toLowerCase().includes(s)))),g=e=>{l(e.toLowerCase())},_=u.map((e=>e.address));return(0,_r.jsx)("div",{className:"property-container",children:(0,_r.jsxs)(py,{children:[(0,_r.jsx)(dy,{md:5,className:"side-bar",children:(0,_r.jsx)(qx,{addresses:_})}),(0,_r.jsxs)(dy,{md:7,children:[(0,_r.jsxs)("div",{className:"p-5",children:[(0,_r.jsx)("button",{className:"clear-button mb-3",onClick:()=>{l(null)},children:"Clear Filter"}),(0,_r.jsx)("div",{className:"d-flex justify-content-start mb-3 ",children:(0,_r.jsx)("input",{type:"search",placeholder:"city/country/type",onChange:e=>i(e.target.value),className:"search-input"})}),(0,_r.jsxs)("div",{className:"price-range",children:[(0,_r.jsx)("h5",{className:"mb-3 ",children:"Price range (100k - 2Mills) "}),(0,_r.jsx)("input",{type:"range",min:1e5,max:2e6,step:1e4,onChange:e=>t(e.target.value),onMouseOver:()=>a(!0),onMouseOut:()=>a(!1),className:"range-input"}),(0,_r.jsx)("span",{id:"rangeValue",children:.001*e})]}),(0,_r.jsxs)("div",{className:"d-flex flex-md-row justify-content-start",children:[(0,_r.jsxs)("div",{className:"icons-button",onClick:()=>g("villa"),children:[(0,_r.jsx)(OE,{size:60}),(0,_r.jsx)("span",{children:"Villa"})]}),(0,_r.jsxs)("div",{className:"icons-button",onClick:()=>g("penthouse"),children:[(0,_r.jsx)(m_,{size:60}),(0,_r.jsx)("span",{children:"Penthouse"})]}),(0,_r.jsxs)("div",{className:"icons-button",onClick:()=>g("apartment"),children:[(0,_r.jsx)(qy,{size:60}),(0,_r.jsx)("span",{children:"luxury-home"})]})]})]}),0===v.length?(0,_r.jsx)("h1",{children:"No property to show"}):(0,_r.jsx)(py,{children:null===v||void 0===v?void 0:v.map((e=>(0,_r.jsx)(dy,{md:4,className:"d-flex justify-content-center",children:(0,_r.jsx)(mv,{...e},e._id)},e._id)))}),(0,_r.jsx)("div",{className:"d-flex justify-content-center mt-3",children:(0,_r.jsx)(DE,{currentPage:p,totalPages:d,onPageChange:e=>{h(e)}})})]})]})})};const jE=function(){const{city:e}=(0,a.UO)(),[t,n]=(0,r.useState)(!1),[i,o]=(0,r.useState)([]);if((0,r.useEffect)((()=>{n(!0),p_.defaults.headers.common.Authorization="Bearer ".concat(localStorage.getItem("token")),p_.get("/properties/city/".concat(e)).then((e=>{let{data:t}=e;n(!1),o(t)})).catch((e=>{n(!1),console.log(e.message)}))}),[e]),t)return(0,_r.jsx)(IE,{animation:"border",variant:"primary"});const s=i.map((e=>e.address));return(0,_r.jsx)("div",{className:"city-page-container",children:(0,_r.jsxs)(py,{children:[(0,_r.jsx)(dy,{md:5,className:"side-bar mb-5",children:(0,_r.jsx)(qx,{addresses:s,city:e})}),(0,_r.jsx)(dy,{md:7,children:(0,_r.jsx)(Hx,{children:(0,_r.jsx)(py,{children:i.map((e=>(0,_r.jsx)(dy,{xs:12,sm:6,md:4,className:"d-flex justify-content-center align-items-center",children:(0,_r.jsx)(mv,{...e})},e._id)))})})})]})})};var RE=n(9658);var LE=n(7226),zE=n(378),NE=n(2583);var BE=n(6751),FE=n(5571);function UE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function VE(e,t){var n;if(e){if("string"===typeof e)return UE(e,t);var r=BE(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?FE(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?UE(e,t):void 0}}function qE(e,t){return function(e){if(RE(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof LE&&zE(e)||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(NE(s).call(s,r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||VE(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var WE=n(3491),HE=n.n(WE),GE=n(2980),ZE=n.n(GE),KE=r.createContext({scrollTo:function(){return 0},scrollToBottom:function(){return 0},scrollToEnd:function(){return 0},scrollToStart:function(){return 0},scrollToTop:function(){return 0}});KE.displayName="ScrollToBottomFunctionContext";const XE=KE;function YE(){return(0,r.useContext)(XE).scrollToEnd}var $E=r.createContext({atBottom:!0,atEnd:!0,atStart:!1,atTop:!0,mode:"bottom"});$E.displayName="ScrollToBottomState1Context";const JE=$E;var QE=r.createContext({animating:!1,animatingToEnd:!1,sticky:!0});QE.displayName="ScrollToBottomState2Context";const eT=QE;var tT=r.createContext({animating:!1,animatingToEnd:!1,atBottom:!0,atEnd:!0,atStart:!1,atTop:!0,mode:"bottom",sticky:!0});tT.displayName="ScrollToBottomStateContext";const nT=tT;var rT=[nT,JE,eT];function iT(){var e;return[(e=2,(0,r.useContext)(rT[e]||rT[0])).sticky]}var oT=r.createContext({offsetHeight:0,scrollHeight:0,setTarget:function(){return 0},styleToClassName:function(){return""}});oT.displayName="ScrollToBottomInternalContext";const aT=oT;function sT(){return(0,r.useContext)(aT).styleToClassName}var lT={backgroundColor:"rgba(0, 0, 0, .2)",borderRadius:10,borderWidth:0,bottom:5,cursor:"pointer",height:20,outline:0,position:"absolute",right:20,width:20,"&:hover":{backgroundColor:"rgba(0, 0, 0, .4)"},"&:active":{backgroundColor:"rgba(0, 0, 0, .6)"}},uT=function(e){var t=e.children,n=e.className,i=qE(iT(),1)[0],o=sT()(lT),a=YE();return!i&&r.createElement("button",{className:HE()(o,(n||"")+""),onClick:a,type:"button"},t)};uT.defaultProps={children:void 0,className:""},uT.propTypes={children:ZE().any,className:ZE().string};const cT=uT;var pT=n(2367),hT=n(8977);function dT(e){return dT="function"==typeof LE&&"symbol"==typeof hT?function(e){return typeof e}:function(e){return e&&"function"==typeof LE&&e.constructor===LE&&e!==LE.prototype?"symbol":typeof e},dT(e)}var fT=n(2945);function mT(e){var t=function(e,t){if("object"!=dT(e)||!e)return e;var n=e[fT];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=dT(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==dT(t)?t:String(t)}function yT(e,t,n){return(t=mT(t))in e?pT(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vT(e){return function(e){if(RE(e))return UE(e)}(e)||function(e){if("undefined"!==typeof LE&&null!=zE(e)||null!=e["@@iterator"])return FE(e)}(e)||VE(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n(6628);var gT=n(7293),_T=n.n(gT),xT=n(1882),bT=n.n(xT),wT=n(9940),ST=n.n(wT),ET=n(9022),TT=n.n(ET),PT=n(586),CT=n.n(PT),kT=n(86),AT=n.n(kT),IT=n(8222),OT=n.n(IT),DT=n(222),MT=n.n(DT),jT=n(4418),RT=n.n(jT),LT=n(2102),zT=n.n(LT),NT=n(6870),BT=n.n(NT),FT=n(9747),UT=n.n(FT),VT=n(6718),qT=n.n(VT);var WT=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(TI){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),HT=Math.abs,GT=String.fromCharCode,ZT=Object.assign;function KT(e){return e.trim()}function XT(e,t,n){return e.replace(t,n)}function YT(e,t){return e.indexOf(t)}function $T(e,t){return 0|e.charCodeAt(t)}function JT(e,t,n){return e.slice(t,n)}function QT(e){return e.length}function eP(e){return e.length}function tP(e,t){return t.push(e),e}var nP=1,rP=1,iP=0,oP=0,aP=0,sP="";function lP(e,t,n,r,i,o,a){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:nP,column:rP,length:a,return:""}}function uP(e,t){return ZT(lP("",null,null,"",null,null,0),e,{length:-e.length},t)}function cP(){return aP=oP>0?$T(sP,--oP):0,rP--,10===aP&&(rP=1,nP--),aP}function pP(){return aP=oP<iP?$T(sP,oP++):0,rP++,10===aP&&(rP=1,nP++),aP}function hP(){return $T(sP,oP)}function dP(){return oP}function fP(e,t){return JT(sP,e,t)}function mP(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function yP(e){return nP=rP=1,iP=QT(sP=e),oP=0,[]}function vP(e){return sP="",e}function gP(e){return KT(fP(oP-1,bP(91===e?e+2:40===e?e+1:e)))}function _P(e){for(;(aP=hP())&&aP<33;)pP();return mP(e)>2||mP(aP)>3?"":" "}function xP(e,t){for(;--t&&pP()&&!(aP<48||aP>102||aP>57&&aP<65||aP>70&&aP<97););return fP(e,dP()+(t<6&&32==hP()&&32==pP()))}function bP(e){for(;pP();)switch(aP){case e:return oP;case 34:case 39:34!==e&&39!==e&&bP(aP);break;case 40:41===e&&bP(e);break;case 92:pP()}return oP}function wP(e,t){for(;pP()&&e+aP!==57&&(e+aP!==84||47!==hP()););return"/*"+fP(t,oP-1)+"*"+GT(47===e?e:pP())}function SP(e){for(;!mP(hP());)pP();return fP(e,oP)}var EP="-ms-",TP="-moz-",PP="-webkit-",CP="comm",kP="rule",AP="decl",IP="@keyframes";function OP(e,t){for(var n="",r=eP(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function DP(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case AP:return e.return=e.return||e.value;case CP:return"";case IP:return e.return=e.value+"{"+OP(e.children,r)+"}";case kP:e.value=e.props.join(",")}return QT(n=OP(e.children,r))?e.return=e.value+"{"+n+"}":""}function MP(e){return vP(jP("",null,null,null,[""],e=yP(e),0,[0],e))}function jP(e,t,n,r,i,o,a,s,l){for(var u=0,c=0,p=a,h=0,d=0,f=0,m=1,y=1,v=1,g=0,_="",x=i,b=o,w=r,S=_;y;)switch(f=g,g=pP()){case 40:if(108!=f&&58==$T(S,p-1)){-1!=YT(S+=XT(gP(g),"&","&\f"),"&\f")&&(v=-1);break}case 34:case 39:case 91:S+=gP(g);break;case 9:case 10:case 13:case 32:S+=_P(f);break;case 92:S+=xP(dP()-1,7);continue;case 47:switch(hP()){case 42:case 47:tP(LP(wP(pP(),dP()),t,n),l);break;default:S+="/"}break;case 123*m:s[u++]=QT(S)*v;case 125*m:case 59:case 0:switch(g){case 0:case 125:y=0;case 59+c:-1==v&&(S=XT(S,/\f/g,"")),d>0&&QT(S)-p&&tP(d>32?zP(S+";",r,n,p-1):zP(XT(S," ","")+";",r,n,p-2),l);break;case 59:S+=";";default:if(tP(w=RP(S,t,n,u,c,i,s,_,x=[],b=[],p),o),123===g)if(0===c)jP(S,t,w,w,x,o,p,s,b);else switch(99===h&&110===$T(S,3)?100:h){case 100:case 108:case 109:case 115:jP(e,w,w,r&&tP(RP(e,w,w,0,0,i,s,_,i,x=[],p),b),i,b,p,s,r?x:b);break;default:jP(S,w,w,w,[""],b,0,s,b)}}u=c=d=0,m=v=1,_=S="",p=a;break;case 58:p=1+QT(S),d=f;default:if(m<1)if(123==g)--m;else if(125==g&&0==m++&&125==cP())continue;switch(S+=GT(g),g*m){case 38:v=c>0?1:(S+="\f",-1);break;case 44:s[u++]=(QT(S)-1)*v,v=1;break;case 64:45===hP()&&(S+=gP(pP())),h=hP(),c=p=QT(_=S+=SP(dP())),g++;break;case 45:45===f&&2==QT(S)&&(m=0)}}return o}function RP(e,t,n,r,i,o,a,s,l,u,c){for(var p=i-1,h=0===i?o:[""],d=eP(h),f=0,m=0,y=0;f<r;++f)for(var v=0,g=JT(e,p+1,p=HT(m=a[f])),_=e;v<d;++v)(_=KT(m>0?h[v]+" "+g:XT(g,/&\f/g,h[v])))&&(l[y++]=_);return lP(e,t,n,0===i?kP:s,l,u,c)}function LP(e,t,n){return lP(e,t,n,CP,GT(aP),JT(e,2,-2),0)}function zP(e,t,n,r){return lP(e,t,n,AP,JT(e,0,r),JT(e,r+1,-1),r)}var NP=function(e,t,n){for(var r=0,i=0;r=i,i=hP(),38===r&&12===i&&(t[n]=1),!mP(i);)pP();return fP(e,oP)},BP=function(e,t){return vP(function(e,t){var n=-1,r=44;do{switch(mP(r)){case 0:38===r&&12===hP()&&(t[n]=1),e[n]+=NP(oP-1,t,n);break;case 2:e[n]+=gP(r);break;case 4:if(44===r){e[++n]=58===hP()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=GT(r)}}while(r=pP());return e}(yP(e),t))},FP=new WeakMap,UP=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||FP.get(n))&&!r){FP.set(e,!0);for(var i=[],o=BP(t,i),a=n.props,s=0,l=0;s<o.length;s++)for(var u=0;u<a.length;u++,l++)e.props[l]=i[s]?o[s].replace(/&\f/g,a[u]):a[u]+" "+o[s]}}},VP=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function qP(e,t){switch(function(e,t){return 45^$T(e,0)?(((t<<2^$T(e,0))<<2^$T(e,1))<<2^$T(e,2))<<2^$T(e,3):0}(e,t)){case 5103:return PP+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return PP+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return PP+e+TP+e+EP+e+e;case 6828:case 4268:return PP+e+EP+e+e;case 6165:return PP+e+EP+"flex-"+e+e;case 5187:return PP+e+XT(e,/(\w+).+(:[^]+)/,PP+"box-$1$2"+EP+"flex-$1$2")+e;case 5443:return PP+e+EP+"flex-item-"+XT(e,/flex-|-self/,"")+e;case 4675:return PP+e+EP+"flex-line-pack"+XT(e,/align-content|flex-|-self/,"")+e;case 5548:return PP+e+EP+XT(e,"shrink","negative")+e;case 5292:return PP+e+EP+XT(e,"basis","preferred-size")+e;case 6060:return PP+"box-"+XT(e,"-grow","")+PP+e+EP+XT(e,"grow","positive")+e;case 4554:return PP+XT(e,/([^-])(transform)/g,"$1"+PP+"$2")+e;case 6187:return XT(XT(XT(e,/(zoom-|grab)/,PP+"$1"),/(image-set)/,PP+"$1"),e,"")+e;case 5495:case 3959:return XT(e,/(image-set\([^]*)/,PP+"$1$`$1");case 4968:return XT(XT(e,/(.+:)(flex-)?(.*)/,PP+"box-pack:$3"+EP+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+PP+e+e;case 4095:case 3583:case 4068:case 2532:return XT(e,/(.+)-inline(.+)/,PP+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(QT(e)-1-t>6)switch($T(e,t+1)){case 109:if(45!==$T(e,t+4))break;case 102:return XT(e,/(.+:)(.+)-([^]+)/,"$1"+PP+"$2-$3$1"+TP+(108==$T(e,t+3)?"$3":"$2-$3"))+e;case 115:return~YT(e,"stretch")?qP(XT(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==$T(e,t+1))break;case 6444:switch($T(e,QT(e)-3-(~YT(e,"!important")&&10))){case 107:return XT(e,":",":"+PP)+e;case 101:return XT(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+PP+(45===$T(e,14)?"inline-":"")+"box$3$1"+PP+"$2$3$1"+EP+"$2box$3")+e}break;case 5936:switch($T(e,t+11)){case 114:return PP+e+EP+XT(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return PP+e+EP+XT(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return PP+e+EP+XT(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return PP+e+EP+e+e}return e}var WP=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case AP:e.return=qP(e.value,e.length);break;case IP:return OP([uP(e,{value:XT(e.value,"@","@"+PP)})],r);case kP:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return OP([uP(e,{props:[XT(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return OP([uP(e,{props:[XT(t,/:(plac\w+)/,":"+PP+"input-$1")]}),uP(e,{props:[XT(t,/:(plac\w+)/,":-moz-$1")]}),uP(e,{props:[XT(t,/:(plac\w+)/,EP+"input-$1")]})],r)}return""}))}}],HP=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||WP;var i,o,a={},s=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)a[t[n]]=!0;s.push(e)}));var l,u,c=[DP,(u=function(e){l.insert(e)},function(e){e.root||(e=e.return)&&u(e)})],p=function(e){var t=eP(e);return function(n,r,i,o){for(var a="",s=0;s<t;s++)a+=e[s](n,r,i,o)||"";return a}}([UP,VP].concat(r,c));o=function(e,t,n,r){l=n,OP(MP(e?e+"{"+t.styles+"}":t.styles),p),r&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new WT({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:o};return h.sheet.hydrate(s),h};var GP={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function ZP(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var KP=/[A-Z]|^ms/g,XP=/_EMO_([^_]+?)_([^]*?)_EMO_/g,YP=function(e){return 45===e.charCodeAt(1)},$P=function(e){return null!=e&&"boolean"!==typeof e},JP=ZP((function(e){return YP(e)?e:e.replace(KP,"-$&").toLowerCase()})),QP=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(XP,(function(e,t,n){return tC={name:t,styles:n,next:tC},t}))}return 1===GP[e]||YP(e)||"number"!==typeof t||0===t?t:t+"px"};function eC(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return tC={name:n.name,styles:n.styles,next:tC},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)tC={name:r.name,styles:r.styles,next:tC},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=eC(e,t,n[i])+";";else for(var o in n){var a=n[o];if("object"!==typeof a)null!=t&&void 0!==t[a]?r+=o+"{"+t[a]+"}":$P(a)&&(r+=JP(o)+":"+QP(o,a)+";");else if(!Array.isArray(a)||"string"!==typeof a[0]||null!=t&&void 0!==t[a[0]]){var s=eC(e,t,a);switch(o){case"animation":case"animationName":r+=JP(o)+":"+s+";";break;default:r+=o+"{"+s+"}"}}else for(var l=0;l<a.length;l++)$P(a[l])&&(r+=JP(o)+":"+QP(o,a[l])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=tC,o=n(e);return tC=i,eC(e,t,o)}}if(null==t)return n;var a=t[n];return void 0!==a?a:n}var tC,nC=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var rC=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";tC=void 0;var o=e[0];null==o||void 0===o.raw?(r=!1,i+=eC(n,t,o)):i+=o[0];for(var a=1;a<e.length;a++)i+=eC(n,t,e[a]),r&&(i+=o[a]);nC.lastIndex=0;for(var s,l="";null!==(s=nC.exec(i));)l+="-"+s[1];var u=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+l;return{name:u,styles:i,next:tC}};function iC(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}function oC(e,t){if(void 0===e.inserted[t.name])return e.insert("",t,e.sheet,!0)}function aC(e,t,n){var r=[],i=iC(e,r,n);return r.length<2?n:i+t(r)}var sC=function e(t){for(var n="",r=0;r<t.length;r++){var i=t[r];if(null!=i){var o=void 0;switch(typeof i){case"boolean":break;case"object":if(Array.isArray(i))o=e(i);else for(var a in o="",i)i[a]&&a&&(o&&(o+=" "),o+=a);break;default:o=i}o&&(n&&(n+=" "),n+=o)}}return n};const lC=function(e){var t=HP(e);t.sheet.speedy=function(e){this.isSpeedy=e},t.compat=!0;var n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=rC(n,t.registered,void 0);return function(e,t,n){!function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)}(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}}(t,i,!1),t.key+"-"+i.name};return{css:n,cx:function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return aC(t.registered,n,sC(r))},injectGlobal:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=rC(n,t.registered);oC(t,i)},keyframes:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=rC(n,t.registered),o="animation-"+i.name;return oC(t,{name:i.name,styles:"@keyframes "+o+"{"+i.styles+"}"}),o},hydrate:function(e){e.forEach((function(e){t.inserted[e]=!0}))},flush:function(){t.registered={},t.inserted={},t.sheet.flush()},sheet:t.sheet,cache:t,getRegisteredStyles:iC.bind(null,t.registered),merge:aC.bind(null,t.registered,n)}};var uC=n(2469),cC=n.n(uC);var pC=n(8309),hC=n.n(pC);function dC(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"white",n="background-color: ".concat(e,"; border-radius: 4px; padding: 2px 4px;");return t&&(n+=" color: ".concat(t,";")),[n,""]}function fC(e,t){for(var n,r,i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];return TT()(n=[TT()(r="%c".concat(e,"%c ")).call(r,t)]).call(n,vT(dC("green","white")),o)}var mC=n(7198),yC=n.n(mC);var vC=function(e){var t=e.debounce,n=e.name,i=e.onEvent,o=e.target,a=(0,r.useRef)();a.current=i;var s=(0,r.useMemo)((function(){return function(e,t){if(!t)return e;var n=0,r=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];var s=CT()();s-n>t?(e.apply(void 0,o),n=s):(clearTimeout(r),r=yC()((function(){e.apply(void 0,o),n=CT()()}),Math.max(0,t-s+n)))}}((function(e){var t=a.current;t&&t(e)}),t)}),[t,a]),l=(0,r.useCallback)((function(e){e.timeStampLow=CT()(),s(e)}),[s]);return(0,r.useLayoutEffect)((function(){return o.addEventListener(n,l,{passive:!0}),l({target:o,type:n}),function(){return o.removeEventListener(n,l)}}),[n,l,o]),!1};vC.defaultProps={debounce:200};const gC=vC;var _C=n(3482),xC=n.n(_C);function bC(e,t){var n=xC()(t-e),r=e+Math.sqrt(Math.abs(t-e))*n;return n>0?Math.min(t,r):Math.max(t,r)}var wC=function(e){var t=e.name,n=e.onEnd,i=e.target,o=e.value,a=(0,r.useRef)(),s=(0,r.useCallback)((function(e,t,r,o){var l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:CT()();"100%"!==r&&"number"!==typeof r||(cancelAnimationFrame(a.current),a.current=requestAnimationFrame((function(){if(i){var a="100%"===r?i.scrollHeight-i.offsetHeight:r,u=function(e,t,n,r){for(var i=e,o=0;o<r;o++)i=n(i,t);return i}(t,a,bC,(CT()()-l)/5);Math.abs(a-u)<1.5&&(u=a),i[e]=u,a===u?n&&n(!0):s(e,t,r,o+1,l)}})))}),[a,n,i]),l=(0,r.useCallback)((function(){cancelAnimationFrame(a.current),n&&n(!1)}),[n]);return(0,r.useLayoutEffect)((function(){return s(t,i[t],o,1),i?(i.addEventListener("pointerdown",l,{passive:!0}),i.addEventListener("wheel",l,{passive:!0}),function(){i.removeEventListener("pointerdown",l),i.removeEventListener("wheel",l),cancelAnimationFrame(a.current)}):function(){return cancelAnimationFrame(a.current)}}),[s,a,l,t,i,o]),!1};wC.propTypes={name:ZE().string.isRequired,onEnd:ZE().func,target:ZE().any.isRequired,value:ZE().oneOfType([ZE().number,ZE().oneOf(["100%"])]).isRequired};const SC=wC;function EC(e){var t=qE((0,r.useState)(e),2),n=t[0],i=t[1],o=(0,r.useRef)(),a=(0,r.useCallback)((function(e){"function"===typeof e?a((function(t){return e=e(t),o.current=e,e})):(o.current=e,a(e))}),[o]);return o.current=n,[n,i,o]}function TC(e,t){var n=OT()(e);if(MT()){var r=MT()(e);t&&(r=RT()(r).call(r,(function(t){return zT()(e,t).enumerable}))),n.push.apply(n,r)}return n}function PC(e){for(var t=1;t<arguments.length;t++){var n,r=null!=arguments[t]?arguments[t]:{};if(t%2)AT()(n=TC(Object(r),!0)).call(n,(function(t){yT(e,t,r[t])}));else if(BT())UT()(e,BT()(r));else{var i;AT()(i=TC(Object(r))).call(i,(function(t){qT()(e,t,zT()(r,t))}))}}return e}var CC="top",kC={};function AC(e){var t=e.mode,n=e.target,r=n.offsetHeight,i=n.scrollHeight,o=n.scrollTop,a=i-o-r<1,s=o<1;return{atBottom:a,atEnd:t===CC?s:a,atStart:t!==CC?s:a,atTop:s}}function IC(e,t){return e===(t===CC?0:"100%")}var OC=function(e){var t=e.checkInterval,n=e.children,i=e.debounce,o=e.debug,a=e.initialScrollBehavior,s=e.mode,l=e.nonce,u=e.scroller,c=(0,r.useMemo)((function(){return function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).force;return void 0!==t&&t?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length){var i=qE(n,1)[0];"function"===typeof i&&(n=i());var o=hC()(n[0])?n:[n],a=1===o.length;AT()(o).call(o,(function(t,n){var r,i;if(a)(r=console).log.apply(r,vT(fC.apply(void 0,TT()(i=[e]).call(i,vT(t)))));else if(n){var o;(o=console).log.apply(o,vT(hC()(t)?t:[t]))}else{var s,l;(s=console).groupCollapsed.apply(s,vT(fC.apply(void 0,TT()(l=[e]).call(l,vT(t)))))}})),a||console.groupEnd()}}:function(){return 0}}("<ScrollToBottom>",{force:o})}),[o]);s=s===CC?CC:"bottom";var p=(0,r.useRef)(0),h=(0,r.useRef)(a),d=qE(EC(s===CC?0:"100%"),3),f=d[0],m=d[1],y=d[2],v=qE(EC(null),3),g=v[0],_=v[1],x=v[2],b=(0,r.useRef)(0),w=(0,r.useRef)(0),S=(0,r.useRef)(0),E=qE((0,r.useState)(!0),2),T=E[0],P=E[1],C=qE((0,r.useState)(!0),2),k=C[0],A=C[1],I=qE((0,r.useState)(!0),2),O=I[0],D=I[1],M=qE((0,r.useState)(!1),2),j=M[0],R=M[1],L=qE(EC(!0),3),z=L[0],N=L[1],B=L[2],F=(0,r.useRef)([]),U=(0,r.useCallback)((function(e){var t=x.current;return F.current.push(e),t&&e({scrollTop:t.scrollTop}),function(){var t=F.current,n=bT()(t).call(t,e);~n&&ST()(t).call(t,n,1)}}),[F,x]),V=(0,r.useCallback)((function(){var e=y.current;c((function(){var t;return TT()(t=["%cSpineTo%c: %conEnd%c is fired."]).call(t,vT(dC("magenta")),vT(dC("orange")),[{animateTo:e}])})),p.current=CT()(),IC(e,s)||N(!1),m(null)}),[y,c,p,s,m,N]),q=(0,r.useCallback)((function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).behavior,n=x.current;if("number"!==typeof e&&"100%"!==e)return console.warn('react-scroll-to-bottom: Arguments passed to scrollTo() must be either number or "100%".');c((function(){var r;return[TT()(r=["%cscrollTo%c: Will scroll to %c".concat("number"===typeof e?e+"px":e.replace(/%/g,"%%"),"%c")]).call(r,vT(dC("lime","")),vT(dC("purple"))),{behavior:t,nextAnimateTo:e,target:n}]})),"auto"===t?(V(),n&&(n.scrollTop="100%"===e?n.scrollHeight-n.offsetHeight:e)):("smooth"!==t&&console.warn('react-scroll-to-bottom: Please set "behavior" when calling "scrollTo". In future versions, the default behavior will be changed from smooth scrolling to discrete scrolling to align with HTML Standard.'),m(e)),IC(e,s)&&(c((function(){var t;return[TT()(t=["%cscrollTo%c: Scrolling to end, will set sticky to %ctrue%c."]).call(t,vT(dC("lime","")),vT(dC("purple"))),[{mode:s,nextAnimateTo:e}]]})),N(!0))}),[c,V,s,m,N,x]),W=(0,r.useCallback)((function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).behavior;c((function(){var e;return TT()(e=["%cscrollToBottom%c: Called"]).call(e,vT(dC("yellow","")))})),"smooth"!==e&&console.warn('react-scroll-to-bottom: Please set "behavior" when calling "scrollToBottom". In future versions, the default behavior will be changed from smooth scrolling to discrete scrolling to align with HTML Standard.'),q("100%",{behavior:e||"smooth"})}),[c,q]),H=(0,r.useCallback)((function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).behavior;c((function(){var e;return TT()(e=["%cscrollToTop%c: Called"]).call(e,vT(dC("yellow","")))})),"smooth"!==e&&console.warn('react-scroll-to-bottom: Please set "behavior" when calling "scrollToTop". In future versions, the default behavior will be changed from smooth scrolling to discrete scrolling to align with HTML Standard.'),q(0,{behavior:e||"smooth"})}),[c,q]),G=(0,r.useCallback)((function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).behavior;c((function(){var e;return TT()(e=["%cscrollToEnd%c: Called"]).call(e,vT(dC("yellow","")))})),"smooth"!==e&&console.warn('react-scroll-to-bottom: Please set "behavior" when calling "scrollToEnd". In future versions, the default behavior will be changed from smooth scrolling to discrete scrolling to align with HTML Standard.');var t={behavior:e||"smooth"};s===CC?H(t):W(t)}),[c,s,W,H]),Z=(0,r.useCallback)((function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).behavior;c((function(){var e;return TT()(e=["%cscrollToStart%c: Called"]).call(e,vT(dC("yellow","")))})),"smooth"!==e&&console.warn('react-scroll-to-bottom: Please set "behavior" when calling "scrollToStart". In future versions, the default behavior will be changed from smooth scrolling to discrete scrolling to align with HTML Standard.');var t={behavior:e||"smooth"};s===CC?W(t):H(t)}),[c,s,W,H]),K=(0,r.useCallback)((function(){var e=x.current;if(e){if("auto"===h.current)return c((function(){var e;return TT()(e=["%ctarget changed%c: Initial scroll"]).call(e,vT(dC("blue")))})),e.scrollTop=s===CC?0:e.scrollHeight-e.offsetHeight,void(h.current=!1);var t,n=b.current,r=e.offsetHeight,i=e.scrollHeight,o=e.scrollTop,a=s===CC?0:Math.max(0,i-r-o),l=Math.max(0,n-o),p=u({maxValue:a,minValue:l,offsetHeight:r,scrollHeight:i,scrollTop:o}),d=Math.max(0,Math.min(a,p));t=s===CC||d!==a?o+d:"100%",c((function(){var e,s,u;return[TT()(e=[TT()(s=TT()(u="%cscrollToSticky%c: Will animate from %c".concat(n,"px%c to %c")).call(u,"number"===typeof t?t+"px":t.replace(/%/g,"%%"),"%c (%c")).call(s,("100%"===t?a:t)+n,"px%c)")]).call(e,vT(dC("orange")),vT(dC("purple")),vT(dC("purple")),vT(dC("purple"))),{animateFrom:n,maxValue:a,minValue:l,nextAnimateTo:t,nextValue:d,offsetHeight:r,rawNextValue:p,scrollHeight:i,scrollTop:o}]})),q(t,{behavior:"smooth"})}}),[b,c,s,u,q,x]),X=(0,r.useCallback)((function(e){var t,n=e.timeStampLow,r=y.current,i=x.current,o=null!==r;if(!(n<=p.current)&&i){var a=AC({mode:s,target:i}),l=a.atBottom,u=a.atEnd,h=a.atStart,d=a.atTop;P(l),A(u),R(h),D(d);var f=i.offsetHeight,m=i.scrollHeight,v=w.current,g=S.current,_=f!==v,b=m!==g;if(_&&(w.current=f),b&&(S.current=m),_||b)B.current&&(c((function(){var e;return[TT()(e=["%conScroll%c: Size changed while sticky, calling %cscrollToSticky()%c"]).call(e,vT(dC("red")),vT(dC("orange")),[{offsetHeightChanged:_,scrollHeightChanged:b}]),{nextOffsetHeight:f,prevOffsetHeight:v,nextScrollHeight:m,prevScrollHeight:g}]})),K());else{var E=o&&IC(r,s)||u;B.current!==E&&(c((function(){var e,t,n,a;return[TT()(e=["%conScroll%c: %csetSticky%c(%c".concat(E,"%c)")]).call(e,vT(dC("red")),vT(dC("red")),vT(dC("purple"))),TT()(t=[TT()(n=TT()(a="(animating = %c".concat(o,"%c && isEnd = %c")).call(a,IC(r,s),"%c) || atEnd = %c")).call(n,u,"%c")]).call(t,vT(dC("purple")),vT(dC("purple")),vT(dC("purple")),[{animating:o,animateTo:r,atEnd:u,mode:s,offsetHeight:i.offsetHeight,scrollHeight:i.scrollHeight,sticky:B.current,nextSticky:E}])]})),N(E))}var T=i.scrollTop;AT()(t=F.current).call(t,(function(e){return e({scrollTop:T})}))}}),[y,c,p,s,w,S,F,K,P,A,R,D,N,B,x]);(0,r.useEffect)((function(){if(g){var e=!1,n=function(e,t){return e(),_T()(e,t)}((function(){var t=x.current,n=null!==y.current;B.current?AC({mode:s,target:t}).atEnd?e=!1:e?CT()()-e>34&&(n||(b.current=t.scrollTop,c((function(){var e;return TT()(e=["%cInterval check%c: Should sticky but not at end, calling %cscrollToSticky()%c to scroll"]).call(e,vT(dC("navy")),vT(dC("orange")))})),K()),e=!1):e=CT()():t.scrollHeight<=t.offsetHeight&&!B.current&&(c((function(){var e;return[TT()(e=["%cInterval check%c: Container is emptied, setting sticky back to %ctrue%c"]).call(e,vT(dC("navy")),vT(dC("purple"))),[{offsetHeight:t.offsetHeight,scrollHeight:t.scrollHeight,sticky:B.current}]]})),N(!0))}),Math.max(17,t)||17);return function(){return clearInterval(n)}}}),[y,t,c,s,K,N,B,g,x]);var Y=(0,r.useMemo)((function(){var e=kC[l]||(kC[l]=lC({key:"react-scroll-to-bottom--css-"+cC()().toString(26).substr(2,5).replace(/[0-9]/g,(function(e){return String.fromCharCode(e.charCodeAt(0)+65)})),nonce:l}));return function(t){return e.css(t)+""}}),[l]),$=(0,r.useMemo)((function(){return{observeScrollPosition:U,setTarget:_,styleToClassName:Y}}),[U,_,Y]),J=(0,r.useMemo)((function(){return{atBottom:T,atEnd:k,atStart:j,atTop:O,mode:s}}),[T,k,j,O,s]),Q=(0,r.useMemo)((function(){var e=null!==f;return{animating:e,animatingToEnd:e&&IC(f,s),sticky:z}}),[f,s,z]),ee=(0,r.useMemo)((function(){return PC(PC({},J),Q)}),[J,Q]),te=(0,r.useMemo)((function(){return{scrollTo:q,scrollToBottom:W,scrollToEnd:G,scrollToStart:Z,scrollToTop:H}}),[q,W,G,Z,H]);return(0,r.useEffect)((function(){if(g){var e=function(){S.current=g.scrollHeight};return g.addEventListener("focus",e,{capture:!0,passive:!0}),function(){return g.removeEventListener("focus",e)}}}),[g]),c((function(){var e;return[TT()(e=["%cRender%c: Render"]).call(e,vT(dC("cyan",""))),{animateTo:f,animating:null!==f,sticky:z,target:g}]})),r.createElement(aT.Provider,{value:$},r.createElement(XE.Provider,{value:te},r.createElement(nT.Provider,{value:ee},r.createElement(JE.Provider,{value:J},r.createElement(eT.Provider,{value:Q},n,g&&r.createElement(gC,{debounce:i,name:"scroll",onEvent:X,target:g}),g&&null!==f&&r.createElement(SC,{name:"scrollTop",onEnd:V,target:g,value:f}))))))};OC.defaultProps={checkInterval:100,children:void 0,debounce:17,debug:void 0,initialScrollBehavior:"smooth",mode:void 0,nonce:void 0,scroller:function(){return 1/0}},OC.propTypes={checkInterval:ZE().number,children:ZE().any,debounce:ZE().number,debug:ZE().bool,initialScrollBehavior:ZE().oneOf(["auto","smooth"]),mode:ZE().oneOf(["bottom","top"]),nonce:ZE().string,scroller:ZE().func};const DC=OC;var MC={height:"100%",overflowY:"auto",width:"100%"},jC=function(e){var t=e.children,n=e.className,i=(0,r.useContext)(aT).setTarget,o=sT()(MC);return r.createElement("div",{className:HE()(o,(n||"")+""),ref:i},t)};jC.defaultProps={children:void 0,className:void 0},jC.propTypes={children:ZE().any,className:ZE().string};const RC=jC;var LC={position:"relative"},zC=function(e){var t=e.children,n=e.className,i=e.followButtonClassName,o=e.scrollViewClassName,a=sT()(LC);return r.createElement("div",{className:HE()(a,(n||"")+"")},r.createElement(RC,{className:(o||"")+""},t),r.createElement(cT,{className:(i||"")+""}))};zC.defaultProps={children:void 0,className:void 0,followButtonClassName:void 0,scrollViewClassName:void 0},zC.propTypes={children:ZE().any,className:ZE().string,followButtonClassName:ZE().string,scrollViewClassName:ZE().string};var NC=function(e){var t=e.checkInterval,n=e.children,i=e.className,o=e.debounce,a=e.debug,s=e.followButtonClassName,l=e.initialScrollBehavior,u=e.mode,c=e.nonce,p=e.scroller,h=e.scrollViewClassName;return r.createElement(DC,{checkInterval:t,debounce:o,debug:a,initialScrollBehavior:l,mode:u,nonce:c,scroller:p},r.createElement(zC,{className:i,followButtonClassName:s,scrollViewClassName:h},n))};NC.defaultProps={checkInterval:void 0,children:void 0,className:void 0,debounce:void 0,debug:void 0,followButtonClassName:void 0,initialScrollBehavior:"smooth",mode:void 0,nonce:void 0,scroller:void 0,scrollViewClassName:void 0},NC.propTypes={checkInterval:ZE().number,children:ZE().any,className:ZE().string,debounce:ZE().number,debug:ZE().bool,followButtonClassName:ZE().string,initialScrollBehavior:ZE().oneOf(["auto","smooth"]),mode:ZE().oneOf(["bottom","top"]),nonce:ZE().string,scroller:ZE().func,scrollViewClassName:ZE().string};const BC=NC;!function(e,t){try{var r=n.g.document;if("undefined"!==typeof r&&r.createElement&&r.head&&r.head.appendChild){var i=r.querySelector('html meta[name="'.concat(encodeURI(e),'"]'))||r.createElement("meta");i.setAttribute("name",e),i.setAttribute("content",t),r.head.appendChild(i)}}catch(o){}}("react-scroll-to-bottom:version","4.2.0");const FC=function(e){let{socket:t}=e,n=x((e=>null===e||void 0===e?void 0:e.user));const[i,o]=(0,r.useState)([]),[a,s]=(0,r.useState)(""),[l,u]=(0,r.useState)([]),c=(0,r.useRef)();return(0,r.useEffect)((()=>{if(c.current=t,n)t.emit("addUser",null===n||void 0===n?void 0:n._id);else{const e={_id:"random123"};t.emit("addUser",e._id)}return t.on("getUsers",(e=>{console.log(e),o(e)})),()=>{c.current.off("get_private_message")}}),[n,t]),(0,r.useEffect)((()=>{const e=e=>{let{senderId:t,message:n,time:r}=e;u((e=>[...e,{senderId:t,message:n,time:r}]))};return c.current.on("get_private_message",e),()=>{c.current.off("get_private_message",e)}}),[]),(0,_r.jsxs)("div",{className:"chat-window",children:[(0,_r.jsx)("div",{className:"chat-body",children:(0,_r.jsx)(BC,{className:"message-container",children:l.map(((e,t)=>(0,_r.jsx)("div",{children:(0,_r.jsxs)("div",{className:"message",id:(null===n||void 0===n?void 0:n._id)!==e.senderId?"you":"other",children:[(0,_r.jsx)("div",{className:"message-content",children:(0,_r.jsx)("p",{children:e.message})}),(0,_r.jsx)("div",{className:"message-meta",children:(0,_r.jsx)("p",{id:"time",children:e.time})})]},t)},t)))})}),(0,_r.jsxs)("div",{className:"chat-footer",children:[(0,_r.jsx)("input",{type:"text",value:a,placeholder:"Hey...",onChange:e=>s(e.target.value)}),(0,_r.jsx)("button",{onClick:async()=>{if(""!==a.trim()){let r,o;if(n)r=n._id;else{r={_id:"random123"}._id}const l=i.find((e=>"65a44b044c0a8389659cd564"===(null===e||void 0===e?void 0:e.userId)));var e;if(r===(null===l||void 0===l?void 0:l.userId))o=null===(e=i.find((e=>e.userId!==(null===l||void 0===l?void 0:l.userId))))||void 0===e?void 0:e.userId;else o=null===l||void 0===l?void 0:l.userId;const c={senderId:r,receiverId:o,message:a,time:new Date(Date.now()).toLocaleTimeString()};await t.emit("send_private_message",c),s(""),u((e=>[...e,c]))}},children:"\u25ba"})]})]})},UC=["active","eventKey","mountOnEnter","transition","unmountOnExit","role","onEnter","onEntering","onEntered","onExit","onExiting","onExited"],VC=["activeKey","getControlledId","getControllerId"],qC=["as"];function WC(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function HC(e){let{active:t,eventKey:n,mountOnEnter:i,transition:o,unmountOnExit:a,role:s="tabpanel",onEnter:l,onEntering:u,onEntered:c,onExit:p,onExiting:h,onExited:d}=e,f=WC(e,UC);const m=(0,r.useContext)(Ho);if(!m)return[Object.assign({},f,{role:s}),{eventKey:n,isActive:t,mountOnEnter:i,transition:o,unmountOnExit:a,onEnter:l,onEntering:u,onEntered:c,onExit:p,onExiting:h,onExited:d}];const{activeKey:y,getControlledId:v,getControllerId:g}=m,_=WC(m,VC),x=ur(n);return[Object.assign({},f,{role:s,id:v(n),"aria-labelledby":g(n)}),{eventKey:n,isActive:null==t&&null!=x?ur(y)===x:t,transition:o||_.transition,mountOnEnter:null!=i?i:_.mountOnEnter,unmountOnExit:null!=a?a:_.unmountOnExit,onEnter:l,onEntering:u,onEntered:c,onExit:p,onExiting:h,onExited:d}]}const GC=r.forwardRef(((e,t)=>{let{as:n="div"}=e,r=WC(e,qC);const[i,{isActive:o,onEnter:a,onEntering:s,onEntered:l,onExit:u,onExiting:c,onExited:p,mountOnEnter:h,unmountOnExit:d,transition:f=Hi}]=HC(r);return(0,_r.jsx)(Ho.Provider,{value:null,children:(0,_r.jsx)(cr.Provider,{value:null,children:(0,_r.jsx)(f,{in:o,onEnter:a,onEntering:s,onEntered:l,onExit:u,onExiting:c,onExited:p,mountOnEnter:h,unmountOnExit:d,children:(0,_r.jsx)(n,Object.assign({},i,{ref:t,hidden:!o,"aria-hidden":!o}))})})})}));GC.displayName="TabPanel";const ZC=e=>{const{id:t,generateChildId:n,onSelect:i,activeKey:o,defaultActiveKey:a,transition:s,mountOnEnter:l,unmountOnExit:u,children:c}=e,[p,h]=va(o,a,i),d=pl(t),f=(0,r.useMemo)((()=>n||((e,t)=>d?"".concat(d,"-").concat(t,"-").concat(e):null)),[d,n]),m=(0,r.useMemo)((()=>({onSelect:h,activeKey:p,transition:s,mountOnEnter:l||!1,unmountOnExit:u||!1,getControlledId:e=>f(e,"tabpane"),getControllerId:e=>f(e,"tab")})),[h,p,s,l,u,f]);return(0,_r.jsx)(Ho.Provider,{value:m,children:(0,_r.jsx)(cr.Provider,{value:h||null,children:c})})};ZC.Panel=GC;const KC=ZC;function XC(e){return"boolean"===typeof e?e?to:Hi:e}const YC=e=>{let{transition:t,...n}=e;return(0,_r.jsx)(KC,{...n,transition:XC(t)})};YC.displayName="TabContainer";const $C=YC,JC=r.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...o}=e;return r=Tr(r,"tab-content"),(0,_r.jsx)(i,{ref:t,className:lr()(n,r),...o})}));JC.displayName="TabContent";const QC=JC,ek=r.forwardRef(((e,t)=>{let{bsPrefix:n,transition:r,...i}=e;const[{className:o,as:a="div",...s},{isActive:l,onEnter:u,onEntering:c,onEntered:p,onExit:h,onExiting:d,onExited:f,mountOnEnter:m,unmountOnExit:y,transition:v=to}]=HC({...i,transition:XC(r)}),g=Tr(n,"tab-pane");return(0,_r.jsx)(Ho.Provider,{value:null,children:(0,_r.jsx)(cr.Provider,{value:null,children:(0,_r.jsx)(v,{in:l,onEnter:u,onEntering:c,onEntered:p,onExit:h,onExiting:d,onExited:f,mountOnEnter:m,unmountOnExit:y,children:(0,_r.jsx)(a,{...s,ref:t,className:lr()(o,g,l&&"active")})})})})}));ek.displayName="TabPane";const tk=ek,nk={eventKey:uo().oneOfType([uo().string,uo().number]),title:uo().node.isRequired,disabled:uo().bool,tabClassName:uo().string,tabAttrs:uo().object},rk=()=>{throw new Error("ReactBootstrap: The `Tab` component is not meant to be rendered! It's an abstract component that is only valid as a direct Child of the `Tabs` Component. For custom tabs components use TabPane and TabsContainer directly")};rk.propTypes=nk;const ik=Object.assign(rk,{Container:$C,Content:QC,Pane:tk});const ok=function(){const e=x((e=>null===e||void 0===e?void 0:e.user)),t=x((e=>null===e||void 0===e?void 0:e.properties)).filter((t=>t.userId===e._id)),[n,{isLoading:r}]=Jn();return(0,_r.jsxs)(Zx,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[(0,_r.jsx)("thead",{children:(0,_r.jsxs)("tr",{children:[(0,_r.jsx)("th",{children:"Property"}),(0,_r.jsx)("th",{children:"ID"}),(0,_r.jsx)("th",{children:"Title"}),(0,_r.jsx)("th",{children:"Price"}),(0,_r.jsx)("th",{children:"Options"})]})}),(0,_r.jsx)("tbody",{children:t.map((t=>(0,_r.jsxs)("tr",{children:[(0,_r.jsx)("td",{children:(0,_r.jsx)("img",{src:t.pictures[0].url,style:{width:"100px",height:"100px",objectFit:"cover"},alt:"property"})}),(0,_r.jsx)("td",{children:t._id}),(0,_r.jsx)("td",{children:t.title}),(0,_r.jsx)("td",{children:t.price}),(0,_r.jsx)("td",{children:(0,_r.jsx)(Wl,{onClick:()=>function(t){window.confirm("Remove this recidence ??")&&n({propertyId:t,userId:e._id})}(t._id,e._id),className:"m-2 btn btn-danger",disabled:r,children:" Delete "})})]},t._id)))})]})};const ak=function(){const[e,t]=(0,r.useState)(1),[n,i]=(0,r.useState)({title:"",description:"",price:"",country:"",city:"",address:"",images:[],facility:{bedrooms:"0",carParks:"0",bathrooms:"0"}}),o=x((e=>e.user._id)),[s,l]=(0,r.useState)(null),u=(0,a.s0)(),[c,{isError:p,error:h,isLoading:d,isSuccess:f}]=$n();function m(){const e=window.cloudinary.createUploadWidget({cloudName:"datjdbueh",uploadPreset:"estate-site"},((e,t)=>{e||"success"!==t.event||i((e=>({...e,images:[...e.images,{public_id:t.info.public_id,url:t.info.url}]})))}));e.open()}return(0,_r.jsx)("div",{className:"container",children:(0,_r.jsxs)(J_,{onSubmit:e=>{if(e.preventDefault(),!n.title||!n.description||!n.price||!n.country||!n.city||!n.address||0===n.images.length||!n.facility.bedrooms||!n.facility.carParks||!n.facility.bathrooms)return alert("Please fill out all the fields");c({property:n,userId:o}).then((e=>{let{data:t}=e;t&&setTimeout((()=>{u("/")}),1500)}))},children:[(()=>{var t;switch(e){case 1:return(0,_r.jsx)(_r.Fragment,{children:(0,_r.jsxs)("div",{className:"container d-flex justify-content-center",children:[(0,_r.jsxs)("div",{className:"location",style:{flex:1,marginRight:"20px"},children:[(0,_r.jsxs)(J_.Group,{controlId:"country",style:{height:"100px"},children:[(0,_r.jsx)(J_.Label,{children:"Country"}),(0,_r.jsxs)(J_.Select,{onChange:e=>i((t=>({...t,country:e.target.value}))),value:n.country,children:[(0,_r.jsx)("option",{disabled:!0,value:"",children:"-- Select One --"}),(0,_r.jsx)("option",{value:"France",children:"France"}),(0,_r.jsx)("option",{value:"Italy",children:"Italy"}),(0,_r.jsx)("option",{value:"UK",children:"UK"}),(0,_r.jsx)("option",{value:"Germany",children:"Germany"}),(0,_r.jsx)("option",{value:"Norway",children:"Norway"}),(0,_r.jsx)("option",{value:"Spain",children:"Spain"}),(0,_r.jsx)("option",{value:"Greece",children:"Greece"}),(0,_r.jsx)("option",{value:"Portugal",children:"Portugal"}),(0,_r.jsx)("option",{value:"Sweden",children:"Sweden"}),(0,_r.jsx)("option",{value:"Swizerland",children:"Swizerland"}),(0,_r.jsx)("option",{value:"Finland",children:"Finland"}),(0,_r.jsx)("option",{value:"Romania",children:"Romania"}),(0,_r.jsx)("option",{value:"Netherlands",children:"Netherlands"}),(0,_r.jsx)("option",{value:"Estonia",children:"Estonia"}),(0,_r.jsx)("option",{value:"Austria",children:"Austria"}),(0,_r.jsx)("option",{value:"Denmark",children:"Denmark"})]})]}),(0,_r.jsxs)(J_.Group,{controlId:"city",style:{height:"100px"},children:[(0,_r.jsx)(J_.Label,{children:"City"}),(0,_r.jsxs)(J_.Select,{onChange:e=>i((t=>({...t,city:e.target.value}))),value:n.city,children:[(0,_r.jsx)("option",{disabled:!0,value:"",children:"-- Select One --"}),"France"===n.country&&(0,_r.jsxs)(_r.Fragment,{children:[(0,_r.jsx)("option",{value:"Paris",children:"Paris"}),(0,_r.jsx)("option",{value:"Marseille",children:"Marseille"}),(0,_r.jsx)("option",{value:"Lille",children:"Lille"}),(0,_r.jsx)("option",{value:"Strasbourg",children:"Strasbourg"}),(0,_r.jsx)("option",{value:"Toulouse",children:"Toulouse"})]}),"Italy"===n.country&&(0,_r.jsxs)(_r.Fragment,{children:[(0,_r.jsx)("option",{value:"Rome",children:"Rome"}),(0,_r.jsx)("option",{value:"Venice",children:"Venice"}),(0,_r.jsx)("option",{value:"Milan",children:"Milan"}),(0,_r.jsx)("option",{value:"Catania",children:"Catania"}),(0,_r.jsx)("option",{value:"Verona",children:"Verona"})]}),"UK"===n.country&&(0,_r.jsxs)(_r.Fragment,{children:[(0,_r.jsx)("option",{value:"London",children:"London"}),(0,_r.jsx)("option",{value:"Glasgow",children:"Glasgow"}),(0,_r.jsx)("option",{value:"Edinburgh",children:"Edinburgh"}),(0,_r.jsx)("option",{value:"Manchester",children:"Manchester"}),(0,_r.jsx)("option",{value:"Belfast",children:"Belfast"})]}),"Germany"===n.country&&(0,_r.jsxs)(_r.Fragment,{children:[(0,_r.jsx)("option",{value:"Berlin",children:"Berlin"}),(0,_r.jsx)("option",{value:"Munich",children:"Munich"}),(0,_r.jsx)("option",{value:"Frankfurt",children:"Frankfurt"}),(0,_r.jsx)("option",{value:"Hamburg",children:"Hamburg"}),(0,_r.jsx)("option",{value:"Dresden",children:"Dresden"})]}),"Norway"===n.country&&(0,_r.jsxs)(_r.Fragment,{children:[(0,_r.jsx)("option",{value:"Oslo",children:"Oslo"}),(0,_r.jsx)("option",{value:"Bergen",children:"Bergen"}),(0,_r.jsx)("option",{value:"Tromso",children:"Tromso"}),(0,_r.jsx)("option",{value:"Stavanger",children:"Stavanger"}),(0,_r.jsx)("option",{value:"Trondheim",children:"Trondheim"})]}),"Spain"===n.country&&(0,_r.jsxs)(_r.Fragment,{children:[(0,_r.jsx)("option",{value:"Barcelona",children:"Barcelona"}),(0,_r.jsx)("option",{value:"Alicante",children:"Alicante"}),(0,_r.jsx)("option",{value:"Madrid",children:"Madrid"}),(0,_r.jsx)("option",{value:"Toledo",children:"Toledo"}),(0,_r.jsx)("option",{value:"Velencia",children:"Velencia"})]}),"Greece"===n.country&&(0,_r.jsxs)(_r.Fragment,{children:[(0,_r.jsx)("option",{value:"Athens",children:"Athens"}),(0,_r.jsx)("option",{value:"Santorini",children:"Santorini"}),(0,_r.jsx)("option",{value:"Corfu",children:"Corfu"}),(0,_r.jsx)("option",{value:"Paros",children:"Paros"}),(0,_r.jsx)("option",{value:"Mykonos",children:"Mykonos"})]}),"Portugal"===n.country&&(0,_r.jsxs)(_r.Fragment,{children:[(0,_r.jsx)("option",{value:"Lisbon",children:"Lisbon"}),(0,_r.jsx)("option",{value:"Porto",children:"Porto"}),(0,_r.jsx)("option",{value:"Sintra",children:"Sintra"}),(0,_r.jsx)("option",{value:"Cascais",children:"Cascais"}),(0,_r.jsx)("option",{value:"Funchal",children:"Funchal"})]}),"Sweden"===n.country&&(0,_r.jsxs)(_r.Fragment,{children:[(0,_r.jsx)("option",{value:"Stockholm",children:"Stockholm"}),(0,_r.jsx)("option",{value:"Gothenburg",children:"Gothenburg"}),(0,_r.jsx)("option",{value:"Malmo",children:"Malmo"}),(0,_r.jsx)("option",{value:"Uppsala",children:"Uppsala"}),(0,_r.jsx)("option",{value:"Abisko",children:"Abisko"})]}),"Switzerland"===n.country&&(0,_r.jsxs)(_r.Fragment,{children:[(0,_r.jsx)("option",{value:"Zurich",children:"Zurich"}),(0,_r.jsx)("option",{value:"Genava",children:"Genava"}),(0,_r.jsx)("option",{value:"Lucerne",children:"Lucerne"}),(0,_r.jsx)("option",{value:"Basel",children:"Basel"}),(0,_r.jsx)("option",{value:"Bern",children:"Bern"})]}),"Finland"===n.country&&(0,_r.jsxs)(_r.Fragment,{children:[(0,_r.jsx)("option",{value:"Helsinki",children:"Helsinki"}),(0,_r.jsx)("option",{value:"Tampere",children:"Tampere"}),(0,_r.jsx)("option",{value:"turku",children:"turku"}),(0,_r.jsx)("option",{value:"Lahti",children:"Lahti"}),(0,_r.jsx)("option",{value:"Vanta",children:"Vanta"})]}),"Romania"===n.country&&(0,_r.jsxs)(_r.Fragment,{children:[(0,_r.jsx)("option",{value:"Bucharest",children:"Bucharest"}),(0,_r.jsx)("option",{value:"Oradea",children:"Oradea"}),(0,_r.jsx)("option",{value:"Brasov",children:"Brasov"}),(0,_r.jsx)("option",{value:"Sibiu",children:"Sibiu"}),(0,_r.jsx)("option",{value:"Lasi",children:"Lasi"})]}),"Netherlands"===n.country&&(0,_r.jsxs)(_r.Fragment,{children:[(0,_r.jsx)("option",{value:"Amsterdam",children:"Amsterdam"}),(0,_r.jsx)("option",{value:"Gronigen",children:"Gronigen"}),(0,_r.jsx)("option",{value:"Leiden",children:"Leiden"}),(0,_r.jsx)("option",{value:"Haarlem",children:"Haarlem"}),(0,_r.jsx)("option",{value:"Arnhem",children:"Arnhem"})]}),"Estonia"===n.country&&(0,_r.jsxs)(_r.Fragment,{children:[(0,_r.jsx)("option",{value:"Tallinn",children:"Tallinn"}),(0,_r.jsx)("option",{value:"Tartu",children:"Tartu"}),(0,_r.jsx)("option",{value:"Narva",children:"Narva"}),(0,_r.jsx)("option",{value:"Vijandi",children:"Vijandi"}),(0,_r.jsx)("option",{value:"Valga",children:"Valga"})]}),"Austria"===n.country&&(0,_r.jsxs)(_r.Fragment,{children:[(0,_r.jsx)("option",{value:"Vienna",children:"Vienna"}),(0,_r.jsx)("option",{value:"Graz",children:"Graz"}),(0,_r.jsx)("option",{value:"Linz",children:"Linz"}),(0,_r.jsx)("option",{value:"Salzburg",children:"Salzburg"}),(0,_r.jsx)("option",{value:"Villach",children:"Villach"})]}),"Denmark"===n.country&&(0,_r.jsxs)(_r.Fragment,{children:[(0,_r.jsx)("option",{value:"Copenhagen",children:"Copenhagen"}),(0,_r.jsx)("option",{value:"Aarhus",children:"Aarhus"}),(0,_r.jsx)("option",{value:"Odense",children:"Odense"}),(0,_r.jsx)("option",{value:"Billund",children:"Billund"}),(0,_r.jsx)("option",{value:"Ribe",children:"Ribe"})]})]})]}),(0,_r.jsxs)(J_.Group,{controlId:"address",children:[(0,_r.jsx)(J_.Label,{children:"Address"}),(0,_r.jsx)(J_.Control,{type:"text",name:"address",value:n.address,onChange:e=>i((t=>({...t,address:e.target.value})))})]})]}),(0,_r.jsx)("div",{style:{width:"450px",height:"350px",objectFit:"cover"},children:(0,_r.jsx)(hb,{})})]})});case 2:return(0,_r.jsxs)(J_.Group,{controlId:"images",className:"container",children:[(0,_r.jsx)(Wl,{type:"button",onClick:m,children:"Upload Images"}),(0,_r.jsx)("div",{className:"images-preview-container",children:null===(t=n.images)||void 0===t?void 0:t.map((e=>(0,_r.jsxs)("div",{className:"image-preview",children:[(0,_r.jsx)("img",{src:e.url,alt:"product",style:{maxWidth:"30%",height:"auto"}}),s!==e.public_id&&(0,_r.jsx)("i",{className:"fa fa-times-circle",onClick:()=>{return l((t=e).public_id),void p_.delete("/images/".concat(t.public_id,"/"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((e=>{l(null),i((e=>({...e,images:e.images.filter((e=>e.public_id!==t.public_id))})))})).catch((e=>console.log(e)));var t}})]},e.public_id)))})]});case 3:return(0,_r.jsxs)(_r.Fragment,{children:[(0,_r.jsxs)(J_.Group,{controlId:"title",children:[(0,_r.jsx)(J_.Label,{style:{marginBottom:"5px"},children:"Title"}),(0,_r.jsx)(J_.Control,{type:"text",required:!0,value:n.title,onChange:e=>i((t=>({...t,title:e.target.value})))})]}),(0,_r.jsxs)(J_.Group,{controlId:"description",children:[(0,_r.jsx)(J_.Label,{style:{marginBottom:"5px"},children:"Description"}),(0,_r.jsx)(J_.Control,{as:"textarea",required:!0,value:n.description,onChange:e=>i((t=>({...t,description:e.target.value})))})]}),(0,_r.jsxs)(J_.Group,{controlId:"price",children:[(0,_r.jsx)(J_.Label,{style:{marginBottom:"5px"},children:"Price"}),(0,_r.jsx)(J_.Control,{type:"text",required:!0,value:n.price,onChange:e=>i((t=>({...t,price:e.target.value})))})]})]});case 4:return(0,_r.jsxs)(_r.Fragment,{children:[(0,_r.jsxs)(J_.Group,{controlId:"bedrooms",children:[(0,_r.jsx)(J_.Label,{children:"Number of Bedrooms"}),(0,_r.jsx)(J_.Control,{type:"text",required:!0,value:n.facility.bedrooms,onChange:e=>i((t=>({...t,facility:{...t.facility,bedrooms:e.target.value}})))})]}),(0,_r.jsxs)(J_.Group,{controlId:"parking",children:[(0,_r.jsx)(J_.Label,{children:"Number of Parking Spaces"}),(0,_r.jsx)(J_.Control,{type:"text",required:!0,value:n.facility.carParks,onChange:e=>i((t=>({...t,facility:{...t.facility,carParks:e.target.value}})))})]}),(0,_r.jsxs)(J_.Group,{controlId:"bathrooms",children:[(0,_r.jsx)(J_.Label,{children:"Number of Bathrooms"}),(0,_r.jsx)(J_.Control,{type:"text",required:!0,value:n.facility.bathrooms,onChange:e=>i((t=>({...t,facility:{...t.facility,bathrooms:e.target.value}})))})]})]});default:return null}})(),f&&(0,_r.jsx)(ox,{variant:"success",children:"Your property is now online"}),p&&(0,_r.jsx)(ox,{variant:"danger",children:h.data}),(0,_r.jsxs)("div",{className:"d-flex justify-content-center mt-5",children:[(0,_r.jsx)(Wl,{variant:"primary",onClick:()=>{t((e=>Math.max(e-1,1)))},disabled:1===e,children:"Previous"})," ",(0,_r.jsx)(Wl,{variant:"primary",onClick:()=>{t((e=>e+1))},disabled:4===e,children:"Next"})," ",4===e&&(0,_r.jsx)(Wl,{variant:"success",type:"submit",disabled:d||f,children:"Submit"})]})]})})};const sk=function(){const e=x((e=>null===e||void 0===e?void 0:e.user))._id,t=x((e=>null===e||void 0===e?void 0:e.properties)),[n,i]=(0,r.useState)([]),[o,a]=(0,r.useState)([]),[s,l]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{l(!0),p_.defaults.headers.common.Authorization="Bearer ".concat(localStorage.getItem("token")),p_.get("appointments/".concat(e)).then((e=>{const{appointments:t,bookedClients:n}=e.data;l(!1),i(t),a(n)})).catch((e=>{l(!1),console.log(e.message)}))}),[e]),s?(0,_r.jsx)(IE,{}):0===(null===n||void 0===n?void 0:n.length)?(0,_r.jsx)("h1",{className:"text-center pt-4",children:"You don't have any appointments"}):(0,_r.jsxs)(Zx,{responsive:!0,striped:!0,bordered:!0,hover:!0,children:[(0,_r.jsx)("thead",{children:(0,_r.jsxs)("tr",{children:[(0,_r.jsx)("th",{children:"Clients"}),(0,_r.jsx)("th",{children:"Property"}),(0,_r.jsx)("th",{children:"Time"}),(0,_r.jsx)("th",{})]})}),(0,_r.jsx)("tbody",{children:null===n||void 0===n?void 0:n.map((e=>{const n=o.find((t=>t._id===e.clientId)),r=t.find((t=>t._id===e.propertyId));return(0,_r.jsxs)("tr",{children:[(0,_r.jsx)("td",{children:null===n||void 0===n?void 0:n.name}),(0,_r.jsx)("td",{children:(0,_r.jsx)("img",{src:r.pictures[0].url,alt:"property",style:{width:"100px",height:"100px",objectFit:"cover"}})}),(0,_r.jsx)("td",{children:null===r||void 0===r?void 0:r.title}),(0,_r.jsx)("td",{children:e.date})]},e._id)}))})]})};const lk=function(){const e=x((e=>null===e||void 0===e?void 0:e.user)).messages;return(0,_r.jsxs)(Zx,{responsive:!0,striped:!0,bordered:!0,hover:!0,children:[(0,_r.jsx)("thead",{children:(0,_r.jsxs)("tr",{children:[(0,_r.jsx)("th",{children:"Client Name"}),(0,_r.jsx)("th",{children:"Email"}),(0,_r.jsx)("th",{children:"phone"}),(0,_r.jsx)("th",{children:"message"}),(0,_r.jsx)("th",{})]})}),(0,_r.jsx)("tbody",{children:null===e||void 0===e?void 0:e.map(((e,t)=>(0,_r.jsxs)("tr",{children:[(0,_r.jsx)("td",{children:e.client}),(0,_r.jsx)("td",{children:e.mail}),(0,_r.jsx)("td",{children:e.phoneNumber}),(0,_r.jsx)("td",{children:e.msg}),(0,_r.jsx)("td",{children:e.time})]},t)))})]})};const uk=function(){return(0,_r.jsx)(Hx,{children:(0,_r.jsx)(ik.Container,{defaultActiveKey:"owner-property",children:(0,_r.jsxs)(py,{children:[(0,_r.jsx)(dy,{sm:3,children:(0,_r.jsxs)(ya,{variant:"pills",className:"flex-column",children:[(0,_r.jsx)(ya.Item,{children:(0,_r.jsx)(ya.Link,{eventKey:"owner-property",children:(0,_r.jsx)("h5",{children:"My Propperties"})})}),(0,_r.jsx)(ya.Item,{children:(0,_r.jsx)(ya.Link,{eventKey:"owner-appointment",children:(0,_r.jsx)("h5",{children:"My Appointments"})})}),(0,_r.jsx)(ya.Item,{children:(0,_r.jsx)(ya.Link,{eventKey:"owner-message",children:(0,_r.jsx)("h5",{children:"My Messages"})})}),(0,_r.jsx)(ya.Item,{className:"text-align-center",children:(0,_r.jsx)(ya.Link,{eventKey:"create-property",children:(0,_r.jsx)("h5",{children:"Add Properties"})})})]})}),(0,_r.jsx)(dy,{sm:9,children:(0,_r.jsxs)(ik.Content,{children:[(0,_r.jsx)(ik.Pane,{eventKey:"owner-property",children:(0,_r.jsx)(ok,{})}),(0,_r.jsx)(ik.Pane,{eventKey:"owner-appointment",children:(0,_r.jsx)(sk,{})}),(0,_r.jsx)(ik.Pane,{eventKey:"owner-message",children:(0,_r.jsx)(lk,{})}),(0,_r.jsx)(ik.Pane,{eventKey:"create-property",children:(0,_r.jsx)(ak,{})})]})})]})})})};const ck=function(){const e=x((e=>null===e||void 0===e?void 0:e.user)),t=x((e=>null===e||void 0===e?void 0:e.properties)),n=null===e||void 0===e?void 0:e.favorite,r=n?t.filter((e=>null!=n[e._id])):[];return(0,_r.jsx)(Hx,{children:0===r.length?(0,_r.jsx)("h1",{children:"No property to show"}):(0,_r.jsx)(py,{className:"mt-2",children:null===r||void 0===r?void 0:r.map((e=>(0,_r.jsx)(dy,{md:4,className:"d-flex justify-content-center",children:(0,_r.jsx)(mv,{...e},e._id)},e._id)))})})};const pk=function(){const e=x((e=>null===e||void 0===e?void 0:e.user)),t=null===e||void 0===e?void 0:e._id,n=x((e=>null===e||void 0===e?void 0:e.properties)),[i,o]=(0,r.useState)([]),[a,s]=(0,r.useState)([]),[l,u]=(0,r.useState)(!1),[c,{isSuccess:p,isLoading:h}]=nr();return(0,r.useEffect)((()=>{u(!0),p_.defaults.headers.common.Authorization="Bearer ".concat(localStorage.getItem("token")),p_.get("appointments/client/".concat(t)).then((e=>{const{appointments:t,bookedProperties:n}=e.data;u(!1),o(t),s(n)})).catch((e=>{u(!1),console.log(e.message)}))}),[t,p]),l?(0,_r.jsx)(IE,{}):0===(null===i||void 0===i?void 0:i.length)?(0,_r.jsx)("h1",{className:"text-center pt-4",style:{color:"#dbad65"},children:"You don't have any appointments"}):(0,_r.jsxs)(Zx,{responsive:!0,striped:!0,bordered:!0,hover:!0,children:[(0,_r.jsx)("thead",{children:(0,_r.jsxs)("tr",{children:[(0,_r.jsx)("th",{children:"Property"}),(0,_r.jsx)("th",{children:"Image"}),(0,_r.jsx)("th",{children:"Time"}),(0,_r.jsx)("th",{})]})}),(0,_r.jsxs)("tbody",{children:[null===i||void 0===i?void 0:i.map((e=>{const r=n.find((t=>t._id===e.propertyId));return(0,_r.jsxs)("tr",{children:[(0,_r.jsx)("td",{children:null===r||void 0===r?void 0:r.title}),(0,_r.jsx)("td",{children:(0,_r.jsx)("img",{src:r.pictures[0].url,alt:"property",style:{width:"100px",height:"100px",objectFit:"cover"}})}),(0,_r.jsx)("td",{children:e.date}),(0,_r.jsx)(Wl,{onClick:()=>(e=>{window.confirm("Cancel your appintment??")&&c({appointmentId:e,userId:t})})(e._id,e._clientId),className:"mt-4 ms-4 p-4  btn btn-danger",disabled:h,children:" Cancel "})]},e._id)})),p&&(0,_r.jsx)(fv,{bg:"warning",title:"Your appointment is canceled",body:"check your appointments"})]})]})},hk=Object.create(null);hk.open="0",hk.close="1",hk.ping="2",hk.pong="3",hk.message="4",hk.upgrade="5",hk.noop="6";const dk=Object.create(null);Object.keys(hk).forEach((e=>{dk[hk[e]]=e}));const fk={type:"error",data:"parser error"},mk="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),yk="function"===typeof ArrayBuffer,vk=e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,gk=(e,t,n)=>{let{type:r,data:i}=e;return mk&&i instanceof Blob?t?n(i):_k(i,n):yk&&(i instanceof ArrayBuffer||vk(i))?t?n(i):_k(new Blob([i]),n):n(hk[r]+(i||""))},_k=(e,t)=>{const n=new FileReader;return n.onload=function(){const e=n.result.split(",")[1];t("b"+(e||""))},n.readAsDataURL(e)};function xk(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let bk;const wk="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Sk="undefined"===typeof Uint8Array?[]:new Uint8Array(256);for(let n=0;n<64;n++)Sk[wk.charCodeAt(n)]=n;const Ek="function"===typeof ArrayBuffer,Tk=(e,t)=>{if("string"!==typeof e)return{type:"message",data:Ck(e,t)};const n=e.charAt(0);if("b"===n)return{type:"message",data:Pk(e.substring(1),t)};return dk[n]?e.length>1?{type:dk[n],data:e.substring(1)}:{type:dk[n]}:fk},Pk=(e,t)=>{if(Ek){const n=(e=>{let t,n,r,i,o,a=.75*e.length,s=e.length,l=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);const u=new ArrayBuffer(a),c=new Uint8Array(u);for(t=0;t<s;t+=4)n=Sk[e.charCodeAt(t)],r=Sk[e.charCodeAt(t+1)],i=Sk[e.charCodeAt(t+2)],o=Sk[e.charCodeAt(t+3)],c[l++]=n<<2|r>>4,c[l++]=(15&r)<<4|i>>2,c[l++]=(3&i)<<6|63&o;return u})(e);return Ck(n,t)}return{base64:!0,data:e}},Ck=(e,t)=>"blob"===t?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer,kk=String.fromCharCode(30);function Ak(){return new TransformStream({transform(e,t){!function(e,t){mk&&e.data instanceof Blob?e.data.arrayBuffer().then(xk).then(t):yk&&(e.data instanceof ArrayBuffer||vk(e.data))?t(xk(e.data)):gk(e,!1,(e=>{bk||(bk=new TextEncoder),t(bk.encode(e))}))}(e,(n=>{const r=n.length;let i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);const e=new DataView(i.buffer);e.setUint8(0,126),e.setUint16(1,r)}else{i=new Uint8Array(9);const e=new DataView(i.buffer);e.setUint8(0,127),e.setBigUint64(1,BigInt(r))}e.data&&"string"!==typeof e.data&&(i[0]|=128),t.enqueue(i),t.enqueue(n)}))}})}let Ik;function Ok(e){return e.reduce(((e,t)=>e+t.length),0)}function Dk(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let i=0;i<t;i++)n[i]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function Mk(e){if(e)return function(e){for(var t in Mk.prototype)e[t]=Mk.prototype[t];return e}(e)}Mk.prototype.on=Mk.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},Mk.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},Mk.prototype.off=Mk.prototype.removeListener=Mk.prototype.removeAllListeners=Mk.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},Mk.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t)}return this},Mk.prototype.emitReserved=Mk.prototype.emit,Mk.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},Mk.prototype.hasListeners=function(e){return!!this.listeners(e).length};const jk="undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")();function Rk(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce(((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t)),{})}const Lk=jk.setTimeout,zk=jk.clearTimeout;function Nk(e,t){t.useNativeTimers?(e.setTimeoutFn=Lk.bind(jk),e.clearTimeoutFn=zk.bind(jk)):(e.setTimeoutFn=jk.setTimeout.bind(jk),e.clearTimeoutFn=jk.clearTimeout.bind(jk))}class Bk extends Error{constructor(e,t,n){super(e),this.description=t,this.context=n,this.type="TransportError"}}class Fk extends Mk{constructor(e){super(),this.writable=!1,Nk(this,e),this.opts=e,this.query=e.query,this.socket=e.socket}onError(e,t,n){return super.emitReserved("error",new Bk(e,t,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=Tk(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){const t=function(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}(e);return t.length?"?"+t:""}}const Uk="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Vk=64,qk={};let Wk,Hk=0,Gk=0;function Zk(e){let t="";do{t=Uk[e%Vk]+t,e=Math.floor(e/Vk)}while(e>0);return t}function Kk(){const e=Zk(+new Date);return e!==Wk?(Hk=0,Wk=e):e+"."+Zk(Hk++)}for(;Gk<Vk;Gk++)qk[Uk[Gk]]=Gk;let Xk=!1;try{Xk="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(PI){}const Yk=Xk;function $k(e){const t=e.xdomain;try{if("undefined"!==typeof XMLHttpRequest&&(!t||Yk))return new XMLHttpRequest}catch(TI){}if(!t)try{return new(jk[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(TI){}}function Jk(){}const Qk=null!=new $k({xdomain:!1}).responseType;class eA extends Mk{constructor(e,t){super(),Nk(this,t),this.opts=t,this.method=t.method||"GET",this.uri=e,this.data=void 0!==t.data?t.data:null,this.create()}create(){var e;const t=Rk(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd;const n=this.xhr=new $k(t);try{n.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let e in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(e)&&n.setRequestHeader(e,this.opts.extraHeaders[e])}}catch(TI){}if("POST"===this.method)try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(TI){}try{n.setRequestHeader("Accept","*/*")}catch(TI){}null===(e=this.opts.cookieJar)||void 0===e||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(n.timeout=this.opts.requestTimeout),n.onreadystatechange=()=>{var e;3===n.readyState&&(null===(e=this.opts.cookieJar)||void 0===e||e.parseCookies(n)),4===n.readyState&&(200===n.status||1223===n.status?this.onLoad():this.setTimeoutFn((()=>{this.onError("number"===typeof n.status?n.status:0)}),0))},n.send(this.data)}catch(TI){return void this.setTimeoutFn((()=>{this.onError(TI)}),0)}"undefined"!==typeof document&&(this.index=eA.requestsCount++,eA.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if("undefined"!==typeof this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=Jk,e)try{this.xhr.abort()}catch(TI){}"undefined"!==typeof document&&delete eA.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}if(eA.requestsCount=0,eA.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",tA);else if("function"===typeof addEventListener){addEventListener("onpagehide"in jk?"pagehide":"unload",tA,!1)}function tA(){for(let e in eA.requests)eA.requests.hasOwnProperty(e)&&eA.requests[e].abort()}const nA="function"===typeof Promise&&"function"===typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),rA=jk.WebSocket||jk.MozWebSocket,iA="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();const oA={websocket:class extends Fk{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),t=this.opts.protocols,n=iA?{}:Rk(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=iA?new rA(e,t,n):t?new rA(e,t):new rA(e)}catch(PI){return this.emitReserved("error",PI)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;gk(n,this.supportsBinary,(e=>{try{this.ws.send(e)}catch(TI){}r&&nA((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){"undefined"!==typeof this.ws&&(this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=Kk()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}check(){return!!rA}},webtransport:class extends Fk{get name(){return"webtransport"}doOpen(){"function"===typeof WebTransport&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then((()=>{this.onClose()})).catch((e=>{this.onError("webtransport error",e)})),this.transport.ready.then((()=>{this.transport.createBidirectionalStream().then((e=>{const t=function(e,t){Ik||(Ik=new TextDecoder);const n=[];let r=0,i=-1,o=!1;return new TransformStream({transform(a,s){for(n.push(a);;){if(0===r){if(Ok(n)<1)break;const e=Dk(n,1);o=128===(128&e[0]),i=127&e[0],r=i<126?3:126===i?1:2}else if(1===r){if(Ok(n)<2)break;const e=Dk(n,2);i=new DataView(e.buffer,e.byteOffset,e.length).getUint16(0),r=3}else if(2===r){if(Ok(n)<8)break;const e=Dk(n,8),t=new DataView(e.buffer,e.byteOffset,e.length),o=t.getUint32(0);if(o>Math.pow(2,21)-1){s.enqueue(fk);break}i=o*Math.pow(2,32)+t.getUint32(4),r=3}else{if(Ok(n)<i)break;const e=Dk(n,i);s.enqueue(Tk(o?e:Ik.decode(e),t)),r=0}if(0===i||i>e){s.enqueue(fk);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(t).getReader(),r=Ak();r.readable.pipeTo(e.writable),this.writer=r.writable.getWriter();const i=()=>{n.read().then((e=>{let{done:t,value:n}=e;t||(this.onPacket(n),i())})).catch((e=>{}))};i();const o={type:"open"};this.query.sid&&(o.data='{"sid":"'.concat(this.query.sid,'"}')),this.writer.write(o).then((()=>this.onOpen()))}))})))}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;this.writer.write(n).then((()=>{r&&nA((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){var e;null===(e=this.transport)||void 0===e||e.close()}},polling:class extends Fk{constructor(e){if(super(e),this.polling=!1,"undefined"!==typeof location){const t="https:"===location.protocol;let n=location.port;n||(n=t?"443":"80"),this.xd="undefined"!==typeof location&&e.hostname!==location.hostname||n!==e.port}const t=e&&e.forceBase64;this.supportsBinary=Qk&&!t,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let e=0;this.polling&&(e++,this.once("pollComplete",(function(){--e||t()}))),this.writable||(e++,this.once("drain",(function(){--e||t()})))}else t()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((e,t)=>{const n=e.split(kk),r=[];for(let i=0;i<n.length;i++){const e=Tk(n[i],t);if(r.push(e),"error"===e.type)break}return r})(e,this.socket.binaryType).forEach((e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((e,t)=>{const n=e.length,r=new Array(n);let i=0;e.forEach(((e,o)=>{gk(e,!1,(e=>{r[o]=e,++i===n&&t(r.join(kk))}))}))})(e,(e=>{this.doWrite(e,(()=>{this.writable=!0,this.emitReserved("drain")}))}))}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=Kk()),this.supportsBinary||t.sid||(t.b64=1),this.createUri(e,t)}request(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(e,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new eA(this.uri(),e)}doWrite(e,t){const n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",((e,t)=>{this.onError("xhr post error",e,t)}))}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",((e,t)=>{this.onError("xhr poll error",e,t)})),this.pollXhr=e}}},aA=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,sA=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function lA(e){if(e.length>2e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");-1!=n&&-1!=r&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let i=aA.exec(e||""),o={},a=14;for(;a--;)o[sA[a]]=i[a]||"";return-1!=n&&-1!=r&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=function(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");"/"!=t.slice(0,1)&&0!==t.length||r.splice(0,1);"/"==t.slice(-1)&&r.splice(r.length-1,1);return r}(0,o.path),o.queryKey=function(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,r){t&&(n[t]=r)})),n}(0,o.query),o}class uA extends Mk{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),this.binaryType="arraybuffer",this.writeBuffer=[],e&&"object"===typeof e&&(t=e,e=null),e?(e=lA(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=lA(t.host).host),Nk(this,t),this.secure=null!=t.secure?t.secure:"undefined"!==typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!==typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!==typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=t.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"===typeof this.opts.query&&(this.opts.query=function(e){let t={},n=e.split("&");for(let r=0,i=n.length;r<i;r++){let e=n[r].split("=");t[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return t}(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"===typeof addEventListener&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new oA[e](n)}open(){let e;if(this.opts.rememberUpgrade&&uA.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0);e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(TI){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",(e=>this.onClose("transport close",e)))}probe(e){let t=this.createTransport(e),n=!1;uA.priorWebsocketSuccess=!1;const r=()=>{n||(t.send([{type:"ping",data:"probe"}]),t.once("packet",(e=>{if(!n)if("pong"===e.type&&"probe"===e.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;uA.priorWebsocketSuccess="websocket"===t.name,this.transport.pause((()=>{n||"closed"!==this.readyState&&(u(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())}))}else{const e=new Error("probe error");e.transport=t.name,this.emitReserved("upgradeError",e)}})))};function i(){n||(n=!0,u(),t.close(),t=null)}const o=e=>{const n=new Error("probe error: "+e);n.transport=t.name,i(),this.emitReserved("upgradeError",n)};function a(){o("transport closed")}function s(){o("socket closed")}function l(e){t&&e.name!==t.name&&i()}const u=()=>{t.removeListener("open",r),t.removeListener("error",o),t.removeListener("close",a),this.off("close",s),this.off("upgrading",l)};t.once("open",r),t.once("error",o),t.once("close",a),this.once("close",s),this.once("upgrading",l),-1!==this.upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn((()=>{n||t.open()}),200):t.open()}onOpen(){if(this.readyState="open",uA.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade){let e=0;const t=this.upgrades.length;for(;e<t;e++)this.probe(this.upgrades[e])}}onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),this.resetPingTimeout(),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn((()=>{this.onClose("ping timeout")}),this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let n=0;n<this.writeBuffer.length;n++){const r=this.writeBuffer[n].data;if(r&&(e+="string"===typeof(t=r)?function(e){let t=0,n=0;for(let r=0,i=e.length;r<i;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}(t):Math.ceil(1.33*(t.byteLength||t.size))),n>0&&e>this.maxPayload)return this.writeBuffer.slice(0,n);e+=2}var t;return this.writeBuffer}write(e,t,n){return this.sendPacket("message",e,t,n),this}send(e,t,n){return this.sendPacket("message",e,t,n),this}sendPacket(e,t,n,r){if("function"===typeof t&&(r=t,t=void 0),"function"===typeof n&&(r=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const i={type:e,data:t,options:n};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?n():e()})):this.upgrading?n():e()),this}onError(e){uA.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,t){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"===typeof removeEventListener&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const t=[];let n=0;const r=e.length;for(;n<r;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}uA.protocol=4;uA.protocol;const cA="function"===typeof ArrayBuffer,pA=e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,hA=Object.prototype.toString,dA="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===hA.call(Blob),fA="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===hA.call(File);function mA(e){return cA&&(e instanceof ArrayBuffer||pA(e))||dA&&e instanceof Blob||fA&&e instanceof File}function yA(e,t){if(!e||"object"!==typeof e)return!1;if(Array.isArray(e)){for(let t=0,n=e.length;t<n;t++)if(yA(e[t]))return!0;return!1}if(mA(e))return!0;if(e.toJSON&&"function"===typeof e.toJSON&&1===arguments.length)return yA(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&yA(e[n]))return!0;return!1}function vA(e){const t=[],n=e.data,r=e;return r.data=gA(n,t),r.attachments=t.length,{packet:r,buffers:t}}function gA(e,t){if(!e)return e;if(mA(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=gA(e[r],t);return n}if("object"===typeof e&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=gA(e[r],t));return n}return e}function _A(e,t){return e.data=xA(e.data,t),delete e.attachments,e}function xA(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"===typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=xA(e[n],t);else if("object"===typeof e)for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=xA(e[n],t));return e}const bA=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],wA=5;var SA;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(SA||(SA={}));class EA{constructor(e){this.replacer=e}encode(e){return e.type!==SA.EVENT&&e.type!==SA.ACK||!yA(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===SA.EVENT?SA.BINARY_EVENT:SA.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return e.type!==SA.BINARY_EVENT&&e.type!==SA.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=vA(e),n=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(n),r}}function TA(e){return"[object Object]"===Object.prototype.toString.call(e)}class PA extends Mk{constructor(e){super(),this.reviver=e}add(e){let t;if("string"===typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const n=t.type===SA.BINARY_EVENT;n||t.type===SA.BINARY_ACK?(t.type=n?SA.EVENT:SA.ACK,this.reconstructor=new CA(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!mA(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const n={type:Number(e.charAt(0))};if(void 0===SA[n.type])throw new Error("unknown packet type "+n.type);if(n.type===SA.BINARY_EVENT||n.type===SA.BINARY_ACK){const r=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const i=e.substring(r,t);if(i!=Number(i)||"-"!==e.charAt(t))throw new Error("Illegal attachments");n.attachments=Number(i)}if("/"===e.charAt(t+1)){const r=t+1;for(;++t;){if(","===e.charAt(t))break;if(t===e.length)break}n.nsp=e.substring(r,t)}else n.nsp="/";const r=e.charAt(t+1);if(""!==r&&Number(r)==r){const r=t+1;for(;++t;){const n=e.charAt(t);if(null==n||Number(n)!=n){--t;break}if(t===e.length)break}n.id=Number(e.substring(r,t+1))}if(e.charAt(++t)){const r=this.tryParse(e.substr(t));if(!PA.isPayloadValid(n.type,r))throw new Error("invalid payload");n.data=r}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(TI){return!1}}static isPayloadValid(e,t){switch(e){case SA.CONNECT:return TA(t);case SA.DISCONNECT:return void 0===t;case SA.CONNECT_ERROR:return"string"===typeof t||TA(t);case SA.EVENT:case SA.BINARY_EVENT:return Array.isArray(t)&&("number"===typeof t[0]||"string"===typeof t[0]&&-1===bA.indexOf(t[0]));case SA.ACK:case SA.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class CA{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=_A(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function kA(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const AA=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class IA extends Mk{constructor(e,t,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[kA(e,"open",this.onopen.bind(this)),kA(e,"packet",this.onpacket.bind(this)),kA(e,"error",this.onerror.bind(this)),kA(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.unshift("message"),this.emit.apply(this,t),this}emit(e){if(AA.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const i={type:SA.EVENT,data:n,options:{}};if(i.options.compress=!1!==this.flags.compress,"function"===typeof n[n.length-1]){const e=this.ids++,t=n.pop();this._registerAckCallback(e,t),i.id=e}const o=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!o||!this.connected)||(this.connected?(this.notifyOutgoingListeners(i),this.packet(i)):this.sendBuffer.push(i)),this.flags={},this}_registerAckCallback(e,t){var n,r=this;const i=null!==(n=this.flags.timeout)&&void 0!==n?n:this._opts.ackTimeout;if(void 0===i)return void(this.acks[e]=t);const o=this.io.setTimeoutFn((()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,new Error("operation has timed out"))}),i);this.acks[e]=function(){r.io.clearTimeoutFn(o);for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];t.apply(r,[null,...n])}}emitWithAck(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=void 0!==this.flags.timeout||void 0!==this._opts.ackTimeout;return new Promise(((t,r)=>{n.push(((e,n)=>i?e?r(e):t(n):t(e))),this.emit(e,...n)}))}_addToQueue(e){var t=this;let n;"function"===typeof e[e.length-1]&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((function(e){if(r!==t._queue[0])return;if(null!==e)r.tryCount>t._opts.retries&&(t._queue.shift(),n&&n(e));else if(t._queue.shift(),n){for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];n(null,...o)}return r.pending=!1,t._drainQueue()})),this._queue.push(r),this._drainQueue()}_drainQueue(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.connected||0===this._queue.length)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth((e=>{this._sendConnectPacket(e)})):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:SA.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case SA.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case SA.EVENT:case SA.BINARY_EVENT:this.onevent(e);break;case SA.ACK:case SA.BINARY_ACK:this.onack(e);break;case SA.DISCONNECT:this.ondisconnect();break;case SA.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"===typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let n=!1;return function(){if(!n){n=!0;for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];t.packet({type:SA.ACK,id:e,data:i})}}}onack(e){const t=this.acks[e.id];"function"===typeof t&&(t.apply(this,e.data),delete this.acks[e.id])}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach((e=>this.emitEvent(e))),this.receiveBuffer=[],this.sendBuffer.forEach((e=>{this.notifyOutgoingListeners(e),this.packet(e)})),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((e=>e())),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:SA.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const n of t)n.apply(this,e.data)}}}function OA(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}OA.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},OA.prototype.reset=function(){this.attempts=0},OA.prototype.setMin=function(e){this.ms=e},OA.prototype.setMax=function(e){this.max=e},OA.prototype.setJitter=function(e){this.jitter=e};class DA extends Mk{constructor(e,n){var r;super(),this.nsps={},this.subs=[],e&&"object"===typeof e&&(n=e,e=void 0),(n=n||{}).path=n.path||"/socket.io",this.opts=n,Nk(this,n),this.reconnection(!1!==n.reconnection),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(r=n.randomizationFactor)&&void 0!==r?r:.5),this.backoff=new OA({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==n.timeout?2e4:n.timeout),this._readyState="closed",this.uri=e;const i=n.parser||t;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=!1!==n.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new uA(this.uri,this.opts);const t=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const r=kA(t,"open",(function(){n.onopen(),e&&e()})),i=t=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",t),e?e(t):this.maybeReconnectOnOpen()},o=kA(t,"error",i);if(!1!==this._timeout){const e=this._timeout,n=this.setTimeoutFn((()=>{r(),i(new Error("timeout")),t.close()}),e);this.opts.autoUnref&&n.unref(),this.subs.push((()=>{this.clearTimeoutFn(n)}))}return this.subs.push(r),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(kA(e,"ping",this.onping.bind(this)),kA(e,"data",this.ondata.bind(this)),kA(e,"error",this.onerror.bind(this)),kA(e,"close",this.onclose.bind(this)),kA(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(TI){this.onclose("parse error",TI)}}ondecoded(e){nA((()=>{this.emitReserved("packet",e)}),this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new IA(this,e,t),this.nsps[e]=n),n}_destroy(e){const t=Object.keys(this.nsps);for(const n of t){if(this.nsps[n].active)return}this._close()}_packet(e){const t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){this.subs.forEach((e=>e())),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn((()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open((t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()})))}),t);this.opts.autoUnref&&n.unref(),this.subs.push((()=>{this.clearTimeoutFn(n)}))}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const MA={};function jA(e,t){"object"===typeof e&&(t=e,e=void 0);const n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=e;n=n||"undefined"!==typeof location&&location,null==e&&(e=n.protocol+"//"+n.host),"string"===typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(e="undefined"!==typeof n?n.protocol+"//"+e:"https://"+e),r=lA(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const i=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port+t,r.href=r.protocol+"://"+i+(n&&n.port===r.port?"":":"+r.port),r}(e,(t=t||{}).path||"/socket.io"),r=n.source,i=n.id,o=n.path,a=MA[i]&&o in MA[i].nsps;let s;return t.forceNew||t["force new connection"]||!1===t.multiplex||a?s=new DA(r,t):(MA[i]||(MA[i]=new DA(r,t)),s=MA[i]),n.query&&!t.query&&(t.query=n.queryKey),s.socket(n.path,t)}Object.assign(jA,{Manager:DA,Socket:IA,io:jA,connect:jA});const RA=jA.connect("http://localhost:4000");const LA=function(){const e=x((e=>null===e||void 0===e?void 0:e.user)),[t,n]=(0,r.useState)(!1);return(0,_r.jsxs)(o.BrowserRouter,{children:[(0,_r.jsx)(ou,{}),(0,_r.jsx)("div",{style:{cursor:"pointer"},onClick:()=>n(!0),className:"chat-icon",children:(0,_r.jsx)(xv,{size:80})}),(0,_r.jsxs)(cb,{show:t,className:"chatbox-model modal-sm ml-5",onHide:()=>n(!1),centered:!0,children:[(0,_r.jsxs)(cb.Header,{closeButton:!0,className:"chat-model-header",children:[" ",(0,_r.jsx)(vv,{})," Utopia Support"]}),(0,_r.jsx)(FC,{socket:RA})]}),(0,_r.jsxs)(a.Z5,{children:[(0,_r.jsx)(a.AW,{index:!0,element:(0,_r.jsx)(b_,{})}),!e&&(0,_r.jsxs)(_r.Fragment,{children:[(0,_r.jsx)(a.AW,{path:"/login",element:(0,_r.jsx)(ax,{})}),(0,_r.jsx)(a.AW,{path:"/signup",element:(0,_r.jsx)(sx,{})})]}),e&&e.isOwner&&(0,_r.jsx)(_r.Fragment,{children:(0,_r.jsx)(a.AW,{path:"owner-dashboard",element:(0,_r.jsx)(uk,{})})}),(0,_r.jsx)(a.AW,{path:"*",element:(0,_r.jsx)(b_,{})}),(0,_r.jsx)(a.AW,{path:"/destination",element:(0,_r.jsx)(qx,{})}),(0,_r.jsx)(a.AW,{path:"/saleproperties",element:(0,_r.jsx)(ME,{})}),(0,_r.jsx)(a.AW,{path:"/properties/:id",element:(0,_r.jsx)(kE,{})}),(0,_r.jsx)(a.AW,{path:"/city/:city",element:(0,_r.jsx)(jE,{})}),(0,_r.jsx)(a.AW,{path:"/favorite",element:(0,_r.jsx)(ck,{})}),(0,_r.jsx)(a.AW,{path:"/appointment",element:(0,_r.jsx)(pk,{})})]})]})},zA=e=>{e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:o,getTTFB:a}=t;n(e),r(e),i(e),o(e),a(e)}))};var NA=n(5752),BA="persist:",FA="persist/FLUSH",UA="persist/REHYDRATE",VA="persist/PAUSE",qA="persist/PERSIST",WA="persist/PURGE",HA="persist/REGISTER";function GA(e){return GA="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},GA(e)}function ZA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function KA(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XA(e,t,n,r){r.debug;var i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ZA(n,!0).forEach((function(t){KA(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZA(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n);return e&&"object"===GA(e)&&Object.keys(e).forEach((function(r){"_persist"!==r&&t[r]===n[r]&&(i[r]=e[r])})),i}function YA(e){var t,n=e.blacklist||null,r=e.whitelist||null,i=e.transforms||[],o=e.throttle||0,a="".concat(void 0!==e.keyPrefix?e.keyPrefix:BA).concat(e.key),s=e.storage;t=!1===e.serialize?function(e){return e}:"function"===typeof e.serialize?e.serialize:$A;var l=e.writeFailHandler||null,u={},c={},p=[],h=null,d=null;function f(){if(0===p.length)return h&&clearInterval(h),void(h=null);var e=p.shift(),n=i.reduce((function(t,n){return n.in(t,e,u)}),u[e]);if(void 0!==n)try{c[e]=t(n)}catch(PI){console.error("redux-persist/createPersistoid: error serializing state",PI)}else delete c[e];0===p.length&&(Object.keys(c).forEach((function(e){void 0===u[e]&&delete c[e]})),d=s.setItem(a,t(c)).catch(y))}function m(e){return(!r||-1!==r.indexOf(e)||"_persist"===e)&&(!n||-1===n.indexOf(e))}function y(e){l&&l(e)}return{update:function(e){Object.keys(e).forEach((function(t){m(t)&&u[t]!==e[t]&&-1===p.indexOf(t)&&p.push(t)})),Object.keys(u).forEach((function(t){void 0===e[t]&&m(t)&&-1===p.indexOf(t)&&void 0!==u[t]&&p.push(t)})),null===h&&(h=setInterval(f,o)),u=e},flush:function(){for(;0!==p.length;)f();return d||Promise.resolve()}}}function $A(e){return JSON.stringify(e)}function JA(e){var t,n=e.transforms||[],r="".concat(void 0!==e.keyPrefix?e.keyPrefix:BA).concat(e.key),i=e.storage;e.debug;return t=!1===e.deserialize?function(e){return e}:"function"===typeof e.deserialize?e.deserialize:QA,i.getItem(r).then((function(e){if(e)try{var r={},i=t(e);return Object.keys(i).forEach((function(e){r[e]=n.reduceRight((function(t,n){return n.out(t,e,i)}),t(i[e]))})),r}catch(PI){throw PI}}))}function QA(e){return JSON.parse(e)}function eI(e){0}function tI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tI(n,!0).forEach((function(t){rI(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tI(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rI(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iI(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function oI(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function aI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aI(n,!0).forEach((function(t){lI(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aI(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lI(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var uI={registry:[],bootstrapped:!1},cI=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uI,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case HA:return sI({},e,{registry:[].concat(oI(e.registry),[t.key])});case UA:var n=e.registry.indexOf(t.key),r=oI(e.registry);return r.splice(n,1),sI({},e,{registry:r,bootstrapped:0===r.length});default:return e}};function pI(e,t,n){var r=n||!1,i=Ze(cI,uI,t&&t.enhancer?t.enhancer:void 0),o=function(e){i.dispatch({type:HA,key:e})},a=function(t,n,o){var a={type:UA,payload:n,err:o,key:t};e.dispatch(a),i.dispatch(a),r&&s.getState().bootstrapped&&(r(),r=!1)},s=sI({},i,{purge:function(){var t=[];return e.dispatch({type:WA,result:function(e){t.push(e)}}),Promise.all(t)},flush:function(){var t=[];return e.dispatch({type:FA,result:function(e){t.push(e)}}),Promise.all(t)},pause:function(){e.dispatch({type:VA})},persist:function(){e.dispatch({type:qA,register:o,rehydrate:a})}});return t&&t.manualPersist||s.persist(),s}const hI=Ke({user:ar,properties:f_,[rr.reducerPath]:rr.reducer}),dI=function(e,t){var n=void 0!==e.version?e.version:-1,r=(e.debug,void 0===e.stateReconciler?XA:e.stateReconciler),i=e.getStoredState||JA,o=void 0!==e.timeout?e.timeout:5e3,a=null,s=!1,l=!0,u=function(e){return e._persist.rehydrated&&a&&!l&&a.update(e),e};return function(c,p){var h=c||{},d=h._persist,f=iI(h,["_persist"]);if(p.type===qA){var m=!1,y=function(t,n){m||(p.rehydrate(e.key,t,n),m=!0)};if(o&&setTimeout((function(){!m&&y(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(e.key,'"')))}),o),l=!1,a||(a=YA(e)),d)return nI({},t(f,p),{_persist:d});if("function"!==typeof p.rehydrate||"function"!==typeof p.register)throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return p.register(e.key),i(e).then((function(t){(e.migrate||function(e,t){return Promise.resolve(e)})(t,n).then((function(e){y(e)}),(function(e){y(void 0,e)}))}),(function(e){y(void 0,e)})),nI({},t(f,p),{_persist:{version:n,rehydrated:!1}})}if(p.type===WA)return s=!0,p.result(function(e){var t=e.storage,n="".concat(void 0!==e.keyPrefix?e.keyPrefix:BA).concat(e.key);return t.removeItem(n,eI)}(e)),nI({},t(f,p),{_persist:d});if(p.type===FA)return p.result(a&&a.flush()),nI({},t(f,p),{_persist:d});if(p.type===VA)l=!0;else if(p.type===UA){if(s)return nI({},f,{_persist:nI({},d,{rehydrated:!0})});if(p.key===e.key){var v=t(f,p),g=p.payload,_=nI({},!1!==r&&void 0!==g?r(g,c,v,e):v,{_persist:nI({},d,{rehydrated:!0})});return u(_)}}if(!d)return t(c,p);var x=t(f,p);return x===f?c:u(nI({},x,{_persist:d}))}}({key:"root",storage:NA.Z,blackList:[rr.reducerPath,"properties"]},hI),fI=function(e){const t=function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:r=!0,actionCreatorCheck:i=!0}=null!==e&&void 0!==e?e:{};let o=new rt;return t&&("boolean"===typeof t?o.push(Je):o.push(Qe(t.extraArgument))),o},{reducer:n,middleware:r,devTools:i=!0,preloadedState:o,enhancers:a}=e||{};let s,l;if("function"===typeof n)s=n;else{if(!Ge(n))throw new Error(Bt(1));s=Ke(n)}l="function"===typeof r?r(t):t();let u=Xe;i&&(u=et({trace:!1,..."object"===typeof i&&i}));const c=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>(n,r)=>{const i=e(n,r);let o=()=>{throw new Error(Ve(15))};const a={getState:i.getState,dispatch:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return o(e,...n)}},s=t.map((e=>e(a)));return o=Xe(...s)(i.dispatch),{...i,dispatch:o}}}(...l),p=ct(c);let h="function"===typeof a?a(p):p();return Ze(s,o,u(...h))}({reducer:dI,middleware:e=>e({serializableCheck:{ignoredActions:[FA,UA,VA,qA,WA,HA]}}).concat(rr.middleware),devTools:!1}),mI=(pI(fI),fI);function yI(e){return yI="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yI(e)}function vI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gI(e){return gI=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},gI(e)}function _I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xI(e,t){return xI=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},xI(e,t)}function bI(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wI=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=function(e,t){return!t||"object"!==yI(t)&&"function"!==typeof t?_I(e):t}(this,(e=gI(t)).call.apply(e,[this].concat(i))),bI(_I(n),"state",{bootstrapped:!1}),bI(_I(n),"_unsubscribe",void 0),bI(_I(n),"handlePersistorState",(function(){n.props.persistor.getState().bootstrapped&&(n.props.onBeforeLift?Promise.resolve(n.props.onBeforeLift()).finally((function(){return n.setState({bootstrapped:!0})})):n.setState({bootstrapped:!0}),n._unsubscribe&&n._unsubscribe())})),n}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xI(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return"function"===typeof this.props.children?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}])&&vI(n.prototype,r),i&&vI(n,i),t}(r.PureComponent);bI(wI,"defaultProps",{children:null,loading:null});const SI=()=>{const e=Array.from({length:20},((e,t)=>(0,_r.jsx)("span",{style:{"--i":t+1}},t)));return(0,_r.jsx)(Hx,{className:"spinner-container",children:(0,_r.jsxs)("div",{className:"loader",children:[e,(0,_r.jsx)("div",{className:"plane"})]})})};(function(){if("undefined"!==typeof window&&window.document){if(!function(e){const t=typeof e;return"function"===t||"object"===t&&!!e}(window.__REACT_DEVTOOLS_GLOBAL_HOOK__))return;for(const e in window.__REACT_DEVTOOLS_GLOBAL_HOOK__)window.__REACT_DEVTOOLS_GLOBAL_HOOK__[e]="renderers"!==e?"function"===typeof window.__REACT_DEVTOOLS_GLOBAL_HOOK__[e]?Function.prototype:null:new Map}})();const EI=pI(mI);i.createRoot(document.getElementById("root")).render((0,_r.jsx)(C,{store:mI,children:(0,_r.jsx)(wI,{loading:(0,_r.jsx)(SI,{}),persistor:EI,children:(0,_r.jsx)(LA,{})})})),zA()})()})();
//# sourceMappingURL=main.bfff1b9a.js.map